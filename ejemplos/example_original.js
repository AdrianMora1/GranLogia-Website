! function t(e, i, n) {
    function r(a, s) {
        if (!i[a]) {
            if (!e[a]) {
                var l = "function" == typeof require && require;
                if (!s && l) return l(a, !0);
                if (o) return o(a, !0);
                var u = new Error("Cannot find module '" + a + "'");
                throw u.code = "MODULE_NOT_FOUND", u
            }
            var c = i[a] = {
                exports: {}
            };
            e[a][0].call(c.exports, function(t) {
                var i = e[a][1][t];
                return r(i ? i : t)
            }, c, c.exports, t, e, i, n)
        }
        return i[a].exports
    }
    for (var o = "function" == typeof require && require, a = 0; a < n.length; a++) r(n[a]);
    return r
}({
    1: [function(t, e, i) {
        "use strict";

        function n(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }

        function r(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        var o = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i), n && t(e, n), e
                }
            }(),
            a = t("framework"),
            s = n(a),
            l = t("dom-select"),
            u = n(l),
            c = t("dom-classes"),
            h = (n(c), t("@utils/biggie")),
            d = n(h),
            p = (t("../../package.json"), t("config")),
            f = n(p),
            m = t("please-ajax"),
            g = n(m),
            v = t("mustache"),
            y = n(v),
            _ = t("detectIe"),
            b = n(_),
            x = t("dom-create-element"),
            w = n(x),
            T = function() {
                function t() {
                    arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                    r(this, t), this.init()
                }
                return o(t, [{
                    key: "init",
                    value: function() {
                        var t = this,
                            e = navigator.language || navigator.userLanguage,
                            i = 0;
                        if (f.default.language = localStorage.language ? localStorage.language : e.substring(0, 2), (0, b.default)()) return this.ieDetected(), !1;
                        this.initData(function() {
                            t.addNavFooter(function() {
                                3 === ++i && s.default.init() && t.addEvents()
                            })
                        })
                    }
                }, {
                    key: "ieDetected",
                    value: function() {
                        var t = "ru" === f.default.language ? '<p>Ðš ÑÐ¾Ð¶Ð°Ð»ÐµÐ½Ð¸ÑŽ, ÑÑ‚Ð¾Ñ‚ ÑÐ°Ð¹Ñ‚ Ð½Ðµ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÑ‚ Internet Explorer. Ð”Ð»Ñ Ð¿Ñ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€Ð° ÑÑ‚Ð¾Ð³Ð¾ ÑÐ°Ð¹Ñ‚Ð° Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ <a href="https://www.google.com/chrome/" target="_blank">Chrome</a>, <a href="http://www.opera.com" target="_blank">Opera</a>, <a href="https://www.mozilla.org/en-US/firefox/products/" target="_blank">Firefox</a>, Ð¸Ð»Ð¸  <a href="http://www.apple.com/lae/safari/" target="_blank">Safari</a></p>' : '<p>Unfortunately, this site does not support Internet Explorer.  Please use either <a href="https://www.google.com/chrome/" target="_blank">Chrome</a>, <a href="http://www.opera.com" target="_blank">Opera</a>, <a href="https://www.mozilla.org/en-US/firefox/products/" target="_blank">Firefox</a>, or <a href="http://www.apple.com/lae/safari/" target="_blank">Safari</a> to view this site.</p>',
                            e = (0, w.default)({
                                selector: "section",
                                styles: "ie",
                                html: '\n                    <div class="vertical-align">\n                        <div class="vertical-align__item">\n                            ' + t + "\n                        </div>\n                    </div>\n                  "
                            });
                        document.body.insertBefore(e, null)
                    }
                }, {
                    key: "initData",
                    value: function(t) {
                        g.default.get(f.default.BASE + "data/" + ("ru" === f.default.language ? "data-ru.json" : "data.json"), {
                            success: function(e) {
                                window._data = e.data, t()
                            }
                        })
                    }
                }, {
                    key: "addNavFooter",
                    value: function(t) {
                        g.default.get(f.default.BASE + "templates/components/" + ("ru" === f.default.language ? "nav-ru.mst" : "nav.mst"), {
                            success: function(e) {
                                var i = y.default.render(e.data);
                                f.default.body.querySelector("nav").innerHTML = i, t()
                            }
                        }), g.default.get(f.default.BASE + "templates/components/" + ("ru" === f.default.language ? "footer-ru.mst" : "footer.mst"), {
                            success: function(e) {
                                var i = y.default.render(e.data);
                                f.default.body.querySelector("footer").innerHTML = i, t()
                            }
                        }), g.default.get(f.default.BASE + "templates/components/" + ("ru" === f.default.language ? "side-menu-ru.mst" : "side-menu.mst"), {
                            success: function(e) {
                                var i = f.default.isMobile ? window._data.menu_mobile : window._data.menu_desktop,
                                    n = y.default.render(e.data, i);
                                f.default.body.querySelector(".site-menu").innerHTML = n, t()
                            }
                        })
                    }
                }, {
                    key: "addEvents",
                    value: function() {
                        d.default.bind.add(u.default.all("footer a")), d.default.bind.add(u.default.all(".nav__pagination a")), d.default.bind.add(u.default.all(".site-menu a"))
                    }
                }]), t
            }();
        e.exports = T
    }, {
        "../../package.json": 119,
        "@utils/biggie": 39,
        config: 7,
        detectIe: 66,
        "dom-classes": 67,
        "dom-create-element": 68,
        "dom-select": 71,
        framework: 8,
        mustache: 93,
        "please-ajax": 97
    }],
    2: [function(t, e, i) {
        "use strict";
        Object.defineProperty(i, "__esModule", {
            value: !0
        }), i.default = {}
    }, {}],
    3: [function(t, e, i) {
        "use strict";

        function n(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        var r = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i), n && t(e, n), e
                }
            }(),
            o = t("config"),
            a = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(o),
            s = function() {
                function t() {
                    n(this, t), this.bgMainCanvas = null, this.bgTempCanvas = null, this.bgMainContext = null, this.bgTempContext = null, this.bgSprite = null, this.bgSpriteX = 0, this.bgSpriteY = 0, this.bgFrameWidth = 480, this.bgFrameHeight = 270, this.bgSpriteFrames = 137, this.bgSpriteCol = 46, this.bgSpriteRow = 3, this.bgSpriteRate = (a.default.isMobile, 1), this.bgSpriteFrame = 1, this.bgSpriteThen = Date.now(), this.bgNextImage = null, this.bgCurrentImage = null, this.bgCanvasRenderStop = !1, this.ratio = window.devicePixelRatio || 1
                }
                return r(t, [{
                    key: "setup",
                    value: function() {
                        this.canvasInit(), this.globalResize(), this.imageRetina()
                    }
                }, {
                    key: "canvasInit",
                    value: function() {
                        a.default.body.querySelector(".page-home__transition");
                        this.bgMainCanvas = a.default.body.querySelector(".page-home__transition-main"), this.bgMainContext = this.bgMainCanvas.getContext("2d"), this.bgTempCanvas = a.default.body.querySelector(".page-home__transition-temp"), this.bgTempContext = this.bgTempCanvas.getContext("2d"), this.bgTempContext.mozImageSmoothingEnabled = !0, this.bgTempContext.webkitImageSmoothingEnabled = !0, this.bgTempContext.msImageSmoothingEnabled = !0, this.bgTempContext.imageSmoothingEnabled = !0;
                        var t = (this.bgTempContext.width, this.bgTempContext.height);
                        this.bgTempContext.width, this.ratio, this.bgTempContext.height = t * this.ratio, this.bgTempContext.scale(this.ratio, this.ratio), this.bgSprite = a.default.body.querySelector(".page-home__transition-sprite")
                    }
                }, {
                    key: "imageRetina",
                    value: function() {
                        var t = a.default.body.querySelector(".page-home__chapter-background--image"),
                            e = t.dataset.ratio,
                            i = t.parentNode,
                            n = i.getBoundingClientRect().width,
                            r = n / e;
                        r < i.getBoundingClientRect().height && (r = i.getBoundingClientRect().height, n = r * e), t.style.width = n + "px", t.style.height = r + "px", t.style.top = (i.getBoundingClientRect().height - r) / 2 + "px", a.default.isMobile ? t.style.left = (i.getBoundingClientRect().width - n) / 1.6 + "px" : t.style.left = (i.getBoundingClientRect().width - n) / 2 + "px"
                    }
                }, {
                    key: "canvasTransition",
                    value: function() {
                        var t = this,
                            e = a.default.body.querySelectorAll(".page-home__chapter")[0],
                            i = a.default.body.querySelectorAll(".page-home__chapter")[1],
                            n = e.children[0],
                            r = i.children[0],
                            o = a.default.body.querySelector(".page-home__transition");
                        this.bgCurrentImage = n.children[0], this.bgNextImage = r.children[0];
                        this.bgSpriteX = 0, this.bgSpriteY = 0, this.bgSpriteFrame = 1, this.bgCanvasRenderStop = !1, this.bgTempContext.rect(0, 0, this.bgTempCanvas.width, this.bgTempCanvas.height), this.bgTempContext.fillStyle = this.bgNextImage.dataset.background, this.bgTempContext.fill(), setTimeout(function() {
                            i.style.zIndex = 4, o.style.opacity = 1, o.style.zIndex = 4, i.style.zIndex = 4, i.style.top = 0, i.style.left = 0, t.bgCanvasRender(!0)
                        }, 250)
                    }
                }, {
                    key: "bgCanvasRender",
                    value: function(t) {
                        var e = this;
                        if (!this.bgCanvasRenderStop && (this.bgMainContext.clearRect(0, 0, this.bgMainCanvas.width, this.bgMainCanvas.height), this.bgTempContext.clearRect(0, 0, this.bgTempCanvas.width, this.bgTempCanvas.height), this.bgTempContext.globalCompositeOperation = "source-over", this.bgMainContext.globalCompositeOperation = "source-over", t)) {
                            this.bgTempContext.drawImage(this.bgSprite, this.bgFrameWidth * this.bgSpriteX, this.bgFrameHeight * this.bgSpriteY, this.bgFrameWidth, this.bgFrameHeight, 0, 0, this.bgTempCanvas.width, this.bgTempCanvas.height + 2), this.bgTempContext.globalCompositeOperation = "source-out", this.bgTempContext.drawImage(this.bgNextImage, this.bgNextImage.getBoundingClientRect().left, this.bgNextImage.getBoundingClientRect().top, this.bgNextImage.getBoundingClientRect().width, this.bgNextImage.getBoundingClientRect().height), this.bgMainContext.drawImage(this.bgCurrentImage, this.bgCurrentImage.getBoundingClientRect().left, this.bgCurrentImage.getBoundingClientRect().top, this.bgCurrentImage.getBoundingClientRect().width, this.bgCurrentImage.getBoundingClientRect().height), this.bgMainContext.globalCompositeOperation = "source-over", this.bgMainContext.drawImage(this.bgTempCanvas, 0, 0);
                            var i = Date.now(),
                                n = i - this.bgSpriteThen;
                            n > this.bgSpriteRate && (this.bgCanvasSpriteNextFrame(t), this.bgSpriteThen = i - n % this.bgSpriteRate), requestAnimationFrame(function() {
                                e.bgCanvasRender(t)
                            })
                        }
                    }
                }, {
                    key: "bgCanvasSpriteNextFrame",
                    value: function(t) {
                        this.bgSpriteFrame >= this.bgSpriteFrames ? this.bgCanvasRenderStop = !0 : (t ? this.bgSpriteX++ : this.bgSpriteX--, t ? this.bgSpriteX >= this.bgSpriteCol && (this.bgSpriteX = 0, this.bgSpriteY++) : this.bgSpriteX < 0 && (this.bgSpriteX = this.bgSpriteCol - 1, this.bgSpriteY--), this.bgSpriteFrame++)
                    }
                }, {
                    key: "globalResize",
                    value: function() {
                        this.imageRetina(), a.default.body.querySelector(".page-home__transition-main").width = window.innerWidth, a.default.body.querySelector(".page-home__transition-main").height = window.innerHeight, a.default.body.querySelector(".page-home__transition-temp").width = window.innerWidth, a.default.body.querySelector(".page-home__transition-temp").height = window.innerHeight
                    }
                }]), t
            }();
        e.exports = s
    }, {
        config: 7
    }],
    4: [function(t, e, i) {
        "use strict";

        function n(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }

        function r(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        var o = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i), n && t(e, n), e
                }
            }(),
            a = t("config"),
            s = n(a),
            l = t("dom-create-element"),
            u = n(l),
            c = t("dom-event"),
            h = n(c),
            d = t("@utils/func"),
            p = n(d),
            f = t("../libs/smooth/single"),
            m = n(f),
            g = function() {
                function t(e) {
                    r(this, t), this.page = e.page || s.default.body.querySelector(".page page-map"), this.city = e.city, this.addSmooth = this.addSmooth.bind(this), this.createElement = this.createElement.bind(this), this.zoomOut = this.zoomOut.bind(this), this.updateNext = this.updateNext.bind(this), this.startSlideShow = this.startSlideShow.bind(this), this.blank = s.default.body.querySelector(".map__overlay"), this.current = 0, this.next = null, this.animating = !1
                }
                return o(t, [{
                    key: "init",
                    value: function() {
                        var t = this;
                        this.hideNavFooter(!0), this.setup(), this.zoomIn(), setTimeout(function() {
                            t.createElement(), t.addEvents(), t.activateSlideShow(), t.addSmooth(), t.setupControls()
                        }, 1300)
                    }
                }, {
                    key: "setup",
                    value: function() {
                        var t = this.city.children[0].children[0].children[1].children[0].children[2],
                            e = this.city.getAttribute("id");
                        this.data = window._data.map.cities[0][e];
                        var i = t.getBoundingClientRect(),
                            n = i.height / window.innerHeight,
                            r = i.width / window.innerWidth;
                        this.blank.style.transform = "scale3d(" + r + ", " + n + ", 0)";
                        var o = this.blank.getBoundingClientRect(),
                            a = o.left > i.left ? o.left - i.left : i.left - o.left,
                            s = o.top > i.top ? o.top - i.top : i.top - o.top,
                            l = o.left > i.left ? "-" : "";
                        this.blank.style.transform = "translate3d( " + l + a + "px, -" + s + "px, 0px)  scaleX(" + r + ") scaleY(" + n + ")"
                    }
                }, {
                    key: "hideNavFooter",
                    value: function(t) {
                        TweenLite.to(s.default.body.querySelector("footer"), 2, {
                            autoAlpha: t ? 0 : 1
                        }), TweenLite.to(s.default.body.querySelector("nav"), 2, {
                            autoAlpha: t ? 0 : 1
                        }), s.default.body.querySelector(".map__overlay").style.pointerEvents = t ? "auto" : "none"
                    }
                }, {
                    key: "zoomIn",
                    value: function() {
                        TweenLite.to(this.blank, .5, {
                            autoAlpha: 1,
                            force3D: !0
                        }), TweenLite.to(this.blank, 1, {
                            scale: 1,
                            ease: Expo.easeOut,
                            x: 0,
                            force3D: !0,
                            y: 0,
                            delay: .4
                        })
                    }
                }, {
                    key: "zoomOut",
                    value: function() {
                        TweenLite.to(this.blank, 1.1, {
                            autoAlpha: 0,
                            ease: Expo.easeInOut,
                            clearProps: "all"
                        }), this.destroy()
                    }
                }, {
                    key: "createElement",
                    value: function() {
                        window._data.map.cities;
                        this.element = (0, u.default)({
                            selector: "div",
                            styles: "row",
                            html: '<div class="col-7">\n\t                    <div class="map__overlay-cover"></div>\n\t                    <div class="map__overlay-counter">\n\t                        <div>\n\t                            <p class="map__overlay-counter--current">1</p>\n\t                            <span>/</span>\n\t                            <p class="map__overlay-counter--total">3</p>\n\t                        </div>\n\t                        <p class="map__overlay-counter--next">Next</p>\n\t                    </div> \t                   \n\t                    <ul class="map__overlay-images"></ul>\n\t               </div>\n\t               <div class="col-5">\n\t               \t\t<div class="map__overlay-close"></div>\n\t                    <div class="map__overlay-content">\n\t                        <div class="map__overlay-content--text">\n\t                            <h2>' + this.data.name + "</h2>\n\t                            " + this.data.text + "\n\t                        </div>\n\t                    </div>\n\t               </div>"
                        }), this.blank.insertBefore(this.element, null), this.data.images.forEach(function(t, e) {
                            var i = (0, u.default)({
                                selector: "li",
                                styles: "image-list " + e,
                                html: '\n\t\t\t\t\t \t<svg class="svg" style="width:100%;height:100%;position:fixed;top:0;bottom:0;left:0;">\n\t\t\t\t\t \t<defs>  \n\t\t\t\t\t   \t\t<linearGradient id="gradient-' + e + '" x2="0%" y2="1">\n\t\t             \t\t\t<stop offset="0.8" stop-color="#fff"/> \n\t\t\t\t\t   \t\t\t<stop offset="1" stop-color="#000"/>  \n\t\t\t\t\t   \t\t</linearGradient>\n\t\t\t\t\t   \t\t<mask id="gradient-mask-' + e + '" maskUnits="objectBoundingBox" maskContentUnits="objectBoundingBox">  \n\t\t\t\t\t   \t\t<rect class="image-rect" x="0" y="' + (0 === e ? 0 : -1.3) + '" width="2" height="1.3" fill="url(#gradient-' + e + ')" />\n\t\t\t\t\t   \t\t</mask>  \n\t\t\t\t\t  \t</defs>\n\t\t\t\t\t  \t<image class="js-images" x="0" y="0" width="100%" height="100%" xlink:href="' + t.image + '" / mask="url(#gradient-mask-' + e + ')" preserveAspectRatio="xMidYMid slice">\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t'
                            });
                            s.default.body.querySelector(".map__overlay-images").insertBefore(i, null)
                        })
                    }
                }, {
                    key: "addSmooth",
                    value: function() {
                        var t = this,
                            e = new TimelineMax({});
                        e.to(s.default.body.querySelector(".map__overlay-cover"), 1, {
                            x: "-100%",
                            force3D: !0,
                            ease: Expo.easeInOut
                        }, .2), e.to(s.default.body.querySelector(".map__overlay-content"), 1, {
                            autoAlpha: 1,
                            force3D: !0,
                            ease: Expo.easeInOut
                        }), e.from(s.default.body.querySelector(".map__overlay-close"), .5, {
                            autoAlpha: 0
                        }), e.set(s.default.body.querySelector(".map__overlay-close"), {
                            pointerEvents: "auto"
                        }), this.timeout = setTimeout(function() {
                            t.smooth = new m.default({
                                section: s.default.body.querySelector(".map__overlay-content"),
                                ease: .075,
                                single: !1,
                                map: !0
                            }), t.smooth.init(), t.smooth.resize()
                        }, 1500)
                    }
                }, {
                    key: "activateSlideShow",
                    value: function() {
                        this.length = s.default.body.querySelectorAll(".image-list").length, this.length > 1 && this.startSlideShow()
                    }
                }, {
                    key: "setupControls",
                    value: function() {
                        var t = this.length;
                        s.default.body.querySelector(".map__overlay-counter--total").innerHTML = t, s.default.body.querySelector(".map__overlay-counter--current").innerHTML = this.current + 1, t === this.current + 1 && TweenLite.to(s.default.body.querySelector(".map__overlay-counter--next"), 1, {
                            autoAlpha: 0
                        })
                    }
                }, {
                    key: "startSlideShow",
                    value: function() {
                        s.default.body.querySelectorAll(".image-list").forEach(function(t) {
                            return t.style.zIndex = 10
                        })
                    }
                }, {
                    key: "updateNext",
                    value: function() {
                        this.next = (this.current + 1) % this.length, this.animating || this.process()
                    }
                }, {
                    key: "process",
                    value: function() {
                        var t = this;
                        this.animating = !0, s.default.body.querySelectorAll(".image-list")[this.current].style.zIndex = 20, s.default.body.querySelectorAll(".image-list")[this.current === this.length - 1 ? 0 : this.current + 1].style.zIndex = 30, s.default.body.querySelector(".map__overlay-counter--current").innerHTML = this.next + 1, TweenLite.to(s.default.body.querySelectorAll(".image-rect")[this.next], 1, {
                            attr: {
                                y: 0
                            },
                            ease: Linear.easeNone
                        }), TweenLite.delayedCall(1, function() {
                            t.animating = !1, p.default.siblings(s.default.body.querySelectorAll(".image-list")[t.next]).forEach(function(t) {
                                var e = t.children[0].children[0].children[1].children[0];
                                TweenLite.set(e, {
                                    attr: {
                                        y: -1.5
                                    }
                                })
                            }), t.current + 1 === t.length ? t.current = 0 : ++t.current
                        })
                    }
                }, {
                    key: "addEvents",
                    value: function() {
                        h.default.on(s.default.body.querySelector(".map__overlay-close"), "click", this.zoomOut), h.default.on(s.default.body.querySelector(".map__overlay-counter--next"), "click", this.updateNext)
                    }
                }, {
                    key: "removeEvents",
                    value: function() {
                        h.default.off(s.default.body.querySelector(".map__overlay-close"), "click", this.zoomOut), h.default.off(s.default.body.querySelector(".map__overlay-counter--next"), "click", this.updateNext)
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        var t = this;
                        this.removeEvents(), this.hideNavFooter(!1), this.timeout && clearTimeout(this.timeout), this.smooth && this.smooth.destroy(), setTimeout(function() {
                            return t.element.parentNode.removeChild(t.element)
                        }, 1600)
                    }
                }]), t
            }();
        e.exports = g
    }, {
        "../libs/smooth/single": 10,
        "@utils/func": 49,
        config: 7,
        "dom-create-element": 68,
        "dom-event": 69
    }],
    5: [function(t, e, i) {
        "use strict";

        function n(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }

        function r(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        var o = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i), n && t(e, n), e
                }
            }(),
            a = t("dom-event"),
            s = n(a),
            l = t("dom-classes"),
            u = (n(l), t("config")),
            c = n(u),
            h = t("dom-create-element"),
            d = n(h),
            p = t("./map-box.js"),
            f = n(p),
            m = function() {
                function t(e) {
                    r(this, t), this.active = !1, this.page = e.page || c.default.body.querySelector(".page page-map"), this.handler = this.handler.bind(this), this.showElement = this.showElement.bind(this), this.openBox = this.openBox.bind(this), this.fadeHandler = this.fadeHandler.bind(this)
                }
                return o(t, [{
                    key: "init",
                    value: function() {
                        this.addEvents()
                    }
                }, {
                    key: "handler",
                    value: function(t) {
                        this.slug = t.target.dataset.slug, this.current ? this.current == this.slug ? this.fadeHandler() : console.log("NO") : this.createElement(t.target)
                    }
                }, {
                    key: "removeElement",
                    value: function() {
                        var t = this;
                        TweenLite.to(this.element, .1, {
                            autoAlpha: 0
                        }), setTimeout(function() {
                            t.page.removeChild(t.element), t.point_active = !1
                        }, 50)
                    }
                }, {
                    key: "fadeHandler",
                    value: function() {}
                }, {
                    key: "createElement",
                    value: function(t) {
                        this.point_active = !0, this.point = t, this.point_active = !0, this.point_position = t.getBoundingClientRect();
                        var e = t.dataset.slug,
                            i = window._data.map.cities[0][e];
                        this.element = (0, d.default)({
                            selector: "figure",
                            styles: "map-point " + e,
                            id: e,
                            html: '\t    \t\t\n\t\t\t\t\t<span class="map-point__tooltip tooltip-effect-4">\n\t\t\t\t\t\t<span class="map-point__tooltip-item ">\n\t\t\t\t\t\t\t<span class="map-point__trigger">\n\t\t\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span class="map-point__tooltip-content clearfix">\n\t\t\t\t\t\t\t\t<div class="map-point__tooltip-content--wrapper">\n\t\t\t\t\t\t\t\t\t<div class="map-point__tooltip-content--underlay"><div></div></div>\n\t\t\t\t\t\t\t\t\t<div class="map-point__tooltip-content--image" style="background-image:url(\'' + i.thumbnail + '\');"></div>\n\t\t\t\t\t\t\t\t\t<div class="map-point__tooltip-content--info">\n\t\t\t\t\t\t\t\t\t\t<p>' + i.year + "</p>\n\t\t\t\t\t\t\t\t\t\t<p>" + i.name + '</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="map-point__tooltip-content--expand">\n\t\t\t\t\t\t\t\t\t\t<img src="https://d1rnu9exaqm00k.cloudfront.net/cross.svg">\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</span>\t    \t\t\n\t\t    \t\t'
                        }), this.page.insertBefore(this.element, null), s.default.on(this.element, "click", this.openBox), this.showElement()
                    }
                }, {
                    key: "showElement",
                    value: function() {
                        TweenLite.to(this.element.children[0], 0, {
                            autoAlpha: 1,
                            force3D: !0,
                            x: this.point_position.left - this.element.getBoundingClientRect().width / 12,
                            y: this.point_position.top - this.element.getBoundingClientRect().height / .43
                        })
                    }
                }, {
                    key: "openBox",
                    value: function(t) {
                        var e = t.target.closest(".map-point");
                        new f.default({
                            city: e
                        }).init()
                    }
                }, {
                    key: "addEvents",
                    value: function() {
                        var t = this;
                        c.default.body.querySelectorAll("#Points").forEach(function(e) {
                            t.createElement(e)
                        })
                    }
                }, {
                    key: "removeEvents",
                    value: function() {
                        var t = this;
                        c.default.body.querySelectorAll("#Points").forEach(function(e) {
                            s.default.off(e, "mouseenter", t.handler), s.default.off(e, "mouseleave", t.handler)
                        }), s.default.off(this.element, "mouseout", this.handler), s.default.off(this.element, "click", this.openBox)
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        this.removeEvents()
                    }
                }]), t
            }();
        e.exports = m
    }, {
        "./map-box.js": 4,
        config: 7,
        "dom-classes": 67,
        "dom-create-element": 68,
        "dom-event": 69
    }],
    6: [function(t, e, i) {
        "use strict";

        function n(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }

        function r(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        var o = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i), n && t(e, n), e
                }
            }(),
            a = t("framework"),
            s = n(a),
            l = t("config"),
            u = n(l),
            c = t("utils"),
            h = n(c),
            d = t("gsap"),
            p = (n(d), t("dom-event")),
            f = t("dom-classes"),
            m = n(f),
            g = t("howler"),
            v = n(g);
        TweenLite.defaultEase = Expo.easeOut;
        var y = function() {
            function t(e) {
                r(this, t), this.animating = !1, this.open = !1, this.handler = this.handler.bind(this), this.toggleSound = this.toggleSound.bind(this), this.animateMenuIn = this.animateMenuIn.bind(this), this.animateMenuOut = this.animateMenuOut.bind(this), this.playAudio = this.playAudio.bind(this), this.stopAudio = this.stopAudio.bind(this), this.switchLanguage = this.switchLanguage.bind(this), this.images = ["site-menu-1", "site-menu-2", "site-menu-3", "site-menu-4", "site-menu-4", "site-menu-5"]
            }
            return o(t, [{
                key: "init",
                value: function() {
                    var t = this;
                    this.trigger = u.default.body.querySelector(".nav__menu--open"), this.close = u.default.body.querySelector(".site-menu--close"), this.menu = u.default.body.querySelector(".site-menu"), this.menu_items = u.default.body.querySelectorAll(".site-menu__item"), this.title = h.default.array.slice(u.default.body.querySelectorAll(".site-menu__item--title")), this.a = h.default.array.slice(u.default.body.querySelectorAll(".site-menu a")), this.sound_btn = u.default.body.querySelector(".nav__options_sound"), this.sound_text = u.default.body.querySelector(".nav__options_sound p"), this.trigger.onclick = this.handler, this.close.onclick = this.handler, this.sound_btn.onclick = this.toggleSound, this.a.forEach(function(e) {
                        return e.onclick = t.handler
                    }), this.loadAudio(), this.languageSelectionEvents()
                }
            }, {
                key: "handler",
                value: function(t) {
                    t.preventDefault();
                    var e = t.target.parentNode,
                        i = e.getAttribute("href");
                    m.default.has(this.menu, "active") ? this.animateMenuOut(e) : this.animateMenuIn(), e.hasAttribute("href") && s.default.go(i)
                }
            }, {
                key: "languageSelectionEvents",
                value: function() {
                    var t = this;
                    h.default.func.storage() ? u.default.body.querySelectorAll(".nav__options_language p").forEach(function(e) {
                        u.default.language === e.dataset.lang ? m.default.add(e, "active") : m.default.remove(e, "active"), (0, p.on)(e, "click", t.switchLanguage)
                    }) : u.default.body.querySelector(".nav__options_language").style.display = "none"
                }
            }, {
                key: "switchLanguage",
                value: function(t) {
                    var e = t.target.dataset.lang;
                    localStorage.language = e, window.location = window.location.href.split("?")[0]
                }
            }, {
                key: "loadAudio",
                value: function() {
                    if (u.default.isMobile) return !1;
                    localStorage.audio ? ("on" === localStorage.audio && this.playAudio(), "off" === localStorage.audio && (this.sound_text.innerHTML = "ru" === u.default.language ? "Ð—Ð²ÑƒÐº â€¢ Ð’Ñ‹ÐºÐ»" : "Sound â€¢ Off")) : this.playAudio()
                }
            }, {
                key: "playAudio",
                value: function() {
                    u.default.sound = new v.default.Howl({
                        src: ["http://d1rnu9exaqm00k.cloudfront.net/audio/johann-johannsson-mccanick-2.mp3"],
                        autoplay: !1,
                        loop: !0,
                        volume: .5
                    }), u.default.sound.play()
                }
            }, {
                key: "stopAudio",
                value: function() {
                    u.default.sound.pause()
                }
            }, {
                key: "toggleSound",
                value: function() {
                    localStorage.audio ? "off" === localStorage.audio ? (this.playAudio(), this.sound_text.innerHTML = "ru" === u.default.language ? "Ð—Ð²ÑƒÐº â€¢ Ð’ÐºÐ»" : "Sound â€¢ On", localStorage.audio = "on") : (this.stopAudio(), this.sound_text.innerHTML = "ru" === u.default.language ? "Ð—Ð²ÑƒÐº â€¢ Ð’Ñ‹ÐºÐ»" : "Sound â€¢ Off", localStorage.audio = "off") : (localStorage.audio = "off", this.stopAudio(), this.sound_text.innerHTML = "ru" === u.default.language ? "Ð—Ð²ÑƒÐº â€¢ Ð’Ñ‹ÐºÐ»" : "Sound â€¢ Off")
                }
            }, {
                key: "animateMenuIn",
                value: function() {
                    this.open = !0, this.animating = !0, this.menu_items.forEach(function(t) {
                        return t.style.pointerEvents = "auto"
                    }), u.default.about_text && u.default.about_text.pause(), u.default.webGL && u.default.webGL.activated() && u.default.webGL.pause();
                    var t = new TimelineMax;
                    t.set(this.title, {
                        clearProps: "x"
                    }), t.to(this.menu, u.default.isMobile ? .7 : .8, {
                        x: "0%",
                        force3D: !0,
                        ease: Expo.easeInOut
                    }), t.to(u.default.body.querySelector("main"), u.default.isMobile ? .7 : .8, {
                        x: "25%",
                        force3D: !0,
                        ease: Expo.easeInOut
                    }, u.default.isMobile ? "-=0.7" : "-=0.8"), m.default.add(this.menu, "active"), m.default.add(u.default.body.querySelector("main"), "active"), setTimeout(function() {
                        u.default.isMobile || h.default.array.slice(u.default.body.querySelectorAll(".site-menu__item--bg")).forEach(function(t, e) {
                            t.style.backgroundImage = "url('https://d1rnu9exaqm00k.cloudfront.net/site-menu-" + e + ".jpg')"
                        })
                    }, 800)
                }
            }, {
                key: "moveClouds",
                value: function() {
                    u.default.body.querySelector(".fog canvas") && u.default.webGL && u.default.webGL.resume()
                }
            }, {
                key: "stopClouds",
                value: function() {
                    u.default.body.querySelector(".fog canvas") && u.default.webGL && u.default.webGL.pause()
                }
            }, {
                key: "animateMenuOut",
                value: function(t) {
                    var e = this,
                        i = (t.getAttribute("href"), new TimelineMax({})),
                        n = t.hasAttribute("href");
                    this.animating = !0, this.menu_items.forEach(function(t) {
                        return t.style.pointerEvents = "none"
                    }), setTimeout(function() {
                        return u.default.about_text && u.default.about_text.resume()
                    }, 850), i.to(u.default.body.querySelector("main"), n ? 0 : u.default.isMobile ? .7 : .8, {
                        x: "0%",
                        ease: Expo.easeInOut,
                        force3D: !0
                    }), i.to(this.menu, u.default.isMobile ? .7 : .8, {
                        x: "-100%",
                        force3D: !0,
                        ease: Expo.easeInOut
                    }, n ? "0.4" : "-=0.8");
                    var r = Array.prototype.slice.call(document.body.querySelectorAll(".site-menu__item a")),
                        o = r.indexOf(t);
                    h.default.array.slice(u.default.body.querySelectorAll(".site-menu__item--bg")).forEach(function(t, e) {
                        e !== o && (t.style.backgroundImage = "")
                    }), t.hasAttribute("href") ? u.default.webGL && u.default.webGL.activated() ? this.stopClouds() : this.moveClouds() : u.default.webGL && this.moveClouds(), this.open = !1, this.animating = !1, setTimeout(function() {
                        return m.default.remove(e.menu, "active")
                    }, 150), setTimeout(function() {
                        return m.default.remove(u.default.body.querySelector("main"), "active")
                    }, 150)
                }
            }]), t
        }();
        e.exports = y
    }, {
        config: 7,
        "dom-classes": 67,
        "dom-event": 69,
        framework: 8,
        gsap: 77,
        howler: 80,
        utils: 55
    }],
    7: [function(t, e, i) {
        "use strict";
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = t("dom-select"),
            r = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(n),
            o = {
                BASE: "/",
                body: document.body,
                view: (0, r.default)("main"),
                masonry_active: !1,
                chronology: !1,
                fromHome: !1,
                width: window.innerWidth,
                height: window.innerHeight,
                footer_links: r.default.all("footer a"),
                nav_links: r.default.all("nav a"),
                site_menu_links: r.default.all(".site-menu a"),
                isMobile: window.innerWidth <= 768,
                webGL: null,
                sound: null,
                about_text: null
            };
        i.default = o
    }, {
        "dom-select": 71
    }],
    8: [function(t, e, i) {
        "use strict";
        var n = t("bigwheel"),
            r = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(n);
        e.exports = (0, r.default)(function(e) {
            e({
                overlap: !0,
                initSection: t("./sections/preloader"),
                routes: t("./routes")
            })
        })
    }, {
        "./routes": 15,
        "./sections/preloader": 29,
        bigwheel: 58
    }],
    9: [function(t, e, i) {
        (function(t) {
            "use strict";
            var i = void 0 !== e && e.exports && void 0 !== t ? t : window;
            ! function(t) {
                var e = t.GreenSockGlobals || t,
                    i = function(t) {
                        var i, n = t.split("."),
                            r = e;
                        for (i = 0; i < n.length; i++) r[n[i]] = r = r[n[i]] || {};
                        return r
                    }("com.greensock.utils"),
                    n = function t(e) {
                        var i = e.nodeType,
                            n = "";
                        if (1 === i || 9 === i || 11 === i) {
                            if ("string" == typeof e.textContent) return e.textContent;
                            for (e = e.firstChild; e; e = e.nextSibling) n += t(e)
                        } else if (3 === i || 4 === i) return e.nodeValue;
                        return n
                    },
                    r = document,
                    o = r.defaultView ? r.defaultView.getComputedStyle : function() {},
                    a = function(t, e, i, n) {
                        var r;
                        return (i = i || o(t, null)) ? (t = i.getPropertyValue(e.replace(/([A-Z])/g, "-$1").toLowerCase()), r = t || i.length ? t : i[e]) : t.currentStyle && (i = t.currentStyle, r = i[e]), n ? r : parseInt(r, 10) || 0
                    },
                    s = function(t) {
                        return !!(t.length && t[0] && (t[0].nodeType && t[0].style && !t.nodeType || t[0].length && t[0][0]))
                    },
                    l = function(t) {
                        var e, i, n, r = [],
                            o = t.length;
                        for (e = 0; e < o; e++)
                            if (i = t[e], s(i))
                                for (n = i.length, n = 0; n < i.length; n++) r.push(i[n]);
                            else r.push(i);
                        return r
                    },
                    u = ")eefec303079ad17405c",
                    c = /(?:<br>|<br\/>|<br \/>)/gi,
                    h = r.all && !r.addEventListener,
                    d = "<div style='position:relative;display:inline-block;" + (h ? "*display:inline;*zoom:1;'" : "'"),
                    p = function(t) {
                        t = t || "";
                        var e = t.indexOf("++") !== -1,
                            i = 1;
                        return e && (t = t.split("++").join("")),
                            function() {
                                return d + (t ? " class='" + t + (e ? i++ : "") + "'>" : ">")
                            }
                    },
                    f = i.SplitText = e.SplitText = function(t, e) {
                        if ("string" == typeof t && (t = f.selector(t)), !t) throw "cannot split a null element.";
                        this.elements = s(t) ? l(t) : [t], this.chars = [], this.words = [], this.lines = [], this._originals = [], this.vars = e || {}, this.split(e)
                    },
                    m = function t(e, i, n) {
                        var r = e.nodeType;
                        if (1 === r || 9 === r || 11 === r)
                            for (e = e.firstChild; e; e = e.nextSibling) t(e, i, n);
                        else 3 !== r && 4 !== r || (e.nodeValue = e.nodeValue.split(i).join(n))
                    },
                    g = function(t, e) {
                        for (var i = e.length; --i > -1;) t.push(e[i])
                    },
                    v = function(t, e, i, s, l) {
                        c.test(t.innerHTML) && (t.innerHTML = t.innerHTML.replace(c, u));
                        var h, d, f, v, y, _, b, x, w, T, S, M, E, C, A = n(t),
                            P = e.type || e.split || "chars,words,lines",
                            L = P.indexOf("lines") !== -1 ? [] : null,
                            O = P.indexOf("words") !== -1,
                            k = P.indexOf("chars") !== -1,
                            R = "absolute" === e.position || e.absolute === !0,
                            I = R ? "&#173; " : " ",
                            D = -999,
                            B = o(t),
                            z = a(t, "paddingLeft", B),
                            F = a(t, "borderBottomWidth", B) + a(t, "borderTopWidth", B),
                            N = a(t, "borderLeftWidth", B) + a(t, "borderRightWidth", B),
                            U = a(t, "paddingTop", B) + a(t, "paddingBottom", B),
                            G = a(t, "paddingLeft", B) + a(t, "paddingRight", B),
                            V = a(t, "textAlign", B, !0),
                            j = t.clientHeight,
                            H = t.clientWidth,
                            W = p(e.wordsClass),
                            X = p(e.charsClass),
                            q = (e.linesClass || "").indexOf("++") !== -1,
                            Y = e.linesClass,
                            Z = A.indexOf("<") !== -1,
                            K = !0,
                            Q = [],
                            J = [],
                            $ = [];
                        for (q && (Y = Y.split("++").join("")), Z && (A = A.split("<").join("{{LT}}")), h = A.length, v = W(), y = 0; y < h; y++)
                            if (")" === (b = A.charAt(y)) && A.substr(y, 20) === u) v += (K ? "</div>" : "") + "<BR/>", K = !1, y !== h - 20 && A.substr(y + 20, 20) !== u && (v += " " + W(), K = !0), y += 19;
                            else if (" " === b && " " !== A.charAt(y - 1) && y !== h - 1 && A.substr(y - 20, 20) !== u) {
                            for (v += K ? "</div>" : "", K = !1;
                                " " === A.charAt(y + 1);) v += I, y++;
                            ")" === A.charAt(y + 1) && A.substr(y + 1, 20) === u || (v += I + W(), K = !0)
                        } else "{" === b && "{{LT}}" === A.substr(y, 6) ? (v += k ? X() + "{{LT}}</div>" : "{{LT}}", y += 5) : v += k && " " !== b ? X() + b + "</div>" : b;
                        for (t.innerHTML = v + (K ? "</div>" : ""), Z && m(t, "{{LT}}", "<"), _ = t.getElementsByTagName("*"), h = _.length, x = [], y = 0; y < h; y++) x[y] = _[y];
                        if (L || R)
                            for (y = 0; y < h; y++) w = x[y], ((f = w.parentNode === t) || R || k && !O) && (T = w.offsetTop, L && f && T !== D && "BR" !== w.nodeName && (d = [], L.push(d), D = T), R && (w._x = w.offsetLeft, w._y = T, w._w = w.offsetWidth, w._h = w.offsetHeight), L && (O !== f && k || (d.push(w), w._x -= z), f && y && (x[y - 1]._wordEnd = !0), "BR" === w.nodeName && w.nextSibling && "BR" === w.nextSibling.nodeName && L.push([])));
                        for (y = 0; y < h; y++) w = x[y], f = w.parentNode === t, "BR" !== w.nodeName ? (R && (M = w.style, O || f || (w._x += w.parentNode._x, w._y += w.parentNode._y), M.left = w._x + "px", M.top = w._y + "px", M.position = "absolute", M.display = "block", M.width = w._w + 1 + "px", M.height = w._h + "px"), O ? f && "" !== w.innerHTML ? J.push(w) : k && Q.push(w) : f ? (t.removeChild(w), x.splice(y--, 1), h--) : !f && k && (T = !L && !R && w.nextSibling, t.appendChild(w), T || t.appendChild(r.createTextNode(" ")), Q.push(w))) : L || R ? (t.removeChild(w), x.splice(y--, 1), h--) : O || t.appendChild(w);
                        if (L) {
                            for (R && (S = r.createElement("div"), t.appendChild(S), E = S.offsetWidth + "px", T = S.offsetParent === t ? 0 : t.offsetLeft, t.removeChild(S)), M = t.style.cssText, t.style.cssText = "display:none;"; t.firstChild;) t.removeChild(t.firstChild);
                            for (C = !R || !O && !k, y = 0; y < L.length; y++) {
                                for (d = L[y], S = r.createElement("div"), S.style.cssText = "display:block;text-align:" + V + ";position:" + (R ? "absolute;" : "relative;"), Y && (S.className = Y + (q ? y + 1 : "")), $.push(S), h = d.length, _ = 0; _ < h; _++) "BR" !== d[_].nodeName && (w = d[_], S.appendChild(w), C && (w._wordEnd || O) && S.appendChild(r.createTextNode(" ")), R && (0 === _ && (S.style.top = w._y + "px", S.style.left = z + T + "px"), w.style.top = "0px", T && (w.style.left = w._x - T + "px")));
                                0 === h && (S.innerHTML = "&nbsp;"),
                                    O || k || (S.innerHTML = n(S).split(String.fromCharCode(160)).join(" ")), R && (S.style.width = E, S.style.height = w._h + "px"), t.appendChild(S)
                            }
                            t.style.cssText = M
                        }
                        R && (j > t.clientHeight && (t.style.height = j - U + "px", t.clientHeight < j && (t.style.height = j + F + "px")), H > t.clientWidth && (t.style.width = H - G + "px", t.clientWidth < H && (t.style.width = H + N + "px"))), g(i, Q), g(s, J), g(l, $)
                    },
                    y = f.prototype;
                y.split = function(t) {
                    this.isSplit && this.revert(), this.vars = t || this.vars, this._originals.length = this.chars.length = this.words.length = this.lines.length = 0;
                    for (var e = this.elements.length; --e > -1;) this._originals[e] = this.elements[e].innerHTML, v(this.elements[e], this.vars, this.chars, this.words, this.lines);
                    return this.chars.reverse(), this.words.reverse(), this.lines.reverse(), this.isSplit = !0, this
                }, y.revert = function() {
                    if (!this._originals) throw "revert() call wasn't scoped properly.";
                    for (var t = this._originals.length; --t > -1;) this.elements[t].innerHTML = this._originals[t];
                    return this.chars = [], this.words = [], this.lines = [], this.isSplit = !1, this
                }, f.selector = t.$ || t.jQuery || function(e) {
                    var i = t.$ || t.jQuery;
                    return i ? (f.selector = i, i(e)) : "undefined" == typeof document ? e : document.querySelectorAll ? document.querySelectorAll(e) : document.getElementById("#" === e.charAt(0) ? e.substr(1) : e)
                }, f.version = "0.3.4"
            }(i),
            function(t) {
                var n = function() {
                    return (i.GreenSockGlobals || i).SplitText
                };
                "function" == typeof define && define.amd ? define(["TweenLite"], n) : void 0 !== e && e.exports && (e.exports = n())
            }()
        }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
    }, {}],
    10: [function(t, e, i) {
        "use strict";

        function n(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }

        function r(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }

        function o(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !e || "object" !== (void 0 === e ? "undefined" : s(e)) && "function" != typeof e ? t : e
        }

        function a(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + (void 0 === e ? "undefined" : s(e)));
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        var s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var l = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i), n && t(e, n), e
                }
            }(),
            u = function t(e, i, n) {
                null === e && (e = Function.prototype);
                var r = Object.getOwnPropertyDescriptor(e, i);
                if (void 0 === r) {
                    var o = Object.getPrototypeOf(e);
                    return null === o ? void 0 : t(o, i, n)
                }
                if ("value" in r) return r.value;
                var a = r.get;
                if (void 0 !== a) return a.call(n)
            },
            c = t("config"),
            h = n(c),
            d = t("utils"),
            p = n(d),
            f = t("smooth-scrolling"),
            m = n(f),
            g = t("dom-classes"),
            v = n(g),
            y = function(t) {
                function e(t) {
                    r(this, e);
                    var i = o(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this, t));
                    return i.dom.section = t.section, i.single = t.single || null, i.boxInfo = t.boxInfo || null, i.boxCategory = t.boxCategory || null, i.map = t.map || null, i.chronology = t.chronology || null, i.items = t.items || null, i.count = 0, i
                }
                return a(e, t), l(e, [{
                    key: "resize",
                    value: function() {
                        u(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "resize", this).call(this);
                        var t = this.chronology ? this.dom.section.getBoundingClientRect().top : 0;
                        this.single ? this.vars.bounding = this.dom.section.getBoundingClientRect().height - this.boxInfo.getBoundingClientRect().height - this.boxCategory.getBoundingClientRect().height : this.vars.bounding = this.dom.section.getBoundingClientRect().height - this.vars.height + t, this.map && (this.one_fourth = window.innerHeight / 4 * 2.55)
                    }
                }, {
                    key: "run",
                    value: function() {
                        var t = this;
                        if (u(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "run", this).call(this), this.single) {
                            var i = p.default.math.clamp(0, 1 - this.vars.current / (.1 * this.vars.height), 1);
                            this.boxInfo.style.opacity = i, this.boxCategory.style.opacity = i
                        }
                        this.items && this.items.forEach(function(e) {
                            e.getBoundingClientRect().top < t.one_fourth ? !v.default.has(e, "visible") && v.default.add(e, "visible") : v.default.has(e, "visible") && v.default.remove(e, "visible");
                            var i = Number(h.default.body.querySelector(".map__overlay-counter--current").innerHTML),
                                n = h.default.body.getElementsByClassName("visible").length;
                            if (i !== n) {
                                h.default.body.querySelector(".map__overlay-counter--current").innerHTML = h.default.body.getElementsByClassName("visible").length;
                                var r = h.default.body.querySelectorAll(".map__overlay-image")[n - 1 || 0];
                                !v.default.has(r, "active") && v.default.add(r, "active"), p.default.func.siblings(r).forEach(function(t) {
                                    v.default.has(t, "active") && v.default.remove(t, "active")
                                })
                            }
                        }), this.dom.section.style[this.prefix] = "translate3d(0," + -this.vars.current.toFixed(3) + "px,0)"
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        u(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "destroy", this).call(this)
                    }
                }]), e
            }(m.default);
        i.default = y
    }, {
        config: 7,
        "dom-classes": 67,
        "smooth-scrolling": 106,
        utils: 55
    }],
    11: [function(t, e, i) {
        "use strict";

        function n(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }

        function r(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !e || "object" !== (void 0 === e ? "undefined" : a(e)) && "function" != typeof e ? t : e
        }

        function o(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + (void 0 === e ? "undefined" : a(e)));
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        var a = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var s = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i), n && t(e, n), e
                }
            }(),
            l = function t(e, i, n) {
                null === e && (e = Function.prototype);
                var r = Object.getOwnPropertyDescriptor(e, i);
                if (void 0 === r) {
                    var o = Object.getPrototypeOf(e);
                    return null === o ? void 0 : t(o, i, n)
                }
                if ("value" in r) return r.value;
                var a = r.get;
                if (void 0 !== a) return a.call(n)
            },
            u = t("smooth-scrolling"),
            c = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(u),
            h = function(t) {
                function e(t) {
                    n(this, e);
                    var i = r(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this, t));
                    return i.createExtraBound(), i.resizing = !1, i.cache = null, i.section = t.section, i.dom.divs = Array.prototype.slice.call(t.divs, 0), i
                }
                return o(e, t), s(e, [{
                    key: "createExtraBound",
                    value: function() {
                        var t = this;
                        ["getCache", "inViewport"].forEach(function(e) {
                            return t[e] = t[e].bind(t)
                        })
                    }
                }, {
                    key: "init",
                    value: function() {
                        l(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "init", this).call(this)
                    }
                }, {
                    key: "resize",
                    value: function() {
                        l(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "resize", this).call(this), this.getCache()
                    }
                }, {
                    key: "reset",
                    value: function() {
                        var t = this;
                        this.cache && this.dom.divs.forEach(function(e, i) {
                            var n = t.cache[i];
                            !n.state && (t.section.appendChild(n.el), n.state = !0), e.style.display = "block"
                        })
                    }
                }, {
                    key: "getCache",
                    value: function() {
                        var t = this;
                        this.cache = [], this.dom.divs.forEach(function(e, i) {
                            e.style.display = "block", e.style.transform = "none";
                            var n = e.getBoundingClientRect(),
                                r = {
                                    el: e,
                                    state: !0,
                                    top: n.top,
                                    left: n.left,
                                    bottom: n.bottom,
                                    speed: e.getAttribute("data-speed") || "-1"
                                };
                            t.vars.bounding = t.dom.section.getBoundingClientRect().height - t.vars.height, t.cache.push(r)
                        })
                    }
                }, {
                    key: "run",
                    value: function() {
                        this.dom.divs.forEach(this.inViewport), l(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "run", this).call(this)
                    }
                }, {
                    key: "inViewport",
                    value: function(t, e) {
                        if (this.cache && !this.resizing) {
                            var i = this.cache[e],
                                n = this.vars.current,
                                r = n * i.speed,
                                o = Math.round(i.top + r),
                                a = Math.round(i.bottom + r);
                            a > -100 && this.vars.height;
                            t.style.display = "block", t.style[this.prefix] = this.getTransform(r)
                        }
                    }
                }]), e
            }(c.default);
        i.default = h
    }, {
        "smooth-scrolling": 106
    }],
    12: [function(t, e, i) {
        "use strict";

        function n(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }

        function r(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }

        function o(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !e || "object" !== (void 0 === e ? "undefined" : s(e)) && "function" != typeof e ? t : e
        }

        function a(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + (void 0 === e ? "undefined" : s(e)));
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        var s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var l = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i), n && t(e, n), e
                }
            }(),
            u = function t(e, i, n) {
                null === e && (e = Function.prototype);
                var r = Object.getOwnPropertyDescriptor(e, i);
                if (void 0 === r) {
                    var o = Object.getPrototypeOf(e);
                    return null === o ? void 0 : t(o, i, n)
                }
                if ("value" in r) return r.value;
                var a = r.get;
                if (void 0 !== a) return a.call(n)
            },
            c = t("config"),
            h = n(c),
            d = t("utils"),
            p = n(d),
            f = t("smooth-scrolling"),
            m = n(f),
            g = t("dom-classes"),
            v = n(g),
            y = function(t) {
                function e(t) {
                    r(this, e);
                    var i = o(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this, t));
                    return i.dom.section = t.section, i.items = t.items || null, i.aside = t.aside || null, i.isMobile = window.innerWidth <= 768, i.chap = t.chap || null, i.getchap = t.getchap || null, i
                }
                return a(e, t), l(e, [{
                    key: "resize",
                    value: function() {
                        u(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "resize", this).call(this);
                        var t = 0,
                            i = 0;
                        this.isMobile = window.innerWidth <= 768, this.chap(), this.isMobile ? (p.default.array.slice(this.items).forEach(function(t) {
                            i += t.getBoundingClientRect().height
                        }), this.vars.bounding = i - window.innerHeight / 2) : (p.default.array.slice(this.items).forEach(function(e) {
                            var i = parseInt(window.getComputedStyle(e).getPropertyValue("margin-right").replace("px", ""));
                            t += e.getBoundingClientRect().width, t += i
                        }), this.vars.bounding = t - window.innerWidth / 2)
                    }
                }, {
                    key: "currentValue",
                    value: function() {
                        return this.vars.current
                    }
                }, {
                    key: "run",
                    value: function() {
                        if (u(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "run", this).call(this), this.isMobile) {
                            var t = Math.abs(this.vars.current.toFixed(3)) + window.innerWidth;
                            this.getchap().forEach(function(e) {
                                var i = h.default.body.querySelector(".mobile-" + e.title.substring(1)),
                                    n = h.default.body.querySelector(".mobile-" + e.title.substring(1));
                                e.topPosition < t && e.bottomPosition > t ? (v.default.add(i, "active"), v.default.add(n, "active")) : (v.default.remove(i, "active"), v.default.remove(n, "active"))
                            })
                        } else {
                            var i = window.innerWidth - this.aside.getBoundingClientRect().width,
                                n = Math.abs(this.vars.current.toFixed(3)) + window.innerWidth - i;
                            this.getchap().forEach(function(t) {
                                var e = h.default.body.querySelector(".side-" + t.title.substring(1)),
                                    i = h.default.body.querySelector(".main-" + t.title.substring(1));
                                t.leftPosition < n && t.rightPosition > n ? (v.default.add(e, "active"), v.default.add(i, "active")) : (v.default.remove(e, "active"), v.default.remove(i, "active"))
                            })
                        }
                        this.isMobile ? this.dom.section.style[this.prefix] = "translate3d(0," + -this.vars.current.toFixed(3) + "px,0)" : this.dom.section.style[this.prefix] = "translate3d(" + -this.vars.current.toFixed(3) + "px,0,0)"
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        u(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "destroy", this).call(this)
                    }
                }]), e
            }(m.default);
        i.default = y
    }, {
        config: 7,
        "dom-classes": 67,
        "smooth-scrolling": 106,
        utils: 55
    }],
    13: [function(t, e, i) {
        "use strict";

        function n(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var r = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i), n && t(e, n), e
                }
            }(),
            o = t("three"),
            a = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(o),
            s = function() {
                function t(e, i) {
                    n(this, t), this.section = e.section, this.camera, this.scene, this.renderer, this.geometry, this.material, this.mesh, this.cubeSineDriver = 0, this.animate = this.animate.bind(this), this.animationStarted = !1
                }
                return r(t, [{
                    key: "start",
                    value: function(t) {
                        this.init(), this.animate(), a.default.DefaultLoadingManager.onProgress = function(e, i, n) {
                            i === n && setTimeout(function() {
                                return t()
                            }, 200)
                        }
                    }
                }, {
                    key: "activated",
                    value: function() {
                        return this.animationStarted
                    }
                }, {
                    key: "init",
                    value: function() {
                        this.clock = new a.default.Clock, this.renderer = new a.default.WebGLRenderer({
                            antialias: !1,
                            alpha: !0
                        }), this.renderer.setSize(window.innerWidth, window.innerHeight), this.renderer.globalAlpha = 0, this.scene = new a.default.Scene, this.camera = new a.default.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 1, 1e4), this.camera.position.z = 1e3, this.scene.add(this.camera), this.geometry = new a.default.CubeGeometry(200, 200, 200), this.material = new a.default.MeshLambertMaterial({
                            color: 16777215,
                            wireframe: !1
                        }), this.mesh = new a.default.Mesh(this.geometry, this.material), this.loader = new a.default.TextureLoader, a.default.ImageUtils.crossOrigin = "";
                        var t = new a.default.DirectionalLight(9929320, 1);
                        t.position.set(-1, 0, 1), this.scene.add(t);
                        var e = this.loader.load("../assets/img/cloud.png"),
                            i = new a.default.MeshLambertMaterial({
                                opacity: .3,
                                map: e,
                                transparent: !0
                            }),
                            n = new a.default.PlaneGeometry(300, 300);
                        this.smokeParticles = [];
                        for (var r = 0; r < 40; r++) {
                            var o = new a.default.Mesh(n, i);
                            o.position.set(500 * Math.random() - 250, 500 * Math.random() - 250, 1e3 * Math.random() - 100), o.rotation.z = 660 * Math.random(), this.scene.add(o), this.smokeParticles.push(o)
                        }
                        this.section.insertBefore(this.renderer.domElement, this.section.firstChild), this.animationStarted = !0
                    }
                }, {
                    key: "animate",
                    value: function() {
                        this.delta = this.clock.getDelta(), this.requestAnimation = requestAnimationFrame(this.animate), this.evolveSmoke(), this.render()
                    }
                }, {
                    key: "evolveSmoke",
                    value: function() {
                        for (var t = this.smokeParticles.length; t--;) this.smokeParticles[t].rotation.z += .3 * this.delta
                    }
                }, {
                    key: "render",
                    value: function() {
                        this.mesh.rotation.x += .005, this.mesh.rotation.y += .01, this.cubeSineDriver += .01, this.mesh.position.z = 100 + 500 * Math.sin(this.cubeSineDriver), this.renderer.render(this.scene, this.camera)
                    }
                }, {
                    key: "resize",
                    value: function() {
                        this.camera.aspect = window.innerWidth / window.innerHeight, this.camera.updateProjectionMatrix(), this.renderer.setSize(window.innerWidth, window.innerHeight), this.render()
                    }
                }, {
                    key: "pause",
                    value: function() {
                        cancelAnimationFrame(this.requestAnimation)
                    }
                }, {
                    key: "resume",
                    value: function() {
                        this.animate()
                    }
                }, {
                    key: "ready",
                    value: function() {
                        return this.animationStarted
                    }
                }, {
                    key: "destroy",
                    value: function() {}
                }]), t
            }();
        i.default = s
    }, {
        three: 114
    }],
    14: [function(t, e, i) {
        "use strict";

        function n(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }
        var r = t("./app"),
            o = n(r),
            a = t("@utils/biggie"),
            s = (n(a), t("config"));
        n(s);
        window.onload = function(t) {
            new o.default
        }, t("fastclick")(document.body)
    }, {
        "./app": 1,
        "@utils/biggie": 39,
        config: 7,
        fastclick: 74
    }],
    15: [function(t, e, i) {
        "use strict";

        function n(t, e, i) {
            return e in t ? Object.defineProperty(t, e, {
                value: i,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : t[e] = i, t
        }
        var r, o = t("config"),
            a = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(o);
        e.exports = (r = {}, n(r, "" + a.default.BASE, t("./sections/home")), n(r, a.default.BASE + "home", {
            section: t("./sections/home")
        }), n(r, a.default.BASE + "about", {
            section: t("./sections/about")
        }), n(r, a.default.BASE + "works", {
            section: t("./sections/works")
        }), n(r, a.default.BASE + "works/:id", {
            section: t("./sections/single"),
            duplicate: !0
        }), n(r, a.default.BASE + "life", {
            section: t("./sections/life")
        }), n(r, a.default.BASE + "life/:id", {
            section: t("./sections/life-single"),
            duplicate: !0,
            silent: !0
        }), n(r, a.default.BASE + "exhibition", {
            section: t("./sections/exhibition")
        }), n(r, a.default.BASE + "chronology", "/chronology/1817"), n(r, a.default.BASE + "chronology/:id", {
            section: t("./sections/chronology")
        }), n(r, a.default.BASE + "awards", {
            section: t("./sections/awards")
        }), n(r, a.default.BASE + "archive", {
            section: t("./sections/archive")
        }), n(r, a.default.BASE + "archive/:id", {
            section: t("./sections/archive-single")
        }), n(r, a.default.BASE + "map", {
            section: t("./sections/map")
        }), n(r, a.default.BASE + "credits", {
            section: t("./sections/credits")
        }), n(r, "404", {
            section: t("./sections/error")
        }), r)
    }, {
        "./sections/about": 16,
        "./sections/archive": 18,
        "./sections/archive-single": 17,
        "./sections/awards": 19,
        "./sections/chronology": 20,
        "./sections/credits": 21,
        "./sections/error": 23,
        "./sections/exhibition": 24,
        "./sections/home": 25,
        "./sections/life": 27,
        "./sections/life-single": 26,
        "./sections/map": 28,
        "./sections/single": 30,
        "./sections/works": 31,
        config: 7
    }],
    16: [function(t, e, i) {
        "use strict";

        function n(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }

        function r(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }

        function o(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !e || "object" !== (void 0 === e ? "undefined" : s(e)) && "function" != typeof e ? t : e
        }

        function a(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + (void 0 === e ? "undefined" : s(e)));
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        var s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            } : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
            },
            l = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i), n && t(e, n), e
                }
            }(),
            u = function t(e, i, n) {
                null === e && (e = Function.prototype);
                var r = Object.getOwnPropertyDescriptor(e, i);
                if (void 0 === r) {
                    var o = Object.getPrototypeOf(e);
                    return null === o ? void 0 : t(o, i, n)
                }
                if ("value" in r) return r.value;
                var a = r.get;
                if (void 0 !== a) return a.call(n)
            },
            c = t("config"),
            h = n(c),
            d = t("utils"),
            p = (n(d), t("dom-classes")),
            f = n(p),
            m = t("./default"),
            g = n(m),
            v = t("gsap"),
            y = (n(v), t("gsap-splitext")),
            _ = n(y),
            b = function(t) {
                function e(t) {
                    r(this, e);
                    var i = o(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this, t));
                    return i.slug = "about", i
                }
                return a(e, t), l(e, [{
                    key: "init",
                    value: function(t, i) {
                        u(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "init", this).call(this, t, i)
                    }
                }, {
                    key: "ready",
                    value: function(t) {
                        u(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "ready", this).call(this), this.splitText(), t()
                    }
                }, {
                    key: "splitText",
                    value: function() {
                        this.split = new _.default(this.ui.text, {
                            type: "words, chars",
                            wordsClass: "ru" === h.default.language ? "word-ru" : "word"
                        }), !h.default.isMobile && this.split.words.forEach(function(t) {
                            return f.default.add(t, "is-hidden")
                        })
                    }
                }, {
                    key: "introAnimation",
                    value: function() {
                        h.default.about_text = new TimelineMax({});
                        h.default.isMobile ? h.default.about_text.to(this.ui.text, 1, {
                            autoAlpha: 1,
                            delay: 1,
                            ease: Expo.easeInOut
                        }) : h.default.about_text.staggerTo(this.split.words, .1, {
                            className: "-=is-hidden"
                        }, .1)
                    }
                }, {
                    key: "animateIn",
                    value: function(t, e) {
                        var i = this;
                        f.default.add(h.default.body, "is-" + this.slug);
                        var n = t.previous && "/" === t.previous.route || t.previous && "/home" === t.previous.route;
                        TweenLite.to(this.page, 1, {
                            autoAlpha: 1,
                            ease: Expo.easeOut,
                            onComplete: e,
                            delay: 1
                        }), TweenLite.to(this.ui.image, 1.3, {
                            autoAlpha: 1,
                            ease: Expo.easeInOut,
                            delay: 1
                        }), setTimeout(function() {
                            return i.introAnimation()
                        }, n ? h.default.infos.isChrome || h.default.infos.isOpera ? 3e3 : 1800 : h.default.infos.isChrome || h.default.infos.isOpera ? 1800 : 1e3)
                    }
                }, {
                    key: "animateOut",
                    value: function(t, e) {
                        f.default.remove(h.default.body, "is-" + this.slug), h.default.about_text.pause();
                        var i = "/" === t.route || "/home" === t.route || "/about" === t.route || "/credits" === t.route || "/share" === t.route ? 1 : 0;
                        TweenLite.to(this.page, i, {
                            autoAlpha: 0,
                            ease: Expo.easeInOut,
                            onComplete: e
                        })
                    }
                }, {
                    key: "destroy",
                    value: function(t, i) {
                        u(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "destroy", this).call(this), this.page.parentNode.removeChild(this.page), i()
                    }
                }]), e
            }(g.default);
        e.exports = b
    }, {
        "./default": 22,
        config: 7,
        "dom-classes": 67,
        gsap: 77,
        "gsap-splitext": 9,
        utils: 55
    }],
    17: [function(t, e, i) {
        "use strict";

        function n(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }

        function r(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }

        function o(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !e || "object" !== (void 0 === e ? "undefined" : s(e)) && "function" != typeof e ? t : e
        }

        function a(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + (void 0 === e ? "undefined" : s(e)));
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        var s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            } : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
            },
            l = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i), n && t(e, n), e
                }
            }(),
            u = function t(e, i, n) {
                null === e && (e = Function.prototype);
                var r = Object.getOwnPropertyDescriptor(e, i);
                if (void 0 === r) {
                    var o = Object.getPrototypeOf(e);
                    return null === o ? void 0 : t(o, i, n)
                }
                if ("value" in r) return r.value;
                var a = r.get;
                if (void 0 !== a) return a.call(n)
            },
            c = t("config"),
            h = n(c),
            d = t("utils"),
            p = (n(d), t("dom-classes")),
            f = n(p),
            m = t("./default"),
            g = n(m),
            v = t("dom-event"),
            y = (n(v), function(t) {
                function e(t) {
                    r(this, e);
                    var i = o(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this, t));
                    return i.slug = "archive-single", i
                }
                return a(e, t), l(e, [{
                    key: "init",
                    value: function(t, i) {
                        u(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "init", this).call(this, t, i)
                    }
                }, {
                    key: "ready",
                    value: function(t) {
                        u(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "ready", this).call(this), t()
                    }
                }, {
                    key: "animateIn",
                    value: function(t, e) {
                        var i = t.previous && t.previous.params.id;
                        f.default.add(h.default.body, "is-" + this.slug), TweenLite.to(this.page, i ? .5 : .8, {
                            autoAlpha: 1,
                            ease: Expo.easeInOut,
                            onComplete: function() {
                                e()
                            }
                        }), this.timeline = new TimelineMax, this.timeline.from(this.ui.image, i ? .5 : 1, {
                            autoAlpha: 0,
                            ease: Expo.easeInOut,
                            force3D: !0
                        }, i ? .3 : .8), this.timeline.from(this.ui.box, .7, {
                            x: "100%",
                            ease: Expo.easeInOut
                        }, i ? "-=0.8" : "-=1.0"), this.timeline.from(this.ui.year, 1.5, {
                            x: "-10%",
                            ease: Expo.easeInOut,
                            autoAlpha: 0
                        }, "-=0.7"), this.timeline.from(this.ui.category, 1.5, {
                            x: "-10%",
                            ease: Expo.easeInOut,
                            autoAlpha: 0
                        }, "-=1.4"), this.timeline.from(this.ui.title, 1.5, {
                            x: "-10%",
                            ease: Expo.easeInOut,
                            autoAlpha: 0
                        }, "-=1"), this.timeline.from(this.ui.line1, 1.5, {
                            height: 0,
                            ease: Expo.easeInOut
                        }, "-=1.5"), this.timeline.from(this.ui.line2, 1.5, {
                            width: 0,
                            ease: Expo.easeInOut
                        }, "-=1.8")
                    }
                }, {
                    key: "animateOut",
                    value: function(t, e) {
                        var i = t.previous && t.previous.params.id;
                        f.default.remove(h.default.body, "is-" + this.slug), this.timeline.pause(), TweenLite.to(this.page, i ? .5 : .7, {
                            autoAlpha: 0,
                            ease: Expo.easeInOut,
                            clearProps: "all",
                            onComplete: e
                        })
                    }
                }, {
                    key: "destroy",
                    value: function(t, i) {
                        u(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "destroy", this).call(this), this.page.parentNode.removeChild(this.page), i()
                    }
                }]), e
            }(g.default));
        e.exports = y
    }, {
        "./default": 22,
        config: 7,
        "dom-classes": 67,
        "dom-event": 69,
        utils: 55
    }],
    18: [function(t, e, i) {
        "use strict";

        function n(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }

        function r(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }

        function o(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !e || "object" !== (void 0 === e ? "undefined" : s(e)) && "function" != typeof e ? t : e
        }

        function a(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + (void 0 === e ? "undefined" : s(e)));
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        var s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            } : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
            },
            l = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i), n && t(e, n), e
                }
            }(),
            u = function t(e, i, n) {
                null === e && (e = Function.prototype);
                var r = Object.getOwnPropertyDescriptor(e, i);
                if (void 0 === r) {
                    var o = Object.getPrototypeOf(e);
                    return null === o ? void 0 : t(o, i, n)
                }
                if ("value" in r) return r.value;
                var a = r.get;
                if (void 0 !== a) return a.call(n)
            },
            c = t("config"),
            h = n(c),
            d = t("utils"),
            p = (n(d), t("dom-classes")),
            f = n(p),
            m = t("./default"),
            g = n(m),
            v = t("dom-event"),
            y = (n(v), t("../libs/smooth/smooth-grid")),
            _ = n(y),
            b = function(t) {
                function e(t) {
                    r(this, e);
                    var i = o(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this, t));
                    return i.slug = "archive", i
                }
                return a(e, t), l(e, [{
                    key: "init",
                    value: function(t, i) {
                        u(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "init", this).call(this, t, i)
                    }
                }, {
                    key: "ready",
                    value: function(t) {
                        u(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "ready", this).call(this), t()
                    }
                }, {
                    key: "addSmooth",
                    value: function() {
                        var t = void 0;
                        t = h.default.infos.isOpera || h.default.infos.isFirefox ? null : .4, this.smooth = new _.default({
                            extends: !0,
                            preload: !0,
                            noscrollbar: !0,
                            section: this.ui.row,
                            divs: this.ui.items,
                            vs: {
                                mouseMultiplier: t
                            },
                            ease: h.default.isMobile ? .13 : .075
                        }), this.smooth.init()
                    }
                }, {
                    key: "animateIn",
                    value: function(t, e) {
                        var i = this;
                        f.default.add(h.default.body, "is-" + this.slug), TweenLite.to(this.page, .8, {
                            autoAlpha: 1,
                            ease: Expo.easeInOut,
                            delay: .8,
                            onComplete: function() {
                                e(), i.addSmooth()
                            }
                        }), this.ui.text.forEach(function(t) {
                            var e = t.children[1];
                            e.innerHTML.length > 80 && (e.innerHTML = e.innerHTML.substring(0, 80) + "...")
                        })
                    }
                }, {
                    key: "animateOut",
                    value: function(t, e) {
                        f.default.remove(h.default.body, "is-" + this.slug), this.smooth && this.smooth.destroy(), TweenLite.to(this.page, .7, {
                            autoAlpha: 0,
                            ease: Expo.easeInOut,
                            clearProps: "all",
                            onComplete: e
                        })
                    }
                }, {
                    key: "destroy",
                    value: function(t, i) {
                        u(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "destroy", this).call(this), this.page.parentNode.removeChild(this.page), i()
                    }
                }]), e
            }(g.default);
        e.exports = b
    }, {
        "../libs/smooth/smooth-grid": 11,
        "./default": 22,
        config: 7,
        "dom-classes": 67,
        "dom-event": 69,
        utils: 55
    }],
    19: [function(t, e, i) {
        "use strict";

        function n(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }

        function r(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }

        function o(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !e || "object" !== (void 0 === e ? "undefined" : s(e)) && "function" != typeof e ? t : e
        }

        function a(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + (void 0 === e ? "undefined" : s(e)));
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        var s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            } : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
            },
            l = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i), n && t(e, n), e
                }
            }(),
            u = function t(e, i, n) {
                null === e && (e = Function.prototype);
                var r = Object.getOwnPropertyDescriptor(e, i);
                if (void 0 === r) {
                    var o = Object.getPrototypeOf(e);
                    return null === o ? void 0 : t(o, i, n)
                }
                if ("value" in r) return r.value;
                var a = r.get;
                if (void 0 !== a) return a.call(n)
            },
            c = t("config"),
            h = n(c),
            d = t("utils"),
            p = (n(d), t("dom-classes")),
            f = n(p),
            m = t("./default"),
            g = n(m),
            v = t("../libs/smooth/single"),
            y = n(v),
            _ = function(t) {
                function e(t) {
                    r(this, e);
                    var i = o(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this, t));
                    return i.slug = "awards", i
                }
                return a(e, t), l(e, [{
                    key: "init",
                    value: function(t, i) {
                        u(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "init", this).call(this, t, i)
                    }
                }, {
                    key: "ready",
                    value: function(t) {
                        u(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "ready", this).call(this), this.addSmooth(), t()
                    }
                }, {
                    key: "addSmooth",
                    value: function() {
                        this.smooth = new y.default({
                            native: !1,
                            section: this.ui.awards,
                            ease: .075
                        }), this.smooth.init()
                    }
                }, {
                    key: "animateIn",
                    value: function(t, e) {
                        f.default.add(h.default.body, "is-" + this.slug);
                        var i = new TimelineMax({
                            onComplete: e
                        });
                        i.to(this.page, 1, {
                            autoAlpha: 1,
                            delay: 1,
                            ease: Expo.easeInOut
                        }), i.staggerFrom(this.ui.col, 1, {
                            autoAlpha: 0,
                            y: 50,
                            ease: Expo.easeInOut
                        }, .1, "-=1.0")
                    }
                }, {
                    key: "animateOut",
                    value: function(t, e) {
                        f.default.remove(h.default.body, "is-" + this.slug);
                        var i = "/" === t.route || "/home" === t.route || "/about" === t.route || "/credits" === t.route || "/share" === t.route ? 1 : 0;
                        this.smooth && this.smooth.destroy(), TweenLite.to(this.page, i, {
                            autoAlpha: 0,
                            ease: Expo.easeInOut,
                            clearProps: "all",
                            onComplete: e
                        })
                    }
                }, {
                    key: "destroy",
                    value: function(t, i) {
                        u(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "destroy", this).call(this), this.page.parentNode.removeChild(this.page), i()
                    }
                }]), e
            }(g.default);
        e.exports = _
    }, {
        "../libs/smooth/single": 10,
        "./default": 22,
        config: 7,
        "dom-classes": 67,
        utils: 55
    }],
    20: [function(t, e, i) {
        "use strict";

        function n(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }

        function r(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }

        function o(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !e || "object" !== (void 0 === e ? "undefined" : s(e)) && "function" != typeof e ? t : e
        }

        function a(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + (void 0 === e ? "undefined" : s(e)));
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        var s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            } : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
            },
            l = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i), n && t(e, n), e
                }
            }(),
            u = function t(e, i, n) {
                null === e && (e = Function.prototype);
                var r = Object.getOwnPropertyDescriptor(e, i);
                if (void 0 === r) {
                    var o = Object.getPrototypeOf(e);
                    return null === o ? void 0 : t(o, i, n)
                }
                if ("value" in r) return r.value;
                var a = r.get;
                if (void 0 !== a) return a.call(n)
            },
            c = t("config"),
            h = n(c),
            d = t("utils"),
            p = n(d),
            f = t("dom-classes"),
            m = n(f),
            g = t("./default"),
            v = n(g),
            y = t("dom-event"),
            _ = n(y),
            b = t("../libs/smooth/single"),
            x = n(b),
            w = t("dom-create-element"),
            T = n(w),
            S = t("@utils/func"),
            M = (n(S), t("framework")),
            E = n(M),
            C = function(t) {
                function e(t) {
                    r(this, e);
                    var i = o(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this, t));
                    return i.slug = "chronology", i.goNext = i.goNext.bind(i), i.goBack = i.goBack.bind(i), i.true = !0, i.firstInit = !1, i
                }
                return a(e, t), l(e, [{
                    key: "init",
                    value: function(t, i) {
                        u(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "init", this).call(this, t, i)
                    }
                }, {
                    key: "ready",
                    value: function(t) {
                        u(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "ready", this).call(this), this.addEvent(), this.changeNextWord(), t()
                    }
                }, {
                    key: "addEvent",
                    value: function() {
                        _.default.on(this.ui.nextLink, "click", this.goNext), _.default.on(this.ui.close, "click", this.goBack)
                    }
                }, {
                    key: "removeEvent",
                    value: function() {
                        _.default.off(this.ui.nextLink, "click", this.goNext), _.default.off(this.ui.close, "click", this.goBack)
                    }
                }, {
                    key: "changeNextWord",
                    value: function() {
                        this.ui.nextLink.innerHTML = "ru" === h.default.language ? "Ð¡Ð»ÐµÐ´" : "next"
                    }
                }, {
                    key: "goBack",
                    value: function() {
                        this.true = !1, E.default.go("/life/childhood")
                    }
                }, {
                    key: "goNext",
                    value: function(t) {
                        var e = this,
                            i = t.target.dataset.url,
                            n = window._data.chronology[i];
                        this.ui.nextLink.style.pointerEvents = "none", this.smooth && this.smooth.scrollTo(0), this.animateOutContent(), m.default.has(this.ui.imageBelow, "active") ? (m.default.remove(this.ui.imageBelow, "active"), TweenLite.to(this.ui.imageBelow, 1, {
                            autoAlpha: 0,
                            force3D: !0,
                            ease: Expo.easeOut
                        }), m.default.add(this.ui.imageTop, "active"), this.ui.imageTop.style.backgroundImage = "url('" + n.images[0].image + "')", TweenLite.to(this.ui.imageTop, 1, {
                            autoAlpha: 1,
                            delay: .4,
                            force3D: !0,
                            ease: Expo.easeOut
                        })) : (m.default.add(this.ui.imageBelow, "active"), m.default.has(this.ui.imageTop, "active") && m.default.remove(this.ui.imageTop, "active"), TweenLite.to(this.ui.imageTop, 1, {
                            autoAlpha: 0,
                            force3D: !0,
                            ease: Expo.easeOut
                        }), this.ui.imageBelow.style.backgroundImage = "url('" + n.images[0].image + "')", TweenLite.to(this.ui.imageBelow, 1, {
                            autoAlpha: 1,
                            delay: .4,
                            force3D: !0,
                            ease: Expo.easeOut
                        })), setTimeout(function() {
                            e.replaceContent(n), e.replaceText(n), e.smooth && e.smooth.destroy(), setTimeout(function() {
                                return e.animateInContent()
                            }, 400)
                        }, 500)
                    }
                }, {
                    key: "replaceText",
                    value: function(t) {
                        for (; this.ui.smooth.firstChild;) this.ui.smooth.removeChild(this.ui.smooth.firstChild);
                        E.default.go("/chronology/" + t.year, {
                            silent: !0
                        }), this.createElement(t)
                    }
                }, {
                    key: "animateOutContent",
                    value: function() {
                        var t = new TimelineMax;
                        t.to(this.ui.text, 1, {
                            autoAlpha: 0,
                            ease: Expo.easeOut
                        }), t.to(this.ui.currentYear, 1, {
                            autoAlpha: 0,
                            x: -50,
                            ease: Expo.easeOut
                        }, "-=1.0"), t.to(this.ui.next, 1, {
                            autoAlpha: 0,
                            x: -50,
                            ease: Expo.easeOut
                        }, "-=1.0")
                    }
                }, {
                    key: "animateInContent",
                    value: function() {
                        var t = this,
                            e = new TimelineMax;
                        e.set(this.ui.text, {
                            y: -50
                        }), e.add(function() {
                            return t.addSmooth()
                        }), e.set(this.ui.text, {
                            autoAlpha: 0,
                            y: 50
                        }), e.to(this.ui.text, 1, {
                            autoAlpha: 1,
                            y: 0,
                            ease: Expo.easeOut
                        }), e.to(this.ui.currentYear, 1, {
                            autoAlpha: 1,
                            x: 0,
                            ease: Expo.easeOut
                        }, "-=1.0"), e.to(this.ui.next, 1, {
                            autoAlpha: 1,
                            x: 0,
                            ease: Expo.easeOut
                        }, "-=1.0"), this.ui.nextLink.style.pointerEvents = "auto"
                    }
                }, {
                    key: "replaceContent",
                    value: function(t) {
                        this.ui.currentYear.innerHTML = "" + t.year, this.ui.nextYear.innerHTML = "" + t.next, this.ui.nextLink.dataset.url = t.next, this.firstInit || (this.firstInit = !0, this.ui.imageBelow.style.backgroundImage = "url('" + t.images[0].image + "')", m.default.add(this.ui.imageBelow, "active"))
                    }
                }, {
                    key: "addSmooth",
                    value: function() {
                        this.smooth = new x.default({
                            native: !1,
                            section: this.ui.smooth,
                            chronology: !0,
                            ease: .075,
                            scrollbar: !1
                        }), this.smooth.init()
                    }
                }, {
                    key: "createElement",
                    value: function(t) {
                        var e = this;
                        t.data.forEach(function(t) {
                            var i = (0, T.default)({
                                selector: "div",
                                styles: "chronology__page-text-row",
                                html: "\n                    <h1>" + t.title + "</h1>\n                    " + t.text + "\n                "
                            });
                            e.ui.smooth.insertBefore(i, null)
                        })
                    }
                }, {
                    key: "firstInitCreate",
                    value: function(t) {
                        var e = this;
                        this.createElement(t), this.replaceContent(t), TweenLite.to(this.ui.currentYear, 1.5, {
                            autoAlpha: 1,
                            ease: Expo.easeInOut,
                            delay: 1
                        }), TweenLite.to(this.ui.nextYear, 1.5, {
                            autoAlpha: 1,
                            ease: Expo.easeInOut,
                            delay: 1
                        }), TweenLite.to(this.ui.nextLink, 1.5, {
                            autoAlpha: 1,
                            ease: Expo.easeInOut,
                            delay: 1
                        }), TweenLite.to(this.ui.imageBelow, 1.5, {
                            autoAlpha: 1,
                            ease: Expo.easeInOut,
                            delay: 1
                        }), TweenLite.to(this.ui.smooth, 1.5, {
                            autoAlpha: 1,
                            ease: Expo.easeInOut,
                            delay: 1
                        }), setTimeout(function() {
                            e.addSmooth()
                        }, 100)
                    }
                }, {
                    key: "preloadImages",
                    value: function(t) {
                        var e = this,
                            i = window._data.chronology,
                            n = [];
                        for (var r in i) i[r].images.forEach(function(t) {
                            n.push(t.image)
                        });
                        p.default.func.preload(n, function() {
                            e.true && t()
                        }, function(t) {
                            var i = Math.abs(t % 200) - 100;
                            TweenLite.to(e.ui.preloaderInner, 1, {
                                x: i
                            })
                        })
                    }
                }, {
                    key: "hideFooterNav",
                    value: function(t) {
                        TweenLite.to(h.default.body.querySelector("footer"), 2, {
                            autoAlpha: t ? 0 : 1,
                            display: t ? "none" : "block"
                        }), TweenLite.to(h.default.body.querySelector("nav"), 2, {
                            autoAlpha: t ? 0 : 1,
                            display: t ? "none" : "block"
                        })
                    }
                }, {
                    key: "animateIn",
                    value: function(t, e) {
                        var i = this;
                        m.default.add(h.default.body, "is-" + this.slug);
                        var n = t.previous && t.previous.route.includes("/chronology/"),
                            r = t.params.id,
                            o = window._data.chronology[r];
                        TweenLite.to(this.page, 1, {
                            autoAlpha: 1,
                            ease: Expo.easeInOut,
                            onComplete: e
                        }), TweenLite.from(this.ui.close, 1, {
                            autoAlpha: 0,
                            ease: Expo.easeInOut,
                            delay: 2,
                            rotate: "180deg"
                        }), n || (this.hideFooterNav(!0), TweenLite.set(this.ui.currentYear, {
                            autoAlpha: 0
                        }), TweenLite.set(this.ui.nextYear, {
                            autoAlpha: 0
                        }), TweenLite.set(this.ui.nextLink, {
                            autoAlpha: 0
                        }), TweenLite.set(this.ui.imageTop, {
                            autoAlpha: 0
                        }), TweenLite.set(this.ui.imageBelow, {
                            autoAlpha: 0
                        }), TweenLite.set(this.ui.smooth, {
                            autoAlpha: 0
                        }), this.preloadImages(function() {
                            TweenLite.to(i.ui.preloader, 1.5, {
                                autoAlpha: 0,
                                ease: Expo.easeInOut
                            }), i.firstInitCreate(o)
                        }))
                    }
                }, {
                    key: "animateOut",
                    value: function(t, e) {
                        var i = t.route.includes("/chronology") && t.params.id;
                        m.default.remove(h.default.body, "is-" + this.slug), i || (this.hideFooterNav(!1), this.removeEvent(), this.smooth && this.smooth.destroy(), TweenLite.to(this.page, .9, {
                            autoAlpha: 0,
                            ease: Expo.easeInOut,
                            clearProps: "all",
                            onComplete: e
                        }), h.default.chronology = !1)
                    }
                }, {
                    key: "destroy",
                    value: function(t, i) {
                        u(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "destroy", this).call(this), this.page.parentNode.removeChild(this.page), i()
                    }
                }]), e
            }(v.default);
        e.exports = C
    }, {
        "../libs/smooth/single": 10,
        "./default": 22,
        "@utils/func": 49,
        config: 7,
        "dom-classes": 67,
        "dom-create-element": 68,
        "dom-event": 69,
        framework: 8,
        utils: 55
    }],
    21: [function(t, e, i) {
        "use strict";

        function n(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }

        function r(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }

        function o(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !e || "object" !== (void 0 === e ? "undefined" : s(e)) && "function" != typeof e ? t : e
        }

        function a(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + (void 0 === e ? "undefined" : s(e)));
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        var s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            } : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
            },
            l = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i), n && t(e, n), e
                }
            }(),
            u = function t(e, i, n) {
                null === e && (e = Function.prototype);
                var r = Object.getOwnPropertyDescriptor(e, i);
                if (void 0 === r) {
                    var o = Object.getPrototypeOf(e);
                    return null === o ? void 0 : t(o, i, n)
                }
                if ("value" in r) return r.value;
                var a = r.get;
                if (void 0 !== a) return a.call(n)
            },
            c = t("config"),
            h = n(c),
            d = t("utils"),
            p = (n(d), t("dom-classes")),
            f = n(p),
            m = t("./default"),
            g = n(m),
            v = t("dom-event"),
            y = (n(v), t("@utils/func")),
            _ = (n(y), function(t) {
                function e(t) {
                    r(this, e);
                    var i = o(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this, t));
                    return i.slug = "credits", i
                }
                return a(e, t), l(e, [{
                    key: "init",
                    value: function(t, i) {
                        u(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "init", this).call(this, t, i)
                    }
                }, {
                    key: "ready",
                    value: function(t) {
                        u(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "ready", this).call(this), t()
                    }
                }, {
                    key: "animateIn",
                    value: function(t, e) {
                        f.default.add(h.default.body, "is-" + this.slug);
                        var i = new TimelineMax({
                            onComplete: e
                        });
                        i.to(this.page, 1, {
                            autoAlpha: 1,
                            delay: .5,
                            ease: Expo.easeInOut
                        }), i.staggerFrom(this.ui.row, 1.5, {
                            autoAlpha: 0,
                            y: 50,
                            ease: Expo.easeInOut
                        }, .1, "-=1.0")
                    }
                }, {
                    key: "animateOut",
                    value: function(t, e) {
                        f.default.remove(h.default.body, "is-" + this.slug), TweenLite.to(this.page, .7, {
                            autoAlpha: 0,
                            ease: Expo.easeInOut,
                            clearProps: "all",
                            onComplete: e
                        })
                    }
                }, {
                    key: "destroy",
                    value: function(t, i) {
                        u(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "destroy", this).call(this), this.page.parentNode.removeChild(this.page), i()
                    }
                }]), e
            }(g.default));
        e.exports = _
    }, {
        "./default": 22,
        "@utils/func": 49,
        config: 7,
        "dom-classes": 67,
        "dom-event": 69,
        utils: 55
    }],
    22: [function(t, e, i) {
        "use strict";

        function n(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }

        function r(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        var o = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i), n && t(e, n), e
                }
            }(),
            a = t("framework"),
            s = (n(a), t("config")),
            l = n(s),
            u = t("utils"),
            c = n(u),
            h = t("dom-select"),
            d = n(h),
            p = t("dom-event"),
            f = (n(p), t("dom-classes")),
            m = (n(f), t("query-dom-components")),
            g = n(m),
            v = t("@utils/biggie"),
            y = n(v),
            _ = t("dom-create-element"),
            b = n(_),
            x = function() {
                function t() {
                    arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                    r(this, t), this.view = l.default.view, this.page = null, this.a = null, this.bread_crumb = l.default.body.querySelector(".nav__pagination--crumb"), this.bread_crumb_wrapper = l.default.body.querySelector(".nav__pagination"), this.refresh = c.default.func.once(function() {
                        return location.reload()
                    })
                }
                return o(t, [{
                    key: "init",
                    value: function(t, e, i) {
                        var n = this,
                            r = i || {
                                cache: !0,
                                sub: !1
                            },
                            o = this.view,
                            a = this.ready.bind(this, e),
                            s = (this.page = y.default.page(t, o, r, a), l.default.body.querySelectorAll(".nav__pagination a"));
                        if (this.req = t, window.onresize = function() {
                                n.checkOrientation()
                            }, "/" === t.route || "/home" === t.route) 3 === s.length && l.default.body.querySelector(".nav__pagination p").removeChild(l.default.body.querySelector(".nav__pagination p").childNodes[3]), document.title = "Ivan Aivazovsky â€” 200áµ€á´´ Anniversary", this.bread_crumb_wrapper.style.opacity = 0;
                        else if (t.params.id) {
                            var u = t.route.substring(1).slice(0, -4);
                            this.bread_crumb.innerHTML = this.checkLanguage(u), this.bread_crumb.href = "/" + u, this.bread_crumb_wrapper.style.opacity = 1;
                            var c = document.createElement("a"),
                                h = window._data.works[t.params.id] && window._data.works[t.params.id].title;
                            setTimeout(function() {
                                3 === s.length && l.default.body.querySelector(".nav__pagination p").removeChild(l.default.body.querySelector(".nav__pagination p").childNodes[3]), c.setAttribute("href", "something.html"), c.innerHTML = "life" === u ? "ru" === l.default.language ? "&nbsp;â€¢ Ð“Ð»Ð°Ð²Ñ‹" : "&nbsp;â€¢ chapters" : "archive" === u ? "" : "chronology" === u ? "" : "&nbsp;â€¢ " + h, document.title = "Ivan Aivazovsky â€” " + n.checkLanguage(u), l.default.body.querySelector(".nav__pagination p").appendChild(c), y.default.bind.add(n.bread_crumb)
                            }, 1e3)
                        } else {
                            var d = t.route.substring(1);
                            3 === s.length && l.default.body.querySelector(".nav__pagination p").removeChild(l.default.body.querySelector(".nav__pagination p").childNodes[3]), this.bread_crumb.innerHTML = this.checkLanguage(d), this.bread_crumb_wrapper.style.opacity = 1, document.title = "Ivan Aivazovsky â€” " + this.checkLanguage(d)
                        }
                    }
                }, {
                    key: "checkLanguage",
                    value: function(t) {
                        var e = void 0,
                            i = l.default.language;
                        switch (t) {
                            case "works":
                                e = "ru" === i ? "Ð¢Ð²Ð¾Ñ€Ñ‡ÐµÑÑ‚Ð²Ð¾" : "Works";
                                break;
                            case "life":
                                e = "ru" === i ? "Ð–Ð¸Ð·Ð½ÑŒ" : "Life";
                                break;
                            case "exhibition":
                                e = "ru" === i ? "Ð’Ñ‹ÑÑ‚Ð°Ð²ÐºÐ¸" : "Exhibition";
                                break;
                            case "chronology":
                                e = "ru" === i ? "Ð¥Ñ€Ð¾Ð½Ð¾Ð»Ð¾Ð³Ð¸Ñ" : "Chronology";
                                break;
                            case "about":
                                e = "ru" === i ? "Ðž Ð¿Ñ€Ð¾ÐµÐºÑ‚Ðµ" : "About";
                                break;
                            case "credits":
                                e = "ru" === i ? "Ð˜ÑÑ‚Ð¾Ñ‡Ð½Ð¸ÐºÐ¸" : "Credits";
                                break;
                            case "awards":
                                e = "ru" === i ? "ÐÐ°Ð³Ñ€Ð°Ð´Ñ‹" : "Awards";
                                break;
                            case "archive":
                                e = "ru" === i ? "ÐÑ€Ñ…Ð¸Ð²" : "Archive";
                                break;
                            case "map":
                                e = "ru" === i ? "ÐšÐ°Ñ€Ñ‚Ð°" : "Map";
                                break;
                            default:
                                e = ""
                        }
                        return e
                    }
                }, {
                    key: "checkOrientation",
                    value: function() {
                        window.innerWidth <= 768 && this.refresh();
                        var t = window.innerWidth > window.innerHeight ? "Landscape" : "Portrait";
                        "Landscape" === t && l.default.isMobile && (this.warning = (0, b.default)({
                            selector: "div",
                            styles: "landscape-warning",
                            html: "\n                        <p>Landscape view coming soon</p>\n                    "
                        }), document.body.insertBefore(this.warning, null)), "Portrait" === t && l.default.isMobile && this.warning && ("/" !== this.req.route && "/home" !== this.req.route || location.reload(), document.body.removeChild(this.warning))
                    }
                }, {
                    key: "ready",
                    value: function() {
                        this.ui = (0, g.default)({
                            el: this.page
                        }), this.a = d.default.all("a", this.page), y.default.bind.add(this.a), this.pagination()
                    }
                }, {
                    key: "pagination",
                    value: function() {}
                }, {
                    key: "addSoundEvents",
                    value: function() {
                        (0, p.on)(l.default.body, "click", this.playSound)
                    }
                }, {
                    key: "removeSoundEvents",
                    value: function() {
                        (0, p.off)(l.default.body, "click", this.playSound)
                    }
                }, {
                    key: "resize",
                    value: function(t, e) {
                        l.default.height = e, l.default.width = t
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        y.default.bind.remove(this.a), this.a = null
                    }
                }]), t
            }();
        e.exports = x
    }, {
        "@utils/biggie": 39,
        config: 7,
        "dom-classes": 67,
        "dom-create-element": 68,
        "dom-event": 69,
        "dom-select": 71,
        framework: 8,
        "query-dom-components": 100,
        utils: 55
    }],
    23: [function(t, e, i) {
        "use strict";

        function n(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }

        function r(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }

        function o(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !e || "object" !== (void 0 === e ? "undefined" : s(e)) && "function" != typeof e ? t : e
        }

        function a(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + (void 0 === e ? "undefined" : s(e)));
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        var s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            } : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
            },
            l = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i), n && t(e, n), e
                }
            }(),
            u = function t(e, i, n) {
                null === e && (e = Function.prototype);
                var r = Object.getOwnPropertyDescriptor(e, i);
                if (void 0 === r) {
                    var o = Object.getPrototypeOf(e);
                    return null === o ? void 0 : t(o, i, n)
                }
                if ("value" in r) return r.value;
                var a = r.get;
                if (void 0 !== a) return a.call(n)
            },
            c = t("config"),
            h = n(c),
            d = t("utils"),
            p = (n(d), t("dom-classes")),
            f = n(p),
            m = t("./default"),
            g = n(m),
            v = t("dom-event"),
            y = (n(v), t("@utils/func")),
            _ = (n(y), t("framework")),
            b = n(_),
            x = function(t) {
                function e(t) {
                    r(this, e);
                    var i = o(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this, t));
                    return i.slug = "error", i
                }
                return a(e, t), l(e, [{
                    key: "init",
                    value: function(t, i) {
                        u(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "init", this).call(this, t, i)
                    }
                }, {
                    key: "ready",
                    value: function(t) {
                        u(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "ready", this).call(this), this.replaceText(), this.redirectToHomepage(), t()
                    }
                }, {
                    key: "replaceText",
                    value: function() {
                        this.ui.text.innerHTML = "ru" === h.default.language ? "Ð˜Ð·Ð²Ð¸Ð½Ð¸Ñ‚Ðµ, Ð·Ð°Ð¿Ñ€Ð°ÑˆÐ¸Ð²Ð°ÐµÐ¼Ð°Ñ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ð° Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ð°. ÐŸÐµÑ€ÐµÐ¹Ñ‚Ð¸ Ð½Ð° Ð³Ð»Ð°Ð²Ð½ÑƒÑŽ" : "Sorry, the page you requested was not found.  Redirecting to the homepage"
                    }
                }, {
                    key: "redirectToHomepage",
                    value: function() {
                        setTimeout(function() {
                            b.default.go("/")
                        }, 4e3)
                    }
                }, {
                    key: "animateIn",
                    value: function(t, e) {
                        f.default.add(h.default.body, "is-" + this.slug), new TimelineMax({
                            onComplete: e
                        }).to(this.page, 1.5, {
                            autoAlpha: 1,
                            delay: .5,
                            ease: Expo.easeInOut
                        })
                    }
                }, {
                    key: "animateOut",
                    value: function(t, e) {
                        f.default.remove(h.default.body, "is-" + this.slug), TweenLite.to(this.page, .7, {
                            autoAlpha: 0,
                            ease: Expo.easeInOut,
                            clearProps: "all",
                            onComplete: e
                        })
                    }
                }, {
                    key: "destroy",
                    value: function(t, i) {
                        u(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "destroy", this).call(this), this.page.parentNode.removeChild(this.page), i()
                    }
                }]), e
            }(g.default);
        e.exports = x
    }, {
        "./default": 22,
        "@utils/func": 49,
        config: 7,
        "dom-classes": 67,
        "dom-event": 69,
        framework: 8,
        utils: 55
    }],
    24: [function(t, e, i) {
        "use strict";

        function n(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }

        function r(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }

        function o(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !e || "object" !== (void 0 === e ? "undefined" : s(e)) && "function" != typeof e ? t : e
        }

        function a(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + (void 0 === e ? "undefined" : s(e)));
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        var s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            } : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
            },
            l = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i), n && t(e, n), e
                }
            }(),
            u = function t(e, i, n) {
                null === e && (e = Function.prototype);
                var r = Object.getOwnPropertyDescriptor(e, i);
                if (void 0 === r) {
                    var o = Object.getPrototypeOf(e);
                    return null === o ? void 0 : t(o, i, n)
                }
                if ("value" in r) return r.value;
                var a = r.get;
                if (void 0 !== a) return a.call(n)
            },
            c = t("config"),
            h = n(c),
            d = t("utils"),
            p = (n(d), t("dom-classes")),
            f = n(p),
            m = t("./default"),
            g = n(m),
            v = t("../libs/smooth/single"),
            y = n(v),
            _ = function(t) {
                function e(t) {
                    r(this, e);
                    var i = o(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this, t));
                    return i.slug = "exhibition", i
                }
                return a(e, t), l(e, [{
                    key: "init",
                    value: function(t, i) {
                        u(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "init", this).call(this, t, i)
                    }
                }, {
                    key: "ready",
                    value: function(t) {
                        u(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "ready", this).call(this), this.addSmooth(), t()
                    }
                }, {
                    key: "addSmooth",
                    value: function() {
                        this.smooth = new y.default({
                            native: !1,
                            section: this.ui.exhibition,
                            ease: .075
                        }), this.smooth.init()
                    }
                }, {
                    key: "animateIn",
                    value: function(t, e) {
                        f.default.add(h.default.body, "is-" + this.slug);
                        var i = new TimelineMax({
                            onComplete: e
                        });
                        i.to(this.page, 1, {
                            autoAlpha: 1,
                            ease: Expo.easeInOut
                        }, 1), i.staggerTo(this.ui.exhibitionList, 1, {
                            y: 0,
                            autoAlpha: 1
                        }, .1, "-=1.0")
                    }
                }, {
                    key: "animateOut",
                    value: function(t, e) {
                        f.default.remove(h.default.body, "is-" + this.slug);
                        var i = "/" === t.route || "/home" === t.route || "/about" === t.route || "/credits" === t.route || "/share" === t.route ? 1 : 0;
                        this.smooth && this.smooth.destroy(), TweenLite.to(this.page, i, {
                            autoAlpha: 0,
                            ease: Expo.easeInOut,
                            clearProps: "all",
                            onComplete: e
                        })
                    }
                }, {
                    key: "destroy",
                    value: function(t, i) {
                        u(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "destroy", this).call(this), this.page.parentNode.removeChild(this.page), i()
                    }
                }]), e
            }(g.default);
        e.exports = _
    }, {
        "../libs/smooth/single": 10,
        "./default": 22,
        config: 7,
        "dom-classes": 67,
        utils: 55
    }],
    25: [function(t, e, i) {
        "use strict";

        function n(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }

        function r(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }

        function o(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !e || "object" !== (void 0 === e ? "undefined" : s(e)) && "function" != typeof e ? t : e
        }

        function a(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + (void 0 === e ? "undefined" : s(e)));
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        var s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            } : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
            },
            l = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i), n && t(e, n), e
                }
            }(),
            u = function t(e, i, n) {
                null === e && (e = Function.prototype);
                var r = Object.getOwnPropertyDescriptor(e, i);
                if (void 0 === r) {
                    var o = Object.getPrototypeOf(e);
                    return null === o ? void 0 : t(o, i, n)
                }
                if ("value" in r) return r.value;
                var a = r.get;
                if (void 0 !== a) return a.call(n)
            },
            c = t("config"),
            h = n(c),
            d = t("utils"),
            p = (n(d), t("dom-classes")),
            f = n(p),
            m = t("./default"),
            g = n(m),
            v = t("dom-event"),
            y = (n(v), t("../components/home-reveal")),
            _ = n(y),
            b = t("slider-manager"),
            x = n(b),
            w = t("framework"),
            T = n(w),
            S = function(t) {
                function e(t) {
                    r(this, e);
                    var i = o(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this, t));
                    return i.slug = "home", i.ui = null, i.fromHome = i.fromHome.bind(i), i
                }
                return a(e, t), l(e, [{
                    key: "init",
                    value: function(t, i) {
                        u(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "init", this).call(this, t, i), this.effect_btn = h.default.body.querySelector(".nav__options_effect p"), this.fromScroll = !1
                    }
                }, {
                    key: "ready",
                    value: function(t) {
                        u(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "ready", this).call(this), t(), this.addEvents()
                    }
                }, {
                    key: "addEvents",
                    value: function() {
                        (0, v.on)(this.ui.cta, "click", this.fromHome)
                    }
                }, {
                    key: "removeEvents",
                    value: function() {
                        (0, v.off)(this.ui.cta, "click", this.fromHome)
                    }
                }, {
                    key: "addSlider",
                    value: function() {
                        var t = this;
                        this.slider = new x.default({
                            length: 1,
                            loop: !1,
                            callback: function(e) {
                                return t.onScroll(e)
                            }
                        }), this.slider.init()
                    }
                }, {
                    key: "onScroll",
                    value: function(t) {
                        var e = t.current,
                            i = t.previous;
                        t.direction;
                        0 === e && 0 === i && (this.slider.animating = !0, this.slider.animating = !1), 1 === e && 0 === i && (h.default.fromHome = !0, this.goToLife())
                    }
                }, {
                    key: "goToLife",
                    value: function() {
                        TweenLite.to(this.ui.title, 1.5, {
                            autoAlpha: 0,
                            y: "-100%",
                            ease: Expo.easeOut
                        }), TweenLite.to(this.ui.slogan, 1.5, {
                            autoAlpha: 0,
                            y: "100%",
                            ease: Expo.easeOut
                        }), TweenLite.to(this.ui.cta, 1, {
                            autoAlpha: 0,
                            ease: Expo.easeOut
                        }), TweenLite.to(this.page, 1, {
                            autoAlpha: 0,
                            ease: Expo.easeOut
                        }), this.fromScroll = !0, setTimeout(function() {
                            return T.default.go("/life")
                        }, 1e3)
                    }
                }, {
                    key: "startTransition",
                    value: function() {
                        var t = this;
                        h.default.webGL && h.default.webGL.pause(), this.transition = new _.default, this.transition.setup(), setTimeout(function() {
                            return t.transition.canvasTransition()
                        }, 100), setTimeout(function() {
                            h.default.webGL && h.default.webGL.resume()
                        }, 900)
                    }
                }, {
                    key: "fromHome",
                    value: function() {
                        h.default.fromHome = !0, this.goToLife()
                    }
                }, {
                    key: "moveClouds",
                    value: function() {
                        localStorage.webGL = "enabled", h.default.webGL && h.default.webGL.activated() && h.default.webGL.resume(), this.effect_btn.innerHTML = "Effect â€¢ On"
                    }
                }, {
                    key: "stopClouds",
                    value: function() {
                        localStorage.webGL = "disabled", h.default.webGL && h.default.webGL.activated() && h.default.webGL.pause(), this.effect_btn.innerHTML = "Effect â€¢ Off"
                    }
                }, {
                    key: "resize",
                    value: function() {
                        h.default.webGL && h.default.webGL.activated() && h.default.webGL.resize(), this.transition && this.transition.globalResize()
                    }
                }, {
                    key: "animateIn",
                    value: function(t, e) {
                        var i = this;
                        f.default.add(h.default.body, "is-" + this.slug);
                        var n = t.previous && t.previous.params.id ? .7 : (t.previous, .7);
                        setTimeout(function() {
                            h.default.webGL && (h.default.webGL.activated() ? h.default.webGL.resume() : h.default.webGL.start(function() {
                                f.default.add(h.default.body.querySelector(".fog canvas"), "active")
                            })), setTimeout(function() {
                                i.startTransition()
                            }, 400)
                        }, 850), TweenLite.to(h.default.body.querySelector("nav"), 2, {
                            autoAlpha: 0
                        }), TweenLite.to(h.default.body.querySelector("footer"), 2, {
                            autoAlpha: 0
                        }), t.previous && setTimeout(function() {
                            return h.default.body.querySelector(".fog canvas") && f.default.add(h.default.body.querySelector(".fog canvas"), "active")
                        }, 1e3 * n), TweenLite.to(this.page, 1.3, {
                            autoAlpha: 1,
                            delay: n,
                            ease: Expo.easeInOut,
                            onComplete: function() {
                                e(), i.addSlider()
                            }
                        }), TweenLite.to(h.default.body.querySelector("nav"), 2, {
                            autoAlpha: 1,
                            delay: t.previous ? 3 : 2.5
                        }), TweenLite.to(h.default.body.querySelector("footer"), 2, {
                            autoAlpha: 1,
                            delay: t.previous ? 3 : 2.5
                        }), TweenLite.from(this.ui.title, 2, {
                            autoAlpha: 0,
                            y: "-100%",
                            ease: Expo.easeOut,
                            delay: (t.previous, h.default.infos.isSafari ? 4 : 2.5)
                        }), TweenLite.from(this.ui.slogan, 2, {
                            autoAlpha: 0,
                            y: "100%",
                            ease: Expo.easeOut,
                            delay: (t.previous, h.default.infos.isSafari ? 4 : 2.5)
                        }), TweenLite.to(this.ui.cta, 2, {
                            autoAlpha: 1,
                            delay: (t.previous, h.default.infos.isSafari ? 5 : 3.5)
                        })
                    }
                }, {
                    key: "animateOut",
                    value: function(t, e) {
                        f.default.remove(h.default.body, "is-" + this.slug);
                        var i = new TimelineMax({});
                        if (this.removeEvents(), this.slider.destroy(), h.default.webGL && h.default.webGL.pause(), this.fromScroll) return TweenLite.to(this.page, 0, {
                            autoAlpha: 0,
                            onComplete: e
                        }), h.default.body.querySelector(".fog canvas") && f.default.remove(h.default.body.querySelector(".fog canvas"), "active"), !1;
                        "/works" === t.route || "/life" === t.route || "/exhibition" === t.route || "/awards" === t.route || "/map" === t.route ? (i.to(this.page, h.default.fromHome ? 1.5 : 0, {
                            autoAlpha: 0,
                            onComplete: e
                        }), h.default.body.querySelector(".fog canvas") && f.default.remove(h.default.body.querySelector(".fog canvas"), "active")) : "/about" === t.route ? (h.default.isMobile || (i.to(this.ui.second, .7, {
                            y: 0,
                            ease: Expo.easeInOut
                        }), i.to(this.ui.first, .7, {
                            y: 0,
                            ease: Expo.easeInOut
                        }, .3)), i.to(this.page, .5, {
                            autoAlpha: 0,
                            ease: Expo.easeInOut,
                            onComplete: e
                        }, "-=0.1"), h.default.body.querySelector(".fog canvas") && f.default.remove(h.default.body.querySelector(".fog canvas"), "active")) : (TweenLite.to(this.page, .7, {
                            autoAlpha: 0,
                            ease: Expo.easeInOut,
                            onComplete: e
                        }), h.default.body.querySelector(".fog canvas") && f.default.remove(h.default.body.querySelector(".fog canvas"), "active"))
                    }
                }, {
                    key: "destroy",
                    value: function(t, i) {
                        u(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "destroy", this).call(this), this.ui = null, this.page.parentNode.removeChild(this.page), i()
                    }
                }]), e
            }(g.default);
        e.exports = S
    }, {
        "../components/home-reveal": 3,
        "./default": 22,
        config: 7,
        "dom-classes": 67,
        "dom-event": 69,
        framework: 8,
        "slider-manager": 104,
        utils: 55
    }],
    26: [function(t, e, i) {
        "use strict";

        function n(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }

        function r(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }

        function o(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !e || "object" !== (void 0 === e ? "undefined" : s(e)) && "function" != typeof e ? t : e
        }

        function a(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + (void 0 === e ? "undefined" : s(e)));
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        var s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            } : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
            },
            l = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i), n && t(e, n), e
                }
            }(),
            u = function t(e, i, n) {
                null === e && (e = Function.prototype);
                var r = Object.getOwnPropertyDescriptor(e, i);
                if (void 0 === r) {
                    var o = Object.getPrototypeOf(e);
                    return null === o ? void 0 : t(o, i, n)
                }
                if ("value" in r) return r.value;
                var a = r.get;
                if (void 0 !== a) return a.call(n)
            },
            c = t("config"),
            h = n(c),
            d = t("utils"),
            p = n(d),
            f = t("dom-classes"),
            m = n(f),
            g = t("./default"),
            v = n(g),
            y = t("framework"),
            _ = (n(y), t("swiper")),
            b = (n(_), t("dom-event")),
            x = t("../libs/smooth/smooth-horizonal"),
            w = n(x),
            T = function(t) {
                function e(t) {
                    r(this, e);
                    var i = o(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this, t));
                    return i.animating = !1, i.open = !1, i.slug = "single-life", i.chapterHandler = i.chapterHandler.bind(i), i.slideToChapter = i.slideToChapter.bind(i), i.animateMenuIn = i.animateMenuIn.bind(i), i.animateMenuOut = i.animateMenuOut.bind(i), i
                }
                return a(e, t), l(e, [{
                    key: "init",
                    value: function(t, i) {
                        u(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "init", this).call(this, t, i), this.id = t.params.id
                    }
                }, {
                    key: "ready",
                    value: function(t) {
                        u(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "ready", this).call(this), this.addEvents(), this.setChapterPositions(), t()
                    }
                }, {
                    key: "addSmooth",
                    value: function() {
                        var t = void 0;
                        t = h.default.infos.isOpera || h.default.infos.isFirefox ? null : .4, this.smooth = new w.default({
                            native: !1,
                            vs: {
                                mouseMultiplier: t
                            },
                            section: h.default.body.querySelector(".life-single__timeline-wrapper"),
                            items: this.ui.item,
                            aside: this.ui.asideTrigger,
                            preload: !!h.default.isMobile,
                            chap: this.setChapterPositions,
                            getchap: this.getChapterPosition,
                            ease: h.default.isMobile ? .13 : .075
                        }), this.smooth.init()
                    }
                }, {
                    key: "getChapterPosition",
                    value: function() {
                        return this.chapters
                    }
                }, {
                    key: "setChapterPositions",
                    value: function() {
                        var t = this;
                        return this.chapters = [{
                            title: ".childhood"
                        }, {
                            title: ".imperial-academy-of-arts"
                        }, {
                            title: ".crimea-and-europe"
                        }, {
                            title: ".return-to-russia"
                        }, {
                            title: ".feodosia"
                        }, {
                            title: ".last-years"
                        }], this.chapters.map(function(e, i) {
                            var n = ++i;
                            t.chapters.length !== n ? (e.leftPosition = h.default.body.querySelector(e.title).offsetLeft, e.rightPosition = h.default.body.querySelector(t.chapters[n].title).offsetLeft, e.topPosition = h.default.body.querySelector(e.title).offsetTop, e.bottomPosition = h.default.body.querySelector(t.chapters[n].title).offsetTop) : (e.leftPosition = h.default.body.querySelector(e.title).offsetLeft, e.rightPosition = h.default.body.querySelector(e.title).offsetLeft + 5 * h.default.body.querySelector(e.title).getBoundingClientRect().width, e.topPosition = h.default.body.querySelector(e.title).offsetTop, e.bottomPosition = h.default.body.querySelector(e.title).offsetTop + 5 * h.default.body.querySelector(e.title).offsetHeight)
                        }), this.chapters
                    }
                }, {
                    key: "addEvents",
                    value: function() {
                        var t = this;
                        (0, b.on)(this.ui.aside, "mouseenter", this.chapterHandler), (0, b.on)(this.ui.aside, "mouseleave", this.chapterHandler), p.default.array.slice(this.ui.filterLinks).forEach(function(e) {
                            (0, b.on)(e, "click", t.slideToChapter)
                        }), p.default.array.slice(this.ui.mobileFilters).forEach(function(e) {
                            (0, b.on)(e, "click", t.slideToChapter)
                        })
                    }
                }, {
                    key: "removeEvents",
                    value: function() {
                        var t = this;
                        (0, b.off)(this.ui.aside, "mouseenter", this.chapterHandler), (0, b.off)(this.ui.aside, "mouseleave", this.chapterHandler), p.default.array.slice(this.ui.filterLinks).forEach(function(e) {
                            (0, b.off)(e, "click", t.slideToChapter)
                        }), p.default.array.slice(this.ui.mobileFilters).forEach(function(e) {
                            (0, b.off)(e, "click", t.slideToChapter)
                        })
                    }
                }, {
                    key: "slideToChapter",
                    value: function(t) {
                        this.setChapterPositions();
                        var e = t.dataset && t.dataset.index || t.target.dataset.index,
                            i = h.default.isMobile ? this.chapters[e].topPosition : this.chapters[e].leftPosition;
                        this.smooth.scrollTo(i)
                    }
                }, {
                    key: "chapterHandler",
                    value: function() {
                        m.default.has(this.ui.aside, "active") ? this.animateMenuOut() : this.animateMenuIn()
                    }
                }, {
                    key: "animateMenuIn",
                    value: function() {
                        this.open = !0, this.animating = !0, m.default.add(this.ui.aside, "active")
                    }
                }, {
                    key: "animateMenuOut",
                    value: function() {
                        this.animating = !0, m.default.remove(this.ui.aside, "active")
                    }
                }, {
                    key: "resize",
                    value: function() {
                        this.setChapterPositions()
                    }
                }, {
                    key: "animateIn",
                    value: function(t, e) {
                        var i = this,
                            n = t.previous && t.previous.route.includes("/chronology") || !t.previous,
                            r = void 0,
                            o = void 0;
                        m.default.add(h.default.body, "is-" + this.slug), p.default.array.slice(this.ui.filterLinks).filter(function(e, n) {
                            e.dataset.chapter == t.params.id && (i.<addSmooth></addSmooth>(), setTimeout(function() {
                                return i.slideToChapter(e)
                            }, (h.default.isMobile, 0)), r = e, h.default.isMobile && setTimeout(function() {
                                TweenLite.to(i.ui.mobile, 1.5, {
                                    autoAlpha: 1,
                                    y: "0%",
                                    ease: Expo.easeInOut
                                })
                            }, 500))
                        });
                        var a = new TimelineMax({
                            onComplete: e
                        });
                        "0" === r.dataset.index && (o = .3), "1" === r.dataset.index && (o = .5), "2" === r.dataset.index && (o = .7), "3" === r.dataset.index && (o = .9), "4" === r.dataset.index && (o = 1), "5" === r.dataset.index && (o = 1.2), h.default.infos.isChrome && (o = .3), a.to(this.page, n ? 1 : 0, {
                            autoAlpha: 1,
                            ease: Expo.easeInOut
                        }), a.from(this.ui.sliderContainer, h.default.isMobile ? 1.3 : 1.2, {
                            autoAlpha: 0,
                            force3D: !0,
                            ease: Expo.easeInOut,
                            delay: h.default.isMobile ? .3 : o
                        }), a.from(this.ui.asideTrigger, 1, {
                            x: "-100%",
                            ease: Expo.easeInOut
                        }), setTimeout(function() {
                            h.default.body.querySelector("footer").style.opacity = 1, h.default.body.querySelector("nav").style.opacity = 1
                        }, 2e3)
                    }
                }, {
                    key: "animateOut",
                    value: function(t, e) {
                        m.default.remove(h.default.body, "is-" + this.slug), this.smooth && this.smooth.destroy();
                        var i = "/" === t.route || "/home" === t.route || "/life" === t.route || "/about" === t.route || "/archive" === t.route || "/credits" === t.route || "/share" === t.route ? .9 : t.route.includes("/chronology");
                        new TimelineMax({
                            onComplete: e
                        }).to(this.page, i, {
                            autoAlpha: 0,
                            ease: Expo.easeInOut
                        })
                    }
                }, {
                    key: "destroy",
                    value: function(t, i) {
                        u(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "destroy", this).call(this), this.removeEvents(), this.page.parentNode.removeChild(this.page), i()
                    }
                }]), e
            }(v.default);
        e.exports = T
    }, {
        "../libs/smooth/smooth-horizonal": 12,
        "./default": 22,
        config: 7,
        "dom-classes": 67,
        "dom-event": 69,
        framework: 8,
        swiper: 110,
        utils: 55
    }],
    27: [function(t, e, i) {
        "use strict";

        function n(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }

        function r(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }

        function o(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !e || "object" !== (void 0 === e ? "undefined" : s(e)) && "function" != typeof e ? t : e
        }

        function a(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + (void 0 === e ? "undefined" : s(e)));
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        var s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            } : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
            },
            l = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i), n && t(e, n), e
                }
            }(),
            u = function t(e, i, n) {
                null === e && (e = Function.prototype);
                var r = Object.getOwnPropertyDescriptor(e, i);
                if (void 0 === r) {
                    var o = Object.getPrototypeOf(e);
                    return null === o ? void 0 : t(o, i, n)
                }
                if ("value" in r) return r.value;
                var a = r.get;
                if (void 0 !== a) return a.call(n)
            },
            c = t("config"),
            h = n(c),
            d = t("utils"),
            p = n(d),
            f = t("dom-classes"),
            m = n(f),
            g = t("./default"),
            v = n(g),
            y = t("framework"),
            _ = n(y),
            b = t("dom-event"),
            x = function(t) {
                function e(t) {
                    r(this, e);
                    var i = o(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this, t));
                    return i.slug = "life", i.images = ["../assets/fonts/NewBaskervilleC.woff", "../assets/fonts/PlayfairDisplay-Regular.woff", "../assets/fonts/PT Serif Pro Book.woff"], i.targetNumber, i
                }
                return a(e, t), l(e, [{
                    key: "init",
                    value: function(t, i) {
                        u(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "init", this).call(this, t, i), this.animateContent = this.animateContent.bind(this), this.activateNextPage = this.activateNextPage.bind(this), this.preloadImages = this.preloadImages.bind(this), this.showBackground = this.showBackground.bind(this), this.setSizeLoadingBox = this.setSizeLoadingBox.bind(this)
                    }
                }, {
                    key: "ready",
                    value: function(t) {
                        var i = this;
                        u(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "ready", this).call(this), window._data.life_images.forEach(function(t) {
                            return i.images.push(t.image)
                        }), t()
                    }
                }, {
                    key: "preloadImages",
                    value: function() {
                        p.default.func.preload(this.images, function() {}, function(t) {})
                    }
                }, {
                    key: "animateContent",
                    value: function() {
                        var t = this;
                        TweenMax.staggerFrom(this.ui.categories, 2, {
                            autoAlpha: 0,
                            delay: h.default.isMobile ? .1 : 0,
                            z: 0,
                            cycle: {
                                x: [-30, 30]
                            }
                        }, .1), setTimeout(function() {
                            p.default.array.slice(t.ui.categories).forEach(function(t) {
                                return t.style.pointerEvents = "auto"
                            }), setTimeout(function() {
                                return t.addEvents()
                            }, 300)
                        }, 800)
                    }
                }, {
                    key: "showBackground",
                    value: function(t) {
                        var e = t.target.dataset.index;
                        m.default.add(this.ui.bg[e], "opaque"), p.default.func.siblings(this.ui.bg[e]).forEach(function(t) {
                            m.default.has(t, "opaque") && m.default.remove(t, "opaque")
                        })
                    }
                }, {
                    key: "addEvents",
                    value: function() {
                        var t = this;
                        p.default.array.slice(this.ui.categories).forEach(function(e) {
                            (0, b.on)(e, "click", t.activateNextPage), (0, b.on)(e, "mouseover", t.showBackground)
                        })
                    }
                }, {
                    key: "removeEvents",
                    value: function() {
                        var t = this;
                        p.default.array.slice(this.ui.categories).forEach(function(e) {
                            (0, b.off)(e, "click", t.activateNextPage), (0, b.off)(e, "mouseout", t.showBackground)
                        })
                    }
                }, {
                    key: "setSizeLoadingBox",
                    value: function() {
                        this.targetNumberBox = this.targetNumber.getBoundingClientRect();
                        var t = 1.5 * this.targetNumberBox.height;
                        this.ui.boxComplete.style.top = this.targetNumberBox.top - t / 1.6 + "px", this.ui.boxComplete.style.height = this.targetNumberBox.height + t + "px", this.ui.boxComplete.style.width = this.targetNumberBox.height + t + "px", this.ui.box.style.top = this.targetNumberBox.top - t / 1.6 + "px", this.ui.box.style.height = this.targetNumberBox.height + t + "px", this.ui.box.style.width = this.targetNumberBox.height + t + "px"
                    }
                }, {
                    key: "resize",
                    value: function() {
                        this.targetNumber && this.setSizeLoadingBox()
                    }
                }, {
                    key: "activateNextPage",
                    value: function(t) {
                        var e = this,
                            i = p.default.func.siblings(t.target),
                            n = new TimelineMax({}),
                            r = h.default.height / 2,
                            o = t.target.dataset.slug,
                            a = Array.from(t.target.parentNode.children).indexOf(t.target),
                            s = t.target.children[0],
                            l = t.target.children[1],
                            u = t.target.getBoundingClientRect(),
                            c = (u.top + u.bottom) / 2 - r;
                        Math.abs(c);
                        this.targetNumber = s, this.ui.bg[a].style.opacity = 1, i.forEach(function(t) {
                            TweenLite.to(t, .5, {
                                autoAlpha: 0,
                                force3D: !0
                            })
                        }), setTimeout(function() {
                            return m.default.add(t.target, "active")
                        }, 200), t.target.style.pointerEvents = "none", n.to(s, 1.5, {
                            y: "-5%",
                            scale: 1,
                            force3D: !0,
                            delay: .7
                        }), n.to(l, .5, {
                            force3D: !0,
                            y: (h.default.isMobile, "95%")
                        }, (h.default.isMobile, "-=1.5")), setTimeout(function() {
                            e.setSizeLoadingBox(s), e.preloadImages()
                        }, 1550), setTimeout(function() {
                            h.default.body.querySelector("footer").style.opacity = 0, h.default.body.querySelector("nav").style.opacity = 0
                        }, 1500), n.to(this.ui.boxLeft, h.default.isMobile ? 2.2 : 2, {
                            width: "50%",
                            z: .01,
                            force3D: !0,
                            ease: Expo.easeInOut
                        }, "-=1.0"), n.to(this.ui.boxRight, h.default.isMobile ? 2.2 : 2, {
                            width: "50%",
                            z: .01,
                            force3D: !0,
                            ease: Expo.easeInOut
                        }, h.default.isMobile ? "-=2.2" : "-=2.0"), n.to(this.ui.boxProgress, h.default.isMobile ? 2.2 : 2, {
                            x: 0,
                            ease: Expo.easeInOut
                        }, "-=0.5"), n.add(function() {
                            var t = window.innerWidth / parseInt(e.ui.box.style.height.replace("px", "")) + 1,
                                i = window.innerHeight / parseInt(e.ui.box.style.height.replace("px", "")) + 1;
                            n.to(e.ui.boxComplete, .5, {
                                autoAlpha: 1
                            }), n.to(e.ui.boxComplete, 1.3, {
                                scaleX: t,
                                scaleY: i,
                                ease: Expo.easeInOut
                            }, "-=0.5"), n.add(function() {
                                return _.default.go("/life/" + o)
                            }, "-=0.4")
                        })
                    }
                }, {
                    key: "animateIn",
                    value: function(t, e) {
                        var i = this,
                            n = h.default.fromHome;
                        m.default.add(h.default.body, "is-" + this.slug), TweenLite.to(this.page, 0, {
                            autoAlpha: 1,
                            delay: n ? h.default.isMobile ? .2 : 0 : 1.25,
                            onComplete: function() {
                                e(), i.animateContent(), h.default.fromHome = !1
                            }
                        })
                    }
                }, {
                    key: "animateOut",
                    value: function(t, e) {
                        var i = "/works" === t.route ? 0 : .9;
                        m.default.remove(h.default.body, "is-" + this.slug), this.removeEvents(), TweenLite.to(this.page, i, {
                            autoAlpha: 0,
                            ease: Expo.easeInOut,
                            onComplete: e
                        })
                    }
                }, {
                    key: "destroy",
                    value: function(t, i) {
                        u(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "destroy", this).call(this), this.page.parentNode.removeChild(this.page), i()
                    }
                }]), e
            }(v.default);
        e.exports = x
    }, {
        "./default": 22,
        config: 7,
        "dom-classes": 67,
        "dom-event": 69,
        framework: 8,
        utils: 55
    }],
    28: [function(t, e, i) {
        "use strict";

        function n(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }

        function r(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }

        function o(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !e || "object" !== (void 0 === e ? "undefined" : s(e)) && "function" != typeof e ? t : e
        }

        function a(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + (void 0 === e ? "undefined" : s(e)));
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        var s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            } : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
            },
            l = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i), n && t(e, n), e
                }
            }(),
            u = function t(e, i, n) {
                null === e && (e = Function.prototype);
                var r = Object.getOwnPropertyDescriptor(e, i);
                if (void 0 === r) {
                    var o = Object.getPrototypeOf(e);
                    return null === o ? void 0 : t(o, i, n)
                }
                if ("value" in r) return r.value;
                var a = r.get;
                if (void 0 !== a) return a.call(n)
            },
            c = t("config"),
            h = n(c),
            d = t("utils"),
            p = (n(d), t("dom-classes")),
            f = n(p),
            m = t("dom-event"),
            g = n(m),
            v = t("./default"),
            y = n(v),
            _ = t("dom-create-element"),
            b = (n(_), t("../components/map-hover")),
            x = n(b),
            w = t("svg-injector"),
            T = n(w),
            S = function(t) {
                function e(t) {
                    r(this, e);
                    var i = o(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this, t));
                    return i.slug = "map", i
                }
                return a(e, t), l(e, [{
                    key: "init",
                    value: function(t, i) {
                        u(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "init", this).call(this, t, i)
                    }
                }, {
                    key: "ready",
                    value: function(t) {
                        u(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "ready", this).call(this), t()
                    }
                }, {
                    key: "resize",
                    value: function() {
                        this.maphover && h.default.body.querySelectorAll("#Points").forEach(function(t) {
                            var e = t.getBoundingClientRect(),
                                i = t.dataset.slug,
                                n = h.default.body.querySelector("." + i);
                            TweenLite.to(n.children[0], 0, {
                                autoAlpha: 1,
                                force3D: !0,
                                x: e.left - n.getBoundingClientRect().width / 12,
                                y: e.top - n.getBoundingClientRect().height / .93
                            })
                        })
                    }
                }, {
                    key: "initMap",
                    value: function() {
                        this.maphover = new x.default({
                            page: this.page
                        }), this.maphover.init()
                    }
                }, {
                    key: "addEvents",
                    value: function() {
                        g.default.on(this.element, "click", this.openBox)
                    }
                }, {
                    key: "removeEvents",
                    value: function() {
                        g.default.off(this.element, "click", this.openBox)
                    }
                }, {
                    key: "animateIn",
                    value: function(t, e) {
                        var i = this;
                        f.default.add(h.default.body, "is-" + this.slug);
                        var n = new TimelineMax({
                            onComplete: e
                        });
                        n.to(this.page, 0, {
                            autoAlpha: 1
                        }), n.add(function() {
                            (0, T.default)(i.ui.svgWrapper, null, function(t) {
                                n.to(h.default.body.querySelector(".js-svg"), 1, {
                                    autoAlpha: 1,
                                    ease: Expo.easeInOut
                                }), n.add(function() {
                                    return i.initMap()
                                }), n.add(function() {
                                    n.staggerTo(h.default.body.querySelectorAll(".map-point__trigger"), 1, {
                                        autoAlpha: 1,
                                        scale: 1,
                                        force3D: !0
                                    }, .1)
                                }, "+=0.2")
                            })
                        }, 1.1)
                    }
                }, {
                    key: "animateOut",
                    value: function(t, e) {
                        f.default.remove(h.default.body, "is-" + this.slug);
                        var i = "/" === t.route || "/home" === t.route || "/about" === t.route || "/credits" === t.route || "/share" === t.route ? .9 : 0;
                        TweenLite.to(this.page, i, {
                            autoAlpha: 0,
                            ease: Expo.easeInOut,
                            clearProps: "all",
                            onComplete: e
                        })
                    }
                }, {
                    key: "destroy",
                    value: function(t, i) {
                        u(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "destroy", this).call(this), this.page.parentNode.removeChild(this.page), i()
                    }
                }]), e
            }(y.default);
        e.exports = S
    }, {
        "../components/map-hover": 5,
        "./default": 22,
        config: 7,
        "dom-classes": 67,
        "dom-create-element": 68,
        "dom-event": 69,
        "svg-injector": 109,
        utils: 55
    }],
    29: [function(t, e, i) {
        "use strict";

        function n(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }

        function r(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        var o = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i), n && t(e, n), e
                }
            }(),
            a = t("config"),
            s = n(a),
            l = t("sniffer"),
            u = n(l),
            c = t("dom-classes"),
            h = n(c),
            d = t("dom-create-element"),
            p = n(d),
            f = t("gsap"),
            m = (n(f), t("@utils/func")),
            g = n(m),
            v = t("@utils/array"),
            y = (n(v), t("../components/site-menu")),
            _ = n(y),
            b = t("please-ajax"),
            x = (n(b), t("mustache")),
            w = (n(x), t("dom-event")),
            T = n(w),
            S = t("../libs/three/clouds"),
            M = n(S);
        TweenLite.defaultEase = Expo.easeOut;
        var E = function() {
            function t(e) {
                r(this, t), this.preloaded = e, this.view = s.default.view, this.el = null
            }
            return o(t, [{
                key: "init",
                value: function(t, e) {
                    h.default.add(s.default.body, "is-loading"), s.default.infos = u.default.getInfos(), this.createDOM(), this.addEvents(), this.musicHandler = this.musicHandler.bind(this), s.default.isMobile || (s.default.webGL = new M.default({
                        section: s.default.body.querySelector(".fog")
                    })), e()
                }
            }, {
                key: "addEvents",
                value: function() {
                    s.default.isMobile || "off" === localStorage.audio || T.default.on(s.default.body.querySelector(".loader-music-switch"), "click", this.musicHandler)
                }
            }, {
                key: "removeEvents",
                value: function() {
                    s.default.isMobile || "off" === localStorage.audio || T.default.off(s.default.body.querySelector(".loader-music-switch"), "click", this.musicHandler)
                }
            }, {
                key: "musicHandler",
                value: function(t) {
                    t.target.style.cursor = "auto", TweenLite.to(s.default.body.querySelector(".loader-message"), 1, {
                        autoAlpha: 0,
                        ease: Expo.easeOut
                    }), s.default.sound ? (localStorage.audio = "off", s.default.sound.pause(), s.default.body.querySelector(".nav__options_sound p").innerHTML = "ru" === s.default.language ? "Ð—Ð²ÑƒÐº â€¢ Ð’Ñ‹ÐºÐ»" : "Sound â€¢ Off") : localStorage.audio = "off"
                }
            }, {
                key: "preloadImages",
                value: function() {
                    var t = this,
                        e = window._data.works,
                        i = [],
                        n = ["../assets/img/map.svg", "../assets/img/cloud.png", "https://d1rnu9exaqm00k.cloudfront.net/sprite.png", "https://d1rnu9exaqm00k.cloudfront.net/site-menu-0.jpg", "https://d1rnu9exaqm00k.cloudfront.net/site-menu-1.jpg", "https://d1rnu9exaqm00k.cloudfront.net/site-menu-2.jpg", "https://d1rnu9exaqm00k.cloudfront.net/site-menu-3.jpg", "https://d1rnu9exaqm00k.cloudfront.net/site-menu-4.jpg", "https://d1rnu9exaqm00k.cloudfront.net/life/childhood.jpg", "https://d1rnu9exaqm00k.cloudfront.net/life/crimea-and-europe.jpg", "https://d1rnu9exaqm00k.cloudfront.net/life/feodosia.jpg", "https://d1rnu9exaqm00k.cloudfront.net/life/imperial-academy-of-arts.jpg", "https://d1rnu9exaqm00k.cloudfront.net/life/last-years.jpg", "https://d1rnu9exaqm00k.cloudfront.net/life/return-to-russia.jpg", "https://d1rnu9exaqm00k.cloudfront.net/bg10.jpg", "https://d1rnu9exaqm00k.cloudfront.net/archive/1839-thumbnail.jpg", "https://d1rnu9exaqm00k.cloudfront.net/archive/1857-thumbnail.jpg", "https://d1rnu9exaqm00k.cloudfront.net/archive/1864-1865-thumbnail.jpg", "https://d1rnu9exaqm00k.cloudfront.net/archive/1864-thumbnail.jpg", "https://d1rnu9exaqm00k.cloudfront.net/archive/1868-thumbnail.jpg", "https://d1rnu9exaqm00k.cloudfront.net/archive/1870-thumbnail.jpg", "https://d1rnu9exaqm00k.cloudfront.net/archive/1874-thumbnail.jpg", "https://d1rnu9exaqm00k.cloudfront.net/archive/1890-1-thumbnail.jpg", "https://d1rnu9exaqm00k.cloudfront.net/archive/1890-2-thumbnail.jpg", "https://d1rnu9exaqm00k.cloudfront.net/archive/1890-3-thumbnail.jpg", "https://d1rnu9exaqm00k.cloudfront.net/archive/1890-4-thumbnail.jpg", "https://d1rnu9exaqm00k.cloudfront.net/archive/1890-thumbnail.jpg", "https://d1rnu9exaqm00k.cloudfront.net/archive/1897-1-thumbnail.jpg", "https://d1rnu9exaqm00k.cloudfront.net/archive/1897-thumbnail.jpg", "https://d1rnu9exaqm00k.cloudfront.net/archive/1898-1-thumbnail.jpg", "https://d1rnu9exaqm00k.cloudfront.net/archive/1898-thumbnail.jpg", "https://d1rnu9exaqm00k.cloudfront.net/archive/1899-thumbnail.jpg", "https://d1rnu9exaqm00k.cloudfront.net/archive/1899-1-thumbnail.jpg", "https://d1rnu9exaqm00k.cloudfront.net/archive/1900-1-thumbnail.jpg", "https://d1rnu9exaqm00k.cloudfront.net/archive/1900-2-thumbnail.jpg", "https://d1rnu9exaqm00k.cloudfront.net/archive/1900-3-thumbnail.jpg", "https://d1rnu9exaqm00k.cloudfront.net/archive/1900-4-thumbnail.jpg", "https://d1rnu9exaqm00k.cloudfront.net/archive/1900-5-thumbnail.jpg", "https://d1rnu9exaqm00k.cloudfront.net/archive/1900-6-thumbnail.jpg", "https://d1rnu9exaqm00k.cloudfront.net/archive/1900-7-thumbnail.jpg", "https://d1rnu9exaqm00k.cloudfront.net/archive/1900-8-thumbnail.jpg", "https://d1rnu9exaqm00k.cloudfront.net/archive/1900-9-thumbnail.jpg", "https://d1rnu9exaqm00k.cloudfront.net/archive/1900-10-thumbnail.jpg", "https://d1rnu9exaqm00k.cloudfront.net/archive/1910-1-thumbnail.jpg", "https://d1rnu9exaqm00k.cloudfront.net/archive/1910-thumbnail.jpg", "https://d1rnu9exaqm00k.cloudfront.net/archive/1934-thumbnail.jpg", "https://d1rnu9exaqm00k.cloudfront.net/archive/1945-thumbnail.jpg", "https://d1rnu9exaqm00k.cloudfront.net/archive/1990-thumbnail.jpg", "https://d1rnu9exaqm00k.cloudfront.net/archive/early-20th-century-thumbnail.jpg", "https://d1rnu9exaqm00k.cloudfront.net/archive/late-19th-century-1-thumbnail.jpg", "https://d1rnu9exaqm00k.cloudfront.net/archive/late-19th-century-2-thumbnail.jpg", "https://d1rnu9exaqm00k.cloudfront.net/archive/late-19th-century-thumbnail.jpg"];
                    for (var r in e) i.push({
                        work: e[r]
                    });
                    i.filter(function(t) {
                        n.push(t.work.image) && n.push(t.work.thumbnail)
                    }), TweenMax.delayedCall(1, function(e) {
                        g.default.preload(n, function() {
                            TweenMax.delayedCall(1, function(e) {
                                t.preloaded()
                            })
                        }, function(t) {
                            var e = Math.abs(t % 200) - 100,
                                i = -(Math.abs(t % 200) - 100) == -0 ? 0 : -(Math.abs(t % 200) - 100);
                            TweenLite.to(s.default.body.querySelector(".loader-text-outter"), 1, {
                                x: e
                            }), TweenLite.to(s.default.body.querySelector(".loader-text-inner"), 1, {
                                x: i
                            })
                        })
                    })
                }
            }, {
                key: "createDOM",
                value: function() {
                    var t = this.view.firstChild,
                        e = s.default.isMobile ? "Best viewed on Desktop" : "off" === localStorage.audio ? "" : "ru" === s.default.language ? 'Ð˜Ð´ÐµÑ‚ Ð·Ð²ÑƒÐº <span class="loader-line"></span><span class="loader-music-switch">Ð’Ñ‹ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð¼ÑƒÐ·Ñ‹ÐºÑƒ</span>' : 'Music Incoming <span class="loader-line"></span><span class="loader-music-switch">Turn off Music now</span>';
                    this.el = (0, p.default)({
                        selector: "div",
                        styles: "preloader",
                        html: '<div class=\'loader-wrapper\'> \n                        <p class=\'loader-text--model\'>I.Aivazovsky</p> \n                        <div class="loader-text-outter">\n                            <p class=\'loader-text loader-text--sizing\'>I.Aivazovsky</p>\n                            <div class="loader-text-inner">\n                                <p class="loader-text loader-text--mask">I.Aivazovsky</p>\n                            </div>\n                        </div>                        \n                    </div>\t\t\t\t\n                    <p class="loader-message">' + e + "</p>\n                    "
                    }), this.view.insertBefore(this.el, t)
                }
            }, {
                key: "resize",
                value: function(t, e) {
                    s.default.width = t, s.default.height = e
                }
            }, {
                key: "animateIn",
                value: function(t, e) {
                    var i = this,
                        n = new TimelineMax({
                            paused: !0,
                            onComplete: function() {
                                e(), (new _.default).init()
                            }
                        });
                    n.from(this.el, 3, {
                        autoAlpha: 0,
                        ease: Expo.easeInOut,
                        onComplete: function() {
                            setTimeout(function() {
                                return i.addGA()
                            }, 3e3)
                        }
                    }), n.add(function() {
                        return i.preloadImages()
                    }, "-=1.0"), n.restart()
                }
            }, {
                key: "addGA",
                value: function() {
                    ! function(t, e, i, n, r, o, a) {
                        t.GoogleAnalyticsObject = r, t[r] = t[r] || function() {
                            (t[r].q = t[r].q || []).push(arguments)
                        }, t[r].l = 1 * new Date, o = e.createElement(i), a = e.getElementsByTagName(i)[0], o.async = 1, o.src = "https://www.google-analytics.com/analytics.js", a.parentNode.insertBefore(o, a)
                    }(window, document, "script", 0, "ga"), ga("create", "UA-77030502-7", "auto"), ga("send", "pageview")
                }
            }, {
                key: "animateOut",
                value: function(t, e) {
                    var i = new TimelineMax({
                        paused: !0,
                        onComplete: e
                    });
                    this.removeEvents(), i.to(this.el, 1, {
                        autoAlpha: 0,
                        force3D: !0,
                        ease: Expo.easeOut
                    }), i.restart()
                }
            }, {
                key: "destroy",
                value: function(t, e) {
                    h.default.add(s.default.body, "is-loaded"), h.default.remove(s.default.body, "is-loading"), this.view.removeChild(this.el), e()
                }
            }]), t
        }();
        e.exports = E
    }, {
        "../components/site-menu": 6,
        "../libs/three/clouds": 13,
        "@utils/array": 33,
        "@utils/func": 49,
        config: 7,
        "dom-classes": 67,
        "dom-create-element": 68,
        "dom-event": 69,
        gsap: 77,
        mustache: 93,
        "please-ajax": 97,
        sniffer: 108
    }],
    30: [function(t, e, i) {
        "use strict";

        function n(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }

        function r(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }

        function o(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !e || "object" !== (void 0 === e ? "undefined" : s(e)) && "function" != typeof e ? t : e
        }

        function a(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + (void 0 === e ? "undefined" : s(e)));
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        var s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            } : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
            },
            l = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i), n && t(e, n), e
                }
            }(),
            u = function t(e, i, n) {
                null === e && (e = Function.prototype);
                var r = Object.getOwnPropertyDescriptor(e, i);
                if (void 0 === r) {
                    var o = Object.getPrototypeOf(e);
                    return null === o ? void 0 : t(o, i, n)
                }
                if ("value" in r) return r.value;
                var a = r.get;
                if (void 0 !== a) return a.call(n)
            },
            c = t("config"),
            h = n(c),
            d = t("utils"),
            p = n(d),
            f = t("dom-classes"),
            m = n(f),
            g = t("./default"),
            v = n(g),
            y = t("dom-event"),
            _ = n(y),
            b = t("../libs/smooth/single"),
            x = n(b),
            w = t("swiper"),
            T = n(w),
            S = t("framework"),
            M = n(S),
            E = function(t) {
                function e(t) {
                    r(this, e);
                    var i = o(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this, t));
                    return i.slug = "single", i.open = !1, i.slider_open = !1, i.handler = i.handler.bind(i), i.openBox = i.openBox.bind(i), i.closeBox = i.closeBox.bind(i), i.sliderHandler = i.sliderHandler.bind(i), i.openSlider = i.openSlider.bind(i), i.closeSlider = i.closeSlider.bind(i), i.changePainting = i.changePainting.bind(i), i
                }
                return a(e, t), l(e, [{
                    key: "init",
                    value: function(t, i) {
                        u(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "init", this).call(this, t, i)
                    }
                }, {
                    key: "ready",
                    value: function(t) {
                        var i = this;
                        u(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "ready", this).call(this), this.addEvents(), this.changeLanguage(), setTimeout(function() {
                            return i.addSwiper()
                        }, 1e3), t()
                    }
                }, {
                    key: "addEvents",
                    value: function() {
                        var t = this;
                        this.ui.open && (0, y.on)(this.ui.open, "click", this.handler), (0, y.on)(this.ui.sliderTrigger, "click", this.sliderHandler), this.ui.mobileInfo && (0, y.on)(this.ui.mobileInfo, "click", this.openBox), p.default.array.slice(this.ui.painting).forEach(function(e) {
                            (0, y.on)(e, "click", t.changePainting)
                        })
                    }
                }, {
                    key: "removeEvents",
                    value: function() {
                        var t = this;
                        this.ui.open && (0, y.off)(this.ui.open, "click", this.handler), (0, y.off)(this.ui.sliderTrigger, "click", this.closeSlider), this.ui.mobileInfo && (0, y.off)(this.ui.mobileInfo, "click", this.openBox), p.default.array.slice(this.ui.painting).forEach(function(e) {
                            (0, y.off)(e, "click", t.changePainting)
                        })
                    }
                }, {
                    key: "changeLanguage",
                    value: function() {
                        this.ui.sliderTrigger.innerHTML = "ru" === h.default.language ? "Ð¡Ð¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð²ÑÐµ ÐºÐ°Ñ€Ñ‚Ð¸Ð½Ñ‹" : "View All Paintings"
                    }
                }, {
                    key: "changePainting",
                    value: function(t) {
                        var e = t.target.dataset.slug;
                        this.sliderHandler(), setTimeout(function() {
                            return M.default.go("/works/" + e)
                        }, 400)
                    }
                }, {
                    key: "addSwiper",
                    value: function() {
                        new T.default(this.ui.sliderContainer, {
                            spaceBetween: 0,
                            slidesPerView: "auto",
                            freeMode: !0,
                            freeModeMomentum: !0,
                            grabCursor: !0,
                            mousewheelControl: !0
                        })
                    }
                }, {
                    key: "addSmooth",
                    value: function() {
                        this.smooth = new x.default({
                            section: this.ui.text,
                            ease: .075,
                            single: !0,
                            boxInfo: this.ui.boxInfo,
                            boxCategory: this.ui.boxCategory
                        }), this.smooth.init()
                    }
                }, {
                    key: "handler",
                    value: function() {
                        this.animating || (this.open === !0 ? this.closeBox() : this.openBox())
                    }
                }, {
                    key: "openBox",
                    value: function() {
                        var t = this;
                        this.open = !0, this.animating = !0, this.hideShowElements(!0), this.setSingleClose(!0, this.closeBox);
                        var e = new TimelineMax({
                            paused: !0,
                            onComplete: function() {
                                return t.animating = !1
                            }
                        });
                        this.ui.plus && e.to(this.ui.plus, .8, {
                            autoAlpha: 0
                        }), h.default.isMobile || (TweenLite.to(this.ui.boxCategory, .3, {
                            autoAlpha: 0
                        }), TweenLite.to(this.ui.category, .3, {
                            autoAlpha: 0
                        })), e.to(this.ui.box, .8, {
                            height: h.default.isMobile ? "80%" : "100%",
                            width: h.default.isMobile ? "100%" : "45%",
                            y: h.default.isMobile ? "0%" : null,
                            bottom: 0,
                            ease: Expo.easeInOut
                        }, "-=0.8"), e.to(this.ui.boxInfo, .8, {
                            padding: "0 6vw",
                            top: h.default.isMobile ? "3%" : "15%",
                            ease: Expo.easeInOut
                        }, "-=0.8"), !h.default.isMobile && e.to(this.ui.boxCategory, 0, {
                            marginLeft: "6vw",
                            top: "17%"
                        }, "-=0.5"), e.to(this.ui.boxCategory, .8, {
                            autoAlpha: 1
                        }), e.to(this.ui.category, .8, {
                            autoAlpha: 1
                        }, "-=0.8"), e.to(this.ui.text, 1.5, {
                            autoAlpha: 1
                        }, "-=0.8"), e.add(function() {
                            t.addSmooth()
                        }, "-=1.0"), this.ui.plus && e.to(this.ui.plus, .8, {
                            autoAlpha: 1,
                            rotation: 45
                        }, "-=1.0"), e.restart()
                    }
                }, {
                    key: "closeBox",
                    value: function() {
                        var t = this;
                        this.animating = !0, this.hideShowElements(!1), this.setSingleClose(!1, this.closeBox);
                        var e = new TimelineMax({
                            onComplete: function() {
                                t.smooth && t.smooth.destroy(), t.open = !1, t.animating = !1
                            }
                        });
                        this.smooth && this.smooth.scrollTo(0), TweenLite.to(this.ui.category, .5, {
                            autoAlpha: 0
                        }), TweenLite.to(this.ui.line2, .5, {
                            autoAlpha: 0
                        }), TweenLite.to(this.ui.text, .5, {
                            autoAlpha: 0,
                            force3D: !0
                        }), TweenLite.to(this.ui.plus, .5, {
                            autoAlpha: 0,
                            force3D: !0
                        }), e.to(this.ui.box, .8, {
                            height: h.default.isMobile ? null : "15vw",
                            width: h.default.isMobile ? "100%" : "30%",
                            y: h.default.isMobile ? "100%" : null,
                            bottom: h.default.isMobile ? "0vw" : "7vw",
                            ease: Expo.easeInOut
                        }, "-=0.3"), e.to(this.ui.boxInfo, .8, {
                            padding: "2vw",
                            top: 0,
                            ease: Linear.easeNone
                        }, "-=0.8"), e.to(this.ui.boxCategory, 0, {
                            marginLeft: "2vw",
                            top: 0
                        }), e.to(this.ui.category, 1.5, {
                            autoAlpha: 1
                        }), e.to(this.ui.line2, 1.5, {
                            autoAlpha: 1
                        }, "-=1.5"), this.ui.plus && e.to(this.ui.plus, .8, {
                            autoAlpha: 1,
                            rotation: 0
                        }, "-=0.8")
                    }
                }, {
                    key: "setSingleClose",
                    value: function(t, e) {
                        var i = h.default.body.querySelector(".single__image");
                        t ? (_.default.on(i, "click", e), TweenLite.set(i, {
                            cursor: "pointer"
                        })) : (_.default.off(i, "click", e), TweenLite.set(i, {
                            cursor: "auto"
                        }))
                    }
                }, {
                    key: "hideShowElements",
                    value: function(t) {
                        TweenLite.to(h.default.body.querySelector("nav"), 1, {
                            autoAlpha: t ? 0 : 1,
                            display: t ? "none" : "block",
                            delay: t ? 0 : 1
                        }), h.default.isMobile || TweenLite.to(this.ui.slider, 1, {
                            autoAlpha: t ? 0 : 1,
                            display: t ? "none" : "block",
                            delay: t ? 0 : 1
                        }), TweenLite.to(this.ui.arrows, 1, {
                            autoAlpha: t ? 0 : 1,
                            display: t ? "none" : "block",
                            delay: t ? 0 : 1
                        })
                    }
                }, {
                    key: "sliderHandler",
                    value: function() {
                        this.slider_animating || (this.slider_open === !0 ? this.closeSlider() : this.openSlider())
                    }
                }, {
                    key: "openSlider",
                    value: function() {
                        var t = this;
                        this.slider_open = !0, this.slider_animating = !0, this.setSingleClose(!0, this.closeSlider);
                        var e = new TimelineMax({
                                paused: !0,
                                onComplete: function() {
                                    return t.slider_animating = !1
                                }
                            }),
                            i = "-" + this.ui.sliderContainer.getBoundingClientRect().height + "px";
                        e.to(this.ui.sliderTrigger, .5, {
                            autoAlpha: 0,
                            y: -10,
                            onComplete: function() {
                                return t.ui.sliderTrigger.innerHTML = "ru" === h.default.language ? "Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ" : "Close"
                            }
                        }), e.to(this.ui.slider, .5, {
                            y: "0%"
                        }, "-=0.5"), e.to(this.ui.sliderTrigger, .5, {
                            autoAlpha: 1,
                            y: 0
                        }), e.to(this.ui.box, .9, {
                            y: i,
                            ease: Expo.easeOut,
                            autoAlpha: 0
                        }, "-=1.0"), e.restart()
                    }
                }, {
                    key: "closeSlider",
                    value: function() {
                        var t = this;
                        this.slider_animating = !0, this.setSingleClose(!1, this.closeSlider);
                        var e = new TimelineMax({
                            onComplete: function() {
                                t.slider_open = !1, t.slider_animating = !1
                            }
                        });
                        e.to(this.ui.sliderTrigger, .5, {
                            autoAlpha: 0,
                            y: -10,
                            onComplete: function() {
                                return t.ui.sliderTrigger.innerHTML = "View All Paintings"
                            }
                        }), e.to(this.ui.slider, .5, {
                            y: "70%"
                        }, "-=0.5"), e.to(this.ui.sliderTrigger, .5, {
                            autoAlpha: 1,
                            y: 0
                        }), e.to(this.ui.box, .9, {
                            y: 0,
                            ease: Expo.easeOut,
                            autoAlpha: 1
                        }, "-=1.0")
                    }
                }, {
                    key: "animateIn",
                    value: function(t, e) {
                        var i = t.previous && "/works" == t.previous.route,
                            n = t.previous && t.previous.params.id,
                            r = i ? (h.default.isMobile, .8) : 0,
                            o = i ? h.default.isMobile ? 2 : "-=2.0" : "0",
                            a = t.previous && "/works" === t.previous.route;
                        this.timeline = new TimelineMax({
                            paused: !0,
                            onComplete: e
                        }), m.default.add(h.default.body, "is-" + this.slug), this.timeline.to(this.page, 0, {
                            autoAlpha: 1,
                            delay: 0
                        }), h.default.isMobile && this.timeline.set(this.ui.box, {
                            y: "100%",
                            bottom: 0
                        });
                        var s = void 0;
                        s = h.default.isMobile ? n ? .5 : .7 : n ? .7 : 1.7, this.timeline.from(this.ui.img, s, {
                            x: a ? 200 : 0,
                            z: .001,
                            autoAlpha: 0,
                            force3D: !0,
                            ease: Expo.easeInOut
                        }, r), h.default.isMobile || (this.timeline.from(this.ui.box, .7, {
                            x: "100%",
                            ease: Expo.easeInOut
                        }, "-=0.5"), this.timeline.from(this.ui.year, 1.5, {
                            x: "-10%",
                            ease: Expo.easeInOut,
                            autoAlpha: 0
                        }, "-=0.7"), this.timeline.from(this.ui.category, 1.5, {
                            x: "-10%",
                            ease: Expo.easeInOut,
                            autoAlpha: 0
                        }, "-=1.4"), this.timeline.from(this.ui.title, 1.5, {
                            x: "-10%",
                            ease: Expo.easeInOut,
                            autoAlpha: 0
                        }, "-=1"), this.timeline.from(this.ui.line1, 1.5, {
                            height: 0,
                            ease: Expo.easeInOut
                        }, "-=1.5"), this.timeline.from(this.ui.line2, 1.5, {
                            width: 0,
                            ease: Expo.easeInOut
                        }, "-=1.8"), this.ui.plus && this.ui.plus && this.timeline.from(this.ui.plus, 2, {
                            rotation: 120,
                            autoAlpha: 0
                        }, "-=1.0")), this.timeline.from(this.ui.arrows, 2, {
                            autoAlpha: 0
                        }, o), this.timeline.restart()
                    }
                }, {
                    key: "animateOut",
                    value: function(t, e) {
                        m.default.remove(h.default.body, "is-" + this.slug);
                        var i = "/" === t.route || "/home" === t.route || t.route.includes("/works/:id") || "/about" === t.route || "/credits" === t.route || "/share" === t.route ? (h.default.isMobile, .5) : 0;
                        this.timeline.pause(), this.removeEvents();
                        var n = new TimelineMax({
                            paused: !0,
                            onComplete: e
                        });
                        "/works" === t.route ? n.to(this.ui.overlay, h.default.isMobile ? 1 : .9, {
                            x: 0,
                            ease: Expo.easeOut
                        }) : n.to(this.page, i, {
                            autoAlpha: 0
                        }), n.restart()
                    }
                }, {
                    key: "destroy",
                    value: function(t, i) {
                        u(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "destroy", this).call(this), this.page.parentNode.removeChild(this.page), i()
                    }
                }]), e
            }(v.default);
        e.exports = E
    }, {
        "../libs/smooth/single": 10,
        "./default": 22,
        config: 7,
        "dom-classes": 67,
        "dom-event": 69,
        framework: 8,
        swiper: 110,
        utils: 55
    }],
    31: [function(t, e, i) {
        "use strict";

        function n(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }

        function r(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }

        function o(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !e || "object" !== (void 0 === e ? "undefined" : s(e)) && "function" != typeof e ? t : e
        }

        function a(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + (void 0 === e ? "undefined" : s(e)));
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        var s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            } : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
            },
            l = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i), n && t(e, n), e
                }
            }(),
            u = function t(e, i, n) {
                null === e && (e = Function.prototype);
                var r = Object.getOwnPropertyDescriptor(e, i);
                if (void 0 === r) {
                    var o = Object.getPrototypeOf(e);
                    return null === o ? void 0 : t(o, i, n)
                }
                if ("value" in r) return r.value;
                var a = r.get;
                if (void 0 !== a) return a.call(n)
            },
            c = t("config"),
            h = n(c),
            d = t("utils"),
            p = n(d),
            f = t("dom-classes"),
            m = n(f),
            g = t("./default"),
            v = n(g),
            y = t("../libs/smooth/single"),
            _ = n(y),
            b = t("dom-event"),
            x = t("isotope-layout"),
            w = n(x),
            T = t("dom-create-element"),
            S = n(T),
            M = t("@utils/biggie"),
            E = n(M),
            C = t("query-dom-components"),
            A = n(C),
            P = t("please-ajax"),
            L = n(P),
            O = t("mustache"),
            k = n(O),
            R = function(t) {
                function e(t) {
                    r(this, e);
                    var i = o(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this, t));
                    return i.slug = "works", i.animating = !1, i.open = !1, i.filterMenuIn = i.filterMenuIn.bind(i), i.filterMenuOut = i.filterMenuOut.bind(i), i.filterHandler = i.filterHandler.bind(i), i.filterItems = i.filterItems.bind(i), i.createElements = i.createElements.bind(i), i.addFilterComponent = i.addFilterComponent.bind(i), i.masonry = i.masonry.bind(i), i
                }
                return a(e, t), l(e, [{
                    key: "init",
                    value: function(t, i) {
                        u(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "init", this).call(this, t, i)
                    }
                }, {
                    key: "ready",
                    value: function(t) {
                        u(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "ready", this).call(this), t()
                    }
                }, {
                    key: "addFilterComponent",
                    value: function() {
                        var t = this;
                        L.default.get(h.default.BASE + "templates/components/" + ("ru" === h.default.language ? "filter-ru.mst" : "filter.mst"), {
                            success: function(e) {
                                var i = k.default.render(e.data);
                                t.ui.aside.innerHTML = i, t.filterCategorySum(), TweenLite.to(h.default.body.querySelector(".js-aside-trigger-text"), 2, {
                                    autoAlpha: 1
                                })
                            }
                        })
                    }
                }, {
                    key: "addEvents",
                    value: function() {
                        var t = this;
                        h.default.isMobile ? ((0, b.on)(this.ui.aside, "click", this.filterHandler), (0, b.on)(this.ui.mobileUnderlay, "click", this.filterHandler)) : ((0, b.on)(this.ui.aside, "mouseenter", this.filterHandler), (0, b.on)(this.ui.aside, "mouseleave", this.filterHandler)), h.default.body.querySelectorAll(".js-filter-links").forEach(function(e) {
                            (0, b.on)(e, "click", t.filterItems)
                        })
                    }
                }, {
                    key: "removeEvents",
                    value: function() {
                        var t = this;
                        h.default.isMobile ? ((0, b.off)(this.ui.aside, "click", this.filterHandler), (0, b.off)(this.ui.mobileUnderlay, "click", this.filterHandler)) : ((0, b.off)(this.ui.aside, "mouseenter", this.filterHandler), (0, b.off)(this.ui.aside, "mouseleave", this.filterHandler)), h.default.body.querySelectorAll(".js-filter-links").forEach(function(e) {
                            (0, b.on)(e, "click", t.filterItems)
                        })
                    }
                }, {
                    key: "createElements",
                    value: function(t) {
                        var e = this,
                            i = this.ui.grid,
                            n = window._data.works.tiles;
                        n.forEach(function(r, o) {
                            r.work.category && (e.element = (0, S.default)({
                                selector: "figure",
                                styles: "js-item page-works__row--item " + r.work.category,
                                html: '<a href="/works/' + r.work.slug + '" itemscope itemtype="http://schema.org/Painting">\n\t\t\t\t\t\t\t\t<div class="page-works__row--item__info">\n\t\t\t\t\t\t\t\t\t<div class="page-works__row--item__text">\n\t\t\t\t\t\t\t\t\t\t<div class="page-works__row--item__text--inner">\n\t\t\t\t\t\t\t\t\t\t\t<p itemprop="date">' + r.work.date + '</p>\n\t\t\t\t\t\t\t\t\t\t\t<p itemprop="name">' + r.work.title + '</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<img alt="' + r.work.title + '" src="' + r.work.thumbnail + '">\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</a>'
                            }), E.default.bind.add(e.element.childNodes), i.insertBefore(e.element, null)), o === n.length - 1 && setTimeout(function() {
                                return t()
                            }, 50)
                        }), this.ui = (0, A.default)({
                            el: this.page
                        })
                    }
                }, {
                    key: "filterCategorySum",
                    value: function() {
                        var t = this;
                        h.default.body.querySelectorAll(".js-filter-links").forEach(function(e) {
                            var i = "" + e.dataset.category,
                                n = p.default.array.slice(t.ui.item).filter(function(t) {
                                    return m.default.has(t, e.dataset.category)
                                }).length;
                            e.children[1].innerHTML = "*" === i ? t.ui.item.length : n
                        }), this.addEvents()
                    }
                }, {
                    key: "masonry",
                    value: function() {
                        var t = this;
                        h.default.masonry_active || (h.default.masonry_active = !0), this.iso = new w.default(h.default.body.querySelector(".js-grid"), {
                            itemSelector: ".js-item",
                            percentPosition: !0,
                            layoutMode: "masonry",
                            initLayout: !1,
                            hiddenStyle: {
                                opacity: 0
                            },
                            visibleStyle: {
                                opacity: 1
                            },
                            masonry: {
                                columnWidth: ".page-works__row--item"
                            }
                        }), this.iso.once("layoutComplete", function() {
                            var e = void 0;
                            e = h.default.infos.isOpera || h.default.infos.isFirefox ? null : .4, TweenLite.to(t.ui.grid, 1, {
                                autoAlpha: 1,
                                y: 0,
                                delay: .9,
                                ease: Expo.easeInOut,
                                onComplete: function() {
                                    t.smooth = new _.default({
                                        native: !1,
                                        vs: {
                                            mouseMultiplier: e
                                        },
                                        section: t.ui.gridWrapper,
                                        ease: h.default.isMobile ? .13 : .075,
                                        preload: !0
                                    }), t.addFilterComponent(), t.smooth.init()
                                }
                            })
                        }), this.iso.on("arrangeComplete", function() {
                            t.smooth.scrollTo(0), t.smooth.resize()
                        }), this.iso.layout()
                    }
                }, {
                    key: "filterItems",
                    value: function(t) {
                        var e = t.target.dataset.category;
                        t.target;
                        this.iso.arrange({
                            filter: "*" === e ? "*" : "." + e
                        }), m.default.add(t.target, "active"), p.default.func.siblings(t.target).forEach(function(t) {
                            m.default.has(t, "active") && m.default.remove(t, "active")
                        })
                    }
                }, {
                    key: "filterHandler",
                    value: function(t) {
                        "click" === t.type && (m.default.has(this.ui.aside, "active") ? this.filterMenuOut() : this.filterMenuIn()), "mouseenter" === t.type && this.filterMenuIn(), "mouseleave" === t.type && this.filterMenuOut()
                    }
                }, {
                    key: "filterMenuIn",
                    value: function() {
                        this.open = !0, this.animating = !0, m.default.add(this.ui.aside, "active"), h.default.isMobile && (m.default.add(this.ui.mobileUnderlay, "active"), m.default.add(this.ui.gridWrapper, "active")), TweenLite.to(h.default.body.querySelector(".js-aside-trigger-text"), .5, {
                            ease: Expo.easeInOut,
                            autoAlpha: 0
                        })
                    }
                }, {
                    key: "filterMenuOut",
                    value: function() {
                        var t = this;
                        m.default.remove(this.ui.aside, "active"), h.default.isMobile && (m.default.remove(this.ui.mobileUnderlay, "active"), setTimeout(function() {
                            return m.default.remove(t.ui.gridWrapper, "active")
                        }, 1e3)), TweenLite.to(h.default.body.querySelector(".js-aside-trigger-text"), .5, {
                            ease: Expo.easeInOut,
                            autoAlpha: 1
                        })
                    }
                }, {
                    key: "animateIn",
                    value: function(t, e) {
                        var i = this;
                        m.default.add(h.default.body, "is-" + this.slug);
                        var n = void 0;
                        n = h.default.fromHome || !t.previous ? 1.5 : t.previous && t.previous.route.includes("works") ? h.default.isMobile ? .5 : .6 : 0, TweenLite.to(this.page, n, {
                            autoAlpha: 1,
                            force3D: !0,
                            delay: n,
                            z: .01,
                            onComplete: function() {
                                e(), h.default.fromHome = !1, i.createElements(function() {
                                    setTimeout(function() {
                                        return i.masonry()
                                    }, 100)
                                })
                            }
                        })
                    }
                }, {
                    key: "animateOut",
                    value: function(t, e) {
                        m.default.remove(h.default.body, "is-" + this.slug);
                        var i = "/" === t.route || "/home" === t.route || "/about" === t.route || "/credits" === t.route || "/share" === t.route ? .7 : 0;
                        this.smooth && this.smooth.destroy(), t.params && t.params.id && t.route.includes("works") ? (TweenLite.to(this.ui.overlay, h.default.isMobile ? .7 : 1, {
                            x: 0,
                            force3D: !0,
                            z: .001,
                            ease: Expo.easeInOut
                        }), TweenLite.to(this.page, 0, {
                            autoAlpha: 1,
                            ease: Expo.easeInOut,
                            delay: h.default.isMobile ? .7 : 1,
                            onComplete: e
                        })) : TweenLite.to(this.page, i, {
                            autoAlpha: 0,
                            onComplete: e
                        })
                    }
                }, {
                    key: "destroy",
                    value: function(t, i) {
                        u(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "destroy", this).call(this), this.removeEvents(), this.page.parentNode.removeChild(this.page), i()
                    }
                }]), e
            }(v.default);
        e.exports = R
    }, {
        "../libs/smooth/single": 10,
        "./default": 22,
        "@utils/biggie": 39,
        config: 7,
        "dom-classes": 67,
        "dom-create-element": 68,
        "dom-event": 69,
        "isotope-layout": 84,
        mustache: 93,
        "please-ajax": 97,
        "query-dom-components": 100,
        utils: 55
    }],
    32: [function(t, e, i) {
        "use strict";
        Object.defineProperty(i, "__esModule", {
            value: !0
        }), i.default = function() {
            var t;
            return (t = []).concat.apply(t, arguments)
        }
    }, {}],
    33: [function(t, e, i) {
        "use strict";

        function n(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var r = t("./min"),
            o = n(r),
            a = t("./max"),
            s = n(a),
            l = t("./slice"),
            u = n(l),
            c = t("./combine"),
            h = n(c),
            d = t("./without"),
            p = n(d);
        i.default = {
            min: o.default,
            max: s.default,
            slice: u.default,
            combine: h.default,
            without: p.default
        }
    }, {
        "./combine": 32,
        "./max": 34,
        "./min": 35,
        "./slice": 36,
        "./without": 37
    }],
    34: [function(t, e, i) {
        "use strict";

        function n(t) {
            if (Array.isArray(t)) {
                for (var e = 0, i = Array(t.length); e < t.length; e++) i[e] = t[e];
                return i
            }
            return Array.from(t)
        }
        Object.defineProperty(i, "__esModule", {
            value: !0
        }), i.default = function(t) {
            return Math.max.apply(Math, n(t))
        }
    }, {}],
    35: [function(t, e, i) {
        "use strict";

        function n(t) {
            if (Array.isArray(t)) {
                for (var e = 0, i = Array(t.length); e < t.length; e++) i[e] = t[e];
                return i
            }
            return Array.from(t)
        }
        Object.defineProperty(i, "__esModule", {
            value: !0
        }), i.default = function(t) {
            return Math.min.apply(Math, n(t))
        }
    }, {}],
    36: [function(t, e, i) {
        "use strict";
        Object.defineProperty(i, "__esModule", {
            value: !0
        }), i.default = function(t) {
            return Array.prototype.slice.call(t, 0)
        }
    }, {}],
    37: [function(t, e, i) {
        "use strict";
        Object.defineProperty(i, "__esModule", {
            value: !0
        }), i.default = function(t) {
            for (var e = arguments.length, i = Array(e > 1 ? e - 1 : 0), n = 1; n < e; n++) i[n - 1] = arguments[n];
            return t.filter(function(t) {
                return !i.some(function(e) {
                    return t === e
                })
            })
        }
    }, {}],
    38: [function(t, e, i) {
        "use strict";

        function n(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var r = t("../array/slice"),
            o = n(r),
            a = t("./route"),
            s = n(a);
        i.default = {
            add: function(t) {
                (0, o.default)(t).forEach(function(t) {
                    return t.onclick = s.default
                })
            },
            remove: function(t) {
                t && (0, o.default)(t).forEach(function(t) {
                    return t.onclick = null
                })
            }
        }
    }, {
        "../array/slice": 36,
        "./route": 41
    }],
    39: [function(t, e, i) {
        "use strict";

        function n(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var r = t("./bind"),
            o = n(r),
            a = t("./route"),
            s = n(a),
            l = t("./slug"),
            u = n(l),
            c = t("./page"),
            h = n(c);
        i.default = {
            bind: o.default,
            route: s.default,
            slug: u.default,
            page: h.default
        }
    }, {
        "./bind": 38,
        "./page": 40,
        "./route": 41,
        "./slug": 42
    }],
    40: [function(t, e, i) {
        "use strict";

        function n(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var r = t("config"),
            o = n(r),
            a = t("cache"),
            s = n(a),
            l = t("please-ajax"),
            u = n(l),
            c = t("dom-create-element"),
            h = n(c),
            d = t("./slug"),
            p = n(d),
            f = t("mustache"),
            m = n(f),
            g = t("framework"),
            v = n(g);
        i.default = function(t, e, i, n) {
            var r = void 0;
            t.params.id && t.route.includes("life") && (r = "ru" === o.default.language ? "life-single-ru" : "life-single"), t.params.id && t.route.includes("archive") && (r = "archive-single"), t.params.id && t.route.includes("chronology") && (r = "chronology"), t.params.id && t.route.includes("works") && (r = "single"), t.params.id || (r = (0, p.default)(t, i));
            var a = r.replace("/", "-"),
                l = (0, h.default)({
                    selector: "section",
                    id: "page-" + a,
                    styles: "page page-" + a
                }),
                c = window._data.works,
                d = window._data.archive,
                f = (window._data.archive_order, window._data.life),
                g = "/" === t.route ? "home" : t.route.slice(1),
                y = t.params.id ? t.params.id && t.route.includes("life") ? f : c[t.params.id] || t.route.includes("chronology") && window._data.chronology[t.params.id] || t.route.includes("archive") && window._data.archive[t.params.id] || t.route.includes("works") && window._data.works[t.params.id] : window._data[g],
                _ = (0, p.default)(t, i),
                b = [],
                x = [];
            if (t.route.includes("/works")) {
                for (var w in c) b.push({
                    work: c[w]
                });
                if (!y) return void v.default.go("/error");
                y.tiles = b
            }
            if (t.route.includes("/archive") && !t.params.id) {
                for (var T in d) x.push({
                    archive: d[T]
                });
                x.sort(function(t, e) {
                    return t.archive.index && t.archive.index.localeCompare(e.archive.index)
                }), y.archive_tiles = x
            }
            return e.appendChild(l), s.default[r] && i.cache ? setTimeout(function() {
                l.innerHTML = s.default[r], n()
            }, 1) : u.default.get(o.default.BASE + "templates/" + r + ".mst", {
                success: function(t) {
                    var e = m.default.render(t.data, y, window._data);
                    l.innerHTML = e, i.cache && (s.default[_] = e), n()
                }
            }), l
        }
    }, {
        "./slug": 42,
        cache: 2,
        config: 7,
        "dom-create-element": 68,
        framework: 8,
        mustache: 93,
        "please-ajax": 97
    }],
    41: [function(t, e, i) {
        "use strict";

        function n(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var r = t("framework"),
            o = n(r),
            a = t("dom-classes"),
            s = n(a);
        i.default = function(t) {
            var e = t.currentTarget;
            s.default.has(e, "no-route") || e.hasAttribute("target") && "_blank" == e.getAttribute("target") || (t.preventDefault(), o.default.go(e.getAttribute("href")))
        }
    }, {
        "dom-classes": 67,
        framework: 8
    }],
    42: [function(t, e, i) {
        "use strict";
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = t("config"),
            r = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(n);
        i.default = function(t, e) {
            var i = 0 === Object.keys(t.params).length && JSON.stringify(t.params) === JSON.stringify({}),
                n = t.route === r.default.BASE ? "/home" : t.route;
            if (!i)
                for (var o in t.params) t.params.hasOwnProperty(o) && n.indexOf(o) > -1 && (n = n.replace(":" + o, e.sub ? "" : t.params[o]));
            return "/" == n.substring(n.length - 1) && (n = n.slice(0, -1)), n.substr(1)
        }
    }, {
        config: 7
    }],
    43: [function(t, e, i) {
        "use strict";

        function n(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var r = t("./prefixes"),
            o = n(r),
            a = t("./rect"),
            s = n(a);
        i.default = {
            prefixes: o.default,
            rect: s.default
        }
    }, {
        "./prefixes": 44,
        "./rect": 45
    }],
    44: [function(t, e, i) {
        "use strict";
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = t("prefix"),
            r = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(n);
        i.default = {
            transform: (0, r.default)("transform"),
            transition: (0, r.default)("transition")
        }
    }, {
        prefix: 98
    }],
    45: [function(t, e, i) {
        "use strict";
        Object.defineProperty(i, "__esModule", {
            value: !0
        }), i.default = function(t, e) {
            var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0;
            return "rect(" + (arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0) + "px, " + t + "px, " + e + "px, " + i + "px)"
        }
    }, {}],
    46: [function(t, e, i) {
        "use strict";
        Object.defineProperty(i, "__esModule", {
            value: !0
        }), i.default = function(t, e) {
            for (var i = -1, n = t.length; ++i < n;) e({
                el: t.item(i),
                index: i
            })
        }
    }, {}],
    47: [function(t, e, i) {
        "use strict";

        function n(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var r = t("./each"),
            o = n(r),
            a = t("./scroll"),
            s = n(a);
        i.default = {
            each: o.default,
            scroll: s.default
        }
    }, {
        "./each": 46,
        "./scroll": 48
    }],
    48: [function(t, e, i) {
        "use strict";
        Object.defineProperty(i, "__esModule", {
            value: !0
        }), i.default = function(t) {
            return "y" === t ? window.pageYOffset ? window.pageYOffset : document.documentElement.clientHeight ? document.documentElement.scrollTop : document.body.scrollTop : window.pageXOffset ? window.pageXOffset : document.documentElement.clientWidth ? document.documentElement.scrollLeft : document.body.scrollLeft
        }
    }, {}],
    49: [function(t, e, i) {
        "use strict";

        function n(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var r = t("./once"),
            o = n(r),
            a = t("./interval"),
            s = n(a),
            l = t("./siblings"),
            u = n(l),
            c = t("./preload"),
            h = n(c),
            d = t("./storage"),
            p = n(d);
        i.default = {
            once: o.default,
            interval: s.default,
            siblings: u.default,
            preload: h.default,
            storage: p.default
        }
    }, {
        "./interval": 50,
        "./once": 51,
        "./preload": 52,
        "./siblings": 53,
        "./storage": 54
    }],
    50: [function(t, e, i) {
        "use strict";
        Object.defineProperty(i, "__esModule", {
            value: !0
        }), i.default = function(t) {
            var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {
                    delay: 500,
                    duration: 1500
                },
                i = void 0,
                n = void 0,
                r = void 0,
                o = function o(a) {
                    a - r >= e.delay && (r = a, t()), a - n < e.duration ? i = requestAnimationFrame(o) : cancelAnimationFrame(i)
                };
            n = r = performance.now(), i = requestAnimationFrame(o)
        }
    }, {}],
    51: [function(t, e, i) {
        "use strict";
        Object.defineProperty(i, "__esModule", {
            value: !0
        }), i.default = function(t) {
            var e = !1;
            return function() {
                e || (e = !0, t.apply(void 0, arguments))
            }
        }
    }, {}],
    52: [function(t, e, i) {
        "use strict";
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = t("image-preloader"),
            r = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(n);
        i.default = function(t, e, i) {
            var n = (t.length, new r.default),
                o = t,
                a = o.length,
                s = 0;
            n.onProgress = function(t) {
                i(100 * parseInt(100 / a * ++s) / 100)
            }, n.preload(o).then(function(t) {
                e(t)
            })
        }
    }, {
        "image-preloader": 81
    }],
    53: [function(t, e, i) {
        "use strict";
        Object.defineProperty(i, "__esModule", {
            value: !0
        }), i.default = function(t) {
            var e = function(e) {
                    for (var i = [], n = t; n = n.previousElementSibling;) i.push(n);
                    return i
                }(t),
                i = function(e) {
                    for (var i = [], n = t; n = n.nextElementSibling;) i.push(n);
                    return i
                }(t);
            return e.concat(i)
        }
    }, {}],
    54: [function(t, e, i) {
        "use strict";
        Object.defineProperty(i, "__esModule", {
            value: !0
        }), i.default = function() {
            var t = window.sessionStorage;
            try {
                return t.setItem("test", "1"), t.removeItem("test"), !0
            } catch (t) {
                return !1
            }
        }
    }, {}],
    55: [function(t, e, i) {
        "use strict";

        function n(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var r = t("./array"),
            o = n(r),
            a = t("./biggie"),
            s = n(a),
            l = t("./css"),
            u = n(l),
            c = t("./dom"),
            h = n(c),
            d = t("./func"),
            p = n(d),
            f = t("./math"),
            m = n(f);
        i.default = {
            array: o.default,
            biggie: s.default,
            css: u.default,
            dom: h.default,
            func: p.default,
            math: m.default
        }
    }, {
        "./array": 33,
        "./biggie": 39,
        "./css": 43,
        "./dom": 47,
        "./func": 49,
        "./math": 57
    }],
    56: [function(t, e, i) {
        "use strict";
        Object.defineProperty(i, "__esModule", {
            value: !0
        }), i.default = function(t, e, i) {
            return Math.max(t, Math.min(e, i))
        }
    }, {}],
    57: [function(t, e, i) {
        "use strict";
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = t("./clamp"),
            r = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(n);
        i.default = {
            clamp: r.default
        }
    }, {
        "./clamp": 56
    }],
    58: [function(t, e, i) {
        (function(i) {
            function n(t) {
                if (!(this instanceof n)) return new n(t);
                this.settingsFunc = t, l.call(this)
            }
            var r = t("bw-vm"),
                o = t("bw-viewmediator"),
                a = t("bw-router"),
                s = t("dom-event"),
                l = t("events").EventEmitter;
            n.prototype = Object.create(l.prototype), n.prototype.init = function() {
                var t = function(t) {
                        var e = this.s = t;
                        if (void 0 === e) throw new Error("Your settings function must return a settings Object");
                        if (void 0 === e.routes) throw new Error("Your settings object must define routes");
                        e.autoResize = void 0 === e.autoResize || e.autoResize, this.previousRoute = void 0, this.depth = [], this.vms = [], this.routes = {}, this.parseRoutes(t.routes), this.router = a(this.routes), this.router.on("route", this.show.bind(this)), this.router.on("route", this.emit.bind(this, "route")), e.autoResize && void 0 !== i.innerWidth && void 0 !== i.innerHeight && (s(i, "resize", this.onResize.bind(this)), this.onResize()), e.initSection ? this.show({
                            section: e.initSection.bind(void 0, this.router.init.bind(this.router))
                        }) : this.router.init()
                    }.bind(this),
                    e = this.settingsFunc(t);
                return e && e.then ? e.then(t) : e && e.routes && t(e), this
            }, n.prototype.parseRoutes = function(t, e) {
                var i = (e || "").split("/").length;
                this.vms.length < i && this.vms.push(r(this.s)), e = e || "";
                for (var n in t) "/" === n.charAt(0) ? (e && (t[n].parent = e), this.routes[e + n] = t[n], t[n].routes && (this.parseRoutes(t[n].routes, e + n), delete t[n].routes)) : this.routes[n] = t[n]
            }, n.prototype.go = function(t, e) {
                return this.router.go(t, e), this
            }, n.prototype.destroy = function() {
                this.router.removeAllListeners("route"), this.router.destroy()
            }, n.prototype.resize = function(t, e) {
                for (var i = 0; i < this.vms.length; i++) this.vms[i].resize(t, e)
            }, n.prototype.show = function(t) {
                var e = t.section,
                    i = t.route || {};
                if (i.previous = this.previousRoute, i.framework = this, i.route) {
                    for (var n = [this.rebuildRoute(i.route, t.path)], r = [e.section || e]; e.parent;) n.unshift(this.rebuildRoute(e.parent, t.path)), e = this.routes[e.parent], r.unshift(e.section || e);
                    var o = this.depth;
                    this.depth = n;
                    for (var a = Math.max(o.length, n.length), s = 0; s < a; s++) s > n.length - 1 ? this.vms[s].clear(i) : o[s] != n[s] && this.vms[s].show(this.parseSection(r[s]), i)
                } else this.vms[0].show(this.parseSection(e.section || e), i);
                this.previousRoute = t.route
            }, n.prototype.rebuildRoute = function(t, e) {
                var e = e.split("/");
                return e.length = t.split("/").length, e.join("/")
            }, n.prototype.parseSection = function(t) {
                if (Array.isArray(t)) {
                    for (var e = 0; e < t.length; e++) "function" == typeof t[e] && (t[e] = new t[e]);
                    return o.apply(void 0, t)
                }
                return "function" == typeof t ? new t : t
            }, n.prototype.onResize = function() {
                this.resize(i.innerWidth, i.innerHeight)
            }, e.exports = n
        }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
    }, {
        "bw-router": 62,
        "bw-viewmediator": 59,
        "bw-vm": 63,
        "dom-event": 60,
        events: 73
    }],
    59: [function(t, e, i) {
        function n() {
            if (!(this instanceof n)) {
                var t = Object.create(n.prototype);
                return n.apply(t, arguments), t
            }
            this.items = Array.prototype.slice.call(arguments)
        }
        n.prototype = {
            init: function(t, e) {
                this.callAll("init", t, e)
            },
            resize: function(t, e) {
                for (var i = 0, n = this.items.length; i < n; i++) "function" == typeof this.items[i].resize && this.items[i].resize(t, e)
            },
            animateIn: function(t, e) {
                this.callAll("animateIn", t, e)
            },
            animateOut: function(t, e) {
                this.callAll("animateOut", t, e)
            },
            destroy: function(t, e) {
                this.callAll("destroy", t, e)
            },
            clear: function(t) {
                this.callAll("clear", data, t)
            },
            callAll: function(t, e, i) {
                function n() {
                    ++r === o && i()
                }
                var r = 0,
                    o = 0;
                this.items.forEach(function(e) {
                    "function" == typeof e[t] && o++
                }), 0 === o ? i() : this.items.forEach(function(i) {
                    "function" == typeof i[t] && i[t].call(i, e, n)
                })
            }
        }, e.exports = n
    }, {}],
    60: [function(t, e, i) {
        function n(t, e, i, n) {
            if (t instanceof NodeList)
                for (var r = 0, a = t.length; r < a; r++) o(t[r], e, i, n);
            else o(t, e, i, n);
            return i
        }

        function r(t, e, i, n) {
            if (t instanceof NodeList)
                for (var r = 0, o = t.length; r < o; r++) a(t[r], e, i, n);
            else a(t, e, i, n);
            return i
        }

        function o(t, e, i, n) {
            (t.addEventListener || t.attachEvent).call(t, e, i, n)
        }

        function a(t, e, i, n) {
            (t.removeEventListener || t.detachEvent).call(t, e, i, n)
        }
        e.exports = n, e.exports.on = n, e.exports.off = r
    }, {}],
    61: [function(t, e, i) {
        "use strict";

        function n(t, e) {
            return function() {
                return t.apply(e, arguments)
            }
        }
        var r = Object.prototype.toString,
            o = Object.prototype.hasOwnProperty;
        e.exports = function(t) {
            if (!t) return console.warn("bindAll requires at least one argument.");
            var e = Array.prototype.slice.call(arguments, 1);
            if (0 === e.length)
                for (var i in t) o.call(t, i) && "function" == typeof t[i] && "[object Function]" == r.call(t[i]) && e.push(i);
            for (var a = 0; a < e.length; a++) {
                var s = e[a];
                t[s] = n(t[s], t)
            }
        }
    }, {}],
    62: [function(t, e, i) {
        (function(i) {
            function n(t) {
                if (!(this instanceof n)) return new n(t);
                var e = this.s = t || {};
                e.postHash = e.postHash || "!", this.lastRoute = null, this.childRouter = null, this.childFullRoute = null, this.childBaseRoute = null, this.router = r(), o.call(this)
            }
            var r = t("routes"),
                o = t("events").EventEmitter,
                a = new(t("location-bar")),
                s = function() {},
                l = n.prototype = Object.create(o.prototype);
            l.init = function() {
                var t, e = this.s;
                if (void 0 === e["/"]) {
                    for (t in e)
                        if ("/" == t[0]) {
                            e.start = t;
                            break
                        }
                } else e.start = "/";
                for (t in e) "/" != t[0] && "404" != t || this.router.addRoute(t, s);
                return this.onURL = this.onURL.bind(this), i.location ? (a.start({
                    pushState: void 0 === this.s.pushState || this.s.pushState,
                    root: this.s.root || "/"
                }), this.hasPushState = a.hasPushState(), a.onChange(this.onURL), a.loadUrl()) : this.onURL(), this
            }, l.destroy = function() {
                i.location && a.stop()
            }, l.add = function(t, e) {
                return this.s[t] = e, this
            }, l.go = function(t, e) {
                var n, r, o, s;
                if ("/" != t.charAt(0) && (t = "/" + t), o = (this.hasPushState ? "" : this.s.postHash) + t, n = this.getRouteData(t) || this.getRouteData("404"), r = this.getSection(n), s = this.useURL(r), i.location && s) {
                    (this.hasPushState ? i.location.pathname : i.location.hash.replace(/^#/, "")) != o ? a.update(o, {
                        trigger: !e || !e.silent,
                        replace: !(!e || !e.replace)
                    }) : !r.duplicate && r.useURL || this.doRoute(n, r, t)
                } else i.location && s || this.doRoute(n, r, t)
            }, l.doRoute = function(t, e, i) {
                this.s;
                "string" == typeof e ? this.go(e) : (t.route !== this.lastResolvedRoute || e.duplicate) && (this.lastResolvedRoute = t.route, this.emit("route", {
                    section: e,
                    route: t,
                    path: i
                }))
            }, l.getRouteData = function(t) {
                var e = this.router.match(t);
                return e && (this.lastRoute = e.route), e
            }, l.getSection = function(t) {
                if (t) {
                    var e = t.route && (t.route.match(/.*[\[\]@!$&:'()*+,;=].*/g) || t.route instanceof RegExp),
                        i = this.s[t.route];
                    return e && void 0 === i.duplicate ? i.section ? (i.duplicate = !0, i) : {
                        section: i,
                        duplicate: !0
                    } : i
                }
                return null
            }, l.useURL = function(t) {
                return t && (void 0 === t.section || t.section && t.useURL || void 0 === t.useURL)
            }, l.onURL = function(t) {
                var e, n, r = "/";
                if (i.location && void 0 !== t && null !== t) {
                    if ("/" != t.charAt(0) && (t = "/" + t), t === this.resolved) return;
                    this.resolved = t, r = this.hasPushState || t.length < 2 ? t : t.substr(1 + this.s.postHash.length)
                }
                e = this.getRouteData(r) || this.getRouteData("404"), n = this.getSection(e), this.useURL(n) ? this.doRoute(e, n, r) : this.s[404] && (e = this.getRouteData("404"), n = this.getSection(e), this.doRoute(e, n, r))
            }, e.exports = n
        }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
    }, {
        events: 73,
        "location-bar": 91,
        routes: 103
    }],
    63: [function(t, e, i) {
        function n(t) {
            if (!(this instanceof n)) return new n(t);
            var e = this.s = t || {};
            e.overlap = void 0 === e.overlap || e.overlap, e.width = e.width || 980, e.height = e.height || 570, this.cContent = null, this.nContent = null
        }
        var r = n.prototype = {
            show: function(t, e, i) {
                void 0 === i && "function" == typeof e && (i = e, e = null), this.data = e, t != this.nContent && t != this.cContent && (this.nContent && this.nContent.destroy && this.nContent.destroy(this.data, function() {}), this.nContent = t, t.init ? t.init(this.data, this.swap.bind(this, this.nContent, i)) : this.swap(this.nContent, i))
            },
            clear: function(t, e) {
                if (void 0 === e && "function" == typeof t && (e = t, t = null), this.data = t, this.nContent && this.nContent.destroy && this.nContent.destroy(this.data, function() {}), this.cContent) {
                    var i = function(t) {
                        t.destroy && t.destroy(this.data, function() {}), e && e(t), this.cContent === t && (this.cContent = null)
                    }.bind(this, this.cContent);
                    this.cContent.animateOut ? this.cContent.animateOut(this.data, i) : i()
                }
            },
            resize: function(t, e) {
                var i = this.s;
                i.width = t, i.height = e, this.cContent && this.cContent.resize && this.cContent.resize(t, e)
            },
            swap: function(t, e) {
                if (t == this.nContent) {
                    var i, n = this.s,
                        r = this.cContent,
                        o = function() {
                            n.onEndAniIn && n.onEndAniIn(t, r), e && e(t, r)
                        },
                        a = function() {
                            n.onStartAniIn && n.onStartAniIn(t, this.cContent), this.cContent = t, this.nContent = null, t.animateIn ? t.animateIn(this.data, o) : o()
                        }.bind(this),
                        s = function() {
                            n.onStartAniOut && n.onStartAniOut(t, r), r.animateOut ? r.animateOut(this.data, i) : i()
                        }.bind(this),
                        l = function() {
                            n.onEndAniOut && n.onEndAniOut(t, r), r.destroy && r.destroy(this.data, function() {})
                        }.bind(this);
                    t.resize && t.resize(n.width, n.height), this.cContent ? (i = n.overlap ? l : function() {
                        l(), a()
                    }.bind(this), s(), n.overlap && a()) : a()
                }
            }
        };
        try {
            Object.defineProperty(r, "overlap", {
                get: function() {
                    return this.s.overlap
                },
                set: function(t) {
                    this.s.overlap = t
                }
            })
        } catch (t) {}
        e.exports = n
    }, {}],
    64: [function(t, e, i) {
        "use strict";
        e.exports = function(t) {
            if ("string" != typeof t) throw new TypeError("expected a string");
            return t = t.replace(/([a-z])([A-Z])/g, "$1-$2"), t = t.replace(/[ \t\W]/g, "-"), t = t.replace(/^-+|-+$/g, ""), t.toLowerCase()
        }
    }, {}],
    65: [function(t, e, i) {
        ! function(t, i) {
            "use strict";
            "function" == typeof define && define.amd ? define(i) : "object" == typeof e && e.exports ? e.exports = i() : t.matchesSelector = i()
        }(window, function() {
            "use strict";
            var t = function() {
                var t = window.Element.prototype;
                if (t.matches) return "matches";
                if (t.matchesSelector) return "matchesSelector";
                for (var e = ["webkit", "moz", "ms", "o"], i = 0; i < e.length; i++) {
                    var n = e[i],
                        r = n + "MatchesSelector";
                    if (t[r]) return r
                }
            }();
            return function(e, i) {
                return e[t](i)
            }
        })
    }, {}],
    66: [function(t, e, i) {
        var n = function() {
            var t = window.navigator.userAgent,
                e = t.indexOf("MSIE ");
            if (e > 0) return parseInt(t.substring(e + 5, t.indexOf(".", e)), 10);
            if (t.indexOf("Trident/") > 0) {
                var i = t.indexOf("rv:");
                return parseInt(t.substring(i + 3, t.indexOf(".", i)), 10)
            }
            var n = t.indexOf("Edge/");
            return n > 0 && parseInt(t.substring(n + 5, t.indexOf(".", n)), 10)
        };
        e.exports = n
    }, {}],
    67: [function(t, e, i) {
        function n(t) {
            if (t.classList) return t.classList;
            var e = t.className.replace(/^\s+|\s+$/g, ""),
                i = e.split(c);
            return "" === i[0] && i.shift(), i
        }

        function r(t, e) {
            if (t.classList) return void t.classList.add(e);
            var i = n(t);
            ~u(i, e) || i.push(e), t.className = i.join(" ")
        }

        function o(t, e) {
            return t.classList ? t.classList.contains(e) : !!~u(n(t), e)
        }

        function a(t, e) {
            if ("[object RegExp]" == h.call(e)) return s(t, e);
            if (t.classList) return void t.classList.remove(e);
            var i = n(t),
                r = u(i, e);
            ~r && i.splice(r, 1), t.className = i.join(" ")
        }

        function s(t, e, i) {
            for (var r = Array.prototype.slice.call(n(t)), o = 0; o < r.length; o++) e.test(r[o]) && a(t, r[o])
        }

        function l(t, e) {
            if (t.classList) return t.classList.toggle(e);
            o(t, e) ? a(t, e) : r(t, e)
        }
        var u = t("indexof"),
            c = /\s+/,
            h = Object.prototype.toString;
        e.exports = n, e.exports.add = r, e.exports.contains = o, e.exports.has = o, e.exports.toggle = l, e.exports.remove = a, e.exports.removeMatching = s
    }, {
        indexof: 83
    }],
    68: [function(t, e, i) {
        function n(t) {
            t = t || {};
            var e = document.createElement(t.selector);
            if (t.attr)
                for (var i in t.attr) t.attr.hasOwnProperty(i) && e.setAttribute(i, t.attr[i]);
            return "a" == t.selector && t.link && (e.href = t.link, t.target && e.setAttribute("target", t.target)), "img" == t.selector && t.src && (e.src = t.src, t.lazyload && (e.style.opacity = 0, e.onload = function() {
                e.style.opacity = 1
            })), t.id && (e.id = t.id), t.styles && (e.className = t.styles), t.html && (e.innerHTML = t.html), t.children && e.appendChild(t.children), e
        }
        e.exports = n
    }, {}],
    69: [function(t, e, i) {
        function n(t, e, i, n) {
            return !t.addEventListener && (e = "on" + e), (t.addEventListener || t.attachEvent).call(t, e, i, n), i
        }

        function r(t, e, i, n) {
            return !t.removeEventListener && (e = "on" + e), (t.removeEventListener || t.detachEvent).call(t, e, i, n), i
        }
        e.exports = n, e.exports.on = n, e.exports.off = r
    }, {}],
    70: [function(t, e, i) {
        var n = t("synthetic-dom-events"),
            r = function(t, e, i, n) {
                return t.addEventListener(e, i, n || !1)
            },
            o = function(t, e, i, n) {
                return t.removeEventListener(e, i, n || !1)
            },
            a = function(t, e, i, n) {
                function a(r) {
                    o(t, e, a, n), i(r)
                }
                r(t, e, a, n)
            },
            s = function(t, e, i) {
                var r = n(e, i);
                t.dispatchEvent(r)
            };
        document.addEventListener || (r = function(t, e, i) {
            return t.attachEvent("on" + e, i)
        }), document.removeEventListener || (o = function(t, e, i) {
            return t.detachEvent("on" + e, i)
        }), document.dispatchEvent || (s = function(t, e, i) {
            var r = n(e, i);
            return t.fireEvent("on" + r.type, r)
        }), e.exports = {
            on: r,
            off: o,
            once: a,
            emit: s
        }
    }, {
        "synthetic-dom-events": 111
    }],
    71: [function(t, e, i) {
        function n(t, e) {
            return e || (e = document), e.querySelector(t)
        }

        function r(t, e) {
            e || (e = document);
            var i = e.querySelectorAll(t);
            return Array.prototype.slice.call(i)
        }
        e.exports = n, e.exports.all = r
    }, {}],
    72: [function(t, e, i) {
        ! function(t, i) {
            "function" == typeof define && define.amd ? define(i) : "object" == typeof e && e.exports ? e.exports = i() : t.EvEmitter = i()
        }("undefined" != typeof window ? window : this, function() {
            "use strict";

            function t() {}
            var e = t.prototype;
            return e.on = function(t, e) {
                if (t && e) {
                    var i = this._events = this._events || {},
                        n = i[t] = i[t] || [];
                    return n.indexOf(e) == -1 && n.push(e), this
                }
            }, e.once = function(t, e) {
                if (t && e) {
                    this.on(t, e);
                    var i = this._onceEvents = this._onceEvents || {};
                    return (i[t] = i[t] || {})[e] = !0, this
                }
            }, e.off = function(t, e) {
                var i = this._events && this._events[t];
                if (i && i.length) {
                    var n = i.indexOf(e);
                    return n != -1 && i.splice(n, 1), this
                }
            }, e.emitEvent = function(t, e) {
                var i = this._events && this._events[t];
                if (i && i.length) {
                    var n = 0,
                        r = i[n];
                    e = e || [];
                    for (var o = this._onceEvents && this._onceEvents[t]; r;) {
                        var a = o && o[r];
                        a && (this.off(t, r), delete o[r]), r.apply(this, e), n += a ? 0 : 1, r = i[n]
                    }
                    return this
                }
            }, t
        })
    }, {}],
    73: [function(t, e, i) {
        function n() {
            this._events = this._events || {}, this._maxListeners = this._maxListeners || void 0
        }

        function r(t) {
            return "function" == typeof t
        }

        function o(t) {
            return "number" == typeof t
        }

        function a(t) {
            return "object" == typeof t && null !== t
        }

        function s(t) {
            return void 0 === t
        }
        e.exports = n, n.EventEmitter = n, n.prototype._events = void 0, n.prototype._maxListeners = void 0, n.defaultMaxListeners = 10, n.prototype.setMaxListeners = function(t) {
            if (!o(t) || t < 0 || isNaN(t)) throw TypeError("n must be a positive number");
            return this._maxListeners = t, this
        }, n.prototype.emit = function(t) {
            var e, i, n, o, l, u;
            if (this._events || (this._events = {}), "error" === t && (!this._events.error || a(this._events.error) && !this._events.error.length)) {
                if ((e = arguments[1]) instanceof Error) throw e;
                var c = new Error('Uncaught, unspecified "error" event. (' + e + ")");
                throw c.context = e, c
            }
            if (i = this._events[t], s(i)) return !1;
            if (r(i)) switch (arguments.length) {
                case 1:
                    i.call(this);
                    break;
                case 2:
                    i.call(this, arguments[1]);
                    break;
                case 3:
                    i.call(this, arguments[1], arguments[2]);
                    break;
                default:
                    o = Array.prototype.slice.call(arguments, 1), i.apply(this, o)
            } else if (a(i))
                for (o = Array.prototype.slice.call(arguments, 1), u = i.slice(), n = u.length, l = 0; l < n; l++) u[l].apply(this, o);
            return !0
        }, n.prototype.addListener = function(t, e) {
            var i;
            if (!r(e)) throw TypeError("listener must be a function");
            return this._events || (this._events = {}), this._events.newListener && this.emit("newListener", t, r(e.listener) ? e.listener : e), this._events[t] ? a(this._events[t]) ? this._events[t].push(e) : this._events[t] = [this._events[t], e] : this._events[t] = e, a(this._events[t]) && !this._events[t].warned && (i = s(this._maxListeners) ? n.defaultMaxListeners : this._maxListeners) && i > 0 && this._events[t].length > i && (this._events[t].warned = !0, console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.", this._events[t].length), "function" == typeof console.trace && console.trace()), this
        }, n.prototype.on = n.prototype.addListener, n.prototype.once = function(t, e) {
            function i() {
                this.removeListener(t, i), n || (n = !0, e.apply(this, arguments))
            }
            if (!r(e)) throw TypeError("listener must be a function");
            var n = !1;
            return i.listener = e, this.on(t, i), this
        }, n.prototype.removeListener = function(t, e) {
            var i, n, o, s;
            if (!r(e)) throw TypeError("listener must be a function");
            if (!this._events || !this._events[t]) return this;
            if (i = this._events[t], o = i.length, n = -1, i === e || r(i.listener) && i.listener === e) delete this._events[t], this._events.removeListener && this.emit("removeListener", t, e);
            else if (a(i)) {
                for (s = o; s-- > 0;)
                    if (i[s] === e || i[s].listener && i[s].listener === e) {
                        n = s;
                        break
                    }
                if (n < 0) return this;
                1 === i.length ? (i.length = 0, delete this._events[t]) : i.splice(n, 1), this._events.removeListener && this.emit("removeListener", t, e)
            }
            return this
        }, n.prototype.removeAllListeners = function(t) {
            var e, i;
            if (!this._events) return this;
            if (!this._events.removeListener) return 0 === arguments.length ? this._events = {} : this._events[t] && delete this._events[t], this;
            if (0 === arguments.length) {
                for (e in this._events) "removeListener" !== e && this.removeAllListeners(e);
                return this.removeAllListeners("removeListener"), this._events = {}, this
            }
            if (i = this._events[t], r(i)) this.removeListener(t, i);
            else if (i)
                for (; i.length;) this.removeListener(t, i[i.length - 1]);
            return delete this._events[t], this
        }, n.prototype.listeners = function(t) {
            return this._events && this._events[t] ? r(this._events[t]) ? [this._events[t]] : this._events[t].slice() : []
        }, n.prototype.listenerCount = function(t) {
            if (this._events) {
                var e = this._events[t];
                if (r(e)) return 1;
                if (e) return e.length
            }
            return 0
        }, n.listenerCount = function(t, e) {
            return t.listenerCount(e)
        }
    }, {}],
    74: [function(t, e, i) {
        ! function() {
            "use strict";

            function t(e, i) {
                var r;
                if (i = i || {}, this.trackingClick = !1, this.trackingClickStart = 0, this.targetElement = null, this.touchStartX = 0, this.touchStartY = 0, this.lastTouchIdentifier = 0, this.touchBoundary = i.touchBoundary || 10, this.layer = e, this.tapDelay = i.tapDelay || 200, this.tapTimeout = i.tapTimeout || 700, !t.notNeeded(e)) {
                    for (var o = ["onMouse", "onClick", "onTouchStart", "onTouchMove", "onTouchEnd", "onTouchCancel"], a = this, s = 0, l = o.length; s < l; s++) a[o[s]] = function(t, e) {
                        return function() {
                            return t.apply(e, arguments)
                        }
                    }(a[o[s]], a);
                    n && (e.addEventListener("mouseover", this.onMouse, !0), e.addEventListener("mousedown", this.onMouse, !0), e.addEventListener("mouseup", this.onMouse, !0)), e.addEventListener("click", this.onClick, !0), e.addEventListener("touchstart", this.onTouchStart, !1), e.addEventListener("touchmove", this.onTouchMove, !1), e.addEventListener("touchend", this.onTouchEnd, !1),
                        e.addEventListener("touchcancel", this.onTouchCancel, !1), Event.prototype.stopImmediatePropagation || (e.removeEventListener = function(t, i, n) {
                            var r = Node.prototype.removeEventListener;
                            "click" === t ? r.call(e, t, i.hijacked || i, n) : r.call(e, t, i, n)
                        }, e.addEventListener = function(t, i, n) {
                            var r = Node.prototype.addEventListener;
                            "click" === t ? r.call(e, t, i.hijacked || (i.hijacked = function(t) {
                                t.propagationStopped || i(t)
                            }), n) : r.call(e, t, i, n)
                        }), "function" == typeof e.onclick && (r = e.onclick, e.addEventListener("click", function(t) {
                            r(t)
                        }, !1), e.onclick = null)
                }
            }
            var i = navigator.userAgent.indexOf("Windows Phone") >= 0,
                n = navigator.userAgent.indexOf("Android") > 0 && !i,
                r = /iP(ad|hone|od)/.test(navigator.userAgent) && !i,
                o = r && /OS 4_\d(_\d)?/.test(navigator.userAgent),
                a = r && /OS [6-7]_\d/.test(navigator.userAgent),
                s = navigator.userAgent.indexOf("BB10") > 0;
            t.prototype.needsClick = function(t) {
                switch (t.nodeName.toLowerCase()) {
                    case "button":
                    case "select":
                    case "textarea":
                        if (t.disabled) return !0;
                        break;
                    case "input":
                        if (r && "file" === t.type || t.disabled) return !0;
                        break;
                    case "label":
                    case "iframe":
                    case "video":
                        return !0
                }
                return /\bneedsclick\b/.test(t.className)
            }, t.prototype.needsFocus = function(t) {
                switch (t.nodeName.toLowerCase()) {
                    case "textarea":
                        return !0;
                    case "select":
                        return !n;
                    case "input":
                        switch (t.type) {
                            case "button":
                            case "checkbox":
                            case "file":
                            case "image":
                            case "radio":
                            case "submit":
                                return !1
                        }
                        return !t.disabled && !t.readOnly;
                    default:
                        return /\bneedsfocus\b/.test(t.className)
                }
            }, t.prototype.sendClick = function(t, e) {
                var i, n;
                document.activeElement && document.activeElement !== t && document.activeElement.blur(), n = e.changedTouches[0], i = document.createEvent("MouseEvents"), i.initMouseEvent(this.determineEventType(t), !0, !0, window, 1, n.screenX, n.screenY, n.clientX, n.clientY, !1, !1, !1, !1, 0, null), i.forwardedTouchEvent = !0, t.dispatchEvent(i)
            }, t.prototype.determineEventType = function(t) {
                return n && "select" === t.tagName.toLowerCase() ? "mousedown" : "click"
            }, t.prototype.focus = function(t) {
                var e;
                r && t.setSelectionRange && 0 !== t.type.indexOf("date") && "time" !== t.type && "month" !== t.type ? (e = t.value.length, t.setSelectionRange(e, e)) : t.focus()
            }, t.prototype.updateScrollParent = function(t) {
                var e, i;
                if (!(e = t.fastClickScrollParent) || !e.contains(t)) {
                    i = t;
                    do {
                        if (i.scrollHeight > i.offsetHeight) {
                            e = i, t.fastClickScrollParent = i;
                            break
                        }
                        i = i.parentElement
                    } while (i)
                }
                e && (e.fastClickLastScrollTop = e.scrollTop)
            }, t.prototype.getTargetElementFromEventTarget = function(t) {
                return t.nodeType === Node.TEXT_NODE ? t.parentNode : t
            }, t.prototype.onTouchStart = function(t) {
                var e, i, n;
                if (t.targetTouches.length > 1) return !0;
                if (e = this.getTargetElementFromEventTarget(t.target), i = t.targetTouches[0], r) {
                    if (n = window.getSelection(), n.rangeCount && !n.isCollapsed) return !0;
                    if (!o) {
                        if (i.identifier && i.identifier === this.lastTouchIdentifier) return t.preventDefault(), !1;
                        this.lastTouchIdentifier = i.identifier, this.updateScrollParent(e)
                    }
                }
                return this.trackingClick = !0, this.trackingClickStart = t.timeStamp, this.targetElement = e, this.touchStartX = i.pageX, this.touchStartY = i.pageY, t.timeStamp - this.lastClickTime < this.tapDelay && t.preventDefault(), !0
            }, t.prototype.touchHasMoved = function(t) {
                var e = t.changedTouches[0],
                    i = this.touchBoundary;
                return Math.abs(e.pageX - this.touchStartX) > i || Math.abs(e.pageY - this.touchStartY) > i
            }, t.prototype.onTouchMove = function(t) {
                return !this.trackingClick || ((this.targetElement !== this.getTargetElementFromEventTarget(t.target) || this.touchHasMoved(t)) && (this.trackingClick = !1, this.targetElement = null), !0)
            }, t.prototype.findControl = function(t) {
                return void 0 !== t.control ? t.control : t.htmlFor ? document.getElementById(t.htmlFor) : t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")
            }, t.prototype.onTouchEnd = function(t) {
                var e, i, s, l, u, c = this.targetElement;
                if (!this.trackingClick) return !0;
                if (t.timeStamp - this.lastClickTime < this.tapDelay) return this.cancelNextClick = !0, !0;
                if (t.timeStamp - this.trackingClickStart > this.tapTimeout) return !0;
                if (this.cancelNextClick = !1, this.lastClickTime = t.timeStamp, i = this.trackingClickStart, this.trackingClick = !1, this.trackingClickStart = 0, a && (u = t.changedTouches[0], c = document.elementFromPoint(u.pageX - window.pageXOffset, u.pageY - window.pageYOffset) || c, c.fastClickScrollParent = this.targetElement.fastClickScrollParent), "label" === (s = c.tagName.toLowerCase())) {
                    if (e = this.findControl(c)) {
                        if (this.focus(c), n) return !1;
                        c = e
                    }
                } else if (this.needsFocus(c)) return t.timeStamp - i > 100 || r && window.top !== window && "input" === s ? (this.targetElement = null, !1) : (this.focus(c), this.sendClick(c, t), r && "select" === s || (this.targetElement = null, t.preventDefault()), !1);
                return !(!r || o || !(l = c.fastClickScrollParent) || l.fastClickLastScrollTop === l.scrollTop) || (this.needsClick(c) || (t.preventDefault(), this.sendClick(c, t)), !1)
            }, t.prototype.onTouchCancel = function() {
                this.trackingClick = !1, this.targetElement = null
            }, t.prototype.onMouse = function(t) {
                return !this.targetElement || (!!t.forwardedTouchEvent || (!t.cancelable || (!(!this.needsClick(this.targetElement) || this.cancelNextClick) || (t.stopImmediatePropagation ? t.stopImmediatePropagation() : t.propagationStopped = !0, t.stopPropagation(), t.preventDefault(), !1))))
            }, t.prototype.onClick = function(t) {
                var e;
                return this.trackingClick ? (this.targetElement = null, this.trackingClick = !1, !0) : "submit" === t.target.type && 0 === t.detail || (e = this.onMouse(t), e || (this.targetElement = null), e)
            }, t.prototype.destroy = function() {
                var t = this.layer;
                n && (t.removeEventListener("mouseover", this.onMouse, !0), t.removeEventListener("mousedown", this.onMouse, !0), t.removeEventListener("mouseup", this.onMouse, !0)), t.removeEventListener("click", this.onClick, !0), t.removeEventListener("touchstart", this.onTouchStart, !1), t.removeEventListener("touchmove", this.onTouchMove, !1), t.removeEventListener("touchend", this.onTouchEnd, !1), t.removeEventListener("touchcancel", this.onTouchCancel, !1)
            }, t.notNeeded = function(t) {
                var e, i, r;
                if (void 0 === window.ontouchstart) return !0;
                if (i = +(/Chrome\/([0-9]+)/.exec(navigator.userAgent) || [, 0])[1]) {
                    if (!n) return !0;
                    if (e = document.querySelector("meta[name=viewport]")) {
                        if (e.content.indexOf("user-scalable=no") !== -1) return !0;
                        if (i > 31 && document.documentElement.scrollWidth <= window.outerWidth) return !0
                    }
                }
                if (s && (r = navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/), r[1] >= 10 && r[2] >= 3 && (e = document.querySelector("meta[name=viewport]")))) {
                    if (e.content.indexOf("user-scalable=no") !== -1) return !0;
                    if (document.documentElement.scrollWidth <= window.outerWidth) return !0
                }
                return "none" === t.style.msTouchAction || "manipulation" === t.style.touchAction || (!!(+(/Firefox\/([0-9]+)/.exec(navigator.userAgent) || [, 0])[1] >= 27 && (e = document.querySelector("meta[name=viewport]")) && (e.content.indexOf("user-scalable=no") !== -1 || document.documentElement.scrollWidth <= window.outerWidth)) || ("none" === t.style.touchAction || "manipulation" === t.style.touchAction))
            }, t.attach = function(e, i) {
                return new t(e, i)
            }, "function" == typeof define && "object" == typeof define.amd && define.amd ? define(function() {
                return t
            }) : void 0 !== e && e.exports ? (e.exports = t.attach, e.exports.FastClick = t) : window.FastClick = t
        }()
    }, {}],
    75: [function(t, e, i) {
        ! function(i, n) {
            "function" == typeof define && define.amd ? define(["desandro-matches-selector/matches-selector"], function(t) {
                return n(i, t)
            }) : "object" == typeof e && e.exports ? e.exports = n(i, t("desandro-matches-selector")) : i.fizzyUIUtils = n(i, i.matchesSelector)
        }(window, function(t, e) {
            "use strict";
            var i = {};
            i.extend = function(t, e) {
                for (var i in e) t[i] = e[i];
                return t
            }, i.modulo = function(t, e) {
                return (t % e + e) % e
            }, i.makeArray = function(t) {
                var e = [];
                if (Array.isArray(t)) e = t;
                else if (t && "object" == typeof t && "number" == typeof t.length)
                    for (var i = 0; i < t.length; i++) e.push(t[i]);
                else e.push(t);
                return e
            }, i.removeFrom = function(t, e) {
                var i = t.indexOf(e);
                i != -1 && t.splice(i, 1)
            }, i.getParent = function(t, i) {
                for (; t != document.body;)
                    if (t = t.parentNode, e(t, i)) return t
            }, i.getQueryElement = function(t) {
                return "string" == typeof t ? document.querySelector(t) : t
            }, i.handleEvent = function(t) {
                var e = "on" + t.type;
                this[e] && this[e](t)
            }, i.filterFindElements = function(t, n) {
                t = i.makeArray(t);
                var r = [];
                return t.forEach(function(t) {
                    if (t instanceof HTMLElement) {
                        if (!n) return void r.push(t);
                        e(t, n) && r.push(t);
                        for (var i = t.querySelectorAll(n), o = 0; o < i.length; o++) r.push(i[o])
                    }
                }), r
            }, i.debounceMethod = function(t, e, i) {
                var n = t.prototype[e],
                    r = e + "Timeout";
                t.prototype[e] = function() {
                    var t = this[r];
                    t && clearTimeout(t);
                    var e = arguments,
                        o = this;
                    this[r] = setTimeout(function() {
                        n.apply(o, e), delete o[r]
                    }, i || 100)
                }
            }, i.docReady = function(t) {
                var e = document.readyState;
                "complete" == e || "interactive" == e ? setTimeout(t) : document.addEventListener("DOMContentLoaded", t)
            }, i.toDashed = function(t) {
                return t.replace(/(.)([A-Z])/g, function(t, e, i) {
                    return e + "-" + i
                }).toLowerCase()
            };
            var n = t.console;
            return i.htmlInit = function(e, r) {
                i.docReady(function() {
                    var o = i.toDashed(r),
                        a = "data-" + o,
                        s = document.querySelectorAll("[" + a + "]"),
                        l = document.querySelectorAll(".js-" + o),
                        u = i.makeArray(s).concat(i.makeArray(l)),
                        c = a + "-options",
                        h = t.jQuery;
                    u.forEach(function(t) {
                        var i, o = t.getAttribute(a) || t.getAttribute(c);
                        try {
                            i = o && JSON.parse(o)
                        } catch (e) {
                            return void(n && n.error("Error parsing " + a + " on " + t.className + ": " + e))
                        }
                        var s = new e(t, i);
                        h && h.data(t, r, s)
                    })
                })
            }, i
        })
    }, {
        "desandro-matches-selector": 65
    }],
    76: [function(t, e, i) {
        ! function(t, i) {
            "use strict";
            "function" == typeof define && define.amd ? define(function() {
                return i()
            }) : "object" == typeof e && e.exports ? e.exports = i() : t.getSize = i()
        }(window, function() {
            "use strict";

            function t(t) {
                var e = parseFloat(t);
                return t.indexOf("%") == -1 && !isNaN(e) && e
            }

            function e() {}

            function i() {
                for (var t = {
                        width: 0,
                        height: 0,
                        innerWidth: 0,
                        innerHeight: 0,
                        outerWidth: 0,
                        outerHeight: 0
                    }, e = 0; e < u; e++) {
                    t[l[e]] = 0
                }
                return t
            }

            function n(t) {
                var e = getComputedStyle(t);
                return e || s("Style returned " + e + ". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"), e
            }

            function r() {
                if (!c) {
                    c = !0;
                    var e = document.createElement("div");
                    e.style.width = "200px", e.style.padding = "1px 2px 3px 4px", e.style.borderStyle = "solid", e.style.borderWidth = "1px 2px 3px 4px", e.style.boxSizing = "border-box";
                    var i = document.body || document.documentElement;
                    i.appendChild(e);
                    var r = n(e);
                    o.isBoxSizeOuter = a = 200 == t(r.width), i.removeChild(e)
                }
            }

            function o(e) {
                if (r(), "string" == typeof e && (e = document.querySelector(e)), e && "object" == typeof e && e.nodeType) {
                    var o = n(e);
                    if ("none" == o.display) return i();
                    var s = {};
                    s.width = e.offsetWidth, s.height = e.offsetHeight;
                    for (var c = s.isBorderBox = "border-box" == o.boxSizing, h = 0; h < u; h++) {
                        var d = l[h],
                            p = o[d],
                            f = parseFloat(p);
                        s[d] = isNaN(f) ? 0 : f
                    }
                    var m = s.paddingLeft + s.paddingRight,
                        g = s.paddingTop + s.paddingBottom,
                        v = s.marginLeft + s.marginRight,
                        y = s.marginTop + s.marginBottom,
                        _ = s.borderLeftWidth + s.borderRightWidth,
                        b = s.borderTopWidth + s.borderBottomWidth,
                        x = c && a,
                        w = t(o.width);
                    w !== !1 && (s.width = w + (x ? 0 : m + _));
                    var T = t(o.height);
                    return T !== !1 && (s.height = T + (x ? 0 : g + b)), s.innerWidth = s.width - (m + _), s.innerHeight = s.height - (g + b), s.outerWidth = s.width + v, s.outerHeight = s.height + y, s
                }
            }
            var a, s = "undefined" == typeof console ? e : function(t) {
                    console.error(t)
                },
                l = ["paddingLeft", "paddingRight", "paddingTop", "paddingBottom", "marginLeft", "marginRight", "marginTop", "marginBottom", "borderLeftWidth", "borderRightWidth", "borderTopWidth", "borderBottomWidth"],
                u = l.length,
                c = !1;
            return o
        })
    }, {}],
    77: [function(t, e, i) {
        (function(t) {
            var i = void 0 !== e && e.exports && void 0 !== t ? t : this || window;
            (i._gsQueue || (i._gsQueue = [])).push(function() {
                    "use strict";
                    i._gsDefine("TweenMax", ["core.Animation", "core.SimpleTimeline", "TweenLite"], function(t, e, i) {
                            var n = function(t) {
                                    var e, i = [],
                                        n = t.length;
                                    for (e = 0; e !== n; i.push(t[e++]));
                                    return i
                                },
                                r = function(t, e, i) {
                                    var n, r, o = t.cycle;
                                    for (n in o) r = o[n], t[n] = "function" == typeof r ? r(i, e[i]) : r[i % r.length];
                                    delete t.cycle
                                },
                                o = function(t, e, n) {
                                    i.call(this, t, e, n), this._cycle = 0, this._yoyo = this.vars.yoyo === !0, this._repeat = this.vars.repeat || 0, this._repeatDelay = this.vars.repeatDelay || 0, this._dirty = !0, this.render = o.prototype.render
                                },
                                a = i._internals,
                                s = a.isSelector,
                                l = a.isArray,
                                u = o.prototype = i.to({}, .1, {}),
                                c = [];
                            o.version = "1.19.1", u.constructor = o, u.kill()._gc = !1, o.killTweensOf = o.killDelayedCallsTo = i.killTweensOf, o.getTweensOf = i.getTweensOf, o.lagSmoothing = i.lagSmoothing, o.ticker = i.ticker, o.render = i.render, u.invalidate = function() {
                                return this._yoyo = this.vars.yoyo === !0, this._repeat = this.vars.repeat || 0, this._repeatDelay = this.vars.repeatDelay || 0, this._uncache(!0), i.prototype.invalidate.call(this)
                            }, u.updateTo = function(t, e) {
                                var n, r = this.ratio,
                                    o = this.vars.immediateRender || t.immediateRender;
                                e && this._startTime < this._timeline._time && (this._startTime = this._timeline._time, this._uncache(!1), this._gc ? this._enabled(!0, !1) : this._timeline.insert(this, this._startTime - this._delay));
                                for (n in t) this.vars[n] = t[n];
                                if (this._initted || o)
                                    if (e) this._initted = !1, o && this.render(0, !0, !0);
                                    else if (this._gc && this._enabled(!0, !1), this._notifyPluginsOfEnabled && this._firstPT && i._onPluginEvent("_onDisable", this), this._time / this._duration > .998) {
                                    var a = this._totalTime;
                                    this.render(0, !0, !1), this._initted = !1, this.render(a, !0, !1)
                                } else if (this._initted = !1, this._init(), this._time > 0 || o)
                                    for (var s, l = 1 / (1 - r), u = this._firstPT; u;) s = u.s + u.c, u.c *= l, u.s = s - u.c, u = u._next;
                                return this
                            }, u.render = function(t, e, i) {
                                this._initted || 0 === this._duration && this.vars.repeat && this.invalidate();
                                var n, r, o, s, l, u, c, h, d = this._dirty ? this.totalDuration() : this._totalDuration,
                                    p = this._time,
                                    f = this._totalTime,
                                    m = this._cycle,
                                    g = this._duration,
                                    v = this._rawPrevTime;
                                if (t >= d - 1e-7 && t >= 0 ? (this._totalTime = d, this._cycle = this._repeat, this._yoyo && 0 != (1 & this._cycle) ? (this._time = 0, this.ratio = this._ease._calcEnd ? this._ease.getRatio(0) : 0) : (this._time = g, this.ratio = this._ease._calcEnd ? this._ease.getRatio(1) : 1), this._reversed || (n = !0, r = "onComplete", i = i || this._timeline.autoRemoveChildren), 0 === g && (this._initted || !this.vars.lazy || i) && (this._startTime === this._timeline._duration && (t = 0), (v < 0 || t <= 0 && t >= -1e-7 || 1e-10 === v && "isPause" !== this.data) && v !== t && (i = !0, v > 1e-10 && (r = "onReverseComplete")), this._rawPrevTime = h = !e || t || v === t ? t : 1e-10)) : t < 1e-7 ? (this._totalTime = this._time = this._cycle = 0, this.ratio = this._ease._calcEnd ? this._ease.getRatio(0) : 0, (0 !== f || 0 === g && v > 0) && (r = "onReverseComplete", n = this._reversed), t < 0 && (this._active = !1, 0 === g && (this._initted || !this.vars.lazy || i) && (v >= 0 && (i = !0), this._rawPrevTime = h = !e || t || v === t ? t : 1e-10)), this._initted || (i = !0)) : (this._totalTime = this._time = t, 0 !== this._repeat && (s = g + this._repeatDelay, this._cycle = this._totalTime / s >> 0, 0 !== this._cycle && this._cycle === this._totalTime / s && f <= t && this._cycle--, this._time = this._totalTime - this._cycle * s, this._yoyo && 0 != (1 & this._cycle) && (this._time = g - this._time), this._time > g ? this._time = g : this._time < 0 && (this._time = 0)), this._easeType ? (l = this._time / g, u = this._easeType, c = this._easePower, (1 === u || 3 === u && l >= .5) && (l = 1 - l), 3 === u && (l *= 2), 1 === c ? l *= l : 2 === c ? l *= l * l : 3 === c ? l *= l * l * l : 4 === c && (l *= l * l * l * l), 1 === u ? this.ratio = 1 - l : 2 === u ? this.ratio = l : this._time / g < .5 ? this.ratio = l / 2 : this.ratio = 1 - l / 2) : this.ratio = this._ease.getRatio(this._time / g)), p === this._time && !i && m === this._cycle) return void(f !== this._totalTime && this._onUpdate && (e || this._callback("onUpdate")));
                                if (!this._initted) {
                                    if (this._init(), !this._initted || this._gc) return;
                                    if (!i && this._firstPT && (this.vars.lazy !== !1 && this._duration || this.vars.lazy && !this._duration)) return this._time = p, this._totalTime = f, this._rawPrevTime = v, this._cycle = m, a.lazyTweens.push(this), void(this._lazy = [t, e]);
                                    this._time && !n ? this.ratio = this._ease.getRatio(this._time / g) : n && this._ease._calcEnd && (this.ratio = this._ease.getRatio(0 === this._time ? 0 : 1))
                                }
                                for (this._lazy !== !1 && (this._lazy = !1), this._active || !this._paused && this._time !== p && t >= 0 && (this._active = !0), 0 === f && (2 === this._initted && t > 0 && this._init(), this._startAt && (t >= 0 ? this._startAt.render(t, e, i) : r || (r = "_dummyGS")), this.vars.onStart && (0 === this._totalTime && 0 !== g || e || this._callback("onStart"))), o = this._firstPT; o;) o.f ? o.t[o.p](o.c * this.ratio + o.s) : o.t[o.p] = o.c * this.ratio + o.s, o = o._next;
                                this._onUpdate && (t < 0 && this._startAt && this._startTime && this._startAt.render(t, e, i), e || (this._totalTime !== f || r) && this._callback("onUpdate")), this._cycle !== m && (e || this._gc || this.vars.onRepeat && this._callback("onRepeat")), r && (this._gc && !i || (t < 0 && this._startAt && !this._onUpdate && this._startTime && this._startAt.render(t, e, i), n && (this._timeline.autoRemoveChildren && this._enabled(!1, !1), this._active = !1), !e && this.vars[r] && this._callback(r), 0 === g && 1e-10 === this._rawPrevTime && 1e-10 !== h && (this._rawPrevTime = 0)))
                            }, o.to = function(t, e, i) {
                                return new o(t, e, i)
                            }, o.from = function(t, e, i) {
                                return i.runBackwards = !0, i.immediateRender = 0 != i.immediateRender, new o(t, e, i)
                            }, o.fromTo = function(t, e, i, n) {
                                return n.startAt = i, n.immediateRender = 0 != n.immediateRender && 0 != i.immediateRender, new o(t, e, n)
                            }, o.staggerTo = o.allTo = function(t, e, a, u, h, d, p) {
                                u = u || 0;
                                var f, m, g, v, y = 0,
                                    _ = [],
                                    b = function() {
                                        a.onComplete && a.onComplete.apply(a.onCompleteScope || this, arguments), h.apply(p || a.callbackScope || this, d || c)
                                    },
                                    x = a.cycle,
                                    w = a.startAt && a.startAt.cycle;
                                for (l(t) || ("string" == typeof t && (t = i.selector(t) || t), s(t) && (t = n(t))), t = t || [], u < 0 && (t = n(t), t.reverse(), u *= -1), f = t.length - 1, g = 0; g <= f; g++) {
                                    m = {};
                                    for (v in a) m[v] = a[v];
                                    if (x && (r(m, t, g), null != m.duration && (e = m.duration, delete m.duration)), w) {
                                        w = m.startAt = {};
                                        for (v in a.startAt) w[v] = a.startAt[v];
                                        r(m.startAt, t, g)
                                    }
                                    m.delay = y + (m.delay || 0), g === f && h && (m.onComplete = b), _[g] = new o(t[g], e, m), y += u
                                }
                                return _
                            }, o.staggerFrom = o.allFrom = function(t, e, i, n, r, a, s) {
                                return i.runBackwards = !0, i.immediateRender = 0 != i.immediateRender, o.staggerTo(t, e, i, n, r, a, s)
                            }, o.staggerFromTo = o.allFromTo = function(t, e, i, n, r, a, s, l) {
                                return n.startAt = i, n.immediateRender = 0 != n.immediateRender && 0 != i.immediateRender, o.staggerTo(t, e, n, r, a, s, l)
                            }, o.delayedCall = function(t, e, i, n, r) {
                                return new o(e, 0, {
                                    delay: t,
                                    onComplete: e,
                                    onCompleteParams: i,
                                    callbackScope: n,
                                    onReverseComplete: e,
                                    onReverseCompleteParams: i,
                                    immediateRender: !1,
                                    useFrames: r,
                                    overwrite: 0
                                })
                            }, o.set = function(t, e) {
                                return new o(t, 0, e)
                            }, o.isTweening = function(t) {
                                return i.getTweensOf(t, !0).length > 0
                            };
                            var h = function(t, e) {
                                    for (var n = [], r = 0, o = t._first; o;) o instanceof i ? n[r++] = o : (e && (n[r++] = o), n = n.concat(h(o, e)), r = n.length), o = o._next;
                                    return n
                                },
                                d = o.getAllTweens = function(e) {
                                    return h(t._rootTimeline, e).concat(h(t._rootFramesTimeline, e))
                                };
                            o.killAll = function(t, i, n, r) {
                                null == i && (i = !0), null == n && (n = !0);
                                var o, a, s, l = d(0 != r),
                                    u = l.length,
                                    c = i && n && r;
                                for (s = 0; s < u; s++) a = l[s], (c || a instanceof e || (o = a.target === a.vars.onComplete) && n || i && !o) && (t ? a.totalTime(a._reversed ? 0 : a.totalDuration()) : a._enabled(!1, !1))
                            }, o.killChildTweensOf = function(t, e) {
                                if (null != t) {
                                    var r, u, c, h, d, p = a.tweenLookup;
                                    if ("string" == typeof t && (t = i.selector(t) || t), s(t) && (t = n(t)), l(t))
                                        for (h = t.length; --h > -1;) o.killChildTweensOf(t[h], e);
                                    else {
                                        r = [];
                                        for (c in p)
                                            for (u = p[c].target.parentNode; u;) u === t && (r = r.concat(p[c].tweens)), u = u.parentNode;
                                        for (d = r.length, h = 0; h < d; h++) e && r[h].totalTime(r[h].totalDuration()), r[h]._enabled(!1, !1)
                                    }
                                }
                            };
                            var p = function(t, i, n, r) {
                                i = i !== !1, n = n !== !1, r = r !== !1;
                                for (var o, a, s = d(r), l = i && n && r, u = s.length; --u > -1;) a = s[u], (l || a instanceof e || (o = a.target === a.vars.onComplete) && n || i && !o) && a.paused(t)
                            };
                            return o.pauseAll = function(t, e, i) {
                                p(!0, t, e, i)
                            }, o.resumeAll = function(t, e, i) {
                                p(!1, t, e, i)
                            }, o.globalTimeScale = function(e) {
                                var n = t._rootTimeline,
                                    r = i.ticker.time;
                                return arguments.length ? (e = e || 1e-10, n._startTime = r - (r - n._startTime) * n._timeScale / e, n = t._rootFramesTimeline, r = i.ticker.frame, n._startTime = r - (r - n._startTime) * n._timeScale / e, n._timeScale = t._rootTimeline._timeScale = e, e) : n._timeScale
                            }, u.progress = function(t, e) {
                                return arguments.length ? this.totalTime(this.duration() * (this._yoyo && 0 != (1 & this._cycle) ? 1 - t : t) + this._cycle * (this._duration + this._repeatDelay), e) : this._time / this.duration()
                            }, u.totalProgress = function(t, e) {
                                return arguments.length ? this.totalTime(this.totalDuration() * t, e) : this._totalTime / this.totalDuration()
                            }, u.time = function(t, e) {
                                return arguments.length ? (this._dirty && this.totalDuration(), t > this._duration && (t = this._duration), this._yoyo && 0 != (1 & this._cycle) ? t = this._duration - t + this._cycle * (this._duration + this._repeatDelay) : 0 !== this._repeat && (t += this._cycle * (this._duration + this._repeatDelay)), this.totalTime(t, e)) : this._time
                            }, u.duration = function(e) {
                                return arguments.length ? t.prototype.duration.call(this, e) : this._duration
                            }, u.totalDuration = function(t) {
                                return arguments.length ? this._repeat === -1 ? this : this.duration((t - this._repeat * this._repeatDelay) / (this._repeat + 1)) : (this._dirty && (this._totalDuration = this._repeat === -1 ? 999999999999 : this._duration * (this._repeat + 1) + this._repeatDelay * this._repeat, this._dirty = !1), this._totalDuration)
                            }, u.repeat = function(t) {
                                return arguments.length ? (this._repeat = t, this._uncache(!0)) : this._repeat
                            }, u.repeatDelay = function(t) {
                                return arguments.length ? (this._repeatDelay = t, this._uncache(!0)) : this._repeatDelay
                            }, u.yoyo = function(t) {
                                return arguments.length ? (this._yoyo = t, this) : this._yoyo
                            }, o
                        }, !0), i._gsDefine("TimelineLite", ["core.Animation", "core.SimpleTimeline", "TweenLite"], function(t, e, n) {
                            var r = function(t) {
                                    e.call(this, t), this._labels = {}, this.autoRemoveChildren = this.vars.autoRemoveChildren === !0, this.smoothChildTiming = this.vars.smoothChildTiming === !0, this._sortChildren = !0, this._onUpdate = this.vars.onUpdate;
                                    var i, n, r = this.vars;
                                    for (n in r) i = r[n], l(i) && i.join("").indexOf("{self}") !== -1 && (r[n] = this._swapSelfInParams(i));
                                    l(r.tweens) && this.add(r.tweens, 0, r.align, r.stagger)
                                },
                                o = n._internals,
                                a = r._internals = {},
                                s = o.isSelector,
                                l = o.isArray,
                                u = o.lazyTweens,
                                c = o.lazyRender,
                                h = i._gsDefine.globals,
                                d = function(t) {
                                    var e, i = {};
                                    for (e in t) i[e] = t[e];
                                    return i
                                },
                                p = function(t, e, i) {
                                    var n, r, o = t.cycle;
                                    for (n in o) r = o[n], t[n] = "function" == typeof r ? r(i, e[i]) : r[i % r.length];
                                    delete t.cycle
                                },
                                f = a.pauseCallback = function() {},
                                m = function(t) {
                                    var e, i = [],
                                        n = t.length;
                                    for (e = 0; e !== n; i.push(t[e++]));
                                    return i
                                },
                                g = r.prototype = new e;
                            return r.version = "1.19.1", g.constructor = r, g.kill()._gc = g._forcingPlayhead = g._hasPause = !1, g.to = function(t, e, i, r) {
                                var o = i.repeat && h.TweenMax || n;
                                return e ? this.add(new o(t, e, i), r) : this.set(t, i, r)
                            }, g.from = function(t, e, i, r) {
                                return this.add((i.repeat && h.TweenMax || n).from(t, e, i), r)
                            }, g.fromTo = function(t, e, i, r, o) {
                                var a = r.repeat && h.TweenMax || n;
                                return e ? this.add(a.fromTo(t, e, i, r), o) : this.set(t, r, o)
                            }, g.staggerTo = function(t, e, i, o, a, l, u, c) {
                                var h, f, g = new r({
                                        onComplete: l,
                                        onCompleteParams: u,
                                        callbackScope: c,
                                        smoothChildTiming: this.smoothChildTiming
                                    }),
                                    v = i.cycle;
                                for ("string" == typeof t && (t = n.selector(t) || t), t = t || [], s(t) && (t = m(t)), o = o || 0, o < 0 && (t = m(t), t.reverse(), o *= -1), f = 0; f < t.length; f++) h = d(i), h.startAt && (h.startAt = d(h.startAt), h.startAt.cycle && p(h.startAt, t, f)), v && (p(h, t, f), null != h.duration && (e = h.duration, delete h.duration)), g.to(t[f], e, h, f * o);
                                return this.add(g, a)
                            }, g.staggerFrom = function(t, e, i, n, r, o, a, s) {
                                return i.immediateRender = 0 != i.immediateRender, i.runBackwards = !0, this.staggerTo(t, e, i, n, r, o, a, s)
                            }, g.staggerFromTo = function(t, e, i, n, r, o, a, s, l) {
                                return n.startAt = i, n.immediateRender = 0 != n.immediateRender && 0 != i.immediateRender, this.staggerTo(t, e, n, r, o, a, s, l)
                            }, g.call = function(t, e, i, r) {
                                return this.add(n.delayedCall(0, t, e, i), r)
                            }, g.set = function(t, e, i) {
                                return i = this._parseTimeOrLabel(i, 0, !0), null == e.immediateRender && (e.immediateRender = i === this._time && !this._paused), this.add(new n(t, 0, e), i)
                            }, r.exportRoot = function(t, e) {
                                t = t || {}, null == t.smoothChildTiming && (t.smoothChildTiming = !0);
                                var i, o, a = new r(t),
                                    s = a._timeline;
                                for (null == e && (e = !0), s._remove(a, !0), a._startTime = 0, a._rawPrevTime = a._time = a._totalTime = s._time, i = s._first; i;) o = i._next, e && i instanceof n && i.target === i.vars.onComplete || a.add(i, i._startTime - i._delay), i = o;
                                return s.add(a, 0), a
                            }, g.add = function(i, o, a, s) {
                                var u, c, h, d, p, f;
                                if ("number" != typeof o && (o = this._parseTimeOrLabel(o, 0, !0, i)), !(i instanceof t)) {
                                    if (i instanceof Array || i && i.push && l(i)) {
                                        for (a = a || "normal", s = s || 0, u = o, c = i.length, h = 0; h < c; h++) l(d = i[h]) && (d = new r({
                                            tweens: d
                                        })), this.add(d, u), "string" != typeof d && "function" != typeof d && ("sequence" === a ? u = d._startTime + d.totalDuration() / d._timeScale : "start" === a && (d._startTime -= d.delay())), u += s;
                                        return this._uncache(!0)
                                    }
                                    if ("string" == typeof i) return this.addLabel(i, o);
                                    if ("function" != typeof i) throw "Cannot add " + i + " into the timeline; it is not a tween, timeline, function, or string.";
                                    i = n.delayedCall(0, i)
                                }
                                if (e.prototype.add.call(this, i, o), (this._gc || this._time === this._duration) && !this._paused && this._duration < this.duration())
                                    for (p = this, f = p.rawTime() > i._startTime; p._timeline;) f && p._timeline.smoothChildTiming ? p.totalTime(p._totalTime, !0) : p._gc && p._enabled(!0, !1), p = p._timeline;
                                return this
                            }, g.remove = function(e) {
                                if (e instanceof t) {
                                    this._remove(e, !1);
                                    var i = e._timeline = e.vars.useFrames ? t._rootFramesTimeline : t._rootTimeline;
                                    return e._startTime = (e._paused ? e._pauseTime : i._time) - (e._reversed ? e.totalDuration() - e._totalTime : e._totalTime) / e._timeScale, this
                                }
                                if (e instanceof Array || e && e.push && l(e)) {
                                    for (var n = e.length; --n > -1;) this.remove(e[n]);
                                    return this
                                }
                                return "string" == typeof e ? this.removeLabel(e) : this.kill(null, e)
                            }, g._remove = function(t, i) {
                                return e.prototype._remove.call(this, t, i), this._last ? this._time > this.duration() && (this._time = this._duration, this._totalTime = this._totalDuration) : this._time = this._totalTime = this._duration = this._totalDuration = 0, this
                            }, g.append = function(t, e) {
                                return this.add(t, this._parseTimeOrLabel(null, e, !0, t))
                            }, g.insert = g.insertMultiple = function(t, e, i, n) {
                                return this.add(t, e || 0, i, n)
                            }, g.appendMultiple = function(t, e, i, n) {
                                return this.add(t, this._parseTimeOrLabel(null, e, !0, t), i, n)
                            }, g.addLabel = function(t, e) {
                                return this._labels[t] = this._parseTimeOrLabel(e), this
                            }, g.addPause = function(t, e, i, r) {
                                var o = n.delayedCall(0, f, i, r || this);
                                return o.vars.onComplete = o.vars.onReverseComplete = e, o.data = "isPause", this._hasPause = !0, this.add(o, t)
                            }, g.removeLabel = function(t) {
                                return delete this._labels[t], this
                            }, g.getLabelTime = function(t) {
                                return null != this._labels[t] ? this._labels[t] : -1
                            }, g._parseTimeOrLabel = function(e, i, n, r) {
                                var o;
                                if (r instanceof t && r.timeline === this) this.remove(r);
                                else if (r && (r instanceof Array || r.push && l(r)))
                                    for (o = r.length; --o > -1;) r[o] instanceof t && r[o].timeline === this && this.remove(r[o]);
                                if ("string" == typeof i) return this._parseTimeOrLabel(i, n && "number" == typeof e && null == this._labels[i] ? e - this.duration() : 0, n);
                                if (i = i || 0, "string" != typeof e || !isNaN(e) && null == this._labels[e]) null == e && (e = this.duration());
                                else {
                                    if ((o = e.indexOf("=")) === -1) return null == this._labels[e] ? n ? this._labels[e] = this.duration() + i : i : this._labels[e] + i;
                                    i = parseInt(e.charAt(o - 1) + "1", 10) * Number(e.substr(o + 1)), e = o > 1 ? this._parseTimeOrLabel(e.substr(0, o - 1), 0, n) : this.duration()
                                }
                                return Number(e) + i
                            }, g.seek = function(t, e) {
                                return this.totalTime("number" == typeof t ? t : this._parseTimeOrLabel(t), e !== !1)
                            }, g.stop = function() {
                                return this.paused(!0)
                            }, g.gotoAndPlay = function(t, e) {
                                return this.play(t, e)
                            }, g.gotoAndStop = function(t, e) {
                                return this.pause(t, e)
                            }, g.render = function(t, e, i) {
                                this._gc && this._enabled(!0, !1);
                                var n, r, o, a, s, l, h, d = this._dirty ? this.totalDuration() : this._totalDuration,
                                    p = this._time,
                                    f = this._startTime,
                                    m = this._timeScale,
                                    g = this._paused;
                                if (t >= d - 1e-7 && t >= 0) this._totalTime = this._time = d, this._reversed || this._hasPausedChild() || (r = !0, a = "onComplete", s = !!this._timeline.autoRemoveChildren, 0 === this._duration && (t <= 0 && t >= -1e-7 || this._rawPrevTime < 0 || 1e-10 === this._rawPrevTime) && this._rawPrevTime !== t && this._first && (s = !0, this._rawPrevTime > 1e-10 && (a = "onReverseComplete"))), this._rawPrevTime = this._duration || !e || t || this._rawPrevTime === t ? t : 1e-10, t = d + 1e-4;
                                else if (t < 1e-7)
                                    if (this._totalTime = this._time = 0, (0 !== p || 0 === this._duration && 1e-10 !== this._rawPrevTime && (this._rawPrevTime > 0 || t < 0 && this._rawPrevTime >= 0)) && (a = "onReverseComplete", r = this._reversed), t < 0) this._active = !1, this._timeline.autoRemoveChildren && this._reversed ? (s = r = !0, a = "onReverseComplete") : this._rawPrevTime >= 0 && this._first && (s = !0), this._rawPrevTime = t;
                                    else {
                                        if (this._rawPrevTime = this._duration || !e || t || this._rawPrevTime === t ? t : 1e-10, 0 === t && r)
                                            for (n = this._first; n && 0 === n._startTime;) n._duration || (r = !1), n = n._next;
                                        t = 0, this._initted || (s = !0)
                                    } else {
                                    if (this._hasPause && !this._forcingPlayhead && !e) {
                                        if (t >= p)
                                            for (n = this._first; n && n._startTime <= t && !l;) n._duration || "isPause" !== n.data || n.ratio || 0 === n._startTime && 0 === this._rawPrevTime || (l = n), n = n._next;
                                        else
                                            for (n = this._last; n && n._startTime >= t && !l;) n._duration || "isPause" === n.data && n._rawPrevTime > 0 && (l = n), n = n._prev;
                                        l && (this._time = t = l._startTime, this._totalTime = t + this._cycle * (this._totalDuration + this._repeatDelay))
                                    }
                                    this._totalTime = this._time = this._rawPrevTime = t
                                }
                                if (this._time !== p && this._first || i || s || l) {
                                    if (this._initted || (this._initted = !0), this._active || !this._paused && this._time !== p && t > 0 && (this._active = !0), 0 === p && this.vars.onStart && (0 === this._time && this._duration || e || this._callback("onStart")), (h = this._time) >= p)
                                        for (n = this._first; n && (o = n._next, h === this._time && (!this._paused || g));)(n._active || n._startTime <= h && !n._paused && !n._gc) && (l === n && this.pause(), n._reversed ? n.render((n._dirty ? n.totalDuration() : n._totalDuration) - (t - n._startTime) * n._timeScale, e, i) : n.render((t - n._startTime) * n._timeScale, e, i)), n = o;
                                    else
                                        for (n = this._last; n && (o = n._prev, h === this._time && (!this._paused || g));) {
                                            if (n._active || n._startTime <= p && !n._paused && !n._gc) {
                                                if (l === n) {
                                                    for (l = n._prev; l && l.endTime() > this._time;) l.render(l._reversed ? l.totalDuration() - (t - l._startTime) * l._timeScale : (t - l._startTime) * l._timeScale, e, i), l = l._prev;
                                                    l = null, this.pause()
                                                }
                                                n._reversed ? n.render((n._dirty ? n.totalDuration() : n._totalDuration) - (t - n._startTime) * n._timeScale, e, i) : n.render((t - n._startTime) * n._timeScale, e, i)
                                            }
                                            n = o
                                        }
                                    this._onUpdate && (e || (u.length && c(), this._callback("onUpdate"))), a && (this._gc || f !== this._startTime && m === this._timeScale || (0 === this._time || d >= this.totalDuration()) && (r && (u.length && c(), this._timeline.autoRemoveChildren && this._enabled(!1, !1), this._active = !1), !e && this.vars[a] && this._callback(a)))
                                }
                            }, g._hasPausedChild = function() {
                                for (var t = this._first; t;) {
                                    if (t._paused || t instanceof r && t._hasPausedChild()) return !0;
                                    t = t._next
                                }
                                return !1
                            }, g.getChildren = function(t, e, i, r) {
                                r = r || -9999999999;
                                for (var o = [], a = this._first, s = 0; a;) a._startTime < r || (a instanceof n ? e !== !1 && (o[s++] = a) : (i !== !1 && (o[s++] = a), t !== !1 && (o = o.concat(a.getChildren(!0, e, i)), s = o.length))), a = a._next;
                                return o
                            }, g.getTweensOf = function(t, e) {
                                var i, r, o = this._gc,
                                    a = [],
                                    s = 0;
                                for (o && this._enabled(!0, !0), i = n.getTweensOf(t), r = i.length; --r > -1;)(i[r].timeline === this || e && this._contains(i[r])) && (a[s++] = i[r]);
                                return o && this._enabled(!1, !0), a
                            }, g.recent = function() {
                                return this._recent
                            }, g._contains = function(t) {
                                for (var e = t.timeline; e;) {
                                    if (e === this) return !0;
                                    e = e.timeline
                                }
                                return !1
                            }, g.shiftChildren = function(t, e, i) {
                                i = i || 0;
                                for (var n, r = this._first, o = this._labels; r;) r._startTime >= i && (r._startTime += t), r = r._next;
                                if (e)
                                    for (n in o) o[n] >= i && (o[n] += t);
                                return this._uncache(!0)
                            }, g._kill = function(t, e) {
                                if (!t && !e) return this._enabled(!1, !1);
                                for (var i = e ? this.getTweensOf(e) : this.getChildren(!0, !0, !1), n = i.length, r = !1; --n > -1;) i[n]._kill(t, e) && (r = !0);
                                return r
                            }, g.clear = function(t) {
                                var e = this.getChildren(!1, !0, !0),
                                    i = e.length;
                                for (this._time = this._totalTime = 0; --i > -1;) e[i]._enabled(!1, !1);
                                return t !== !1 && (this._labels = {}), this._uncache(!0)
                            }, g.invalidate = function() {
                                for (var e = this._first; e;) e.invalidate(), e = e._next;
                                return t.prototype.invalidate.call(this)
                            }, g._enabled = function(t, i) {
                                if (t === this._gc)
                                    for (var n = this._first; n;) n._enabled(t, !0), n = n._next;
                                return e.prototype._enabled.call(this, t, i)
                            }, g.totalTime = function(e, i, n) {
                                this._forcingPlayhead = !0;
                                var r = t.prototype.totalTime.apply(this, arguments);
                                return this._forcingPlayhead = !1, r
                            }, g.duration = function(t) {
                                return arguments.length ? (0 !== this.duration() && 0 !== t && this.timeScale(this._duration / t), this) : (this._dirty && this.totalDuration(), this._duration)
                            }, g.totalDuration = function(t) {
                                if (!arguments.length) {
                                    if (this._dirty) {
                                        for (var e, i, n = 0, r = this._last, o = 999999999999; r;) e = r._prev, r._dirty && r.totalDuration(), r._startTime > o && this._sortChildren && !r._paused ? this.add(r, r._startTime - r._delay) : o = r._startTime, r._startTime < 0 && !r._paused && (n -= r._startTime, this._timeline.smoothChildTiming && (this._startTime += r._startTime / this._timeScale), this.shiftChildren(-r._startTime, !1, -9999999999), o = 0), i = r._startTime + r._totalDuration / r._timeScale, i > n && (n = i), r = e;
                                        this._duration = this._totalDuration = n, this._dirty = !1
                                    }
                                    return this._totalDuration
                                }
                                return t && this.totalDuration() ? this.timeScale(this._totalDuration / t) : this
                            }, g.paused = function(e) {
                                if (!e)
                                    for (var i = this._first, n = this._time; i;) i._startTime === n && "isPause" === i.data && (i._rawPrevTime = 0), i = i._next;
                                return t.prototype.paused.apply(this, arguments)
                            }, g.usesFrames = function() {
                                for (var e = this._timeline; e._timeline;) e = e._timeline;
                                return e === t._rootFramesTimeline
                            }, g.rawTime = function(t) {
                                return t && (this._paused || this._repeat && this.time() > 0 && this.totalProgress() < 1) ? this._totalTime % (this._duration + this._repeatDelay) : this._paused ? this._totalTime : (this._timeline.rawTime(t) - this._startTime) * this._timeScale
                            }, r
                        }, !0), i._gsDefine("TimelineMax", ["TimelineLite", "TweenLite", "easing.Ease"], function(t, e, n) {
                            var r = function(e) {
                                    t.call(this, e),
                                        this._repeat = this.vars.repeat || 0, this._repeatDelay = this.vars.repeatDelay || 0, this._cycle = 0, this._yoyo = this.vars.yoyo === !0, this._dirty = !0
                                },
                                o = e._internals,
                                a = o.lazyTweens,
                                s = o.lazyRender,
                                l = i._gsDefine.globals,
                                u = new n(null, null, 1, 0),
                                c = r.prototype = new t;
                            return c.constructor = r, c.kill()._gc = !1, r.version = "1.19.1", c.invalidate = function() {
                                return this._yoyo = this.vars.yoyo === !0, this._repeat = this.vars.repeat || 0, this._repeatDelay = this.vars.repeatDelay || 0, this._uncache(!0), t.prototype.invalidate.call(this)
                            }, c.addCallback = function(t, i, n, r) {
                                return this.add(e.delayedCall(0, t, n, r), i)
                            }, c.removeCallback = function(t, e) {
                                if (t)
                                    if (null == e) this._kill(null, t);
                                    else
                                        for (var i = this.getTweensOf(t, !1), n = i.length, r = this._parseTimeOrLabel(e); --n > -1;) i[n]._startTime === r && i[n]._enabled(!1, !1);
                                return this
                            }, c.removePause = function(e) {
                                return this.removeCallback(t._internals.pauseCallback, e)
                            }, c.tweenTo = function(t, i) {
                                i = i || {};
                                var n, r, o, a = {
                                        ease: u,
                                        useFrames: this.usesFrames(),
                                        immediateRender: !1
                                    },
                                    s = i.repeat && l.TweenMax || e;
                                for (r in i) a[r] = i[r];
                                return a.time = this._parseTimeOrLabel(t), n = Math.abs(Number(a.time) - this._time) / this._timeScale || .001, o = new s(this, n, a), a.onStart = function() {
                                    o.target.paused(!0), o.vars.time !== o.target.time() && n === o.duration() && o.duration(Math.abs(o.vars.time - o.target.time()) / o.target._timeScale), i.onStart && i.onStart.apply(i.onStartScope || i.callbackScope || o, i.onStartParams || [])
                                }, o
                            }, c.tweenFromTo = function(t, e, i) {
                                i = i || {}, t = this._parseTimeOrLabel(t), i.startAt = {
                                    onComplete: this.seek,
                                    onCompleteParams: [t],
                                    callbackScope: this
                                }, i.immediateRender = i.immediateRender !== !1;
                                var n = this.tweenTo(e, i);
                                return n.duration(Math.abs(n.vars.time - t) / this._timeScale || .001)
                            }, c.render = function(t, e, i) {
                                this._gc && this._enabled(!0, !1);
                                var n, r, o, l, u, c, h, d, p = this._dirty ? this.totalDuration() : this._totalDuration,
                                    f = this._duration,
                                    m = this._time,
                                    g = this._totalTime,
                                    v = this._startTime,
                                    y = this._timeScale,
                                    _ = this._rawPrevTime,
                                    b = this._paused,
                                    x = this._cycle;
                                if (t >= p - 1e-7 && t >= 0) this._locked || (this._totalTime = p, this._cycle = this._repeat), this._reversed || this._hasPausedChild() || (r = !0, l = "onComplete", u = !!this._timeline.autoRemoveChildren, 0 === this._duration && (t <= 0 && t >= -1e-7 || _ < 0 || 1e-10 === _) && _ !== t && this._first && (u = !0, _ > 1e-10 && (l = "onReverseComplete"))), this._rawPrevTime = this._duration || !e || t || this._rawPrevTime === t ? t : 1e-10, this._yoyo && 0 != (1 & this._cycle) ? this._time = t = 0 : (this._time = f, t = f + 1e-4);
                                else if (t < 1e-7)
                                    if (this._locked || (this._totalTime = this._cycle = 0), this._time = 0, (0 !== m || 0 === f && 1e-10 !== _ && (_ > 0 || t < 0 && _ >= 0) && !this._locked) && (l = "onReverseComplete", r = this._reversed), t < 0) this._active = !1, this._timeline.autoRemoveChildren && this._reversed ? (u = r = !0, l = "onReverseComplete") : _ >= 0 && this._first && (u = !0), this._rawPrevTime = t;
                                    else {
                                        if (this._rawPrevTime = f || !e || t || this._rawPrevTime === t ? t : 1e-10, 0 === t && r)
                                            for (n = this._first; n && 0 === n._startTime;) n._duration || (r = !1), n = n._next;
                                        t = 0, this._initted || (u = !0)
                                    } else if (0 === f && _ < 0 && (u = !0), this._time = this._rawPrevTime = t, this._locked || (this._totalTime = t, 0 !== this._repeat && (c = f + this._repeatDelay, this._cycle = this._totalTime / c >> 0, 0 !== this._cycle && this._cycle === this._totalTime / c && g <= t && this._cycle--, this._time = this._totalTime - this._cycle * c, this._yoyo && 0 != (1 & this._cycle) && (this._time = f - this._time), this._time > f ? (this._time = f, t = f + 1e-4) : this._time < 0 ? this._time = t = 0 : t = this._time)), this._hasPause && !this._forcingPlayhead && !e && t < f) {
                                    if ((t = this._time) >= m || this._repeat && x !== this._cycle)
                                        for (n = this._first; n && n._startTime <= t && !h;) n._duration || "isPause" !== n.data || n.ratio || 0 === n._startTime && 0 === this._rawPrevTime || (h = n), n = n._next;
                                    else
                                        for (n = this._last; n && n._startTime >= t && !h;) n._duration || "isPause" === n.data && n._rawPrevTime > 0 && (h = n), n = n._prev;
                                    h && (this._time = t = h._startTime, this._totalTime = t + this._cycle * (this._totalDuration + this._repeatDelay))
                                }
                                if (this._cycle !== x && !this._locked) {
                                    var w = this._yoyo && 0 != (1 & x),
                                        T = w === (this._yoyo && 0 != (1 & this._cycle)),
                                        S = this._totalTime,
                                        M = this._cycle,
                                        E = this._rawPrevTime,
                                        C = this._time;
                                    if (this._totalTime = x * f, this._cycle < x ? w = !w : this._totalTime += f, this._time = m, this._rawPrevTime = 0 === f ? _ - 1e-4 : _, this._cycle = x, this._locked = !0, m = w ? 0 : f, this.render(m, e, 0 === f), e || this._gc || this.vars.onRepeat && (this._cycle = M, this._locked = !1, this._callback("onRepeat")), m !== this._time) return;
                                    if (T && (this._cycle = x, this._locked = !0, m = w ? f + 1e-4 : -1e-4, this.render(m, !0, !1)), this._locked = !1, this._paused && !b) return;
                                    this._time = C, this._totalTime = S, this._cycle = M, this._rawPrevTime = E
                                }
                                if (!(this._time !== m && this._first || i || u || h)) return void(g !== this._totalTime && this._onUpdate && (e || this._callback("onUpdate")));
                                if (this._initted || (this._initted = !0), this._active || !this._paused && this._totalTime !== g && t > 0 && (this._active = !0), 0 === g && this.vars.onStart && (0 === this._totalTime && this._totalDuration || e || this._callback("onStart")), (d = this._time) >= m)
                                    for (n = this._first; n && (o = n._next, d === this._time && (!this._paused || b));)(n._active || n._startTime <= this._time && !n._paused && !n._gc) && (h === n && this.pause(), n._reversed ? n.render((n._dirty ? n.totalDuration() : n._totalDuration) - (t - n._startTime) * n._timeScale, e, i) : n.render((t - n._startTime) * n._timeScale, e, i)), n = o;
                                else
                                    for (n = this._last; n && (o = n._prev, d === this._time && (!this._paused || b));) {
                                        if (n._active || n._startTime <= m && !n._paused && !n._gc) {
                                            if (h === n) {
                                                for (h = n._prev; h && h.endTime() > this._time;) h.render(h._reversed ? h.totalDuration() - (t - h._startTime) * h._timeScale : (t - h._startTime) * h._timeScale, e, i), h = h._prev;
                                                h = null, this.pause()
                                            }
                                            n._reversed ? n.render((n._dirty ? n.totalDuration() : n._totalDuration) - (t - n._startTime) * n._timeScale, e, i) : n.render((t - n._startTime) * n._timeScale, e, i)
                                        }
                                        n = o
                                    }
                                this._onUpdate && (e || (a.length && s(), this._callback("onUpdate"))), l && (this._locked || this._gc || v !== this._startTime && y === this._timeScale || (0 === this._time || p >= this.totalDuration()) && (r && (a.length && s(), this._timeline.autoRemoveChildren && this._enabled(!1, !1), this._active = !1), !e && this.vars[l] && this._callback(l)))
                            }, c.getActive = function(t, e, i) {
                                null == t && (t = !0), null == e && (e = !0), null == i && (i = !1);
                                var n, r, o = [],
                                    a = this.getChildren(t, e, i),
                                    s = 0,
                                    l = a.length;
                                for (n = 0; n < l; n++) r = a[n], r.isActive() && (o[s++] = r);
                                return o
                            }, c.getLabelAfter = function(t) {
                                t || 0 !== t && (t = this._time);
                                var e, i = this.getLabelsArray(),
                                    n = i.length;
                                for (e = 0; e < n; e++)
                                    if (i[e].time > t) return i[e].name;
                                return null
                            }, c.getLabelBefore = function(t) {
                                null == t && (t = this._time);
                                for (var e = this.getLabelsArray(), i = e.length; --i > -1;)
                                    if (e[i].time < t) return e[i].name;
                                return null
                            }, c.getLabelsArray = function() {
                                var t, e = [],
                                    i = 0;
                                for (t in this._labels) e[i++] = {
                                    time: this._labels[t],
                                    name: t
                                };
                                return e.sort(function(t, e) {
                                    return t.time - e.time
                                }), e
                            }, c.invalidate = function() {
                                return this._locked = !1, t.prototype.invalidate.call(this)
                            }, c.progress = function(t, e) {
                                return arguments.length ? this.totalTime(this.duration() * (this._yoyo && 0 != (1 & this._cycle) ? 1 - t : t) + this._cycle * (this._duration + this._repeatDelay), e) : this._time / this.duration()
                            }, c.totalProgress = function(t, e) {
                                return arguments.length ? this.totalTime(this.totalDuration() * t, e) : this._totalTime / this.totalDuration()
                            }, c.totalDuration = function(e) {
                                return arguments.length ? this._repeat !== -1 && e ? this.timeScale(this.totalDuration() / e) : this : (this._dirty && (t.prototype.totalDuration.call(this), this._totalDuration = this._repeat === -1 ? 999999999999 : this._duration * (this._repeat + 1) + this._repeatDelay * this._repeat), this._totalDuration)
                            }, c.time = function(t, e) {
                                return arguments.length ? (this._dirty && this.totalDuration(), t > this._duration && (t = this._duration), this._yoyo && 0 != (1 & this._cycle) ? t = this._duration - t + this._cycle * (this._duration + this._repeatDelay) : 0 !== this._repeat && (t += this._cycle * (this._duration + this._repeatDelay)), this.totalTime(t, e)) : this._time
                            }, c.repeat = function(t) {
                                return arguments.length ? (this._repeat = t, this._uncache(!0)) : this._repeat
                            }, c.repeatDelay = function(t) {
                                return arguments.length ? (this._repeatDelay = t, this._uncache(!0)) : this._repeatDelay
                            }, c.yoyo = function(t) {
                                return arguments.length ? (this._yoyo = t, this) : this._yoyo
                            }, c.currentLabel = function(t) {
                                return arguments.length ? this.seek(t, !0) : this.getLabelBefore(this._time + 1e-8)
                            }, r
                        }, !0),
                        function() {
                            var t = 180 / Math.PI,
                                e = [],
                                n = [],
                                r = [],
                                o = {},
                                a = i._gsDefine.globals,
                                s = function(t, e, i, n) {
                                    i === n && (i = n - (n - e) / 1e6), t === e && (e = t + (i - t) / 1e6), this.a = t, this.b = e, this.c = i, this.d = n, this.da = n - t, this.ca = i - t, this.ba = e - t
                                },
                                l = function(t, e, i, n) {
                                    var r = {
                                            a: t
                                        },
                                        o = {},
                                        a = {},
                                        s = {
                                            c: n
                                        },
                                        l = (t + e) / 2,
                                        u = (e + i) / 2,
                                        c = (i + n) / 2,
                                        h = (l + u) / 2,
                                        d = (u + c) / 2,
                                        p = (d - h) / 8;
                                    return r.b = l + (t - l) / 4, o.b = h + p, r.c = o.a = (r.b + o.b) / 2, o.c = a.a = (h + d) / 2, a.b = d - p, s.b = c + (n - c) / 4, a.c = s.a = (a.b + s.b) / 2, [r, o, a, s]
                                },
                                u = function(t, i, o, a, s) {
                                    var u, c, h, d, p, f, m, g, v, y, _, b, x, w = t.length - 1,
                                        T = 0,
                                        S = t[0].a;
                                    for (u = 0; u < w; u++) p = t[T], c = p.a, h = p.d, d = t[T + 1].d, s ? (_ = e[u], b = n[u], x = (b + _) * i * .25 / (a ? .5 : r[u] || .5), f = h - (h - c) * (a ? .5 * i : 0 !== _ ? x / _ : 0), m = h + (d - h) * (a ? .5 * i : 0 !== b ? x / b : 0), g = h - (f + ((m - f) * (3 * _ / (_ + b) + .5) / 4 || 0))) : (f = h - (h - c) * i * .5, m = h + (d - h) * i * .5, g = h - (f + m) / 2), f += g, m += g, p.c = v = f, p.b = 0 !== u ? S : S = p.a + .6 * (p.c - p.a), p.da = h - c, p.ca = v - c, p.ba = S - c, o ? (y = l(c, S, v, h), t.splice(T, 1, y[0], y[1], y[2], y[3]), T += 4) : T++, S = m;
                                    p = t[T], p.b = S, p.c = S + .4 * (p.d - S), p.da = p.d - p.a, p.ca = p.c - p.a, p.ba = S - p.a, o && (y = l(p.a, S, p.c, p.d), t.splice(T, 1, y[0], y[1], y[2], y[3]))
                                },
                                c = function(t, i, r, o) {
                                    var a, l, u, c, h, d, p = [];
                                    if (o)
                                        for (t = [o].concat(t), l = t.length; --l > -1;) "string" == typeof(d = t[l][i]) && "=" === d.charAt(1) && (t[l][i] = o[i] + Number(d.charAt(0) + d.substr(2)));
                                    if ((a = t.length - 2) < 0) return p[0] = new s(t[0][i], 0, 0, t[a < -1 ? 0 : 1][i]), p;
                                    for (l = 0; l < a; l++) u = t[l][i], c = t[l + 1][i], p[l] = new s(u, 0, 0, c), r && (h = t[l + 2][i], e[l] = (e[l] || 0) + (c - u) * (c - u), n[l] = (n[l] || 0) + (h - c) * (h - c));
                                    return p[l] = new s(t[l][i], 0, 0, t[l + 1][i]), p
                                },
                                h = function(t, i, a, s, l, h) {
                                    var d, p, f, m, g, v, y, _, b = {},
                                        x = [],
                                        w = h || t[0];
                                    l = "string" == typeof l ? "," + l + "," : ",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,", null == i && (i = 1);
                                    for (p in t[0]) x.push(p);
                                    if (t.length > 1) {
                                        for (_ = t[t.length - 1], y = !0, d = x.length; --d > -1;)
                                            if (p = x[d], Math.abs(w[p] - _[p]) > .05) {
                                                y = !1;
                                                break
                                            }
                                        y && (t = t.concat(), h && t.unshift(h), t.push(t[1]), h = t[t.length - 3])
                                    }
                                    for (e.length = n.length = r.length = 0, d = x.length; --d > -1;) p = x[d], o[p] = l.indexOf("," + p + ",") !== -1, b[p] = c(t, p, o[p], h);
                                    for (d = e.length; --d > -1;) e[d] = Math.sqrt(e[d]), n[d] = Math.sqrt(n[d]);
                                    if (!s) {
                                        for (d = x.length; --d > -1;)
                                            if (o[p])
                                                for (f = b[x[d]], v = f.length - 1, m = 0; m < v; m++) g = f[m + 1].da / n[m] + f[m].da / e[m] || 0, r[m] = (r[m] || 0) + g * g;
                                        for (d = r.length; --d > -1;) r[d] = Math.sqrt(r[d])
                                    }
                                    for (d = x.length, m = a ? 4 : 1; --d > -1;) p = x[d], f = b[p], u(f, i, a, s, o[p]), y && (f.splice(0, m), f.splice(f.length - m, m));
                                    return b
                                },
                                d = function(t, e, i) {
                                    e = e || "soft";
                                    var n, r, o, a, l, u, c, h, d, p, f, m = {},
                                        g = "cubic" === e ? 3 : 2,
                                        v = "soft" === e,
                                        y = [];
                                    if (v && i && (t = [i].concat(t)), null == t || t.length < g + 1) throw "invalid Bezier data";
                                    for (d in t[0]) y.push(d);
                                    for (u = y.length; --u > -1;) {
                                        for (d = y[u], m[d] = l = [], p = 0, h = t.length, c = 0; c < h; c++) n = null == i ? t[c][d] : "string" == typeof(f = t[c][d]) && "=" === f.charAt(1) ? i[d] + Number(f.charAt(0) + f.substr(2)) : Number(f), v && c > 1 && c < h - 1 && (l[p++] = (n + l[p - 2]) / 2), l[p++] = n;
                                        for (h = p - g + 1, p = 0, c = 0; c < h; c += g) n = l[c], r = l[c + 1], o = l[c + 2], a = 2 === g ? 0 : l[c + 3], l[p++] = f = 3 === g ? new s(n, r, o, a) : new s(n, (2 * r + n) / 3, (2 * r + o) / 3, o);
                                        l.length = p
                                    }
                                    return m
                                },
                                p = function(t, e, i) {
                                    for (var n, r, o, a, s, l, u, c, h, d, p, f = 1 / i, m = t.length; --m > -1;)
                                        for (d = t[m], o = d.a, a = d.d - o, s = d.c - o, l = d.b - o, n = r = 0, c = 1; c <= i; c++) u = f * c, h = 1 - u, n = r - (r = (u * u * a + 3 * h * (u * s + h * l)) * u), p = m * i + c - 1, e[p] = (e[p] || 0) + n * n
                                },
                                f = function(t, e) {
                                    e = e >> 0 || 6;
                                    var i, n, r, o, a = [],
                                        s = [],
                                        l = 0,
                                        u = 0,
                                        c = e - 1,
                                        h = [],
                                        d = [];
                                    for (i in t) p(t[i], a, e);
                                    for (r = a.length, n = 0; n < r; n++) l += Math.sqrt(a[n]), o = n % e, d[o] = l, o === c && (u += l, o = n / e >> 0, h[o] = d, s[o] = u, l = 0, d = []);
                                    return {
                                        length: u,
                                        lengths: s,
                                        segments: h
                                    }
                                },
                                m = i._gsDefine.plugin({
                                    propName: "bezier",
                                    priority: -1,
                                    version: "1.3.7",
                                    API: 2,
                                    global: !0,
                                    init: function(t, e, i) {
                                        this._target = t, e instanceof Array && (e = {
                                            values: e
                                        }), this._func = {}, this._mod = {}, this._props = [], this._timeRes = null == e.timeResolution ? 6 : parseInt(e.timeResolution, 10);
                                        var n, r, o, a, s, l = e.values || [],
                                            u = {},
                                            c = l[0],
                                            p = e.autoRotate || i.vars.orientToBezier;
                                        this._autoRotate = p ? p instanceof Array ? p : [
                                            ["x", "y", "rotation", p === !0 ? 0 : Number(p) || 0]
                                        ] : null;
                                        for (n in c) this._props.push(n);
                                        for (o = this._props.length; --o > -1;) n = this._props[o], this._overwriteProps.push(n), r = this._func[n] = "function" == typeof t[n], u[n] = r ? t[n.indexOf("set") || "function" != typeof t["get" + n.substr(3)] ? n : "get" + n.substr(3)]() : parseFloat(t[n]), s || u[n] !== l[0][n] && (s = u);
                                        if (this._beziers = "cubic" !== e.type && "quadratic" !== e.type && "soft" !== e.type ? h(l, isNaN(e.curviness) ? 1 : e.curviness, !1, "thruBasic" === e.type, e.correlate, s) : d(l, e.type, u), this._segCount = this._beziers[n].length, this._timeRes) {
                                            var m = f(this._beziers, this._timeRes);
                                            this._length = m.length, this._lengths = m.lengths, this._segments = m.segments, this._l1 = this._li = this._s1 = this._si = 0, this._l2 = this._lengths[0], this._curSeg = this._segments[0], this._s2 = this._curSeg[0], this._prec = 1 / this._curSeg.length
                                        }
                                        if (p = this._autoRotate)
                                            for (this._initialRotations = [], p[0] instanceof Array || (this._autoRotate = p = [p]), o = p.length; --o > -1;) {
                                                for (a = 0; a < 3; a++) n = p[o][a], this._func[n] = "function" == typeof t[n] && t[n.indexOf("set") || "function" != typeof t["get" + n.substr(3)] ? n : "get" + n.substr(3)];
                                                n = p[o][2], this._initialRotations[o] = (this._func[n] ? this._func[n].call(this._target) : this._target[n]) || 0, this._overwriteProps.push(n)
                                            }
                                        return this._startRatio = i.vars.runBackwards ? 1 : 0, !0
                                    },
                                    set: function(e) {
                                        var i, n, r, o, a, s, l, u, c, h, d = this._segCount,
                                            p = this._func,
                                            f = this._target,
                                            m = e !== this._startRatio;
                                        if (this._timeRes) {
                                            if (c = this._lengths, h = this._curSeg, e *= this._length, r = this._li, e > this._l2 && r < d - 1) {
                                                for (u = d - 1; r < u && (this._l2 = c[++r]) <= e;);
                                                this._l1 = c[r - 1], this._li = r, this._curSeg = h = this._segments[r], this._s2 = h[this._s1 = this._si = 0]
                                            } else if (e < this._l1 && r > 0) {
                                                for (; r > 0 && (this._l1 = c[--r]) >= e;);
                                                0 === r && e < this._l1 ? this._l1 = 0 : r++, this._l2 = c[r], this._li = r, this._curSeg = h = this._segments[r], this._s1 = h[(this._si = h.length - 1) - 1] || 0, this._s2 = h[this._si]
                                            }
                                            if (i = r, e -= this._l1, r = this._si, e > this._s2 && r < h.length - 1) {
                                                for (u = h.length - 1; r < u && (this._s2 = h[++r]) <= e;);
                                                this._s1 = h[r - 1], this._si = r
                                            } else if (e < this._s1 && r > 0) {
                                                for (; r > 0 && (this._s1 = h[--r]) >= e;);
                                                0 === r && e < this._s1 ? this._s1 = 0 : r++, this._s2 = h[r], this._si = r
                                            }
                                            s = (r + (e - this._s1) / (this._s2 - this._s1)) * this._prec || 0
                                        } else i = e < 0 ? 0 : e >= 1 ? d - 1 : d * e >> 0, s = (e - i * (1 / d)) * d;
                                        for (n = 1 - s, r = this._props.length; --r > -1;) o = this._props[r], a = this._beziers[o][i], l = (s * s * a.da + 3 * n * (s * a.ca + n * a.ba)) * s + a.a, this._mod[o] && (l = this._mod[o](l, f)), p[o] ? f[o](l) : f[o] = l;
                                        if (this._autoRotate) {
                                            var g, v, y, _, b, x, w, T = this._autoRotate;
                                            for (r = T.length; --r > -1;) o = T[r][2], x = T[r][3] || 0, w = T[r][4] === !0 ? 1 : t, a = this._beziers[T[r][0]], g = this._beziers[T[r][1]], a && g && (a = a[i], g = g[i], v = a.a + (a.b - a.a) * s, _ = a.b + (a.c - a.b) * s, v += (_ - v) * s, _ += (a.c + (a.d - a.c) * s - _) * s, y = g.a + (g.b - g.a) * s, b = g.b + (g.c - g.b) * s, y += (b - y) * s, b += (g.c + (g.d - g.c) * s - b) * s, l = m ? Math.atan2(b - y, _ - v) * w + x : this._initialRotations[r], this._mod[o] && (l = this._mod[o](l, f)), p[o] ? f[o](l) : f[o] = l)
                                        }
                                    }
                                }),
                                g = m.prototype;
                            m.bezierThrough = h, m.cubicToQuadratic = l, m._autoCSS = !0, m.quadraticToCubic = function(t, e, i) {
                                return new s(t, (2 * e + t) / 3, (2 * e + i) / 3, i)
                            }, m._cssRegister = function() {
                                var t = a.CSSPlugin;
                                if (t) {
                                    var e = t._internals,
                                        i = e._parseToProxy,
                                        n = e._setPluginRatio,
                                        r = e.CSSPropTween;
                                    e._registerComplexSpecialProp("bezier", {
                                        parser: function(t, e, o, a, s, l) {
                                            e instanceof Array && (e = {
                                                values: e
                                            }), l = new m;
                                            var u, c, h, d = e.values,
                                                p = d.length - 1,
                                                f = [],
                                                g = {};
                                            if (p < 0) return s;
                                            for (u = 0; u <= p; u++) h = i(t, d[u], a, s, l, p !== u), f[u] = h.end;
                                            for (c in e) g[c] = e[c];
                                            return g.values = f, s = new r(t, "bezier", 0, 0, h.pt, 2), s.data = h, s.plugin = l, s.setRatio = n, 0 === g.autoRotate && (g.autoRotate = !0), !g.autoRotate || g.autoRotate instanceof Array || (u = g.autoRotate === !0 ? 0 : Number(g.autoRotate), g.autoRotate = null != h.end.left ? [
                                                ["left", "top", "rotation", u, !1]
                                            ] : null != h.end.x && [
                                                ["x", "y", "rotation", u, !1]
                                            ]), g.autoRotate && (a._transform || a._enableTransforms(!1), h.autoRotate = a._target._gsTransform, h.proxy.rotation = h.autoRotate.rotation || 0, a._overwriteProps.push("rotation")), l._onInitTween(h.proxy, g, a._tween), s
                                        }
                                    })
                                }
                            }, g._mod = function(t) {
                                for (var e, i = this._overwriteProps, n = i.length; --n > -1;)(e = t[i[n]]) && "function" == typeof e && (this._mod[i[n]] = e)
                            }, g._kill = function(t) {
                                var e, i, n = this._props;
                                for (e in this._beziers)
                                    if (e in t)
                                        for (delete this._beziers[e], delete this._func[e], i = n.length; --i > -1;) n[i] === e && n.splice(i, 1);
                                if (n = this._autoRotate)
                                    for (i = n.length; --i > -1;) t[n[i][2]] && n.splice(i, 1);
                                return this._super._kill.call(this, t)
                            }
                        }(), i._gsDefine("plugins.CSSPlugin", ["plugins.TweenPlugin", "TweenLite"], function(t, e) {
                            var n, r, o, a, s = function() {
                                    t.call(this, "css"), this._overwriteProps.length = 0, this.setRatio = s.prototype.setRatio
                                },
                                l = i._gsDefine.globals,
                                u = {},
                                c = s.prototype = new t("css");
                            c.constructor = s, s.version = "1.19.1", s.API = 2, s.defaultTransformPerspective = 0, s.defaultSkewType = "compensated", s.defaultSmoothOrigin = !0, c = "px", s.suffixMap = {
                                top: c,
                                right: c,
                                bottom: c,
                                left: c,
                                width: c,
                                height: c,
                                fontSize: c,
                                padding: c,
                                margin: c,
                                perspective: c,
                                lineHeight: ""
                            };
                            var h, d, p, f, m, g, v, y, _ = /(?:\-|\.|\b)(\d|\.|e\-)+/g,
                                b = /(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,
                                x = /(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,
                                w = /(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,
                                T = /(?:\d|\-|\+|=|#|\.)*/g,
                                S = /opacity *= *([^)]*)/i,
                                M = /opacity:([^;]*)/i,
                                E = /^(rgb|hsl)/,
                                C = function(t, e) {
                                    return e.toUpperCase()
                                },
                                A = /(?:Left|Right|Width)/i,
                                P = /,(?=[^\)]*(?:\(|$))/gi,
                                L = /[\s,\(]/i,
                                O = Math.PI / 180,
                                k = 180 / Math.PI,
                                R = {},
                                I = {
                                    style: {}
                                },
                                D = i.document || {
                                    createElement: function() {
                                        return I
                                    }
                                },
                                B = function(t, e) {
                                    return D.createElementNS ? D.createElementNS(e || "http://www.w3.org/1999/xhtml", t) : D.createElement(t)
                                },
                                z = B("div"),
                                F = B("img"),
                                N = s._internals = {
                                    _specialProps: u
                                },
                                U = (i.navigator || {}).userAgent || "",
                                G = function() {
                                    var t = U.indexOf("Android"),
                                        e = B("a");
                                    return p = U.indexOf("Safari") !== -1 && U.indexOf("Chrome") === -1 && (t === -1 || parseFloat(U.substr(t + 8, 2)) > 3), m = p && parseFloat(U.substr(U.indexOf("Version/") + 8, 2)) < 6, f = U.indexOf("Firefox") !== -1, (/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(U) || /Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(U)) && (g = parseFloat(RegExp.$1)), !!e && (e.style.cssText = "top:1px;opacity:.55;", /^0.55/.test(e.style.opacity))
                                }(),
                                V = function(t) {
                                    return S.test("string" == typeof t ? t : (t.currentStyle ? t.currentStyle.filter : t.style.filter) || "") ? parseFloat(RegExp.$1) / 100 : 1
                                },
                                j = function(t) {
                                    i.console && console.log(t)
                                },
                                H = "",
                                W = "",
                                X = function(t, e) {
                                    e = e || z;
                                    var i, n, r = e.style;
                                    if (void 0 !== r[t]) return t;
                                    for (t = t.charAt(0).toUpperCase() + t.substr(1), i = ["O", "Moz", "ms", "Ms", "Webkit"], n = 5; --n > -1 && void 0 === r[i[n] + t];);
                                    return n >= 0 ? (W = 3 === n ? "ms" : i[n], H = "-" + W.toLowerCase() + "-", W + t) : null
                                },
                                q = D.defaultView ? D.defaultView.getComputedStyle : function() {},
                                Y = s.getStyle = function(t, e, i, n, r) {
                                    var o;
                                    return G || "opacity" !== e ? (!n && t.style[e] ? o = t.style[e] : (i = i || q(t)) ? o = i[e] || i.getPropertyValue(e) || i.getPropertyValue(e.replace(/([A-Z])/g, "-$1").toLowerCase()) : t.currentStyle && (o = t.currentStyle[e]), null == r || o && "none" !== o && "auto" !== o && "auto auto" !== o ? o : r) : V(t)
                                },
                                Z = N.convertToPixels = function(t, i, n, r, o) {
                                    if ("px" === r || !r) return n;
                                    if ("auto" === r || !n) return 0;
                                    var a, l, u, c = A.test(i),
                                        h = t,
                                        d = z.style,
                                        p = n < 0,
                                        f = 1 === n;
                                    if (p && (n = -n), f && (n *= 100), "%" === r && i.indexOf("border") !== -1) a = n / 100 * (c ? t.clientWidth : t.clientHeight);
                                    else {
                                        if (d.cssText = "border:0 solid red;position:" + Y(t, "position") + ";line-height:0;", "%" !== r && h.appendChild && "v" !== r.charAt(0) && "rem" !== r) d[c ? "borderLeftWidth" : "borderTopWidth"] = n + r;
                                        else {
                                            if (h = t.parentNode || D.body, l = h._gsCache, u = e.ticker.frame, l && c && l.time === u) return l.width * n / 100;
                                            d[c ? "width" : "height"] = n + r
                                        }
                                        h.appendChild(z), a = parseFloat(z[c ? "offsetWidth" : "offsetHeight"]), h.removeChild(z), c && "%" === r && s.cacheWidths !== !1 && (l = h._gsCache = h._gsCache || {}, l.time = u, l.width = a / n * 100), 0 !== a || o || (a = Z(t, i, n, r, !0))
                                    }
                                    return f && (a /= 100), p ? -a : a
                                },
                                K = N.calculateOffset = function(t, e, i) {
                                    if ("absolute" !== Y(t, "position", i)) return 0;
                                    var n = "left" === e ? "Left" : "Top",
                                        r = Y(t, "margin" + n, i);
                                    return t["offset" + n] - (Z(t, e, parseFloat(r), r.replace(T, "")) || 0)
                                },
                                Q = function(t, e) {
                                    var i, n, r, o = {};
                                    if (e = e || q(t, null))
                                        if (i = e.length)
                                            for (; --i > -1;) r = e[i], r.indexOf("-transform") !== -1 && St !== r || (o[r.replace(/-([a-z])/gi, C)] = e.getPropertyValue(r));
                                        else
                                            for (i in e) i.indexOf("Transform") !== -1 && Tt !== i || (o[i] = e[i]);
                                    else if (e = t.currentStyle || t.style)
                                        for (i in e) "string" == typeof i && void 0 === o[i] && (o[i.replace(/-([a-z])/gi, C)] = e[i]);
                                    return G || (o.opacity = V(t)), n = Ft(t, e, !1), o.rotation = n.rotation, o.skewX = n.skewX, o.scaleX = n.scaleX, o.scaleY = n.scaleY, o.x = n.x, o.y = n.y, Et && (o.z = n.z, o.rotationX = n.rotationX, o.rotationY = n.rotationY, o.scaleZ = n.scaleZ), o.filters && delete o.filters, o
                                },
                                J = function(t, e, i, n, r) {
                                    var o, a, s, l = {},
                                        u = t.style;
                                    for (a in i) "cssText" !== a && "length" !== a && isNaN(a) && (e[a] !== (o = i[a]) || r && r[a]) && a.indexOf("Origin") === -1 && ("number" != typeof o && "string" != typeof o || (l[a] = "auto" !== o || "left" !== a && "top" !== a ? "" !== o && "auto" !== o && "none" !== o || "string" != typeof e[a] || "" === e[a].replace(w, "") ? o : 0 : K(t, a), void 0 !== u[a] && (s = new pt(u, a, u[a], s))));
                                    if (n)
                                        for (a in n) "className" !== a && (l[a] = n[a]);
                                    return {
                                        difs: l,
                                        firstMPT: s
                                    }
                                },
                                $ = {
                                    width: ["Left", "Right"],
                                    height: ["Top", "Bottom"]
                                },
                                tt = ["marginLeft", "marginRight", "marginTop", "marginBottom"],
                                et = function(t, e, i) {
                                    if ("svg" === (t.nodeName + "").toLowerCase()) return (i || q(t))[e] || 0;
                                    if (t.getCTM && Dt(t)) return t.getBBox()[e] || 0;
                                    var n = parseFloat("width" === e ? t.offsetWidth : t.offsetHeight),
                                        r = $[e],
                                        o = r.length;
                                    for (i = i || q(t, null); --o > -1;) n -= parseFloat(Y(t, "padding" + r[o], i, !0)) || 0, n -= parseFloat(Y(t, "border" + r[o] + "Width", i, !0)) || 0;
                                    return n
                                },
                                it = function(t, e) {
                                    if ("contain" === t || "auto" === t || "auto auto" === t) return t + " ";
                                    null != t && "" !== t || (t = "0 0");
                                    var i, n = t.split(" "),
                                        r = t.indexOf("left") !== -1 ? "0%" : t.indexOf("right") !== -1 ? "100%" : n[0],
                                        o = t.indexOf("top") !== -1 ? "0%" : t.indexOf("bottom") !== -1 ? "100%" : n[1];
                                    if (n.length > 3 && !e) {
                                        for (n = t.split(", ").join(",").split(","), t = [], i = 0; i < n.length; i++) t.push(it(n[i]));
                                        return t.join(",")
                                    }
                                    return null == o ? o = "center" === r ? "50%" : "0" : "center" === o && (o = "50%"), ("center" === r || isNaN(parseFloat(r)) && (r + "").indexOf("=") === -1) && (r = "50%"), t = r + " " + o + (n.length > 2 ? " " + n[2] : ""), e && (e.oxp = r.indexOf("%") !== -1, e.oyp = o.indexOf("%") !== -1, e.oxr = "=" === r.charAt(1), e.oyr = "=" === o.charAt(1), e.ox = parseFloat(r.replace(w, "")), e.oy = parseFloat(o.replace(w, "")), e.v = t), e || t
                                },
                                nt = function(t, e) {
                                    return "function" == typeof t && (t = t(y, v)), "string" == typeof t && "=" === t.charAt(1) ? parseInt(t.charAt(0) + "1", 10) * parseFloat(t.substr(2)) : parseFloat(t) - parseFloat(e) || 0
                                },
                                rt = function(t, e) {
                                    return "function" == typeof t && (t = t(y, v)), null == t ? e : "string" == typeof t && "=" === t.charAt(1) ? parseInt(t.charAt(0) + "1", 10) * parseFloat(t.substr(2)) + e : parseFloat(t) || 0
                                },
                                ot = function(t, e, i, n) {
                                    var r, o, a, s, l;
                                    return "function" == typeof t && (t = t(y, v)), null == t ? s = e : "number" == typeof t ? s = t : (r = 360, o = t.split("_"), l = "=" === t.charAt(1), a = (l ? parseInt(t.charAt(0) + "1", 10) * parseFloat(o[0].substr(2)) : parseFloat(o[0])) * (t.indexOf("rad") === -1 ? 1 : k) - (l ? 0 : e), o.length && (n && (n[i] = e + a), t.indexOf("short") !== -1 && (a %= r) !== a % (r / 2) && (a = a < 0 ? a + r : a - r), t.indexOf("_cw") !== -1 && a < 0 ? a = (a + 9999999999 * r) % r - (a / r | 0) * r : t.indexOf("ccw") !== -1 && a > 0 && (a = (a - 9999999999 * r) % r - (a / r | 0) * r)), s = e + a), s < 1e-6 && s > -1e-6 && (s = 0), s
                                },
                                at = {
                                    aqua: [0, 255, 255],
                                    lime: [0, 255, 0],
                                    silver: [192, 192, 192],
                                    black: [0, 0, 0],
                                    maroon: [128, 0, 0],
                                    teal: [0, 128, 128],
                                    blue: [0, 0, 255],
                                    navy: [0, 0, 128],
                                    white: [255, 255, 255],
                                    fuchsia: [255, 0, 255],
                                    olive: [128, 128, 0],
                                    yellow: [255, 255, 0],
                                    orange: [255, 165, 0],
                                    gray: [128, 128, 128],
                                    purple: [128, 0, 128],
                                    green: [0, 128, 0],
                                    red: [255, 0, 0],
                                    pink: [255, 192, 203],
                                    cyan: [0, 255, 255],
                                    transparent: [255, 255, 255, 0]
                                },
                                st = function(t, e, i) {
                                    return t = t < 0 ? t + 1 : t > 1 ? t - 1 : t, 255 * (6 * t < 1 ? e + (i - e) * t * 6 : t < .5 ? i : 3 * t < 2 ? e + (i - e) * (2 / 3 - t) * 6 : e) + .5 | 0
                                },
                                lt = s.parseColor = function(t, e) {
                                    var i, n, r, o, a, s, l, u, c, h, d;
                                    if (t)
                                        if ("number" == typeof t) i = [t >> 16, t >> 8 & 255, 255 & t];
                                        else {
                                            if ("," === t.charAt(t.length - 1) && (t = t.substr(0, t.length - 1)), at[t]) i = at[t];
                                            else if ("#" === t.charAt(0)) 4 === t.length && (n = t.charAt(1), r = t.charAt(2), o = t.charAt(3), t = "#" + n + n + r + r + o + o), t = parseInt(t.substr(1), 16), i = [t >> 16, t >> 8 & 255, 255 & t];
                                            else if ("hsl" === t.substr(0, 3))
                                                if (i = d = t.match(_), e) {
                                                    if (t.indexOf("=") !== -1) return t.match(b)
                                                } else a = Number(i[0]) % 360 / 360, s = Number(i[1]) / 100, l = Number(i[2]) / 100, r = l <= .5 ? l * (s + 1) : l + s - l * s, n = 2 * l - r, i.length > 3 && (i[3] = Number(t[3])), i[0] = st(a + 1 / 3, n, r), i[1] = st(a, n, r), i[2] = st(a - 1 / 3, n, r);
                                            else i = t.match(_) || at.transparent;
                                            i[0] = Number(i[0]), i[1] = Number(i[1]), i[2] = Number(i[2]), i.length > 3 && (i[3] = Number(i[3]))
                                        } else i = at.black;
                                    return e && !d && (n = i[0] / 255, r = i[1] / 255, o = i[2] / 255, u = Math.max(n, r, o), c = Math.min(n, r, o), l = (u + c) / 2, u === c ? a = s = 0 : (h = u - c, s = l > .5 ? h / (2 - u - c) : h / (u + c), a = u === n ? (r - o) / h + (r < o ? 6 : 0) : u === r ? (o - n) / h + 2 : (n - r) / h + 4, a *= 60), i[0] = a + .5 | 0, i[1] = 100 * s + .5 | 0, i[2] = 100 * l + .5 | 0), i
                                },
                                ut = function(t, e) {
                                    var i, n, r, o = t.match(ct) || [],
                                        a = 0,
                                        s = o.length ? "" : t;
                                    for (i = 0; i < o.length; i++) n = o[i], r = t.substr(a, t.indexOf(n, a) - a), a += r.length + n.length, n = lt(n, e), 3 === n.length && n.push(1), s += r + (e ? "hsla(" + n[0] + "," + n[1] + "%," + n[2] + "%," + n[3] : "rgba(" + n.join(",")) + ")";
                                    return s + t.substr(a)
                                },
                                ct = "(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";
                            for (c in at) ct += "|" + c + "\\b";
                            ct = new RegExp(ct + ")", "gi"), s.colorStringFilter = function(t) {
                                var e, i = t[0] + t[1];
                                ct.test(i) && (e = i.indexOf("hsl(") !== -1 || i.indexOf("hsla(") !== -1, t[0] = ut(t[0], e), t[1] = ut(t[1], e)), ct.lastIndex = 0
                            }, e.defaultStringFilter || (e.defaultStringFilter = s.colorStringFilter);
                            var ht = function(t, e, i, n) {
                                    if (null == t) return function(t) {
                                        return t
                                    };
                                    var r, o = e ? (t.match(ct) || [""])[0] : "",
                                        a = t.split(o).join("").match(x) || [],
                                        s = t.substr(0, t.indexOf(a[0])),
                                        l = ")" === t.charAt(t.length - 1) ? ")" : "",
                                        u = t.indexOf(" ") !== -1 ? " " : ",",
                                        c = a.length,
                                        h = c > 0 ? a[0].replace(_, "") : "";
                                    return c ? r = e ? function(t) {
                                        var e, d, p, f;
                                        if ("number" == typeof t) t += h;
                                        else if (n && P.test(t)) {
                                            for (f = t.replace(P, "|").split("|"), p = 0; p < f.length; p++) f[p] = r(f[p]);
                                            return f.join(",")
                                        }
                                        if (e = (t.match(ct) || [o])[0], d = t.split(e).join("").match(x) || [], p = d.length, c > p--)
                                            for (; ++p < c;) d[p] = i ? d[(p - 1) / 2 | 0] : a[p];
                                        return s + d.join(u) + u + e + l + (t.indexOf("inset") !== -1 ? " inset" : "")
                                    } : function(t) {
                                        var e, o, d;
                                        if ("number" == typeof t) t += h;
                                        else if (n && P.test(t)) {
                                            for (o = t.replace(P, "|").split("|"), d = 0; d < o.length; d++) o[d] = r(o[d]);
                                            return o.join(",")
                                        }
                                        if (e = t.match(x) || [], d = e.length, c > d--)
                                            for (; ++d < c;) e[d] = i ? e[(d - 1) / 2 | 0] : a[d];
                                        return s + e.join(u) + l
                                    } : function(t) {
                                        return t
                                    }
                                },
                                dt = function(t) {
                                    return t = t.split(","),
                                        function(e, i, n, r, o, a, s) {
                                            var l, u = (i + "").split(" ");
                                            for (s = {}, l = 0; l < 4; l++) s[t[l]] = u[l] = u[l] || u[(l - 1) / 2 >> 0];
                                            return r.parse(e, s, o, a)
                                        }
                                },
                                pt = (N._setPluginRatio = function(t) {
                                    this.plugin.setRatio(t);
                                    for (var e, i, n, r, o, a = this.data, s = a.proxy, l = a.firstMPT; l;) e = s[l.v], l.r ? e = Math.round(e) : e < 1e-6 && e > -1e-6 && (e = 0), l.t[l.p] = e, l = l._next;
                                    if (a.autoRotate && (a.autoRotate.rotation = a.mod ? a.mod(s.rotation, this.t) : s.rotation), 1 === t || 0 === t)
                                        for (l = a.firstMPT, o = 1 === t ? "e" : "b"; l;) {
                                            if (i = l.t, i.type) {
                                                if (1 === i.type) {
                                                    for (r = i.xs0 + i.s + i.xs1, n = 1; n < i.l; n++) r += i["xn" + n] + i["xs" + (n + 1)];
                                                    i[o] = r
                                                }
                                            } else i[o] = i.s + i.xs0;
                                            l = l._next
                                        }
                                }, function(t, e, i, n, r) {
                                    this.t = t, this.p = e, this.v = i, this.r = r, n && (n._prev = this, this._next = n)
                                }),
                                ft = (N._parseToProxy = function(t, e, i, n, r, o) {
                                    var a, s, l, u, c, h = n,
                                        d = {},
                                        p = {},
                                        f = i._transform,
                                        m = R;
                                    for (i._transform = null, R = e, n = c = i.parse(t, e, n, r), R = m, o && (i._transform = f, h && (h._prev = null, h._prev && (h._prev._next = null))); n && n !== h;) {
                                        if (n.type <= 1 && (s = n.p, p[s] = n.s + n.c, d[s] = n.s, o || (u = new pt(n, "s", s, u, n.r), n.c = 0), 1 === n.type))
                                            for (a = n.l; --a > 0;) l = "xn" + a, s = n.p + "_" + l, p[s] = n.data[l], d[s] = n[l], o || (u = new pt(n, l, s, u, n.rxp[l]));
                                        n = n._next
                                    }
                                    return {
                                        proxy: d,
                                        end: p,
                                        firstMPT: u,
                                        pt: c
                                    }
                                }, N.CSSPropTween = function(t, e, i, r, o, s, l, u, c, h, d) {
                                    this.t = t, this.p = e, this.s = i, this.c = r, this.n = l || e, t instanceof ft || a.push(this.n), this.r = u, this.type = s || 0, c && (this.pr = c, n = !0), this.b = void 0 === h ? i : h, this.e = void 0 === d ? i + r : d, o && (this._next = o, o._prev = this)
                                }),
                                mt = function(t, e, i, n, r, o) {
                                    var a = new ft(t, e, i, n - i, r, -1, o);
                                    return a.b = i, a.e = a.xs0 = n, a
                                },
                                gt = s.parseComplex = function(t, e, i, n, r, o, a, l, u, c) {
                                    i = i || o || "", "function" == typeof n && (n = n(y, v)), a = new ft(t, e, 0, 0, a, c ? 2 : 1, null, !1, l, i, n), n += "", r && ct.test(n + i) && (n = [i, n], s.colorStringFilter(n), i = n[0], n = n[1]);
                                    var d, p, f, m, g, x, w, T, S, M, E, C, A, L = i.split(", ").join(",").split(" "),
                                        O = n.split(", ").join(",").split(" "),
                                        k = L.length,
                                        R = h !== !1;
                                    for (n.indexOf(",") === -1 && i.indexOf(",") === -1 || (L = L.join(" ").replace(P, ", ").split(" "), O = O.join(" ").replace(P, ", ").split(" "), k = L.length), k !== O.length && (L = (o || "").split(" "), k = L.length), a.plugin = u, a.setRatio = c, ct.lastIndex = 0, d = 0; d < k; d++)
                                        if (m = L[d], g = O[d], (T = parseFloat(m)) || 0 === T) a.appendXtra("", T, nt(g, T), g.replace(b, ""), R && g.indexOf("px") !== -1, !0);
                                        else if (r && ct.test(m)) C = g.indexOf(")") + 1, C = ")" + (C ? g.substr(C) : ""), A = g.indexOf("hsl") !== -1 && G, m = lt(m, A), g = lt(g, A), S = m.length + g.length > 6, S && !G && 0 === g[3] ? (a["xs" + a.l] += a.l ? " transparent" : "transparent", a.e = a.e.split(O[d]).join("transparent")) : (G || (S = !1), A ? a.appendXtra(S ? "hsla(" : "hsl(", m[0], nt(g[0], m[0]), ",", !1, !0).appendXtra("", m[1], nt(g[1], m[1]), "%,", !1).appendXtra("", m[2], nt(g[2], m[2]), S ? "%," : "%" + C, !1) : a.appendXtra(S ? "rgba(" : "rgb(", m[0], g[0] - m[0], ",", !0, !0).appendXtra("", m[1], g[1] - m[1], ",", !0).appendXtra("", m[2], g[2] - m[2], S ? "," : C, !0), S && (m = m.length < 4 ? 1 : m[3], a.appendXtra("", m, (g.length < 4 ? 1 : g[3]) - m, C, !1))), ct.lastIndex = 0;
                                    else if (x = m.match(_)) {
                                        if (!(w = g.match(b)) || w.length !== x.length) return a;
                                        for (f = 0, p = 0; p < x.length; p++) E = x[p], M = m.indexOf(E, f), a.appendXtra(m.substr(f, M - f), Number(E), nt(w[p], E), "", R && "px" === m.substr(M + E.length, 2), 0 === p), f = M + E.length;
                                        a["xs" + a.l] += m.substr(f)
                                    } else a["xs" + a.l] += a.l || a["xs" + a.l] ? " " + g : g;
                                    if (n.indexOf("=") !== -1 && a.data) {
                                        for (C = a.xs0 + a.data.s, d = 1; d < a.l; d++) C += a["xs" + d] + a.data["xn" + d];
                                        a.e = C + a["xs" + d]
                                    }
                                    return a.l || (a.type = -1, a.xs0 = a.e), a.xfirst || a
                                },
                                vt = 9;
                            for (c = ft.prototype, c.l = c.pr = 0; --vt > 0;) c["xn" + vt] = 0, c["xs" + vt] = "";
                            c.xs0 = "", c._next = c._prev = c.xfirst = c.data = c.plugin = c.setRatio = c.rxp = null, c.appendXtra = function(t, e, i, n, r, o) {
                                var a = this,
                                    s = a.l;
                                return a["xs" + s] += o && (s || a["xs" + s]) ? " " + t : t || "", i || 0 === s || a.plugin ? (a.l++, a.type = a.setRatio ? 2 : 1, a["xs" + a.l] = n || "", s > 0 ? (a.data["xn" + s] = e + i, a.rxp["xn" + s] = r, a["xn" + s] = e, a.plugin || (a.xfirst = new ft(a, "xn" + s, e, i, a.xfirst || a, 0, a.n, r, a.pr), a.xfirst.xs0 = 0), a) : (a.data = {
                                    s: e + i
                                }, a.rxp = {}, a.s = e, a.c = i, a.r = r, a)) : (a["xs" + s] += e + (n || ""), a)
                            };
                            var yt = function(t, e) {
                                    e = e || {}, this.p = e.prefix ? X(t) || t : t, u[t] = u[this.p] = this, this.format = e.formatter || ht(e.defaultValue, e.color, e.collapsible, e.multi), e.parser && (this.parse = e.parser), this.clrs = e.color, this.multi = e.multi, this.keyword = e.keyword, this.dflt = e.defaultValue, this.pr = e.priority || 0
                                },
                                _t = N._registerComplexSpecialProp = function(t, e, i) {
                                    "object" != typeof e && (e = {
                                        parser: i
                                    });
                                    var n, r = t.split(","),
                                        o = e.defaultValue;
                                    for (i = i || [o], n = 0; n < r.length; n++) e.prefix = 0 === n && e.prefix, e.defaultValue = i[n] || o, new yt(r[n], e)
                                },
                                bt = N._registerPluginProp = function(t) {
                                    if (!u[t]) {
                                        var e = t.charAt(0).toUpperCase() + t.substr(1) + "Plugin";
                                        _t(t, {
                                            parser: function(t, i, n, r, o, a, s) {
                                                var c = l.com.greensock.plugins[e];
                                                return c ? (c._cssRegister(), u[n].parse(t, i, n, r, o, a, s)) : (j("Error: " + e + " js file not loaded."), o)
                                            }
                                        })
                                    }
                                };
                            c = yt.prototype, c.parseComplex = function(t, e, i, n, r, o) {
                                var a, s, l, u, c, h, d = this.keyword;
                                if (this.multi && (P.test(i) || P.test(e) ? (s = e.replace(P, "|").split("|"), l = i.replace(P, "|").split("|")) : d && (s = [e], l = [i])), l) {
                                    for (u = l.length > s.length ? l.length : s.length, a = 0; a < u; a++) e = s[a] = s[a] || this.dflt, i = l[a] = l[a] || this.dflt, d && (c = e.indexOf(d), h = i.indexOf(d), c !== h && (h === -1 ? s[a] = s[a].split(d).join("") : c === -1 && (s[a] += " " + d)));
                                    e = s.join(", "), i = l.join(", ")
                                }
                                return gt(t, this.p, e, i, this.clrs, this.dflt, n, this.pr, r, o)
                            }, c.parse = function(t, e, i, n, r, a, s) {
                                return this.parseComplex(t.style, this.format(Y(t, this.p, o, !1, this.dflt)), this.format(e), r, a)
                            }, s.registerSpecialProp = function(t, e, i) {
                                _t(t, {
                                    parser: function(t, n, r, o, a, s, l) {
                                        var u = new ft(t, r, 0, 0, a, 2, r, !1, i);
                                        return u.plugin = s, u.setRatio = e(t, n, o._tween, r), u
                                    },
                                    priority: i
                                })
                            }, s.useSVGTransformAttr = !0;
                            var xt, wt = "scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),
                                Tt = X("transform"),
                                St = H + "transform",
                                Mt = X("transformOrigin"),
                                Et = null !== X("perspective"),
                                Ct = N.Transform = function() {
                                    this.perspective = parseFloat(s.defaultTransformPerspective) || 0, this.force3D = !(s.defaultForce3D === !1 || !Et) && (s.defaultForce3D || "auto")
                                },
                                At = i.SVGElement,
                                Pt = function(t, e, i) {
                                    var n, r = D.createElementNS("http://www.w3.org/2000/svg", t);
                                    for (n in i) r.setAttributeNS(null, n.replace(/([a-z])([A-Z])/g, "$1-$2").toLowerCase(), i[n]);
                                    return e.appendChild(r), r
                                },
                                Lt = D.documentElement || {},
                                Ot = function() {
                                    var t, e, n, r = g || /Android/i.test(U) && !i.chrome;
                                    return D.createElementNS && !r && (t = Pt("svg", Lt), e = Pt("rect", t, {
                                        width: 100,
                                        height: 50,
                                        x: 100
                                    }), n = e.getBoundingClientRect().width, e.style[Mt] = "50% 50%", e.style[Tt] = "scaleX(0.5)", r = n === e.getBoundingClientRect().width && !(f && Et), Lt.removeChild(t)), r
                                }(),
                                kt = function(t, e, i, n, r, o) {
                                    var a, l, u, c, h, d, p, f, m, g, v, y, _, b, x = t._gsTransform,
                                        w = zt(t, !0);
                                    x && (_ = x.xOrigin, b = x.yOrigin), (!n || (a = n.split(" ")).length < 2) && (p = t.getBBox(), 0 === p.x && 0 === p.y && p.width + p.height === 0 && (p = {
                                            x: parseFloat(t.hasAttribute("x") ? t.getAttribute("x") : t.hasAttribute("cx") ? t.getAttribute("cx") : 0) || 0,
                                            y: parseFloat(t.hasAttribute("y") ? t.getAttribute("y") : t.hasAttribute("cy") ? t.getAttribute("cy") : 0) || 0,
                                            width: 0,
                                            height: 0
                                        }), e = it(e).split(" "),
                                        a = [(e[0].indexOf("%") !== -1 ? parseFloat(e[0]) / 100 * p.width : parseFloat(e[0])) + p.x, (e[1].indexOf("%") !== -1 ? parseFloat(e[1]) / 100 * p.height : parseFloat(e[1])) + p.y]), i.xOrigin = c = parseFloat(a[0]), i.yOrigin = h = parseFloat(a[1]), n && w !== Bt && (d = w[0], p = w[1], f = w[2], m = w[3], g = w[4], v = w[5], (y = d * m - p * f) && (l = c * (m / y) + h * (-f / y) + (f * v - m * g) / y, u = c * (-p / y) + h * (d / y) - (d * v - p * g) / y, c = i.xOrigin = a[0] = l, h = i.yOrigin = a[1] = u)), x && (o && (i.xOffset = x.xOffset, i.yOffset = x.yOffset, x = i), r || r !== !1 && s.defaultSmoothOrigin !== !1 ? (l = c - _, u = h - b, x.xOffset += l * w[0] + u * w[2] - l, x.yOffset += l * w[1] + u * w[3] - u) : x.xOffset = x.yOffset = 0), o || t.setAttribute("data-svg-origin", a.join(" "))
                                },
                                Rt = function(t) {
                                    var e, i = B("svg", this.ownerSVGElement.getAttribute("xmlns") || "http://www.w3.org/2000/svg"),
                                        n = this.parentNode,
                                        r = this.nextSibling,
                                        o = this.style.cssText;
                                    if (Lt.appendChild(i), i.appendChild(this), this.style.display = "block", t) try {
                                        e = this.getBBox(), this._originalGetBBox = this.getBBox, this.getBBox = Rt
                                    } catch (t) {} else this._originalGetBBox && (e = this._originalGetBBox());
                                    return r ? n.insertBefore(this, r) : n.appendChild(this), Lt.removeChild(i), this.style.cssText = o, e
                                },
                                It = function(t) {
                                    try {
                                        return t.getBBox()
                                    } catch (e) {
                                        return Rt.call(t, !0)
                                    }
                                },
                                Dt = function(t) {
                                    return !(!(At && t.getCTM && It(t)) || t.parentNode && !t.ownerSVGElement)
                                },
                                Bt = [1, 0, 0, 1, 0, 0],
                                zt = function(t, e) {
                                    var i, n, r, o, a, s, l = t._gsTransform || new Ct,
                                        u = t.style;
                                    if (Tt ? n = Y(t, St, null, !0) : t.currentStyle && (n = t.currentStyle.filter.match(/(M11|M12|M21|M22)=[\d\-\.e]+/gi), n = n && 4 === n.length ? [n[0].substr(4), Number(n[2].substr(4)), Number(n[1].substr(4)), n[3].substr(4), l.x || 0, l.y || 0].join(",") : ""), i = !n || "none" === n || "matrix(1, 0, 0, 1, 0, 0)" === n, i && Tt && ((s = "none" === q(t).display) || !t.parentNode) && (s && (o = u.display, u.display = "block"), t.parentNode || (a = 1, Lt.appendChild(t)), n = Y(t, St, null, !0), i = !n || "none" === n || "matrix(1, 0, 0, 1, 0, 0)" === n, o ? u.display = o : s && Vt(u, "display"), a && Lt.removeChild(t)), (l.svg || t.getCTM && Dt(t)) && (i && (u[Tt] + "").indexOf("matrix") !== -1 && (n = u[Tt], i = 0), r = t.getAttribute("transform"), i && r && (r.indexOf("matrix") !== -1 ? (n = r, i = 0) : r.indexOf("translate") !== -1 && (n = "matrix(1,0,0,1," + r.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",") + ")", i = 0))), i) return Bt;
                                    for (r = (n || "").match(_) || [], vt = r.length; --vt > -1;) o = Number(r[vt]), r[vt] = (a = o - (o |= 0)) ? (1e5 * a + (a < 0 ? -.5 : .5) | 0) / 1e5 + o : o;
                                    return e && r.length > 6 ? [r[0], r[1], r[4], r[5], r[12], r[13]] : r
                                },
                                Ft = N.getTransform = function(t, i, n, r) {
                                    if (t._gsTransform && n && !r) return t._gsTransform;
                                    var o, a, l, u, c, h, d = n ? t._gsTransform || new Ct : new Ct,
                                        p = d.scaleX < 0,
                                        f = Et ? parseFloat(Y(t, Mt, i, !1, "0 0 0").split(" ")[2]) || d.zOrigin || 0 : 0,
                                        m = parseFloat(s.defaultTransformPerspective) || 0;
                                    if (d.svg = !(!t.getCTM || !Dt(t)), d.svg && (kt(t, Y(t, Mt, i, !1, "50% 50%") + "", d, t.getAttribute("data-svg-origin")), xt = s.useSVGTransformAttr || Ot), (o = zt(t)) !== Bt) {
                                        if (16 === o.length) {
                                            var g, v, y, _, b, x = o[0],
                                                w = o[1],
                                                T = o[2],
                                                S = o[3],
                                                M = o[4],
                                                E = o[5],
                                                C = o[6],
                                                A = o[7],
                                                P = o[8],
                                                L = o[9],
                                                O = o[10],
                                                R = o[12],
                                                I = o[13],
                                                D = o[14],
                                                B = o[11],
                                                z = Math.atan2(C, O);
                                            d.zOrigin && (D = -d.zOrigin, R = P * D - o[12], I = L * D - o[13], D = O * D + d.zOrigin - o[14]), d.rotationX = z * k, z && (_ = Math.cos(-z), b = Math.sin(-z), g = M * _ + P * b, v = E * _ + L * b, y = C * _ + O * b, P = M * -b + P * _, L = E * -b + L * _, O = C * -b + O * _, B = A * -b + B * _, M = g, E = v, C = y), z = Math.atan2(-T, O), d.rotationY = z * k, z && (_ = Math.cos(-z), b = Math.sin(-z), g = x * _ - P * b, v = w * _ - L * b, y = T * _ - O * b, L = w * b + L * _, O = T * b + O * _, B = S * b + B * _, x = g, w = v, T = y), z = Math.atan2(w, x), d.rotation = z * k, z && (_ = Math.cos(-z), b = Math.sin(-z), x = x * _ + M * b, v = w * _ + E * b, E = w * -b + E * _, C = T * -b + C * _, w = v), d.rotationX && Math.abs(d.rotationX) + Math.abs(d.rotation) > 359.9 && (d.rotationX = d.rotation = 0, d.rotationY = 180 - d.rotationY), d.scaleX = (1e5 * Math.sqrt(x * x + w * w) + .5 | 0) / 1e5, d.scaleY = (1e5 * Math.sqrt(E * E + L * L) + .5 | 0) / 1e5, d.scaleZ = (1e5 * Math.sqrt(C * C + O * O) + .5 | 0) / 1e5, d.rotationX || d.rotationY ? d.skewX = 0 : (d.skewX = M || E ? Math.atan2(M, E) * k + d.rotation : d.skewX || 0, Math.abs(d.skewX) > 90 && Math.abs(d.skewX) < 270 && (p ? (d.scaleX *= -1, d.skewX += d.rotation <= 0 ? 180 : -180, d.rotation += d.rotation <= 0 ? 180 : -180) : (d.scaleY *= -1, d.skewX += d.skewX <= 0 ? 180 : -180))), d.perspective = B ? 1 / (B < 0 ? -B : B) : 0, d.x = R, d.y = I, d.z = D, d.svg && (d.x -= d.xOrigin - (d.xOrigin * x - d.yOrigin * M), d.y -= d.yOrigin - (d.yOrigin * w - d.xOrigin * E))
                                        } else if (!Et || r || !o.length || d.x !== o[4] || d.y !== o[5] || !d.rotationX && !d.rotationY) {
                                            var F = o.length >= 6,
                                                N = F ? o[0] : 1,
                                                U = o[1] || 0,
                                                G = o[2] || 0,
                                                V = F ? o[3] : 1;
                                            d.x = o[4] || 0, d.y = o[5] || 0, l = Math.sqrt(N * N + U * U), u = Math.sqrt(V * V + G * G), c = N || U ? Math.atan2(U, N) * k : d.rotation || 0, h = G || V ? Math.atan2(G, V) * k + c : d.skewX || 0, Math.abs(h) > 90 && Math.abs(h) < 270 && (p ? (l *= -1, h += c <= 0 ? 180 : -180, c += c <= 0 ? 180 : -180) : (u *= -1, h += h <= 0 ? 180 : -180)), d.scaleX = l, d.scaleY = u, d.rotation = c, d.skewX = h, Et && (d.rotationX = d.rotationY = d.z = 0, d.perspective = m, d.scaleZ = 1), d.svg && (d.x -= d.xOrigin - (d.xOrigin * N + d.yOrigin * G), d.y -= d.yOrigin - (d.xOrigin * U + d.yOrigin * V))
                                        }
                                        d.zOrigin = f;
                                        for (a in d) d[a] < 2e-5 && d[a] > -2e-5 && (d[a] = 0)
                                    }
                                    return n && (t._gsTransform = d, d.svg && (xt && t.style[Tt] ? e.delayedCall(.001, function() {
                                        Vt(t.style, Tt)
                                    }) : !xt && t.getAttribute("transform") && e.delayedCall(.001, function() {
                                        t.removeAttribute("transform")
                                    }))), d
                                },
                                Nt = function(t) {
                                    var e, i, n = this.data,
                                        r = -n.rotation * O,
                                        o = r + n.skewX * O,
                                        a = (Math.cos(r) * n.scaleX * 1e5 | 0) / 1e5,
                                        s = (Math.sin(r) * n.scaleX * 1e5 | 0) / 1e5,
                                        l = (Math.sin(o) * -n.scaleY * 1e5 | 0) / 1e5,
                                        u = (Math.cos(o) * n.scaleY * 1e5 | 0) / 1e5,
                                        c = this.t.style,
                                        h = this.t.currentStyle;
                                    if (h) {
                                        i = s, s = -l, l = -i, e = h.filter, c.filter = "";
                                        var d, p, f = this.t.offsetWidth,
                                            m = this.t.offsetHeight,
                                            v = "absolute" !== h.position,
                                            y = "progid:DXImageTransform.Microsoft.Matrix(M11=" + a + ", M12=" + s + ", M21=" + l + ", M22=" + u,
                                            _ = n.x + f * n.xPercent / 100,
                                            b = n.y + m * n.yPercent / 100;
                                        if (null != n.ox && (d = (n.oxp ? f * n.ox * .01 : n.ox) - f / 2, p = (n.oyp ? m * n.oy * .01 : n.oy) - m / 2, _ += d - (d * a + p * s), b += p - (d * l + p * u)), v ? (d = f / 2, p = m / 2, y += ", Dx=" + (d - (d * a + p * s) + _) + ", Dy=" + (p - (d * l + p * u) + b) + ")") : y += ", sizingMethod='auto expand')", e.indexOf("DXImageTransform.Microsoft.Matrix(") !== -1 ? c.filter = e.replace(/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i, y) : c.filter = y + " " + e, 0 !== t && 1 !== t || 1 === a && 0 === s && 0 === l && 1 === u && (v && y.indexOf("Dx=0, Dy=0") === -1 || S.test(e) && 100 !== parseFloat(RegExp.$1) || e.indexOf(e.indexOf("Alpha")) === -1 && c.removeAttribute("filter")), !v) {
                                            var x, w, M, E = g < 8 ? 1 : -1;
                                            for (d = n.ieOffsetX || 0, p = n.ieOffsetY || 0, n.ieOffsetX = Math.round((f - ((a < 0 ? -a : a) * f + (s < 0 ? -s : s) * m)) / 2 + _), n.ieOffsetY = Math.round((m - ((u < 0 ? -u : u) * m + (l < 0 ? -l : l) * f)) / 2 + b), vt = 0; vt < 4; vt++) w = tt[vt], x = h[w], i = x.indexOf("px") !== -1 ? parseFloat(x) : Z(this.t, w, parseFloat(x), x.replace(T, "")) || 0, M = i !== n[w] ? vt < 2 ? -n.ieOffsetX : -n.ieOffsetY : vt < 2 ? d - n.ieOffsetX : p - n.ieOffsetY, c[w] = (n[w] = Math.round(i - M * (0 === vt || 2 === vt ? 1 : E))) + "px"
                                        }
                                    }
                                },
                                Ut = N.set3DTransformRatio = N.setTransformRatio = function(t) {
                                    var e, i, n, r, o, a, s, l, u, c, h, d, p, m, g, v, y, _, b, x, w, T, S, M = this.data,
                                        E = this.t.style,
                                        C = M.rotation,
                                        A = M.rotationX,
                                        P = M.rotationY,
                                        L = M.scaleX,
                                        k = M.scaleY,
                                        R = M.scaleZ,
                                        I = M.x,
                                        D = M.y,
                                        B = M.z,
                                        z = M.svg,
                                        F = M.perspective,
                                        N = M.force3D,
                                        U = M.skewY,
                                        G = M.skewX;
                                    if (U && (G += U, C += U), ((1 === t || 0 === t) && "auto" === N && (this.tween._totalTime === this.tween._totalDuration || !this.tween._totalTime) || !N) && !B && !F && !P && !A && 1 === R || xt && z || !Et) return void(C || G || z ? (C *= O, T = G * O, S = 1e5, i = Math.cos(C) * L, o = Math.sin(C) * L, n = Math.sin(C - T) * -k, a = Math.cos(C - T) * k, T && "simple" === M.skewType && (e = Math.tan(T - U * O), e = Math.sqrt(1 + e * e), n *= e, a *= e, U && (e = Math.tan(U * O), e = Math.sqrt(1 + e * e), i *= e, o *= e)), z && (I += M.xOrigin - (M.xOrigin * i + M.yOrigin * n) + M.xOffset, D += M.yOrigin - (M.xOrigin * o + M.yOrigin * a) + M.yOffset, xt && (M.xPercent || M.yPercent) && (g = this.t.getBBox(), I += .01 * M.xPercent * g.width, D += .01 * M.yPercent * g.height), g = 1e-6, I < g && I > -g && (I = 0), D < g && D > -g && (D = 0)), b = (i * S | 0) / S + "," + (o * S | 0) / S + "," + (n * S | 0) / S + "," + (a * S | 0) / S + "," + I + "," + D + ")", z && xt ? this.t.setAttribute("transform", "matrix(" + b) : E[Tt] = (M.xPercent || M.yPercent ? "translate(" + M.xPercent + "%," + M.yPercent + "%) matrix(" : "matrix(") + b) : E[Tt] = (M.xPercent || M.yPercent ? "translate(" + M.xPercent + "%," + M.yPercent + "%) matrix(" : "matrix(") + L + ",0,0," + k + "," + I + "," + D + ")");
                                    if (f && (g = 1e-4, L < g && L > -g && (L = R = 2e-5), k < g && k > -g && (k = R = 2e-5), !F || M.z || M.rotationX || M.rotationY || (F = 0)), C || G) C *= O, v = i = Math.cos(C), y = o = Math.sin(C), G && (C -= G * O, v = Math.cos(C), y = Math.sin(C), "simple" === M.skewType && (e = Math.tan((G - U) * O), e = Math.sqrt(1 + e * e), v *= e, y *= e, M.skewY && (e = Math.tan(U * O), e = Math.sqrt(1 + e * e), i *= e, o *= e))), n = -y, a = v;
                                    else {
                                        if (!(P || A || 1 !== R || F || z)) return void(E[Tt] = (M.xPercent || M.yPercent ? "translate(" + M.xPercent + "%," + M.yPercent + "%) translate3d(" : "translate3d(") + I + "px," + D + "px," + B + "px)" + (1 !== L || 1 !== k ? " scale(" + L + "," + k + ")" : ""));
                                        i = a = 1, n = o = 0
                                    }
                                    c = 1, r = s = l = u = h = d = 0, p = F ? -1 / F : 0, m = M.zOrigin, g = 1e-6, x = ",", w = "0", C = P * O, C && (v = Math.cos(C), y = Math.sin(C), l = -y, h = p * -y, r = i * y, s = o * y, c = v, p *= v, i *= v, o *= v), C = A * O, C && (v = Math.cos(C), y = Math.sin(C), e = n * v + r * y, _ = a * v + s * y, u = c * y, d = p * y, r = n * -y + r * v, s = a * -y + s * v, c *= v, p *= v, n = e, a = _), 1 !== R && (r *= R, s *= R, c *= R, p *= R), 1 !== k && (n *= k, a *= k, u *= k, d *= k), 1 !== L && (i *= L, o *= L, l *= L, h *= L), (m || z) && (m && (I += r * -m, D += s * -m, B += c * -m + m), z && (I += M.xOrigin - (M.xOrigin * i + M.yOrigin * n) + M.xOffset, D += M.yOrigin - (M.xOrigin * o + M.yOrigin * a) + M.yOffset), I < g && I > -g && (I = w), D < g && D > -g && (D = w), B < g && B > -g && (B = 0)), b = M.xPercent || M.yPercent ? "translate(" + M.xPercent + "%," + M.yPercent + "%) matrix3d(" : "matrix3d(", b += (i < g && i > -g ? w : i) + x + (o < g && o > -g ? w : o) + x + (l < g && l > -g ? w : l), b += x + (h < g && h > -g ? w : h) + x + (n < g && n > -g ? w : n) + x + (a < g && a > -g ? w : a), A || P || 1 !== R ? (b += x + (u < g && u > -g ? w : u) + x + (d < g && d > -g ? w : d) + x + (r < g && r > -g ? w : r), b += x + (s < g && s > -g ? w : s) + x + (c < g && c > -g ? w : c) + x + (p < g && p > -g ? w : p) + x) : b += ",0,0,0,0,1,0,", b += I + x + D + x + B + x + (F ? 1 + -B / F : 1) + ")", E[Tt] = b
                                };
                            c = Ct.prototype, c.x = c.y = c.z = c.skewX = c.skewY = c.rotation = c.rotationX = c.rotationY = c.zOrigin = c.xPercent = c.yPercent = c.xOffset = c.yOffset = 0, c.scaleX = c.scaleY = c.scaleZ = 1, _t("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin", {
                                parser: function(t, e, i, n, r, a, l) {
                                    if (n._lastParsedTransform === l) return r;
                                    n._lastParsedTransform = l;
                                    var u, c = l.scale && "function" == typeof l.scale ? l.scale : 0;
                                    "function" == typeof l[i] && (u = l[i], l[i] = e), c && (l.scale = c(y, t));
                                    var h, d, p, f, m, g, _, b, x, w = t._gsTransform,
                                        T = t.style,
                                        S = wt.length,
                                        M = l,
                                        E = {},
                                        C = Ft(t, o, !0, M.parseTransform),
                                        A = M.transform && ("function" == typeof M.transform ? M.transform(y, v) : M.transform);
                                    if (n._transform = C, A && "string" == typeof A && Tt) d = z.style, d[Tt] = A, d.display = "block", d.position = "absolute", D.body.appendChild(z), h = Ft(z, null, !1), C.svg && (g = C.xOrigin, _ = C.yOrigin, h.x -= C.xOffset, h.y -= C.yOffset, (M.transformOrigin || M.svgOrigin) && (A = {}, kt(t, it(M.transformOrigin), A, M.svgOrigin, M.smoothOrigin, !0), g = A.xOrigin, _ = A.yOrigin, h.x -= A.xOffset - C.xOffset, h.y -= A.yOffset - C.yOffset), (g || _) && (b = zt(z, !0), h.x -= g - (g * b[0] + _ * b[2]), h.y -= _ - (g * b[1] + _ * b[3]))), D.body.removeChild(z), h.perspective || (h.perspective = C.perspective), null != M.xPercent && (h.xPercent = rt(M.xPercent, C.xPercent)), null != M.yPercent && (h.yPercent = rt(M.yPercent, C.yPercent));
                                    else if ("object" == typeof M) {
                                        if (h = {
                                                scaleX: rt(null != M.scaleX ? M.scaleX : M.scale, C.scaleX),
                                                scaleY: rt(null != M.scaleY ? M.scaleY : M.scale, C.scaleY),
                                                scaleZ: rt(M.scaleZ, C.scaleZ),
                                                x: rt(M.x, C.x),
                                                y: rt(M.y, C.y),
                                                z: rt(M.z, C.z),
                                                xPercent: rt(M.xPercent, C.xPercent),
                                                yPercent: rt(M.yPercent, C.yPercent),
                                                perspective: rt(M.transformPerspective, C.perspective)
                                            }, null != (m = M.directionalRotation))
                                            if ("object" == typeof m)
                                                for (d in m) M[d] = m[d];
                                            else M.rotation = m;
                                            "string" == typeof M.x && M.x.indexOf("%") !== -1 && (h.x = 0, h.xPercent = rt(M.x, C.xPercent)), "string" == typeof M.y && M.y.indexOf("%") !== -1 && (h.y = 0, h.yPercent = rt(M.y, C.yPercent)), h.rotation = ot("rotation" in M ? M.rotation : "shortRotation" in M ? M.shortRotation + "_short" : "rotationZ" in M ? M.rotationZ : C.rotation, C.rotation, "rotation", E), Et && (h.rotationX = ot("rotationX" in M ? M.rotationX : "shortRotationX" in M ? M.shortRotationX + "_short" : C.rotationX || 0, C.rotationX, "rotationX", E), h.rotationY = ot("rotationY" in M ? M.rotationY : "shortRotationY" in M ? M.shortRotationY + "_short" : C.rotationY || 0, C.rotationY, "rotationY", E)), h.skewX = ot(M.skewX, C.skewX), h.skewY = ot(M.skewY, C.skewY)
                                    }
                                    for (Et && null != M.force3D && (C.force3D = M.force3D, f = !0), C.skewType = M.skewType || C.skewType || s.defaultSkewType, p = C.force3D || C.z || C.rotationX || C.rotationY || h.z || h.rotationX || h.rotationY || h.perspective, p || null == M.scale || (h.scaleZ = 1); --S > -1;) x = wt[S], ((A = h[x] - C[x]) > 1e-6 || A < -1e-6 || null != M[x] || null != R[x]) && (f = !0, r = new ft(C, x, C[x], A, r), x in E && (r.e = E[x]), r.xs0 = 0, r.plugin = a, n._overwriteProps.push(r.n));
                                    return A = M.transformOrigin, C.svg && (A || M.svgOrigin) && (g = C.xOffset, _ = C.yOffset, kt(t, it(A), h, M.svgOrigin, M.smoothOrigin), r = mt(C, "xOrigin", (w ? C : h).xOrigin, h.xOrigin, r, "transformOrigin"), r = mt(C, "yOrigin", (w ? C : h).yOrigin, h.yOrigin, r, "transformOrigin"), g === C.xOffset && _ === C.yOffset || (r = mt(C, "xOffset", w ? g : C.xOffset, C.xOffset, r, "transformOrigin"), r = mt(C, "yOffset", w ? _ : C.yOffset, C.yOffset, r, "transformOrigin")), A = "0px 0px"), (A || Et && p && C.zOrigin) && (Tt ? (f = !0, x = Mt, A = (A || Y(t, x, o, !1, "50% 50%")) + "", r = new ft(T, x, 0, 0, r, -1, "transformOrigin"), r.b = T[x], r.plugin = a, Et ? (d = C.zOrigin, A = A.split(" "), C.zOrigin = (A.length > 2 && (0 === d || "0px" !== A[2]) ? parseFloat(A[2]) : d) || 0, r.xs0 = r.e = A[0] + " " + (A[1] || "50%") + " 0px", r = new ft(C, "zOrigin", 0, 0, r, -1, r.n), r.b = d, r.xs0 = r.e = C.zOrigin) : r.xs0 = r.e = A) : it(A + "", C)), f && (n._transformType = C.svg && xt || !p && 3 !== this._transformType ? 2 : 3), u && (l[i] = u), c && (l.scale = c), r
                                },
                                prefix: !0
                            }), _t("boxShadow", {
                                defaultValue: "0px 0px 0px 0px #999",
                                prefix: !0,
                                color: !0,
                                multi: !0,
                                keyword: "inset"
                            }), _t("borderRadius", {
                                defaultValue: "0px",
                                parser: function(t, e, i, n, a, s) {
                                    e = this.format(e);
                                    var l, u, c, h, d, p, f, m, g, v, y, _, b, x, w, T, S = ["borderTopLeftRadius", "borderTopRightRadius", "borderBottomRightRadius", "borderBottomLeftRadius"],
                                        M = t.style;
                                    for (g = parseFloat(t.offsetWidth), v = parseFloat(t.offsetHeight), l = e.split(" "), u = 0; u < S.length; u++) this.p.indexOf("border") && (S[u] = X(S[u])), d = h = Y(t, S[u], o, !1, "0px"), d.indexOf(" ") !== -1 && (h = d.split(" "), d = h[0], h = h[1]), p = c = l[u], f = parseFloat(d), _ = d.substr((f + "").length), b = "=" === p.charAt(1), b ? (m = parseInt(p.charAt(0) + "1", 10), p = p.substr(2), m *= parseFloat(p), y = p.substr((m + "").length - (m < 0 ? 1 : 0)) || "") : (m = parseFloat(p), y = p.substr((m + "").length)), "" === y && (y = r[i] || _), y !== _ && (x = Z(t, "borderLeft", f, _), w = Z(t, "borderTop", f, _), "%" === y ? (d = x / g * 100 + "%", h = w / v * 100 + "%") : "em" === y ? (T = Z(t, "borderLeft", 1, "em"), d = x / T + "em", h = w / T + "em") : (d = x + "px", h = w + "px"), b && (p = parseFloat(d) + m + y, c = parseFloat(h) + m + y)), a = gt(M, S[u], d + " " + h, p + " " + c, !1, "0px", a);
                                    return a
                                },
                                prefix: !0,
                                formatter: ht("0px 0px 0px 0px", !1, !0)
                            }), _t("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius", {
                                defaultValue: "0px",
                                parser: function(t, e, i, n, r, a) {
                                    return gt(t.style, i, this.format(Y(t, i, o, !1, "0px 0px")), this.format(e), !1, "0px", r)
                                },
                                prefix: !0,
                                formatter: ht("0px 0px", !1, !0)
                            }), _t("backgroundPosition", {
                                defaultValue: "0 0",
                                parser: function(t, e, i, n, r, a) {
                                    var s, l, u, c, h, d, p = "background-position",
                                        f = o || q(t, null),
                                        m = this.format((f ? g ? f.getPropertyValue(p + "-x") + " " + f.getPropertyValue(p + "-y") : f.getPropertyValue(p) : t.currentStyle.backgroundPositionX + " " + t.currentStyle.backgroundPositionY) || "0 0"),
                                        v = this.format(e);
                                    if (m.indexOf("%") !== -1 != (v.indexOf("%") !== -1) && v.split(",").length < 2 && (d = Y(t, "backgroundImage").replace(/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi, "")) && "none" !== d) {
                                        for (s = m.split(" "), l = v.split(" "), F.setAttribute("src", d), u = 2; --u > -1;) m = s[u], (c = m.indexOf("%") !== -1) !== (l[u].indexOf("%") !== -1) && (h = 0 === u ? t.offsetWidth - F.width : t.offsetHeight - F.height, s[u] = c ? parseFloat(m) / 100 * h + "px" : parseFloat(m) / h * 100 + "%");
                                        m = s.join(" ")
                                    }
                                    return this.parseComplex(t.style, m, v, r, a)
                                },
                                formatter: it
                            }), _t("backgroundSize", {
                                defaultValue: "0 0",
                                formatter: function(t) {
                                    return t += "", it(t.indexOf(" ") === -1 ? t + " " + t : t)
                                }
                            }), _t("perspective", {
                                defaultValue: "0px",
                                prefix: !0
                            }), _t("perspectiveOrigin", {
                                defaultValue: "50% 50%",
                                prefix: !0
                            }), _t("transformStyle", {
                                prefix: !0
                            }), _t("backfaceVisibility", {
                                prefix: !0
                            }), _t("userSelect", {
                                prefix: !0
                            }), _t("margin", {
                                parser: dt("marginTop,marginRight,marginBottom,marginLeft")
                            }), _t("padding", {
                                parser: dt("paddingTop,paddingRight,paddingBottom,paddingLeft")
                            }), _t("clip", {
                                defaultValue: "rect(0px,0px,0px,0px)",
                                parser: function(t, e, i, n, r, a) {
                                    var s, l, u;
                                    return g < 9 ? (l = t.currentStyle, u = g < 8 ? " " : ",", s = "rect(" + l.clipTop + u + l.clipRight + u + l.clipBottom + u + l.clipLeft + ")", e = this.format(e).split(",").join(u)) : (s = this.format(Y(t, this.p, o, !1, this.dflt)), e = this.format(e)), this.parseComplex(t.style, s, e, r, a)
                                }
                            }), _t("textShadow", {
                                defaultValue: "0px 0px 0px #999",
                                color: !0,
                                multi: !0
                            }), _t("autoRound,strictUnits", {
                                parser: function(t, e, i, n, r) {
                                    return r
                                }
                            }), _t("border", {
                                defaultValue: "0px solid #000",
                                parser: function(t, e, i, n, r, a) {
                                    var s = Y(t, "borderTopWidth", o, !1, "0px"),
                                        l = this.format(e).split(" "),
                                        u = l[0].replace(T, "");
                                    return "px" !== u && (s = parseFloat(s) / Z(t, "borderTopWidth", 1, u) + u), this.parseComplex(t.style, this.format(s + " " + Y(t, "borderTopStyle", o, !1, "solid") + " " + Y(t, "borderTopColor", o, !1, "#000")), l.join(" "), r, a)
                                },
                                color: !0,
                                formatter: function(t) {
                                    var e = t.split(" ");
                                    return e[0] + " " + (e[1] || "solid") + " " + (t.match(ct) || ["#000"])[0]
                                }
                            }), _t("borderWidth", {
                                parser: dt("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")
                            }), _t("float,cssFloat,styleFloat", {
                                parser: function(t, e, i, n, r, o) {
                                    var a = t.style,
                                        s = "cssFloat" in a ? "cssFloat" : "styleFloat";
                                    return new ft(a, s, 0, 0, r, -1, i, !1, 0, a[s], e)
                                }
                            });
                            var Gt = function(t) {
                                var e, i = this.t,
                                    n = i.filter || Y(this.data, "filter") || "",
                                    r = this.s + this.c * t | 0;
                                100 === r && (n.indexOf("atrix(") === -1 && n.indexOf("radient(") === -1 && n.indexOf("oader(") === -1 ? (i.removeAttribute("filter"), e = !Y(this.data, "filter")) : (i.filter = n.replace(/alpha\(opacity *=.+?\)/i, ""), e = !0)), e || (this.xn1 && (i.filter = n = n || "alpha(opacity=" + r + ")"), n.indexOf("pacity") === -1 ? 0 === r && this.xn1 || (i.filter = n + " alpha(opacity=" + r + ")") : i.filter = n.replace(S, "opacity=" + r))
                            };
                            _t("opacity,alpha,autoAlpha", {
                                defaultValue: "1",
                                parser: function(t, e, i, n, r, a) {
                                    var s = parseFloat(Y(t, "opacity", o, !1, "1")),
                                        l = t.style,
                                        u = "autoAlpha" === i;
                                    return "string" == typeof e && "=" === e.charAt(1) && (e = ("-" === e.charAt(0) ? -1 : 1) * parseFloat(e.substr(2)) + s), u && 1 === s && "hidden" === Y(t, "visibility", o) && 0 !== e && (s = 0), G ? r = new ft(l, "opacity", s, e - s, r) : (r = new ft(l, "opacity", 100 * s, 100 * (e - s), r), r.xn1 = u ? 1 : 0, l.zoom = 1, r.type = 2, r.b = "alpha(opacity=" + r.s + ")", r.e = "alpha(opacity=" + (r.s + r.c) + ")", r.data = t, r.plugin = a, r.setRatio = Gt), u && (r = new ft(l, "visibility", 0, 0, r, -1, null, !1, 0, 0 !== s ? "inherit" : "hidden", 0 === e ? "hidden" : "inherit"), r.xs0 = "inherit", n._overwriteProps.push(r.n), n._overwriteProps.push(i)), r
                                }
                            });
                            var Vt = function(t, e) {
                                    e && (t.removeProperty ? ("ms" !== e.substr(0, 2) && "webkit" !== e.substr(0, 6) || (e = "-" + e), t.removeProperty(e.replace(/([A-Z])/g, "-$1").toLowerCase())) : t.removeAttribute(e))
                                },
                                jt = function(t) {
                                    if (this.t._gsClassPT = this, 1 === t || 0 === t) {
                                        this.t.setAttribute("class", 0 === t ? this.b : this.e);
                                        for (var e = this.data, i = this.t.style; e;) e.v ? i[e.p] = e.v : Vt(i, e.p), e = e._next;
                                        1 === t && this.t._gsClassPT === this && (this.t._gsClassPT = null)
                                    } else this.t.getAttribute("class") !== this.e && this.t.setAttribute("class", this.e)
                                };
                            _t("className", {
                                parser: function(t, e, i, r, a, s, l) {
                                    var u, c, h, d, p, f = t.getAttribute("class") || "",
                                        m = t.style.cssText;
                                    if (a = r._classNamePT = new ft(t, i, 0, 0, a, 2), a.setRatio = jt, a.pr = -11, n = !0, a.b = f, c = Q(t, o), h = t._gsClassPT) {
                                        for (d = {}, p = h.data; p;) d[p.p] = 1, p = p._next;
                                        h.setRatio(1)
                                    }
                                    return t._gsClassPT = a, a.e = "=" !== e.charAt(1) ? e : f.replace(new RegExp("(?:\\s|^)" + e.substr(2) + "(?![\\w-])"), "") + ("+" === e.charAt(0) ? " " + e.substr(2) : ""), t.setAttribute("class", a.e), u = J(t, c, Q(t), l, d), t.setAttribute("class", f), a.data = u.firstMPT, t.style.cssText = m, a = a.xfirst = r.parse(t, u.difs, a, s)
                                }
                            });
                            var Ht = function(t) {
                                if ((1 === t || 0 === t) && this.data._totalTime === this.data._totalDuration && "isFromStart" !== this.data.data) {
                                    var e, i, n, r, o, a = this.t.style,
                                        s = u.transform.parse;
                                    if ("all" === this.e) a.cssText = "", r = !0;
                                    else
                                        for (e = this.e.split(" ").join("").split(","), n = e.length; --n > -1;) i = e[n], u[i] && (u[i].parse === s ? r = !0 : i = "transformOrigin" === i ? Mt : u[i].p), Vt(a, i);
                                    r && (Vt(a, Tt), (o = this.t._gsTransform) && (o.svg && (this.t.removeAttribute("data-svg-origin"), this.t.removeAttribute("transform")), delete this.t._gsTransform))
                                }
                            };
                            for (_t("clearProps", {
                                    parser: function(t, e, i, r, o) {
                                        return o = new ft(t, i, 0, 0, o, 2), o.setRatio = Ht, o.e = e, o.pr = -10, o.data = r._tween, n = !0, o
                                    }
                                }), c = "bezier,throwProps,physicsProps,physics2D".split(","), vt = c.length; vt--;) bt(c[vt]);
                            c = s.prototype, c._firstPT = c._lastParsedTransform = c._transform = null, c._onInitTween = function(t, e, i, l) {
                                if (!t.nodeType) return !1;
                                this._target = v = t, this._tween = i, this._vars = e, y = l, h = e.autoRound, n = !1, r = e.suffixMap || s.suffixMap, o = q(t, ""), a = this._overwriteProps;
                                var c, f, g, _, b, x, w, T, S, E = t.style;
                                if (d && "" === E.zIndex && ("auto" !== (c = Y(t, "zIndex", o)) && "" !== c || this._addLazySet(E, "zIndex", 0)), "string" == typeof e && (_ = E.cssText, c = Q(t, o), E.cssText = _ + ";" + e, c = J(t, c, Q(t)).difs, !G && M.test(e) && (c.opacity = parseFloat(RegExp.$1)), e = c, E.cssText = _), e.className ? this._firstPT = f = u.className.parse(t, e.className, "className", this, null, null, e) : this._firstPT = f = this.parse(t, e, null), this._transformType) {
                                    for (S = 3 === this._transformType, Tt ? p && (d = !0, "" === E.zIndex && ("auto" !== (w = Y(t, "zIndex", o)) && "" !== w || this._addLazySet(E, "zIndex", 0)), m && this._addLazySet(E, "WebkitBackfaceVisibility", this._vars.WebkitBackfaceVisibility || (S ? "visible" : "hidden"))) : E.zoom = 1, g = f; g && g._next;) g = g._next;
                                    T = new ft(t, "transform", 0, 0, null, 2), this._linkCSSP(T, null, g), T.setRatio = Tt ? Ut : Nt, T.data = this._transform || Ft(t, o, !0), T.tween = i, T.pr = -1, a.pop()
                                }
                                if (n) {
                                    for (; f;) {
                                        for (x = f._next, g = _; g && g.pr > f.pr;) g = g._next;
                                        (f._prev = g ? g._prev : b) ? f._prev._next = f: _ = f, (f._next = g) ? g._prev = f : b = f, f = x
                                    }
                                    this._firstPT = _
                                }
                                return !0
                            }, c.parse = function(t, e, i, n) {
                                var a, s, l, c, d, p, f, m, g, _, b = t.style;
                                for (a in e) p = e[a], "function" == typeof p && (p = p(y, v)), s = u[a], s ? i = s.parse(t, p, a, this, i, n, e) : (d = Y(t, a, o) + "", g = "string" == typeof p, "color" === a || "fill" === a || "stroke" === a || a.indexOf("Color") !== -1 || g && E.test(p) ? (g || (p = lt(p), p = (p.length > 3 ? "rgba(" : "rgb(") + p.join(",") + ")"), i = gt(b, a, d, p, !0, "transparent", i, 0, n)) : g && L.test(p) ? i = gt(b, a, d, p, !0, null, i, 0, n) : (l = parseFloat(d), f = l || 0 === l ? d.substr((l + "").length) : "", "" !== d && "auto" !== d || ("width" === a || "height" === a ? (l = et(t, a, o), f = "px") : "left" === a || "top" === a ? (l = K(t, a, o), f = "px") : (l = "opacity" !== a ? 0 : 1, f = "")), _ = g && "=" === p.charAt(1), _ ? (c = parseInt(p.charAt(0) + "1", 10), p = p.substr(2), c *= parseFloat(p), m = p.replace(T, "")) : (c = parseFloat(p), m = g ? p.replace(T, "") : ""), "" === m && (m = a in r ? r[a] : f), p = c || 0 === c ? (_ ? c + l : c) + m : e[a], f !== m && "" !== m && (c || 0 === c) && l && (l = Z(t, a, l, f), "%" === m ? (l /= Z(t, a, 100, "%") / 100, e.strictUnits !== !0 && (d = l + "%")) : "em" === m || "rem" === m || "vw" === m || "vh" === m ? l /= Z(t, a, 1, m) : "px" !== m && (c = Z(t, a, c, m), m = "px"), _ && (c || 0 === c) && (p = c + l + m)), _ && (c += l), !l && 0 !== l || !c && 0 !== c ? void 0 !== b[a] && (p || p + "" != "NaN" && null != p) ? (i = new ft(b, a, c || l || 0, 0, i, -1, a, !1, 0, d, p), i.xs0 = "none" !== p || "display" !== a && a.indexOf("Style") === -1 ? p : d) : j("invalid " + a + " tween value: " + e[a]) : (i = new ft(b, a, l, c - l, i, 0, a, h !== !1 && ("px" === m || "zIndex" === a), 0, d, p), i.xs0 = m))), n && i && !i.plugin && (i.plugin = n);
                                return i
                            }, c.setRatio = function(t) {
                                var e, i, n, r = this._firstPT;
                                if (1 !== t || this._tween._time !== this._tween._duration && 0 !== this._tween._time)
                                    if (t || this._tween._time !== this._tween._duration && 0 !== this._tween._time || this._tween._rawPrevTime === -1e-6)
                                        for (; r;) {
                                            if (e = r.c * t + r.s, r.r ? e = Math.round(e) : e < 1e-6 && e > -1e-6 && (e = 0), r.type)
                                                if (1 === r.type)
                                                    if (2 === (n = r.l)) r.t[r.p] = r.xs0 + e + r.xs1 + r.xn1 + r.xs2;
                                                    else if (3 === n) r.t[r.p] = r.xs0 + e + r.xs1 + r.xn1 + r.xs2 + r.xn2 + r.xs3;
                                            else if (4 === n) r.t[r.p] = r.xs0 + e + r.xs1 + r.xn1 + r.xs2 + r.xn2 + r.xs3 + r.xn3 + r.xs4;
                                            else if (5 === n) r.t[r.p] = r.xs0 + e + r.xs1 + r.xn1 + r.xs2 + r.xn2 + r.xs3 + r.xn3 + r.xs4 + r.xn4 + r.xs5;
                                            else {
                                                for (i = r.xs0 + e + r.xs1, n = 1; n < r.l; n++) i += r["xn" + n] + r["xs" + (n + 1)];
                                                r.t[r.p] = i
                                            } else r.type === -1 ? r.t[r.p] = r.xs0 : r.setRatio && r.setRatio(t);
                                            else r.t[r.p] = e + r.xs0;
                                            r = r._next
                                        } else
                                            for (; r;) 2 !== r.type ? r.t[r.p] = r.b : r.setRatio(t), r = r._next;
                                    else
                                        for (; r;) {
                                            if (2 !== r.type)
                                                if (r.r && r.type !== -1)
                                                    if (e = Math.round(r.s + r.c), r.type) {
                                                        if (1 === r.type) {
                                                            for (n = r.l, i = r.xs0 + e + r.xs1, n = 1; n < r.l; n++) i += r["xn" + n] + r["xs" + (n + 1)];
                                                            r.t[r.p] = i
                                                        }
                                                    } else r.t[r.p] = e + r.xs0;
                                            else r.t[r.p] = r.e;
                                            else r.setRatio(t);
                                            r = r._next
                                        }
                            }, c._enableTransforms = function(t) {
                                this._transform = this._transform || Ft(this._target, o, !0), this._transformType = this._transform.svg && xt || !t && 3 !== this._transformType ? 2 : 3
                            };
                            var Wt = function(t) {
                                this.t[this.p] = this.e, this.data._linkCSSP(this, this._next, null, !0)
                            };
                            c._addLazySet = function(t, e, i) {
                                var n = this._firstPT = new ft(t, e, 0, 0, this._firstPT, 2);
                                n.e = i, n.setRatio = Wt, n.data = this
                            }, c._linkCSSP = function(t, e, i, n) {
                                return t && (e && (e._prev = t), t._next && (t._next._prev = t._prev), t._prev ? t._prev._next = t._next : this._firstPT === t && (this._firstPT = t._next, n = !0), i ? i._next = t : n || null !== this._firstPT || (this._firstPT = t), t._next = e, t._prev = i), t
                            }, c._mod = function(t) {
                                for (var e = this._firstPT; e;) "function" == typeof t[e.p] && t[e.p] === Math.round && (e.r = 1), e = e._next
                            }, c._kill = function(e) {
                                var i, n, r, o = e;
                                if (e.autoAlpha || e.alpha) {
                                    o = {};
                                    for (n in e) o[n] = e[n];
                                    o.opacity = 1, o.autoAlpha && (o.visibility = 1)
                                }
                                for (e.className && (i = this._classNamePT) && (r = i.xfirst, r && r._prev ? this._linkCSSP(r._prev, i._next, r._prev._prev) : r === this._firstPT && (this._firstPT = i._next), i._next && this._linkCSSP(i._next, i._next._next, r._prev), this._classNamePT = null), i = this._firstPT; i;) i.plugin && i.plugin !== n && i.plugin._kill && (i.plugin._kill(e), n = i.plugin), i = i._next;
                                return t.prototype._kill.call(this, o)
                            };
                            var Xt = function(t, e, i) {
                                var n, r, o, a;
                                if (t.slice)
                                    for (r = t.length; --r > -1;) Xt(t[r], e, i);
                                else
                                    for (n = t.childNodes, r = n.length; --r > -1;) o = n[r], a = o.type, o.style && (e.push(Q(o)), i && i.push(o)), 1 !== a && 9 !== a && 11 !== a || !o.childNodes.length || Xt(o, e, i)
                            };
                            return s.cascadeTo = function(t, i, n) {
                                var r, o, a, s, l = e.to(t, i, n),
                                    u = [l],
                                    c = [],
                                    h = [],
                                    d = [],
                                    p = e._internals.reservedProps;
                                for (t = l._targets || l.target, Xt(t, c, d), l.render(i, !0, !0), Xt(t, h), l.render(0, !0, !0), l._enabled(!0), r = d.length; --r > -1;)
                                    if (o = J(d[r], c[r], h[r]), o.firstMPT) {
                                        o = o.difs;
                                        for (a in n) p[a] && (o[a] = n[a]);
                                        s = {};
                                        for (a in o) s[a] = c[r][a];
                                        u.push(e.fromTo(d[r], i, s, o))
                                    }
                                return u
                            }, t.activate([s]), s
                        }, !0),
                        function() {
                            var t = i._gsDefine.plugin({
                                    propName: "roundProps",
                                    version: "1.6.0",
                                    priority: -1,
                                    API: 2,
                                    init: function(t, e, i) {
                                        return this._tween = i, !0
                                    }
                                }),
                                e = function(t) {
                                    for (; t;) t.f || t.blob || (t.m = Math.round), t = t._next
                                },
                                n = t.prototype;
                            n._onInitAllProps = function() {
                                for (var t, i, n, r = this._tween, o = r.vars.roundProps.join ? r.vars.roundProps : r.vars.roundProps.split(","), a = o.length, s = {}, l = r._propLookup.roundProps; --a > -1;) s[o[a]] = Math.round;
                                for (a = o.length; --a > -1;)
                                    for (t = o[a], i = r._firstPT; i;) n = i._next, i.pg ? i.t._mod(s) : i.n === t && (2 === i.f && i.t ? e(i.t._firstPT) : (this._add(i.t, t, i.s, i.c), n && (n._prev = i._prev), i._prev ? i._prev._next = n : r._firstPT === i && (r._firstPT = n), i._next = i._prev = null, r._propLookup[t] = l)), i = n;
                                return !1
                            }, n._add = function(t, e, i, n) {
                                this._addTween(t, e, i, i + n, e, Math.round), this._overwriteProps.push(e)
                            }
                        }(),
                        function() {
                            i._gsDefine.plugin({
                                propName: "attr",
                                API: 2,
                                version: "0.6.0",
                                init: function(t, e, i, n) {
                                    var r, o;
                                    if ("function" != typeof t.setAttribute) return !1;
                                    for (r in e) o = e[r], "function" == typeof o && (o = o(n, t)), this._addTween(t, "setAttribute", t.getAttribute(r) + "", o + "", r, !1, r), this._overwriteProps.push(r);
                                    return !0
                                }
                            })
                        }(), i._gsDefine.plugin({
                            propName: "directionalRotation",
                            version: "0.3.0",
                            API: 2,
                            init: function(t, e, i, n) {
                                "object" != typeof e && (e = {
                                    rotation: e
                                }), this.finals = {};
                                var r, o, a, s, l, u, c = e.useRadians === !0 ? 2 * Math.PI : 360;
                                for (r in e) "useRadians" !== r && (s = e[r], "function" == typeof s && (s = s(n, t)), u = (s + "").split("_"), o = u[0], a = parseFloat("function" != typeof t[r] ? t[r] : t[r.indexOf("set") || "function" != typeof t["get" + r.substr(3)] ? r : "get" + r.substr(3)]()), s = this.finals[r] = "string" == typeof o && "=" === o.charAt(1) ? a + parseInt(o.charAt(0) + "1", 10) * Number(o.substr(2)) : Number(o) || 0, l = s - a, u.length && (o = u.join("_"), o.indexOf("short") !== -1 && (l %= c) !== l % (c / 2) && (l = l < 0 ? l + c : l - c), o.indexOf("_cw") !== -1 && l < 0 ? l = (l + 9999999999 * c) % c - (l / c | 0) * c : o.indexOf("ccw") !== -1 && l > 0 && (l = (l - 9999999999 * c) % c - (l / c | 0) * c)), (l > 1e-6 || l < -1e-6) && (this._addTween(t, r, a, a + l, r), this._overwriteProps.push(r)));
                                return !0
                            },
                            set: function(t) {
                                var e;
                                if (1 !== t) this._super.setRatio.call(this, t);
                                else
                                    for (e = this._firstPT; e;) e.f ? e.t[e.p](this.finals[e.p]) : e.t[e.p] = this.finals[e.p], e = e._next
                            }
                        })._autoCSS = !0, i._gsDefine("easing.Back", ["easing.Ease"], function(t) {
                            var e, n, r, o = i.GreenSockGlobals || i,
                                a = o.com.greensock,
                                s = 2 * Math.PI,
                                l = Math.PI / 2,
                                u = a._class,
                                c = function(e, i) {
                                    var n = u("easing." + e, function() {}, !0),
                                        r = n.prototype = new t;
                                    return r.constructor = n, r.getRatio = i, n
                                },
                                h = t.register || function() {},
                                d = function(t, e, i, n, r) {
                                    var o = u("easing." + t, {
                                        easeOut: new e,
                                        easeIn: new i,
                                        easeInOut: new n
                                    }, !0);
                                    return h(o, t), o
                                },
                                p = function(t, e, i) {
                                    this.t = t, this.v = e, i && (this.next = i, i.prev = this, this.c = i.v - e, this.gap = i.t - t)
                                },
                                f = function(e, i) {
                                    var n = u("easing." + e, function(t) {
                                            this._p1 = t || 0 === t ? t : 1.70158, this._p2 = 1.525 * this._p1
                                        }, !0),
                                        r = n.prototype = new t;
                                    return r.constructor = n, r.getRatio = i, r.config = function(t) {
                                        return new n(t)
                                    }, n
                                },
                                m = d("Back", f("BackOut", function(t) {
                                    return (t -= 1) * t * ((this._p1 + 1) * t + this._p1) + 1
                                }), f("BackIn", function(t) {
                                    return t * t * ((this._p1 + 1) * t - this._p1)
                                }), f("BackInOut", function(t) {
                                    return (t *= 2) < 1 ? .5 * t * t * ((this._p2 + 1) * t - this._p2) : .5 * ((t -= 2) * t * ((this._p2 + 1) * t + this._p2) + 2)
                                })),
                                g = u("easing.SlowMo", function(t, e, i) {
                                    e = e || 0 === e ? e : .7, null == t ? t = .7 : t > 1 && (t = 1), this._p = 1 !== t ? e : 0, this._p1 = (1 - t) / 2, this._p2 = t, this._p3 = this._p1 + this._p2, this._calcEnd = i === !0
                                }, !0),
                                v = g.prototype = new t;
                            return v.constructor = g, v.getRatio = function(t) {
                                var e = t + (.5 - t) * this._p;
                                return t < this._p1 ? this._calcEnd ? 1 - (t = 1 - t / this._p1) * t : e - (t = 1 - t / this._p1) * t * t * t * e : t > this._p3 ? this._calcEnd ? 1 - (t = (t - this._p3) / this._p1) * t : e + (t - e) * (t = (t - this._p3) / this._p1) * t * t * t : this._calcEnd ? 1 : e
                            }, g.ease = new g(.7, .7), v.config = g.config = function(t, e, i) {
                                return new g(t, e, i)
                            }, e = u("easing.SteppedEase", function(t) {
                                t = t || 1, this._p1 = 1 / t, this._p2 = t + 1
                            }, !0), v = e.prototype = new t, v.constructor = e, v.getRatio = function(t) {
                                return t < 0 ? t = 0 : t >= 1 && (t = .999999999), (this._p2 * t >> 0) * this._p1
                            }, v.config = e.config = function(t) {
                                return new e(t)
                            }, n = u("easing.RoughEase", function(e) {
                                e = e || {};
                                for (var i, n, r, o, a, s, l = e.taper || "none", u = [], c = 0, h = 0 | (e.points || 20), d = h, f = e.randomize !== !1, m = e.clamp === !0, g = e.template instanceof t ? e.template : null, v = "number" == typeof e.strength ? .4 * e.strength : .4; --d > -1;) i = f ? Math.random() : 1 / h * d, n = g ? g.getRatio(i) : i, "none" === l ? r = v : "out" === l ? (o = 1 - i, r = o * o * v) : "in" === l ? r = i * i * v : i < .5 ? (o = 2 * i, r = o * o * .5 * v) : (o = 2 * (1 - i), r = o * o * .5 * v), f ? n += Math.random() * r - .5 * r : d % 2 ? n += .5 * r : n -= .5 * r, m && (n > 1 ? n = 1 : n < 0 && (n = 0)), u[c++] = {
                                    x: i,
                                    y: n
                                };
                                for (u.sort(function(t, e) {
                                        return t.x - e.x
                                    }), s = new p(1, 1, null), d = h; --d > -1;) a = u[d], s = new p(a.x, a.y, s);
                                this._prev = new p(0, 0, 0 !== s.t ? s : s.next)
                            }, !0), v = n.prototype = new t, v.constructor = n, v.getRatio = function(t) {
                                var e = this._prev;
                                if (t > e.t) {
                                    for (; e.next && t >= e.t;) e = e.next;
                                    e = e.prev
                                } else
                                    for (; e.prev && t <= e.t;) e = e.prev;
                                return this._prev = e, e.v + (t - e.t) / e.gap * e.c
                            }, v.config = function(t) {
                                return new n(t)
                            }, n.ease = new n, d("Bounce", c("BounceOut", function(t) {
                                return t < 1 / 2.75 ? 7.5625 * t * t : t < 2 / 2.75 ? 7.5625 * (t -= 1.5 / 2.75) * t + .75 : t < 2.5 / 2.75 ? 7.5625 * (t -= 2.25 / 2.75) * t + .9375 : 7.5625 * (t -= 2.625 / 2.75) * t + .984375
                            }), c("BounceIn", function(t) {
                                return (t = 1 - t) < 1 / 2.75 ? 1 - 7.5625 * t * t : t < 2 / 2.75 ? 1 - (7.5625 * (t -= 1.5 / 2.75) * t + .75) : t < 2.5 / 2.75 ? 1 - (7.5625 * (t -= 2.25 / 2.75) * t + .9375) : 1 - (7.5625 * (t -= 2.625 / 2.75) * t + .984375)
                            }), c("BounceInOut", function(t) {
                                var e = t < .5;
                                return t = e ? 1 - 2 * t : 2 * t - 1, t < 1 / 2.75 ? t *= 7.5625 * t : t = t < 2 / 2.75 ? 7.5625 * (t -= 1.5 / 2.75) * t + .75 : t < 2.5 / 2.75 ? 7.5625 * (t -= 2.25 / 2.75) * t + .9375 : 7.5625 * (t -= 2.625 / 2.75) * t + .984375, e ? .5 * (1 - t) : .5 * t + .5
                            })), d("Circ", c("CircOut", function(t) {
                                return Math.sqrt(1 - (t -= 1) * t)
                            }), c("CircIn", function(t) {
                                return -(Math.sqrt(1 - t * t) - 1)
                            }), c("CircInOut", function(t) {
                                return (t *= 2) < 1 ? -.5 * (Math.sqrt(1 - t * t) - 1) : .5 * (Math.sqrt(1 - (t -= 2) * t) + 1)
                            })), r = function(e, i, n) {
                                var r = u("easing." + e, function(t, e) {
                                        this._p1 = t >= 1 ? t : 1, this._p2 = (e || n) / (t < 1 ? t : 1), this._p3 = this._p2 / s * (Math.asin(1 / this._p1) || 0), this._p2 = s / this._p2
                                    }, !0),
                                    o = r.prototype = new t;
                                return o.constructor = r, o.getRatio = i, o.config = function(t, e) {
                                    return new r(t, e)
                                }, r
                            }, d("Elastic", r("ElasticOut", function(t) {
                                return this._p1 * Math.pow(2, -10 * t) * Math.sin((t - this._p3) * this._p2) + 1
                            }, .3), r("ElasticIn", function(t) {
                                return -(this._p1 * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - this._p3) * this._p2))
                            }, .3), r("ElasticInOut", function(t) {
                                return (t *= 2) < 1 ? -.5 * (this._p1 * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - this._p3) * this._p2)) : this._p1 * Math.pow(2, -10 * (t -= 1)) * Math.sin((t - this._p3) * this._p2) * .5 + 1
                            }, .45)), d("Expo", c("ExpoOut", function(t) {
                                return 1 - Math.pow(2, -10 * t)
                            }), c("ExpoIn", function(t) {
                                return Math.pow(2, 10 * (t - 1)) - .001
                            }), c("ExpoInOut", function(t) {
                                return (t *= 2) < 1 ? .5 * Math.pow(2, 10 * (t - 1)) : .5 * (2 - Math.pow(2, -10 * (t - 1)))
                            })), d("Sine", c("SineOut", function(t) {
                                return Math.sin(t * l)
                            }), c("SineIn", function(t) {
                                return 1 - Math.cos(t * l)
                            }), c("SineInOut", function(t) {
                                return -.5 * (Math.cos(Math.PI * t) - 1)
                            })), u("easing.EaseLookup", {
                                find: function(e) {
                                    return t.map[e]
                                }
                            }, !0), h(o.SlowMo, "SlowMo", "ease,"), h(n, "RoughEase", "ease,"), h(e, "SteppedEase", "ease,"), m
                        }, !0)
                }), i._gsDefine && i._gsQueue.pop()(),
                function(t, i) {
                    "use strict";
                    var n = {},
                        r = t.document,
                        o = t.GreenSockGlobals = t.GreenSockGlobals || t;
                    if (!o.TweenLite) {
                        var a, s, l, u, c, h = function(t) {
                                var e, i = t.split("."),
                                    n = o;
                                for (e = 0; e < i.length; e++) n[i[e]] = n = n[i[e]] || {};
                                return n
                            },
                            d = h("com.greensock"),
                            p = function(t) {
                                var e, i = [],
                                    n = t.length;
                                for (e = 0; e !== n; i.push(t[e++]));
                                return i
                            },
                            f = function() {},
                            m = function() {
                                var t = Object.prototype.toString,
                                    e = t.call([]);
                                return function(i) {
                                    return null != i && (i instanceof Array || "object" == typeof i && !!i.push && t.call(i) === e)
                                }
                            }(),
                            g = {},
                            v = function(i, r, a, s) {
                                this.sc = g[i] ? g[i].sc : [], g[i] = this, this.gsClass = null, this.func = a;
                                var l = [];
                                this.check = function(u) {
                                    for (var c, d, p, f, m, y = r.length, _ = y; --y > -1;)(c = g[r[y]] || new v(r[y], [])).gsClass ? (l[y] = c.gsClass, _--) : u && c.sc.push(this);
                                    if (0 === _ && a) {
                                        if (d = ("com.greensock." + i).split("."), p = d.pop(), f = h(d.join("."))[p] = this.gsClass = a.apply(a, l), s)
                                            if (o[p] = n[p] = f, !(m = void 0 !== e && e.exports) && "function" == typeof define && define.amd) define((t.GreenSockAMDPath ? t.GreenSockAMDPath + "/" : "") + i.split(".").pop(), [], function() {
                                                return f
                                            });
                                            else if (m)
                                            if ("TweenMax" === i) {
                                                e.exports = n.TweenMax = f;
                                                for (y in n) f[y] = n[y]
                                            } else n.TweenMax && (n.TweenMax[p] = f);
                                        for (y = 0; y < this.sc.length; y++) this.sc[y].check()
                                    }
                                }, this.check(!0)
                            },
                            y = t._gsDefine = function(t, e, i, n) {
                                return new v(t, e, i, n)
                            },
                            _ = d._class = function(t, e, i) {
                                return e = e || function() {}, y(t, [], function() {
                                    return e
                                }, i), e
                            };
                        y.globals = o;
                        var b = [0, 0, 1, 1],
                            x = _("easing.Ease", function(t, e, i, n) {
                                this._func = t, this._type = i || 0, this._power = n || 0, this._params = e ? b.concat(e) : b
                            }, !0),
                            w = x.map = {},
                            T = x.register = function(t, e, i, n) {
                                for (var r, o, a, s, l = e.split(","), u = l.length, c = (i || "easeIn,easeOut,easeInOut").split(","); --u > -1;)
                                    for (o = l[u], r = n ? _("easing." + o, null, !0) : d.easing[o] || {}, a = c.length; --a > -1;) s = c[a], w[o + "." + s] = w[s + o] = r[s] = t.getRatio ? t : t[s] || new t
                            };
                        for (l = x.prototype, l._calcEnd = !1, l.getRatio = function(t) {
                                if (this._func) return this._params[0] = t, this._func.apply(null, this._params);
                                var e = this._type,
                                    i = this._power,
                                    n = 1 === e ? 1 - t : 2 === e ? t : t < .5 ? 2 * t : 2 * (1 - t);
                                return 1 === i ? n *= n : 2 === i ? n *= n * n : 3 === i ? n *= n * n * n : 4 === i && (n *= n * n * n * n), 1 === e ? 1 - n : 2 === e ? n : t < .5 ? n / 2 : 1 - n / 2
                            }, a = ["Linear", "Quad", "Cubic", "Quart", "Quint,Strong"], s = a.length; --s > -1;) l = a[s] + ",Power" + s, T(new x(null, null, 1, s), l, "easeOut", !0), T(new x(null, null, 2, s), l, "easeIn" + (0 === s ? ",easeNone" : "")), T(new x(null, null, 3, s), l, "easeInOut");
                        w.linear = d.easing.Linear.easeIn, w.swing = d.easing.Quad.easeInOut;
                        var S = _("events.EventDispatcher", function(t) {
                            this._listeners = {}, this._eventTarget = t || this
                        });
                        l = S.prototype, l.addEventListener = function(t, e, i, n, r) {
                            r = r || 0;
                            var o, a, s = this._listeners[t],
                                l = 0;
                            for (this !== u || c || u.wake(), null == s && (this._listeners[t] = s = []), a = s.length; --a > -1;) o = s[a], o.c === e && o.s === i ? s.splice(a, 1) : 0 === l && o.pr < r && (l = a + 1);
                            s.splice(l, 0, {
                                c: e,
                                s: i,
                                up: n,
                                pr: r
                            })
                        }, l.removeEventListener = function(t, e) {
                            var i, n = this._listeners[t];
                            if (n)
                                for (i = n.length; --i > -1;)
                                    if (n[i].c === e) return void n.splice(i, 1)
                        }, l.dispatchEvent = function(t) {
                            var e, i, n, r = this._listeners[t];
                            if (r)
                                for (e = r.length, e > 1 && (r = r.slice(0)), i = this._eventTarget; --e > -1;)(n = r[e]) && (n.up ? n.c.call(n.s || i, {
                                    type: t,
                                    target: i
                                }) : n.c.call(n.s || i))
                        };
                        var M = t.requestAnimationFrame,
                            E = t.cancelAnimationFrame,
                            C = Date.now || function() {
                                return (new Date).getTime()
                            },
                            A = C();
                        for (a = ["ms", "moz", "webkit", "o"], s = a.length; --s > -1 && !M;) M = t[a[s] + "RequestAnimationFrame"], E = t[a[s] + "CancelAnimationFrame"] || t[a[s] + "CancelRequestAnimationFrame"];
                        _("Ticker", function(t, e) {
                            var i, n, o, a, s, l = this,
                                h = C(),
                                d = !(e === !1 || !M) && "auto",
                                p = 500,
                                m = 33,
                                g = function(t) {
                                    var e, r, u = C() - A;
                                    u > p && (h += u - m), A += u, l.time = (A - h) / 1e3, e = l.time - s, (!i || e > 0 || t === !0) && (l.frame++, s += e + (e >= a ? .004 : a - e), r = !0), t !== !0 && (o = n(g)), r && l.dispatchEvent("tick")
                                };
                            S.call(l), l.time = l.frame = 0, l.tick = function() {
                                g(!0)
                            }, l.lagSmoothing = function(t, e) {
                                p = t || 1e10, m = Math.min(e, p, 0)
                            }, l.sleep = function() {
                                null != o && (d && E ? E(o) : clearTimeout(o), n = f, o = null, l === u && (c = !1))
                            }, l.wake = function(t) {
                                null !== o ? l.sleep() : t ? h += -A + (A = C()) : l.frame > 10 && (A = C() - p + 5), n = 0 === i ? f : d && M ? M : function(t) {
                                    return setTimeout(t, 1e3 * (s - l.time) + 1 | 0)
                                }, l === u && (c = !0), g(2)
                            }, l.fps = function(t) {
                                if (!arguments.length) return i;
                                i = t, a = 1 / (i || 60), s = this.time + a, l.wake()
                            }, l.useRAF = function(t) {
                                if (!arguments.length) return d;
                                l.sleep(), d = t, l.fps(i)
                            }, l.fps(t), setTimeout(function() {
                                "auto" === d && l.frame < 5 && "hidden" !== r.visibilityState && l.useRAF(!1)
                            }, 1500)
                        }), l = d.Ticker.prototype = new d.events.EventDispatcher, l.constructor = d.Ticker;
                        var P = _("core.Animation", function(t, e) {
                            if (this.vars = e = e || {}, this._duration = this._totalDuration = t || 0, this._delay = Number(e.delay) || 0, this._timeScale = 1, this._active = e.immediateRender === !0, this.data = e.data, this._reversed = e.reversed === !0, Y) {
                                c || u.wake();
                                var i = this.vars.useFrames ? q : Y;
                                i.add(this, i._time), this.vars.paused && this.paused(!0)
                            }
                        });
                        u = P.ticker = new d.Ticker, l = P.prototype, l._dirty = l._gc = l._initted = l._paused = !1, l._totalTime = l._time = 0, l._rawPrevTime = -1, l._next = l._last = l._onUpdate = l._timeline = l.timeline = null, l._paused = !1;
                        var L = function() {
                            c && C() - A > 2e3 && u.wake(), setTimeout(L, 2e3)
                        };
                        L(), l.play = function(t, e) {
                            return null != t && this.seek(t, e), this.reversed(!1).paused(!1)
                        }, l.pause = function(t, e) {
                            return null != t && this.seek(t, e), this.paused(!0)
                        }, l.resume = function(t, e) {
                            return null != t && this.seek(t, e), this.paused(!1)
                        }, l.seek = function(t, e) {
                            return this.totalTime(Number(t), e !== !1)
                        }, l.restart = function(t, e) {
                            return this.reversed(!1).paused(!1).totalTime(t ? -this._delay : 0, e !== !1, !0)
                        }, l.reverse = function(t, e) {
                            return null != t && this.seek(t || this.totalDuration(), e), this.reversed(!0).paused(!1)
                        }, l.render = function(t, e, i) {}, l.invalidate = function() {
                            return this._time = this._totalTime = 0, this._initted = this._gc = !1, this._rawPrevTime = -1, !this._gc && this.timeline || this._enabled(!0), this
                        }, l.isActive = function() {
                            var t, e = this._timeline,
                                i = this._startTime;
                            return !e || !this._gc && !this._paused && e.isActive() && (t = e.rawTime(!0)) >= i && t < i + this.totalDuration() / this._timeScale
                        }, l._enabled = function(t, e) {
                            return c || u.wake(), this._gc = !t, this._active = this.isActive(), e !== !0 && (t && !this.timeline ? this._timeline.add(this, this._startTime - this._delay) : !t && this.timeline && this._timeline._remove(this, !0)), !1
                        }, l._kill = function(t, e) {
                            return this._enabled(!1, !1)
                        }, l.kill = function(t, e) {
                            return this._kill(t, e), this
                        }, l._uncache = function(t) {
                            for (var e = t ? this : this.timeline; e;) e._dirty = !0, e = e.timeline;
                            return this
                        }, l._swapSelfInParams = function(t) {
                            for (var e = t.length, i = t.concat(); --e > -1;) "{self}" === t[e] && (i[e] = this);
                            return i
                        }, l._callback = function(t) {
                            var e = this.vars,
                                i = e[t],
                                n = e[t + "Params"],
                                r = e[t + "Scope"] || e.callbackScope || this;
                            switch (n ? n.length : 0) {
                                case 0:
                                    i.call(r);
                                    break;
                                case 1:
                                    i.call(r, n[0]);
                                    break;
                                case 2:
                                    i.call(r, n[0], n[1]);
                                    break;
                                default:
                                    i.apply(r, n)
                            }
                        }, l.eventCallback = function(t, e, i, n) {
                            if ("on" === (t || "").substr(0, 2)) {
                                var r = this.vars;
                                if (1 === arguments.length) return r[t];
                                null == e ? delete r[t] : (r[t] = e, r[t + "Params"] = m(i) && i.join("").indexOf("{self}") !== -1 ? this._swapSelfInParams(i) : i, r[t + "Scope"] = n), "onUpdate" === t && (this._onUpdate = e)
                            }
                            return this
                        }, l.delay = function(t) {
                            return arguments.length ? (this._timeline.smoothChildTiming && this.startTime(this._startTime + t - this._delay), this._delay = t, this) : this._delay
                        }, l.duration = function(t) {
                            return arguments.length ? (this._duration = this._totalDuration = t, this._uncache(!0), this._timeline.smoothChildTiming && this._time > 0 && this._time < this._duration && 0 !== t && this.totalTime(this._totalTime * (t / this._duration), !0), this) : (this._dirty = !1, this._duration)
                        }, l.totalDuration = function(t) {
                            return this._dirty = !1, arguments.length ? this.duration(t) : this._totalDuration
                        }, l.time = function(t, e) {
                            return arguments.length ? (this._dirty && this.totalDuration(), this.totalTime(t > this._duration ? this._duration : t, e)) : this._time
                        }, l.totalTime = function(t, e, i) {
                            if (c || u.wake(), !arguments.length) return this._totalTime;
                            if (this._timeline) {
                                if (t < 0 && !i && (t += this.totalDuration()), this._timeline.smoothChildTiming) {
                                    this._dirty && this.totalDuration();
                                    var n = this._totalDuration,
                                        r = this._timeline;
                                    if (t > n && !i && (t = n), this._startTime = (this._paused ? this._pauseTime : r._time) - (this._reversed ? n - t : t) / this._timeScale, r._dirty || this._uncache(!1), r._timeline)
                                        for (; r._timeline;) r._timeline._time !== (r._startTime + r._totalTime) / r._timeScale && r.totalTime(r._totalTime, !0), r = r._timeline
                                }
                                this._gc && this._enabled(!0, !1), this._totalTime === t && 0 !== this._duration || (D.length && K(), this.render(t, e, !1), D.length && K())
                            }
                            return this
                        }, l.progress = l.totalProgress = function(t, e) {
                            var i = this.duration();
                            return arguments.length ? this.totalTime(i * t, e) : i ? this._time / i : this.ratio
                        }, l.startTime = function(t) {
                            return arguments.length ? (t !== this._startTime && (this._startTime = t, this.timeline && this.timeline._sortChildren && this.timeline.add(this, t - this._delay)), this) : this._startTime
                        }, l.endTime = function(t) {
                            return this._startTime + (0 != t ? this.totalDuration() : this.duration()) / this._timeScale
                        }, l.timeScale = function(t) {
                            if (!arguments.length) return this._timeScale;
                            if (t = t || 1e-10, this._timeline && this._timeline.smoothChildTiming) {
                                var e = this._pauseTime,
                                    i = e || 0 === e ? e : this._timeline.totalTime();
                                this._startTime = i - (i - this._startTime) * this._timeScale / t
                            }
                            return this._timeScale = t, this._uncache(!1)
                        }, l.reversed = function(t) {
                            return arguments.length ? (t != this._reversed && (this._reversed = t, this.totalTime(this._timeline && !this._timeline.smoothChildTiming ? this.totalDuration() - this._totalTime : this._totalTime, !0)), this) : this._reversed
                        }, l.paused = function(t) {
                            if (!arguments.length) return this._paused;
                            var e, i, n = this._timeline;
                            return t != this._paused && n && (c || t || u.wake(), e = n.rawTime(), i = e - this._pauseTime, !t && n.smoothChildTiming && (this._startTime += i, this._uncache(!1)), this._pauseTime = t ? e : null, this._paused = t, this._active = this.isActive(), !t && 0 !== i && this._initted && this.duration() && (e = n.smoothChildTiming ? this._totalTime : (e - this._startTime) / this._timeScale, this.render(e, e === this._totalTime, !0))), this._gc && !t && this._enabled(!0, !1), this
                        };
                        var O = _("core.SimpleTimeline", function(t) {
                            P.call(this, 0, t), this.autoRemoveChildren = this.smoothChildTiming = !0
                        });
                        l = O.prototype = new P, l.constructor = O, l.kill()._gc = !1, l._first = l._last = l._recent = null, l._sortChildren = !1, l.add = l.insert = function(t, e, i, n) {
                            var r, o;
                            if (t._startTime = Number(e || 0) + t._delay, t._paused && this !== t._timeline && (t._pauseTime = t._startTime + (this.rawTime() - t._startTime) / t._timeScale), t.timeline && t.timeline._remove(t, !0), t.timeline = t._timeline = this, t._gc && t._enabled(!0, !0), r = this._last, this._sortChildren)
                                for (o = t._startTime; r && r._startTime > o;) r = r._prev;
                            return r ? (t._next = r._next, r._next = t) : (t._next = this._first, this._first = t), t._next ? t._next._prev = t : this._last = t, t._prev = r, this._recent = t, this._timeline && this._uncache(!0), this
                        }, l._remove = function(t, e) {
                            return t.timeline === this && (e || t._enabled(!1, !0), t._prev ? t._prev._next = t._next : this._first === t && (this._first = t._next), t._next ? t._next._prev = t._prev : this._last === t && (this._last = t._prev), t._next = t._prev = t.timeline = null, t === this._recent && (this._recent = this._last), this._timeline && this._uncache(!0)), this
                        }, l.render = function(t, e, i) {
                            var n, r = this._first;
                            for (this._totalTime = this._time = this._rawPrevTime = t; r;) n = r._next, (r._active || t >= r._startTime && !r._paused) && (r._reversed ? r.render((r._dirty ? r.totalDuration() : r._totalDuration) - (t - r._startTime) * r._timeScale, e, i) : r.render((t - r._startTime) * r._timeScale, e, i)), r = n
                        }, l.rawTime = function() {
                            return c || u.wake(), this._totalTime
                        };
                        var k = _("TweenLite", function(e, i, n) {
                                if (P.call(this, i, n), this.render = k.prototype.render, null == e) throw "Cannot tween a null target.";
                                this.target = e = "string" != typeof e ? e : k.selector(e) || e;
                                var r, o, a, s = e.jquery || e.length && e !== t && e[0] && (e[0] === t || e[0].nodeType && e[0].style && !e.nodeType),
                                    l = this.vars.overwrite;
                                if (this._overwrite = l = null == l ? X[k.defaultOverwrite] : "number" == typeof l ? l >> 0 : X[l], (s || e instanceof Array || e.push && m(e)) && "number" != typeof e[0])
                                    for (this._targets = a = p(e), this._propLookup = [], this._siblings = [], r = 0; r < a.length; r++) o = a[r], o ? "string" != typeof o ? o.length && o !== t && o[0] && (o[0] === t || o[0].nodeType && o[0].style && !o.nodeType) ? (a.splice(r--, 1), this._targets = a = a.concat(p(o))) : (this._siblings[r] = Q(o, this, !1), 1 === l && this._siblings[r].length > 1 && $(o, this, null, 1, this._siblings[r])) : "string" == typeof(o = a[r--] = k.selector(o)) && a.splice(r + 1, 1) : a.splice(r--, 1);
                                else this._propLookup = {}, this._siblings = Q(e, this, !1), 1 === l && this._siblings.length > 1 && $(e, this, null, 1, this._siblings);
                                (this.vars.immediateRender || 0 === i && 0 === this._delay && this.vars.immediateRender !== !1) && (this._time = -1e-10, this.render(Math.min(0, -this._delay)))
                            }, !0),
                            R = function(e) {
                                return e && e.length && e !== t && e[0] && (e[0] === t || e[0].nodeType && e[0].style && !e.nodeType)
                            },
                            I = function(t, e) {
                                var i, n = {};
                                for (i in t) W[i] || i in e && "transform" !== i && "x" !== i && "y" !== i && "width" !== i && "height" !== i && "className" !== i && "border" !== i || !(!V[i] || V[i] && V[i]._autoCSS) || (n[i] = t[i], delete t[i]);
                                t.css = n
                            };
                        l = k.prototype = new P, l.constructor = k, l.kill()._gc = !1, l.ratio = 0, l._firstPT = l._targets = l._overwrittenProps = l._startAt = null, l._notifyPluginsOfEnabled = l._lazy = !1, k.version = "1.19.1", k.defaultEase = l._ease = new x(null, null, 1, 1), k.defaultOverwrite = "auto", k.ticker = u, k.autoSleep = 120, k.lagSmoothing = function(t, e) {
                            u.lagSmoothing(t, e)
                        }, k.selector = t.$ || t.jQuery || function(e) {
                            var i = t.$ || t.jQuery;
                            return i ? (k.selector = i, i(e)) : void 0 === r ? e : r.querySelectorAll ? r.querySelectorAll(e) : r.getElementById("#" === e.charAt(0) ? e.substr(1) : e)
                        };
                        var D = [],
                            B = {},
                            z = /(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,
                            F = function(t) {
                                for (var e, i = this._firstPT; i;) e = i.blob ? 1 === t ? this.end : t ? this.join("") : this.start : i.c * t + i.s, i.m ? e = i.m(e, this._target || i.t) : e < 1e-6 && e > -1e-6 && !i.blob && (e = 0), i.f ? i.fp ? i.t[i.p](i.fp, e) : i.t[i.p](e) : i.t[i.p] = e, i = i._next
                            },
                            N = function(t, e, i, n) {
                                var r, o, a, s, l, u, c, h = [],
                                    d = 0,
                                    p = "",
                                    f = 0;
                                for (h.start = t, h.end = e, t = h[0] = t + "", e = h[1] = e + "", i && (i(h), t = h[0], e = h[1]), h.length = 0, r = t.match(z) || [], o = e.match(z) || [], n && (n._next = null, n.blob = 1, h._firstPT = h._applyPT = n), l = o.length, s = 0; s < l; s++) c = o[s], u = e.substr(d, e.indexOf(c, d) - d), p += u || !s ? u : ",", d += u.length, f ? f = (f + 1) % 5 : "rgba(" === u.substr(-5) && (f = 1), c === r[s] || r.length <= s ? p += c : (p && (h.push(p), p = ""), a = parseFloat(r[s]), h.push(a), h._firstPT = {
                                    _next: h._firstPT,
                                    t: h,
                                    p: h.length - 1,
                                    s: a,
                                    c: ("=" === c.charAt(1) ? parseInt(c.charAt(0) + "1", 10) * parseFloat(c.substr(2)) : parseFloat(c) - a) || 0,
                                    f: 0,
                                    m: f && f < 4 ? Math.round : 0
                                }), d += c.length;
                                return p += e.substr(d), p && h.push(p), h.setRatio = F, h
                            },
                            U = function(t, e, i, n, r, o, a, s, l) {
                                "function" == typeof n && (n = n(l || 0, t));
                                var u, c = typeof t[e],
                                    h = "function" !== c ? "" : e.indexOf("set") || "function" != typeof t["get" + e.substr(3)] ? e : "get" + e.substr(3),
                                    d = "get" !== i ? i : h ? a ? t[h](a) : t[h]() : t[e],
                                    p = "string" == typeof n && "=" === n.charAt(1),
                                    f = {
                                        t: t,
                                        p: e,
                                        s: d,
                                        f: "function" === c,
                                        pg: 0,
                                        n: r || e,
                                        m: o ? "function" == typeof o ? o : Math.round : 0,
                                        pr: 0,
                                        c: p ? parseInt(n.charAt(0) + "1", 10) * parseFloat(n.substr(2)) : parseFloat(n) - d || 0
                                    };
                                if (("number" != typeof d || "number" != typeof n && !p) && (a || isNaN(d) || !p && isNaN(n) || "boolean" == typeof d || "boolean" == typeof n ? (f.fp = a, u = N(d, p ? f.s + f.c : n, s || k.defaultStringFilter, f), f = {
                                        t: u,
                                        p: "setRatio",
                                        s: 0,
                                        c: 1,
                                        f: 2,
                                        pg: 0,
                                        n: r || e,
                                        pr: 0,
                                        m: 0
                                    }) : (f.s = parseFloat(d), p || (f.c = parseFloat(n) - f.s || 0))), f.c) return (f._next = this._firstPT) && (f._next._prev = f), this._firstPT = f, f
                            },
                            G = k._internals = {
                                isArray: m,
                                isSelector: R,
                                lazyTweens: D,
                                blobDif: N
                            },
                            V = k._plugins = {},
                            j = G.tweenLookup = {},
                            H = 0,
                            W = G.reservedProps = {
                                ease: 1,
                                delay: 1,
                                overwrite: 1,
                                onComplete: 1,
                                onCompleteParams: 1,
                                onCompleteScope: 1,
                                useFrames: 1,
                                runBackwards: 1,
                                startAt: 1,
                                onUpdate: 1,
                                onUpdateParams: 1,
                                onUpdateScope: 1,
                                onStart: 1,
                                onStartParams: 1,
                                onStartScope: 1,
                                onReverseComplete: 1,
                                onReverseCompleteParams: 1,
                                onReverseCompleteScope: 1,
                                onRepeat: 1,
                                onRepeatParams: 1,
                                onRepeatScope: 1,
                                easeParams: 1,
                                yoyo: 1,
                                immediateRender: 1,
                                repeat: 1,
                                repeatDelay: 1,
                                data: 1,
                                paused: 1,
                                reversed: 1,
                                autoCSS: 1,
                                lazy: 1,
                                onOverwrite: 1,
                                callbackScope: 1,
                                stringFilter: 1,
                                id: 1
                            },
                            X = {
                                none: 0,
                                all: 1,
                                auto: 2,
                                concurrent: 3,
                                allOnStart: 4,
                                preexisting: 5,
                                true: 1,
                                false: 0
                            },
                            q = P._rootFramesTimeline = new O,
                            Y = P._rootTimeline = new O,
                            Z = 30,
                            K = G.lazyRender = function() {
                                var t, e = D.length;
                                for (B = {}; --e > -1;)(t = D[e]) && t._lazy !== !1 && (t.render(t._lazy[0], t._lazy[1], !0), t._lazy = !1);
                                D.length = 0
                            };
                        Y._startTime = u.time, q._startTime = u.frame, Y._active = q._active = !0, setTimeout(K, 1), P._updateRoot = k.render = function() {
                            var t, e, i;
                            if (D.length && K(), Y.render((u.time - Y._startTime) * Y._timeScale, !1, !1), q.render((u.frame - q._startTime) * q._timeScale, !1, !1), D.length && K(), u.frame >= Z) {
                                Z = u.frame + (parseInt(k.autoSleep, 10) || 120);
                                for (i in j) {
                                    for (e = j[i].tweens, t = e.length; --t > -1;) e[t]._gc && e.splice(t, 1);
                                    0 === e.length && delete j[i]
                                }
                                if ((!(i = Y._first) || i._paused) && k.autoSleep && !q._first && 1 === u._listeners.tick.length) {
                                    for (; i && i._paused;) i = i._next;
                                    i || u.sleep()
                                }
                            }
                        }, u.addEventListener("tick", P._updateRoot);
                        var Q = function(t, e, i) {
                                var n, r, o = t._gsTweenID;
                                if (j[o || (t._gsTweenID = o = "t" + H++)] || (j[o] = {
                                        target: t,
                                        tweens: []
                                    }), e && (n = j[o].tweens, n[r = n.length] = e, i))
                                    for (; --r > -1;) n[r] === e && n.splice(r, 1);
                                return j[o].tweens
                            },
                            J = function(t, e, i, n) {
                                var r, o, a = t.vars.onOverwrite;
                                return a && (r = a(t, e, i, n)), a = k.onOverwrite, a && (o = a(t, e, i, n)), r !== !1 && o !== !1
                            },
                            $ = function(t, e, i, n, r) {
                                var o, a, s, l;
                                if (1 === n || n >= 4) {
                                    for (l = r.length, o = 0; o < l; o++)
                                        if ((s = r[o]) !== e) s._gc || s._kill(null, t, e) && (a = !0);
                                        else if (5 === n) break;
                                    return a
                                }
                                var u, c = e._startTime + 1e-10,
                                    h = [],
                                    d = 0,
                                    p = 0 === e._duration;
                                for (o = r.length; --o > -1;)(s = r[o]) === e || s._gc || s._paused || (s._timeline !== e._timeline ? (u = u || tt(e, 0, p), 0 === tt(s, u, p) && (h[d++] = s)) : s._startTime <= c && s._startTime + s.totalDuration() / s._timeScale > c && ((p || !s._initted) && c - s._startTime <= 2e-10 || (h[d++] = s)));
                                for (o = d; --o > -1;)
                                    if (s = h[o], 2 === n && s._kill(i, t, e) && (a = !0), 2 !== n || !s._firstPT && s._initted) {
                                        if (2 !== n && !J(s, e)) continue;
                                        s._enabled(!1, !1) && (a = !0)
                                    }
                                return a
                            },
                            tt = function(t, e, i) {
                                for (var n = t._timeline, r = n._timeScale, o = t._startTime; n._timeline;) {
                                    if (o += n._startTime, r *= n._timeScale, n._paused) return -100;
                                    n = n._timeline
                                }
                                return o /= r, o > e ? o - e : i && o === e || !t._initted && o - e < 2e-10 ? 1e-10 : (o += t.totalDuration() / t._timeScale / r) > e + 1e-10 ? 0 : o - e - 1e-10
                            };
                        l._init = function() {
                            var t, e, i, n, r, o, a = this.vars,
                                s = this._overwrittenProps,
                                l = this._duration,
                                u = !!a.immediateRender,
                                c = a.ease;
                            if (a.startAt) {
                                this._startAt && (this._startAt.render(-1, !0), this._startAt.kill()), r = {};
                                for (n in a.startAt) r[n] = a.startAt[n];
                                if (r.overwrite = !1, r.immediateRender = !0, r.lazy = u && a.lazy !== !1, r.startAt = r.delay = null, this._startAt = k.to(this.target, 0, r), u)
                                    if (this._time > 0) this._startAt = null;
                                    else if (0 !== l) return
                            } else if (a.runBackwards && 0 !== l)
                                if (this._startAt) this._startAt.render(-1, !0), this._startAt.kill(), this._startAt = null;
                                else {
                                    0 !== this._time && (u = !1), i = {};
                                    for (n in a) W[n] && "autoCSS" !== n || (i[n] = a[n]);
                                    if (i.overwrite = 0, i.data = "isFromStart", i.lazy = u && a.lazy !== !1, i.immediateRender = u, this._startAt = k.to(this.target, 0, i), u) {
                                        if (0 === this._time) return
                                    } else this._startAt._init(), this._startAt._enabled(!1), this.vars.immediateRender && (this._startAt = null)
                                }
                            if (this._ease = c = c ? c instanceof x ? c : "function" == typeof c ? new x(c, a.easeParams) : w[c] || k.defaultEase : k.defaultEase, a.easeParams instanceof Array && c.config && (this._ease = c.config.apply(c, a.easeParams)), this._easeType = this._ease._type, this._easePower = this._ease._power, this._firstPT = null, this._targets)
                                for (o = this._targets.length, t = 0; t < o; t++) this._initProps(this._targets[t], this._propLookup[t] = {}, this._siblings[t], s ? s[t] : null, t) && (e = !0);
                            else e = this._initProps(this.target, this._propLookup, this._siblings, s, 0);
                            if (e && k._onPluginEvent("_onInitAllProps", this), s && (this._firstPT || "function" != typeof this.target && this._enabled(!1, !1)), a.runBackwards)
                                for (i = this._firstPT; i;) i.s += i.c, i.c = -i.c, i = i._next;
                            this._onUpdate = a.onUpdate, this._initted = !0
                        }, l._initProps = function(e, i, n, r, o) {
                            var a, s, l, u, c, h;
                            if (null == e) return !1;
                            B[e._gsTweenID] && K(), this.vars.css || e.style && e !== t && e.nodeType && V.css && this.vars.autoCSS !== !1 && I(this.vars, e);
                            for (a in this.vars)
                                if (h = this.vars[a], W[a]) h && (h instanceof Array || h.push && m(h)) && h.join("").indexOf("{self}") !== -1 && (this.vars[a] = h = this._swapSelfInParams(h, this));
                                else if (V[a] && (u = new V[a])._onInitTween(e, this.vars[a], this, o)) {
                                for (this._firstPT = c = {
                                        _next: this._firstPT,
                                        t: u,
                                        p: "setRatio",
                                        s: 0,
                                        c: 1,
                                        f: 1,
                                        n: a,
                                        pg: 1,
                                        pr: u._priority,
                                        m: 0
                                    }, s = u._overwriteProps.length; --s > -1;) i[u._overwriteProps[s]] = this._firstPT;
                                (u._priority || u._onInitAllProps) && (l = !0), (u._onDisable || u._onEnable) && (this._notifyPluginsOfEnabled = !0), c._next && (c._next._prev = c)
                            } else i[a] = U.call(this, e, a, "get", h, a, 0, null, this.vars.stringFilter, o);
                            return r && this._kill(r, e) ? this._initProps(e, i, n, r, o) : this._overwrite > 1 && this._firstPT && n.length > 1 && $(e, this, i, this._overwrite, n) ? (this._kill(i, e), this._initProps(e, i, n, r, o)) : (this._firstPT && (this.vars.lazy !== !1 && this._duration || this.vars.lazy && !this._duration) && (B[e._gsTweenID] = !0), l)
                        }, l.render = function(t, e, i) {
                            var n, r, o, a, s = this._time,
                                l = this._duration,
                                u = this._rawPrevTime;
                            if (t >= l - 1e-7 && t >= 0) this._totalTime = this._time = l, this.ratio = this._ease._calcEnd ? this._ease.getRatio(1) : 1, this._reversed || (n = !0, r = "onComplete", i = i || this._timeline.autoRemoveChildren), 0 === l && (this._initted || !this.vars.lazy || i) && (this._startTime === this._timeline._duration && (t = 0), (u < 0 || t <= 0 && t >= -1e-7 || 1e-10 === u && "isPause" !== this.data) && u !== t && (i = !0, u > 1e-10 && (r = "onReverseComplete")), this._rawPrevTime = a = !e || t || u === t ? t : 1e-10);
                            else if (t < 1e-7) this._totalTime = this._time = 0, this.ratio = this._ease._calcEnd ? this._ease.getRatio(0) : 0, (0 !== s || 0 === l && u > 0) && (r = "onReverseComplete", n = this._reversed), t < 0 && (this._active = !1, 0 === l && (this._initted || !this.vars.lazy || i) && (u >= 0 && (1e-10 !== u || "isPause" !== this.data) && (i = !0), this._rawPrevTime = a = !e || t || u === t ? t : 1e-10)), this._initted || (i = !0);
                            else if (this._totalTime = this._time = t, this._easeType) {
                                var c = t / l,
                                    h = this._easeType,
                                    d = this._easePower;
                                (1 === h || 3 === h && c >= .5) && (c = 1 - c), 3 === h && (c *= 2), 1 === d ? c *= c : 2 === d ? c *= c * c : 3 === d ? c *= c * c * c : 4 === d && (c *= c * c * c * c), this.ratio = 1 === h ? 1 - c : 2 === h ? c : t / l < .5 ? c / 2 : 1 - c / 2
                            } else this.ratio = this._ease.getRatio(t / l);
                            if (this._time !== s || i) {
                                if (!this._initted) {
                                    if (this._init(), !this._initted || this._gc) return;
                                    if (!i && this._firstPT && (this.vars.lazy !== !1 && this._duration || this.vars.lazy && !this._duration)) return this._time = this._totalTime = s, this._rawPrevTime = u, D.push(this), void(this._lazy = [t, e]);
                                    this._time && !n ? this.ratio = this._ease.getRatio(this._time / l) : n && this._ease._calcEnd && (this.ratio = this._ease.getRatio(0 === this._time ? 0 : 1))
                                }
                                for (this._lazy !== !1 && (this._lazy = !1), this._active || !this._paused && this._time !== s && t >= 0 && (this._active = !0), 0 === s && (this._startAt && (t >= 0 ? this._startAt.render(t, e, i) : r || (r = "_dummyGS")), this.vars.onStart && (0 === this._time && 0 !== l || e || this._callback("onStart"))), o = this._firstPT; o;) o.f ? o.t[o.p](o.c * this.ratio + o.s) : o.t[o.p] = o.c * this.ratio + o.s, o = o._next;
                                this._onUpdate && (t < 0 && this._startAt && t !== -1e-4 && this._startAt.render(t, e, i), e || (this._time !== s || n || i) && this._callback("onUpdate")), r && (this._gc && !i || (t < 0 && this._startAt && !this._onUpdate && t !== -1e-4 && this._startAt.render(t, e, i), n && (this._timeline.autoRemoveChildren && this._enabled(!1, !1), this._active = !1), !e && this.vars[r] && this._callback(r), 0 === l && 1e-10 === this._rawPrevTime && 1e-10 !== a && (this._rawPrevTime = 0)))
                            }
                        }, l._kill = function(t, e, i) {
                            if ("all" === t && (t = null), null == t && (null == e || e === this.target)) return this._lazy = !1, this._enabled(!1, !1);
                            e = "string" != typeof e ? e || this._targets || this.target : k.selector(e) || e;
                            var n, r, o, a, s, l, u, c, h, d = i && this._time && i._startTime === this._startTime && this._timeline === i._timeline;
                            if ((m(e) || R(e)) && "number" != typeof e[0])
                                for (n = e.length; --n > -1;) this._kill(t, e[n], i) && (l = !0);
                            else {
                                if (this._targets) {
                                    for (n = this._targets.length; --n > -1;)
                                        if (e === this._targets[n]) {
                                            s = this._propLookup[n] || {}, this._overwrittenProps = this._overwrittenProps || [], r = this._overwrittenProps[n] = t ? this._overwrittenProps[n] || {} : "all";
                                            break
                                        }
                                } else {
                                    if (e !== this.target) return !1;
                                    s = this._propLookup, r = this._overwrittenProps = t ? this._overwrittenProps || {} : "all"
                                }
                                if (s) {
                                    if (u = t || s, c = t !== r && "all" !== r && t !== s && ("object" != typeof t || !t._tempKill), i && (k.onOverwrite || this.vars.onOverwrite)) {
                                        for (o in u) s[o] && (h || (h = []), h.push(o));
                                        if ((h || !t) && !J(this, i, e, h)) return !1
                                    }
                                    for (o in u)(a = s[o]) && (d && (a.f ? a.t[a.p](a.s) : a.t[a.p] = a.s, l = !0), a.pg && a.t._kill(u) && (l = !0), a.pg && 0 !== a.t._overwriteProps.length || (a._prev ? a._prev._next = a._next : a === this._firstPT && (this._firstPT = a._next), a._next && (a._next._prev = a._prev), a._next = a._prev = null), delete s[o]), c && (r[o] = 1);
                                    !this._firstPT && this._initted && this._enabled(!1, !1)
                                }
                            }
                            return l
                        }, l.invalidate = function() {
                            return this._notifyPluginsOfEnabled && k._onPluginEvent("_onDisable", this), this._firstPT = this._overwrittenProps = this._startAt = this._onUpdate = null, this._notifyPluginsOfEnabled = this._active = this._lazy = !1, this._propLookup = this._targets ? {} : [], P.prototype.invalidate.call(this), this.vars.immediateRender && (this._time = -1e-10, this.render(Math.min(0, -this._delay))), this
                        }, l._enabled = function(t, e) {
                            if (c || u.wake(), t && this._gc) {
                                var i, n = this._targets;
                                if (n)
                                    for (i = n.length; --i > -1;) this._siblings[i] = Q(n[i], this, !0);
                                else this._siblings = Q(this.target, this, !0)
                            }
                            return P.prototype._enabled.call(this, t, e), !(!this._notifyPluginsOfEnabled || !this._firstPT) && k._onPluginEvent(t ? "_onEnable" : "_onDisable", this)
                        }, k.to = function(t, e, i) {
                            return new k(t, e, i)
                        }, k.from = function(t, e, i) {
                            return i.runBackwards = !0, i.immediateRender = 0 != i.immediateRender, new k(t, e, i)
                        }, k.fromTo = function(t, e, i, n) {
                            return n.startAt = i, n.immediateRender = 0 != n.immediateRender && 0 != i.immediateRender, new k(t, e, n)
                        }, k.delayedCall = function(t, e, i, n, r) {
                            return new k(e, 0, {
                                delay: t,
                                onComplete: e,
                                onCompleteParams: i,
                                callbackScope: n,
                                onReverseComplete: e,
                                onReverseCompleteParams: i,
                                immediateRender: !1,
                                lazy: !1,
                                useFrames: r,
                                overwrite: 0
                            })
                        }, k.set = function(t, e) {
                            return new k(t, 0, e)
                        }, k.getTweensOf = function(t, e) {
                            if (null == t) return [];
                            t = "string" != typeof t ? t : k.selector(t) || t;
                            var i, n, r, o;
                            if ((m(t) || R(t)) && "number" != typeof t[0]) {
                                for (i = t.length, n = []; --i > -1;) n = n.concat(k.getTweensOf(t[i], e));
                                for (i = n.length; --i > -1;)
                                    for (o = n[i], r = i; --r > -1;) o === n[r] && n.splice(i, 1)
                            } else
                                for (n = Q(t).concat(), i = n.length; --i > -1;)(n[i]._gc || e && !n[i].isActive()) && n.splice(i, 1);
                            return n
                        }, k.killTweensOf = k.killDelayedCallsTo = function(t, e, i) {
                            "object" == typeof e && (i = e, e = !1);
                            for (var n = k.getTweensOf(t, e), r = n.length; --r > -1;) n[r]._kill(i, t)
                        };
                        var et = _("plugins.TweenPlugin", function(t, e) {
                            this._overwriteProps = (t || "").split(","), this._propName = this._overwriteProps[0], this._priority = e || 0, this._super = et.prototype
                        }, !0);
                        if (l = et.prototype, et.version = "1.19.0", et.API = 2, l._firstPT = null, l._addTween = U, l.setRatio = F, l._kill = function(t) {
                                var e, i = this._overwriteProps,
                                    n = this._firstPT;
                                if (null != t[this._propName]) this._overwriteProps = [];
                                else
                                    for (e = i.length; --e > -1;) null != t[i[e]] && i.splice(e, 1);
                                for (; n;) null != t[n.n] && (n._next && (n._next._prev = n._prev), n._prev ? (n._prev._next = n._next, n._prev = null) : this._firstPT === n && (this._firstPT = n._next)), n = n._next;
                                return !1
                            }, l._mod = l._roundProps = function(t) {
                                for (var e, i = this._firstPT; i;) e = t[this._propName] || null != i.n && t[i.n.split(this._propName + "_").join("")], e && "function" == typeof e && (2 === i.f ? i.t._applyPT.m = e : i.m = e), i = i._next
                            }, k._onPluginEvent = function(t, e) {
                                var i, n, r, o, a, s = e._firstPT;
                                if ("_onInitAllProps" === t) {
                                    for (; s;) {
                                        for (a = s._next, n = r; n && n.pr > s.pr;) n = n._next;
                                        (s._prev = n ? n._prev : o) ? s._prev._next = s: r = s, (s._next = n) ? n._prev = s : o = s, s = a
                                    }
                                    s = e._firstPT = r
                                }
                                for (; s;) s.pg && "function" == typeof s.t[t] && s.t[t]() && (i = !0), s = s._next;
                                return i
                            }, et.activate = function(t) {
                                for (var e = t.length; --e > -1;) t[e].API === et.API && (V[(new t[e])._propName] = t[e]);
                                return !0
                            }, y.plugin = function(t) {
                                if (!(t && t.propName && t.init && t.API)) throw "illegal plugin definition.";
                                var e, i = t.propName,
                                    n = t.priority || 0,
                                    r = t.overwriteProps,
                                    o = {
                                        init: "_onInitTween",
                                        set: "setRatio",
                                        kill: "_kill",
                                        round: "_mod",
                                        mod: "_mod",
                                        initAll: "_onInitAllProps"
                                    },
                                    a = _("plugins." + i.charAt(0).toUpperCase() + i.substr(1) + "Plugin", function() {
                                        et.call(this, i, n), this._overwriteProps = r || []
                                    }, t.global === !0),
                                    s = a.prototype = new et(i);
                                s.constructor = a, a.API = t.API;
                                for (e in o) "function" == typeof t[e] && (s[o[e]] = t[e]);
                                return a.version = t.version, et.activate([a]), a
                            }, a = t._gsQueue) {
                            for (s = 0; s < a.length; s++) a[s]();
                            for (l in g) g[l].func || t.console.log("GSAP encountered missing dependency: " + l)
                        }
                        c = !1
                    }
                }(void 0 !== e && e.exports && void 0 !== t ? t : this || window)
        }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
    }, {}],
    78: [function(t, e, i) {
        ! function(t, i, n, r) {
            "use strict";

            function o(t, e, i) {
                return setTimeout(c(t, i), e)
            }

            function a(t, e, i) {
                return !!Array.isArray(t) && (s(t, i[e], i), !0)
            }

            function s(t, e, i) {
                var n;
                if (t)
                    if (t.forEach) t.forEach(e, i);
                    else if (t.length !== r)
                    for (n = 0; n < t.length;) e.call(i, t[n], n, t), n++;
                else
                    for (n in t) t.hasOwnProperty(n) && e.call(i, t[n], n, t)
            }

            function l(e, i, n) {
                var r = "DEPRECATED METHOD: " + i + "\n" + n + " AT \n";
                return function() {
                    var i = new Error("get-stack-trace"),
                        n = i && i.stack ? i.stack.replace(/^[^\(]+?[\n$]/gm, "").replace(/^\s+at\s+/gm, "").replace(/^Object.<anonymous>\s*\(/gm, "{anonymous}()@") : "Unknown Stack Trace",
                        o = t.console && (t.console.warn || t.console.log);
                    return o && o.call(t.console, r, n), e.apply(this, arguments)
                }
            }

            function u(t, e, i) {
                var n, r = e.prototype;
                n = t.prototype = Object.create(r), n.constructor = t, n._super = r, i && ht(n, i)
            }

            function c(t, e) {
                return function() {
                    return t.apply(e, arguments)
                }
            }

            function h(t, e) {
                return typeof t == ft ? t.apply(e ? e[0] || r : r, e) : t
            }

            function d(t, e) {
                return t === r ? e : t
            }

            function p(t, e, i) {
                s(v(e), function(e) {
                    t.addEventListener(e, i, !1)
                })
            }

            function f(t, e, i) {
                s(v(e), function(e) {
                    t.removeEventListener(e, i, !1)
                })
            }

            function m(t, e) {
                for (; t;) {
                    if (t == e) return !0;
                    t = t.parentNode
                }
                return !1
            }

            function g(t, e) {
                return t.indexOf(e) > -1
            }

            function v(t) {
                return t.trim().split(/\s+/g)
            }

            function y(t, e, i) {
                if (t.indexOf && !i) return t.indexOf(e);
                for (var n = 0; n < t.length;) {
                    if (i && t[n][i] == e || !i && t[n] === e) return n;
                    n++
                }
                return -1
            }

            function _(t) {
                return Array.prototype.slice.call(t, 0)
            }

            function b(t, e, i) {
                for (var n = [], r = [], o = 0; o < t.length;) {
                    var a = e ? t[o][e] : t[o];
                    y(r, a) < 0 && n.push(t[o]), r[o] = a, o++
                }
                return i && (n = e ? n.sort(function(t, i) {
                    return t[e] > i[e]
                }) : n.sort()), n
            }

            function x(t, e) {
                for (var i, n, o = e[0].toUpperCase() + e.slice(1), a = 0; a < dt.length;) {
                    if (i = dt[a], (n = i ? i + o : e) in t) return n;
                    a++
                }
                return r
            }

            function w() {
                return bt++
            }

            function T(e) {
                var i = e.ownerDocument || e;
                return i.defaultView || i.parentWindow || t
            }

            function S(t, e) {
                var i = this;
                this.manager = t, this.callback = e, this.element = t.element, this.target = t.options.inputTarget, this.domHandler = function(e) {
                    h(t.options.enable, [t]) && i.handler(e)
                }, this.init()
            }

            function M(t) {
                var e = t.options.inputClass;
                return new(e ? e : Tt ? N : St ? V : wt ? H : F)(t, E)
            }

            function E(t, e, i) {
                var n = i.pointers.length,
                    r = i.changedPointers.length,
                    o = e & Et && n - r == 0,
                    a = e & (At | Pt) && n - r == 0;
                i.isFirst = !!o, i.isFinal = !!a, o && (t.session = {}), i.eventType = e, C(t, i), t.emit("hammer.input", i), t.recognize(i), t.session.prevInput = i
            }

            function C(t, e) {
                var i = t.session,
                    n = e.pointers,
                    r = n.length;
                i.firstInput || (i.firstInput = L(e)), r > 1 && !i.firstMultiple ? i.firstMultiple = L(e) : 1 === r && (i.firstMultiple = !1);
                var o = i.firstInput,
                    a = i.firstMultiple,
                    s = a ? a.center : o.center,
                    l = e.center = O(n);
                e.timeStamp = vt(), e.deltaTime = e.timeStamp - o.timeStamp, e.angle = D(s, l), e.distance = I(s, l), A(i, e), e.offsetDirection = R(e.deltaX, e.deltaY);
                var u = k(e.deltaTime, e.deltaX, e.deltaY);
                e.overallVelocityX = u.x, e.overallVelocityY = u.y, e.overallVelocity = gt(u.x) > gt(u.y) ? u.x : u.y, e.scale = a ? z(a.pointers, n) : 1, e.rotation = a ? B(a.pointers, n) : 0, e.maxPointers = i.prevInput ? e.pointers.length > i.prevInput.maxPointers ? e.pointers.length : i.prevInput.maxPointers : e.pointers.length, P(i, e);
                var c = t.element;
                m(e.srcEvent.target, c) && (c = e.srcEvent.target), e.target = c
            }

            function A(t, e) {
                var i = e.center,
                    n = t.offsetDelta || {},
                    r = t.prevDelta || {},
                    o = t.prevInput || {};
                e.eventType !== Et && o.eventType !== At || (r = t.prevDelta = {
                    x: o.deltaX || 0,
                    y: o.deltaY || 0
                }, n = t.offsetDelta = {
                    x: i.x,
                    y: i.y
                }), e.deltaX = r.x + (i.x - n.x), e.deltaY = r.y + (i.y - n.y)
            }

            function P(t, e) {
                var i, n, o, a, s = t.lastInterval || e,
                    l = e.timeStamp - s.timeStamp;
                if (e.eventType != Pt && (l > Mt || s.velocity === r)) {
                    var u = e.deltaX - s.deltaX,
                        c = e.deltaY - s.deltaY,
                        h = k(l, u, c);
                    n = h.x, o = h.y, i = gt(h.x) > gt(h.y) ? h.x : h.y, a = R(u, c), t.lastInterval = e
                } else i = s.velocity, n = s.velocityX, o = s.velocityY, a = s.direction;
                e.velocity = i, e.velocityX = n, e.velocityY = o, e.direction = a
            }

            function L(t) {
                for (var e = [], i = 0; i < t.pointers.length;) e[i] = {
                    clientX: mt(t.pointers[i].clientX),
                    clientY: mt(t.pointers[i].clientY)
                }, i++;
                return {
                    timeStamp: vt(),
                    pointers: e,
                    center: O(e),
                    deltaX: t.deltaX,
                    deltaY: t.deltaY
                }
            }

            function O(t) {
                var e = t.length;
                if (1 === e) return {
                    x: mt(t[0].clientX),
                    y: mt(t[0].clientY)
                };
                for (var i = 0, n = 0, r = 0; r < e;) i += t[r].clientX, n += t[r].clientY, r++;
                return {
                    x: mt(i / e),
                    y: mt(n / e)
                }
            }

            function k(t, e, i) {
                return {
                    x: e / t || 0,
                    y: i / t || 0
                }
            }

            function R(t, e) {
                return t === e ? Lt : gt(t) >= gt(e) ? t < 0 ? Ot : kt : e < 0 ? Rt : It
            }

            function I(t, e, i) {
                i || (i = Ft);
                var n = e[i[0]] - t[i[0]],
                    r = e[i[1]] - t[i[1]];
                return Math.sqrt(n * n + r * r)
            }

            function D(t, e, i) {
                i || (i = Ft);
                var n = e[i[0]] - t[i[0]],
                    r = e[i[1]] - t[i[1]];
                return 180 * Math.atan2(r, n) / Math.PI
            }

            function B(t, e) {
                return D(e[1], e[0], Nt) + D(t[1], t[0], Nt)
            }

            function z(t, e) {
                return I(e[0], e[1], Nt) / I(t[0], t[1], Nt)
            }

            function F() {
                this.evEl = Gt, this.evWin = Vt, this.pressed = !1, S.apply(this, arguments)
            }

            function N() {
                this.evEl = Wt, this.evWin = Xt, S.apply(this, arguments), this.store = this.manager.session.pointerEvents = []
            }

            function U() {
                this.evTarget = Yt, this.evWin = Zt, this.started = !1, S.apply(this, arguments)
            }

            function G(t, e) {
                var i = _(t.touches),
                    n = _(t.changedTouches);
                return e & (At | Pt) && (i = b(i.concat(n), "identifier", !0)), [i, n]
            }

            function V() {
                this.evTarget = Qt, this.targetIds = {}, S.apply(this, arguments)
            }

            function j(t, e) {
                var i = _(t.touches),
                    n = this.targetIds;
                if (e & (Et | Ct) && 1 === i.length) return n[i[0].identifier] = !0, [i, i];
                var r, o, a = _(t.changedTouches),
                    s = [],
                    l = this.target;
                if (o = i.filter(function(t) {
                        return m(t.target, l)
                    }), e === Et)
                    for (r = 0; r < o.length;) n[o[r].identifier] = !0, r++;
                for (r = 0; r < a.length;) n[a[r].identifier] && s.push(a[r]), e & (At | Pt) && delete n[a[r].identifier], r++;
                return s.length ? [b(o.concat(s), "identifier", !0), s] : void 0
            }

            function H() {
                S.apply(this, arguments);
                var t = c(this.handler, this);
                this.touch = new V(this.manager, t), this.mouse = new F(this.manager, t), this.primaryTouch = null, this.lastTouches = []
            }

            function W(t, e) {
                t & Et ? (this.primaryTouch = e.changedPointers[0].identifier, X.call(this, e)) : t & (At | Pt) && X.call(this, e)
            }

            function X(t) {
                var e = t.changedPointers[0];
                if (e.identifier === this.primaryTouch) {
                    var i = {
                        x: e.clientX,
                        y: e.clientY
                    };
                    this.lastTouches.push(i);
                    var n = this.lastTouches,
                        r = function() {
                            var t = n.indexOf(i);
                            t > -1 && n.splice(t, 1)
                        };
                    setTimeout(r, Jt)
                }
            }

            function q(t) {
                for (var e = t.srcEvent.clientX, i = t.srcEvent.clientY, n = 0; n < this.lastTouches.length; n++) {
                    var r = this.lastTouches[n],
                        o = Math.abs(e - r.x),
                        a = Math.abs(i - r.y);
                    if (o <= $t && a <= $t) return !0
                }
                return !1
            }

            function Y(t, e) {
                this.manager = t, this.set(e)
            }

            function Z(t) {
                if (g(t, re)) return re;
                var e = g(t, oe),
                    i = g(t, ae);
                return e && i ? re : e || i ? e ? oe : ae : g(t, ne) ? ne : ie
            }

            function K(t) {
                this.options = ht({}, this.defaults, t || {}), this.id = w(), this.manager = null, this.options.enable = d(this.options.enable, !0), this.state = le, this.simultaneous = {}, this.requireFail = []
            }

            function Q(t) {
                return t & pe ? "cancel" : t & he ? "end" : t & ce ? "move" : t & ue ? "start" : ""
            }

            function J(t) {
                return t == It ? "down" : t == Rt ? "up" : t == Ot ? "left" : t == kt ? "right" : ""
            }

            function $(t, e) {
                var i = e.manager;
                return i ? i.get(t) : t
            }

            function tt() {
                K.apply(this, arguments)
            }

            function et() {
                tt.apply(this, arguments), this.pX = null, this.pY = null
            }

            function it() {
                tt.apply(this, arguments)
            }

            function nt() {
                K.apply(this, arguments), this._timer = null, this._input = null
            }

            function rt() {
                tt.apply(this, arguments)
            }

            function ot() {
                tt.apply(this, arguments)
            }

            function at() {
                K.apply(this, arguments), this.pTime = !1, this.pCenter = !1, this._timer = null, this._input = null, this.count = 0
            }

            function st(t, e) {
                return e = e || {}, e.recognizers = d(e.recognizers, st.defaults.preset), new lt(t, e)
            }

            function lt(t, e) {
                this.options = ht({}, st.defaults, e || {}), this.options.inputTarget = this.options.inputTarget || t, this.handlers = {}, this.session = {}, this.recognizers = [], this.oldCssProps = {}, this.element = t, this.input = M(this), this.touchAction = new Y(this, this.options.touchAction), ut(this, !0), s(this.options.recognizers, function(t) {
                    var e = this.add(new t[0](t[1]));
                    t[2] && e.recognizeWith(t[2]), t[3] && e.requireFailure(t[3])
                }, this)
            }

            function ut(t, e) {
                var i = t.element;
                if (i.style) {
                    var n;
                    s(t.options.cssProps, function(r, o) {
                        n = x(i.style, o), e ? (t.oldCssProps[n] = i.style[n], i.style[n] = r) : i.style[n] = t.oldCssProps[n] || ""
                    }), e || (t.oldCssProps = {})
                }
            }

            function ct(t, e) {
                var n = i.createEvent("Event");
                n.initEvent(t, !0, !0), n.gesture = e, e.target.dispatchEvent(n)
            }
            var ht, dt = ["", "webkit", "Moz", "MS", "ms", "o"],
                pt = i.createElement("div"),
                ft = "function",
                mt = Math.round,
                gt = Math.abs,
                vt = Date.now;
            ht = "function" != typeof Object.assign ? function(t) {
                if (t === r || null === t) throw new TypeError("Cannot convert undefined or null to object");
                for (var e = Object(t), i = 1; i < arguments.length; i++) {
                    var n = arguments[i];
                    if (n !== r && null !== n)
                        for (var o in n) n.hasOwnProperty(o) && (e[o] = n[o])
                }
                return e
            } : Object.assign;
            var yt = l(function(t, e, i) {
                    for (var n = Object.keys(e), o = 0; o < n.length;)(!i || i && t[n[o]] === r) && (t[n[o]] = e[n[o]]), o++;
                    return t
                }, "extend", "Use `assign`."),
                _t = l(function(t, e) {
                    return yt(t, e, !0)
                }, "merge", "Use `assign`."),
                bt = 1,
                xt = /mobile|tablet|ip(ad|hone|od)|android/i,
                wt = "ontouchstart" in t,
                Tt = x(t, "PointerEvent") !== r,
                St = wt && xt.test(navigator.userAgent),
                Mt = 25,
                Et = 1,
                Ct = 2,
                At = 4,
                Pt = 8,
                Lt = 1,
                Ot = 2,
                kt = 4,
                Rt = 8,
                It = 16,
                Dt = Ot | kt,
                Bt = Rt | It,
                zt = Dt | Bt,
                Ft = ["x", "y"],
                Nt = ["clientX", "clientY"];
            S.prototype = {
                handler: function() {},
                init: function() {
                    this.evEl && p(this.element, this.evEl, this.domHandler), this.evTarget && p(this.target, this.evTarget, this.domHandler), this.evWin && p(T(this.element), this.evWin, this.domHandler)
                },
                destroy: function() {
                    this.evEl && f(this.element, this.evEl, this.domHandler), this.evTarget && f(this.target, this.evTarget, this.domHandler), this.evWin && f(T(this.element), this.evWin, this.domHandler)
                }
            };
            var Ut = {
                    mousedown: Et,
                    mousemove: Ct,
                    mouseup: At
                },
                Gt = "mousedown",
                Vt = "mousemove mouseup";
            u(F, S, {
                handler: function(t) {
                    var e = Ut[t.type];
                    e & Et && 0 === t.button && (this.pressed = !0), e & Ct && 1 !== t.which && (e = At), this.pressed && (e & At && (this.pressed = !1), this.callback(this.manager, e, {
                        pointers: [t],
                        changedPointers: [t],
                        pointerType: "mouse",
                        srcEvent: t
                    }))
                }
            });
            var jt = {
                    pointerdown: Et,
                    pointermove: Ct,
                    pointerup: At,
                    pointercancel: Pt,
                    pointerout: Pt
                },
                Ht = {
                    2: "touch",
                    3: "pen",
                    4: "mouse",
                    5: "kinect"
                },
                Wt = "pointerdown",
                Xt = "pointermove pointerup pointercancel";
            t.MSPointerEvent && !t.PointerEvent && (Wt = "MSPointerDown", Xt = "MSPointerMove MSPointerUp MSPointerCancel"), u(N, S, {
                handler: function(t) {
                    var e = this.store,
                        i = !1,
                        n = t.type.toLowerCase().replace("ms", ""),
                        r = jt[n],
                        o = Ht[t.pointerType] || t.pointerType,
                        a = "touch" == o,
                        s = y(e, t.pointerId, "pointerId");
                    r & Et && (0 === t.button || a) ? s < 0 && (e.push(t), s = e.length - 1) : r & (At | Pt) && (i = !0), s < 0 || (e[s] = t, this.callback(this.manager, r, {
                        pointers: e,
                        changedPointers: [t],
                        pointerType: o,
                        srcEvent: t
                    }), i && e.splice(s, 1))
                }
            });
            var qt = {
                    touchstart: Et,
                    touchmove: Ct,
                    touchend: At,
                    touchcancel: Pt
                },
                Yt = "touchstart",
                Zt = "touchstart touchmove touchend touchcancel";
            u(U, S, {
                handler: function(t) {
                    var e = qt[t.type];
                    if (e === Et && (this.started = !0), this.started) {
                        var i = G.call(this, t, e);
                        e & (At | Pt) && i[0].length - i[1].length == 0 && (this.started = !1), this.callback(this.manager, e, {
                            pointers: i[0],
                            changedPointers: i[1],
                            pointerType: "touch",
                            srcEvent: t
                        })
                    }
                }
            });
            var Kt = {
                    touchstart: Et,
                    touchmove: Ct,
                    touchend: At,
                    touchcancel: Pt
                },
                Qt = "touchstart touchmove touchend touchcancel";
            u(V, S, {
                handler: function(t) {
                    var e = Kt[t.type],
                        i = j.call(this, t, e);
                    i && this.callback(this.manager, e, {
                        pointers: i[0],
                        changedPointers: i[1],
                        pointerType: "touch",
                        srcEvent: t
                    })
                }
            });
            var Jt = 2500,
                $t = 25;
            u(H, S, {
                handler: function(t, e, i) {
                    var n = "touch" == i.pointerType,
                        r = "mouse" == i.pointerType;
                    if (!(r && i.sourceCapabilities && i.sourceCapabilities.firesTouchEvents)) {
                        if (n) W.call(this, e, i);
                        else if (r && q.call(this, i)) return;
                        this.callback(t, e, i)
                    }
                },
                destroy: function() {
                    this.touch.destroy(), this.mouse.destroy()
                }
            });
            var te = x(pt.style, "touchAction"),
                ee = te !== r,
                ie = "auto",
                ne = "manipulation",
                re = "none",
                oe = "pan-x",
                ae = "pan-y",
                se = function() {
                    if (!ee) return !1;
                    var e = {},
                        i = t.CSS && t.CSS.supports;
                    return ["auto", "manipulation", "pan-y", "pan-x", "pan-x pan-y", "none"].forEach(function(n) {
                        e[n] = !i || t.CSS.supports("touch-action", n)
                    }), e
                }();
            Y.prototype = {
                set: function(t) {
                    "compute" == t && (t = this.compute()), ee && this.manager.element.style && se[t] && (this.manager.element.style[te] = t), this.actions = t.toLowerCase().trim()
                },
                update: function() {
                    this.set(this.manager.options.touchAction)
                },
                compute: function() {
                    var t = [];
                    return s(this.manager.recognizers, function(e) {
                        h(e.options.enable, [e]) && (t = t.concat(e.getTouchAction()))
                    }), Z(t.join(" "))
                },
                preventDefaults: function(t) {
                    var e = t.srcEvent,
                        i = t.offsetDirection;
                    if (this.manager.session.prevented) return void e.preventDefault();
                    var n = this.actions,
                        r = g(n, re) && !se[re],
                        o = g(n, ae) && !se[ae],
                        a = g(n, oe) && !se[oe];
                    if (r) {
                        var s = 1 === t.pointers.length,
                            l = t.distance < 2,
                            u = t.deltaTime < 250;
                        if (s && l && u) return
                    }
                    return a && o ? void 0 : r || o && i & Dt || a && i & Bt ? this.preventSrc(e) : void 0
                },
                preventSrc: function(t) {
                    this.manager.session.prevented = !0, t.preventDefault()
                }
            };
            var le = 1,
                ue = 2,
                ce = 4,
                he = 8,
                de = he,
                pe = 16;
            K.prototype = {
                defaults: {},
                set: function(t) {
                    return ht(this.options, t), this.manager && this.manager.touchAction.update(), this
                },
                recognizeWith: function(t) {
                    if (a(t, "recognizeWith", this)) return this;
                    var e = this.simultaneous;
                    return t = $(t, this), e[t.id] || (e[t.id] = t, t.recognizeWith(this)), this
                },
                dropRecognizeWith: function(t) {
                    return a(t, "dropRecognizeWith", this) ? this : (t = $(t, this), delete this.simultaneous[t.id], this)
                },
                requireFailure: function(t) {
                    if (a(t, "requireFailure", this)) return this;
                    var e = this.requireFail;
                    return t = $(t, this), y(e, t) === -1 && (e.push(t), t.requireFailure(this)), this
                },
                dropRequireFailure: function(t) {
                    if (a(t, "dropRequireFailure", this)) return this;
                    t = $(t, this);
                    var e = y(this.requireFail, t);
                    return e > -1 && this.requireFail.splice(e, 1), this
                },
                hasRequireFailures: function() {
                    return this.requireFail.length > 0
                },
                canRecognizeWith: function(t) {
                    return !!this.simultaneous[t.id]
                },
                emit: function(t) {
                    function e(e) {
                        i.manager.emit(e, t)
                    }
                    var i = this,
                        n = this.state;
                    n < he && e(i.options.event + Q(n)), e(i.options.event), t.additionalEvent && e(t.additionalEvent), n >= he && e(i.options.event + Q(n))
                },
                tryEmit: function(t) {
                    if (this.canEmit()) return this.emit(t);
                    this.state = 32
                },
                canEmit: function() {
                    for (var t = 0; t < this.requireFail.length;) {
                        if (!(this.requireFail[t].state & (32 | le))) return !1;
                        t++
                    }
                    return !0
                },
                recognize: function(t) {
                    var e = ht({}, t);
                    if (!h(this.options.enable, [this, e])) return this.reset(), void(this.state = 32);
                    this.state & (de | pe | 32) && (this.state = le), this.state = this.process(e), this.state & (ue | ce | he | pe) && this.tryEmit(e)
                },
                process: function(t) {},
                getTouchAction: function() {},
                reset: function() {}
            }, u(tt, K, {
                defaults: {
                    pointers: 1
                },
                attrTest: function(t) {
                    var e = this.options.pointers;
                    return 0 === e || t.pointers.length === e
                },
                process: function(t) {
                    var e = this.state,
                        i = t.eventType,
                        n = e & (ue | ce),
                        r = this.attrTest(t);
                    return n && (i & Pt || !r) ? e | pe : n || r ? i & At ? e | he : e & ue ? e | ce : ue : 32
                }
            }), u(et, tt, {
                defaults: {
                    event: "pan",
                    threshold: 10,
                    pointers: 1,
                    direction: zt
                },
                getTouchAction: function() {
                    var t = this.options.direction,
                        e = [];
                    return t & Dt && e.push(ae), t & Bt && e.push(oe), e
                },
                directionTest: function(t) {
                    var e = this.options,
                        i = !0,
                        n = t.distance,
                        r = t.direction,
                        o = t.deltaX,
                        a = t.deltaY;
                    return r & e.direction || (e.direction & Dt ? (r = 0 === o ? Lt : o < 0 ? Ot : kt, i = o != this.pX, n = Math.abs(t.deltaX)) : (r = 0 === a ? Lt : a < 0 ? Rt : It, i = a != this.pY, n = Math.abs(t.deltaY))), t.direction = r, i && n > e.threshold && r & e.direction
                },
                attrTest: function(t) {
                    return tt.prototype.attrTest.call(this, t) && (this.state & ue || !(this.state & ue) && this.directionTest(t))
                },
                emit: function(t) {
                    this.pX = t.deltaX, this.pY = t.deltaY;
                    var e = J(t.direction);
                    e && (t.additionalEvent = this.options.event + e), this._super.emit.call(this, t)
                }
            }), u(it, tt, {
                defaults: {
                    event: "pinch",
                    threshold: 0,
                    pointers: 2
                },
                getTouchAction: function() {
                    return [re]
                },
                attrTest: function(t) {
                    return this._super.attrTest.call(this, t) && (Math.abs(t.scale - 1) > this.options.threshold || this.state & ue)
                },
                emit: function(t) {
                    if (1 !== t.scale) {
                        var e = t.scale < 1 ? "in" : "out";
                        t.additionalEvent = this.options.event + e
                    }
                    this._super.emit.call(this, t)
                }
            }), u(nt, K, {
                defaults: {
                    event: "press",
                    pointers: 1,
                    time: 251,
                    threshold: 9
                },
                getTouchAction: function() {
                    return [ie]
                },
                process: function(t) {
                    var e = this.options,
                        i = t.pointers.length === e.pointers,
                        n = t.distance < e.threshold,
                        r = t.deltaTime > e.time;
                    if (this._input = t, !n || !i || t.eventType & (At | Pt) && !r) this.reset();
                    else if (t.eventType & Et) this.reset(), this._timer = o(function() {
                        this.state = de, this.tryEmit()
                    }, e.time, this);
                    else if (t.eventType & At) return de;
                    return 32
                },
                reset: function() {
                    clearTimeout(this._timer)
                },
                emit: function(t) {
                    this.state === de && (t && t.eventType & At ? this.manager.emit(this.options.event + "up", t) : (this._input.timeStamp = vt(), this.manager.emit(this.options.event, this._input)))
                }
            }), u(rt, tt, {
                defaults: {
                    event: "rotate",
                    threshold: 0,
                    pointers: 2
                },
                getTouchAction: function() {
                    return [re]
                },
                attrTest: function(t) {
                    return this._super.attrTest.call(this, t) && (Math.abs(t.rotation) > this.options.threshold || this.state & ue)
                }
            }), u(ot, tt, {
                defaults: {
                    event: "swipe",
                    threshold: 10,
                    velocity: .3,
                    direction: Dt | Bt,
                    pointers: 1
                },
                getTouchAction: function() {
                    return et.prototype.getTouchAction.call(this)
                },
                attrTest: function(t) {
                    var e, i = this.options.direction;
                    return i & (Dt | Bt) ? e = t.overallVelocity : i & Dt ? e = t.overallVelocityX : i & Bt && (e = t.overallVelocityY), this._super.attrTest.call(this, t) && i & t.offsetDirection && t.distance > this.options.threshold && t.maxPointers == this.options.pointers && gt(e) > this.options.velocity && t.eventType & At
                },
                emit: function(t) {
                    var e = J(t.offsetDirection);
                    e && this.manager.emit(this.options.event + e, t), this.manager.emit(this.options.event, t)
                }
            }), u(at, K, {
                defaults: {
                    event: "tap",
                    pointers: 1,
                    taps: 1,
                    interval: 300,
                    time: 250,
                    threshold: 9,
                    posThreshold: 10
                },
                getTouchAction: function() {
                    return [ne]
                },
                process: function(t) {
                    var e = this.options,
                        i = t.pointers.length === e.pointers,
                        n = t.distance < e.threshold,
                        r = t.deltaTime < e.time;
                    if (this.reset(), t.eventType & Et && 0 === this.count) return this.failTimeout();
                    if (n && r && i) {
                        if (t.eventType != At) return this.failTimeout();
                        var a = !this.pTime || t.timeStamp - this.pTime < e.interval,
                            s = !this.pCenter || I(this.pCenter, t.center) < e.posThreshold;
                        this.pTime = t.timeStamp, this.pCenter = t.center, s && a ? this.count += 1 : this.count = 1, this._input = t;
                        if (0 === this.count % e.taps) return this.hasRequireFailures() ? (this._timer = o(function() {
                            this.state = de, this.tryEmit()
                        }, e.interval, this), ue) : de
                    }
                    return 32
                },
                failTimeout: function() {
                    return this._timer = o(function() {
                        this.state = 32
                    }, this.options.interval, this), 32
                },
                reset: function() {
                    clearTimeout(this._timer)
                },
                emit: function() {
                    this.state == de && (this._input.tapCount = this.count, this.manager.emit(this.options.event, this._input))
                }
            }), st.VERSION = "2.0.7", st.defaults = {
                domEvents: !1,
                touchAction: "compute",
                enable: !0,
                inputTarget: null,
                inputClass: null,
                preset: [
                    [rt, {
                        enable: !1
                    }],
                    [it, {
                            enable: !1
                        },
                        ["rotate"]
                    ],
                    [ot, {
                        direction: Dt
                    }],
                    [et, {
                            direction: Dt
                        },
                        ["swipe"]
                    ],
                    [at],
                    [at, {
                            event: "doubletap",
                            taps: 2
                        },
                        ["tap"]
                    ],
                    [nt]
                ],
                cssProps: {
                    userSelect: "none",
                    touchSelect: "none",
                    touchCallout: "none",
                    contentZooming: "none",
                    userDrag: "none",
                    tapHighlightColor: "rgba(0,0,0,0)"
                }
            };
            lt.prototype = {
                set: function(t) {
                    return ht(this.options, t), t.touchAction && this.touchAction.update(), t.inputTarget && (this.input.destroy(), this.input.target = t.inputTarget, this.input.init()), this
                },
                stop: function(t) {
                    this.session.stopped = t ? 2 : 1
                },
                recognize: function(t) {
                    var e = this.session;
                    if (!e.stopped) {
                        this.touchAction.preventDefaults(t);
                        var i, n = this.recognizers,
                            r = e.curRecognizer;
                        (!r || r && r.state & de) && (r = e.curRecognizer = null);
                        for (var o = 0; o < n.length;) i = n[o], 2 === e.stopped || r && i != r && !i.canRecognizeWith(r) ? i.reset() : i.recognize(t), !r && i.state & (ue | ce | he) && (r = e.curRecognizer = i), o++
                    }
                },
                get: function(t) {
                    if (t instanceof K) return t;
                    for (var e = this.recognizers, i = 0; i < e.length; i++)
                        if (e[i].options.event == t) return e[i];
                    return null
                },
                add: function(t) {
                    if (a(t, "add", this)) return this;
                    var e = this.get(t.options.event);
                    return e && this.remove(e), this.recognizers.push(t), t.manager = this, this.touchAction.update(), t
                },
                remove: function(t) {
                    if (a(t, "remove", this)) return this;
                    if (t = this.get(t)) {
                        var e = this.recognizers,
                            i = y(e, t);
                        i !== -1 && (e.splice(i, 1), this.touchAction.update())
                    }
                    return this
                },
                on: function(t, e) {
                    if (t !== r && e !== r) {
                        var i = this.handlers;
                        return s(v(t), function(t) {
                            i[t] = i[t] || [], i[t].push(e)
                        }), this
                    }
                },
                off: function(t, e) {
                    if (t !== r) {
                        var i = this.handlers;
                        return s(v(t), function(t) {
                            e ? i[t] && i[t].splice(y(i[t], e), 1) : delete i[t]
                        }), this
                    }
                },
                emit: function(t, e) {
                    this.options.domEvents && ct(t, e);
                    var i = this.handlers[t] && this.handlers[t].slice();
                    if (i && i.length) {
                        e.type = t, e.preventDefault = function() {
                            e.srcEvent.preventDefault()
                        };
                        for (var n = 0; n < i.length;) i[n](e), n++
                    }
                },
                destroy: function() {
                    this.element && ut(this, !1), this.handlers = {}, this.session = {}, this.input.destroy(), this.element = null
                }
            }, ht(st, {
                INPUT_START: Et,
                INPUT_MOVE: Ct,
                INPUT_END: At,
                INPUT_CANCEL: Pt,
                STATE_POSSIBLE: le,
                STATE_BEGAN: ue,
                STATE_CHANGED: ce,
                STATE_ENDED: he,
                STATE_RECOGNIZED: de,
                STATE_CANCELLED: pe,
                STATE_FAILED: 32,
                DIRECTION_NONE: Lt,
                DIRECTION_LEFT: Ot,
                DIRECTION_RIGHT: kt,
                DIRECTION_UP: Rt,
                DIRECTION_DOWN: It,
                DIRECTION_HORIZONTAL: Dt,
                DIRECTION_VERTICAL: Bt,
                DIRECTION_ALL: zt,
                Manager: lt,
                Input: S,
                TouchAction: Y,
                TouchInput: V,
                MouseInput: F,
                PointerEventInput: N,
                TouchMouseInput: H,
                SingleTouchInput: U,
                Recognizer: K,
                AttrRecognizer: tt,
                Tap: at,
                Pan: et,
                Swipe: ot,
                Pinch: it,
                Rotate: rt,
                Press: nt,
                on: p,
                off: f,
                each: s,
                merge: _t,
                extend: yt,
                assign: ht,
                inherit: u,
                bindFn: c,
                prefixed: x
            }), (void 0 !== t ? t : "undefined" != typeof self ? self : {}).Hammer = st, "function" == typeof define && define.amd ? define(function() {
                return st
            }) : void 0 !== e && e.exports ? e.exports = st : t.Hammer = st
        }(window, document)
    }, {}],
    79: [function(t, e, i) {
        ! function(t, n) {
            "use strict";
            var r = function(t) {
                return new r.Instance(t)
            };
            r.SUPPORT = "wheel", r.ADD_EVENT = "addEventListener", r.REMOVE_EVENT = "removeEventListener", r.PREFIX = "", r.READY = !1, r.Instance = function(t) {
                return r.READY || (r.normalise.browser(), r.READY = !0), this.element = t, this.handlers = [], this
            }, r.Instance.prototype = {
                wheel: function(t, e) {
                    return r.event.add(this, r.SUPPORT, t, e), "DOMMouseScroll" === r.SUPPORT && r.event.add(this, "MozMousePixelScroll", t, e), this
                },
                unwheel: function(t, e) {
                    return void 0 === t && (t = this.handlers.slice(-1)[0]) && (t = t.original), r.event.remove(this, r.SUPPORT, t, e), "DOMMouseScroll" === r.SUPPORT && r.event.remove(this, "MozMousePixelScroll", t, e), this
                }
            }, r.event = {
                add: function(e, i, n, o) {
                    var a = n;
                    n = function(e) {
                        e || (e = t.event);
                        var i = r.normalise.event(e),
                            n = r.normalise.delta(e);
                        return a(i, n[0], n[1], n[2])
                    }, e.element[r.ADD_EVENT](r.PREFIX + i, n, o || !1), e.handlers.push({
                        original: a,
                        normalised: n
                    })
                },
                remove: function(t, e, i, n) {
                    for (var o, a = i, s = {}, l = 0, u = t.handlers.length; l < u; ++l) s[t.handlers[l].original] = t.handlers[l];
                    o = s[a], i = o.normalised, t.element[r.REMOVE_EVENT](r.PREFIX + e, i, n || !1);
                    for (var c in t.handlers)
                        if (t.handlers[c] == o) {
                            t.handlers.splice(c, 1);
                            break
                        }
                }
            };
            var o, a;
            r.normalise = {
                browser: function() {
                    "onwheel" in n || n.documentMode >= 9 || (r.SUPPORT = void 0 !== n.onmousewheel ? "mousewheel" : "DOMMouseScroll"), t.addEventListener || (r.ADD_EVENT = "attachEvent", r.REMOVE_EVENT = "detachEvent", r.PREFIX = "on")
                },
                event: function(t) {
                    var e = {
                        originalEvent: t,
                        target: t.target || t.srcElement,
                        type: "wheel",
                        deltaMode: "MozMousePixelScroll" === t.type ? 0 : 1,
                        deltaX: 0,
                        delatZ: 0,
                        preventDefault: function() {
                            t.preventDefault ? t.preventDefault() : t.returnValue = !1
                        },
                        stopPropagation: function() {
                            t.stopPropagation ? t.stopPropagation() : t.cancelBubble = !1
                        }
                    };
                    return t.wheelDelta && (e.deltaY = -.025 * t.wheelDelta), t.wheelDeltaX && (e.deltaX = -.025 * t.wheelDeltaX), t.detail && (e.deltaY = t.detail), e
                },
                delta: function(t) {
                    var e, i = 0,
                        n = 0,
                        r = 0,
                        s = 0,
                        l = 0;
                    return t.deltaY && (r = t.deltaY * -1, i = r), t.deltaX && (n = t.deltaX, i = n * -1), t.wheelDelta && (i = t.wheelDelta), t.wheelDeltaY && (r = t.wheelDeltaY), t.wheelDeltaX && (n = t.wheelDeltaX * -1), t.detail && (i = t.detail * -1), 0 === i ? [0, 0, 0] : (s = Math.abs(i), (!o || s < o) && (o = s), l = Math.max(Math.abs(r), Math.abs(n)), (!a || l < a) && (a = l), e = i > 0 ? "floor" : "ceil", i = Math[e](i / o), n = Math[e](n / a), r = Math[e](r / a), [i, n, r])
                }
            }, "function" == typeof t.define && t.define.amd ? t.define("hamster", [], function() {
                return r
            }) : "object" == typeof i ? e.exports = r : t.Hamster = r
        }(window, window.document)
    }, {}],
    80: [function(t, e, i) {
        (function(t) {
            ! function() {
                "use strict";
                var e = function() {
                    this.init()
                };
                e.prototype = {
                    init: function() {
                        var t = this || n;
                        return t._counter = 0, t._codecs = {}, t._howls = [], t._muted = !1, t._volume = 1, t._canPlayEvent = "canplaythrough", t._navigator = "undefined" != typeof window && window.navigator ? window.navigator : null, t.masterGain = null, t.noAudio = !1, t.usingWebAudio = !0, t.autoSuspend = !0, t.ctx = null, t.mobileAutoEnable = !0, t._setup(), t
                    },
                    volume: function(t) {
                        var e = this || n;
                        if (t = parseFloat(t), e.ctx || h(), void 0 !== t && t >= 0 && t <= 1) {
                            if (e._volume = t, e._muted) return e;
                            e.usingWebAudio && (e.masterGain.gain.value = t);
                            for (var i = 0; i < e._howls.length; i++)
                                if (!e._howls[i]._webAudio)
                                    for (var r = e._howls[i]._getSoundIds(), o = 0; o < r.length; o++) {
                                        var a = e._howls[i]._soundById(r[o]);
                                        a && a._node && (a._node.volume = a._volume * t)
                                    }
                                return e
                        }
                        return e._volume
                    },
                    mute: function(t) {
                        var e = this || n;
                        e.ctx || h(), e._muted = t, e.usingWebAudio && (e.masterGain.gain.value = t ? 0 : e._volume);
                        for (var i = 0; i < e._howls.length; i++)
                            if (!e._howls[i]._webAudio)
                                for (var r = e._howls[i]._getSoundIds(), o = 0; o < r.length; o++) {
                                    var a = e._howls[i]._soundById(r[o]);
                                    a && a._node && (a._node.muted = !!t || a._muted)
                                }
                            return e
                    },
                    unload: function() {
                        for (var t = this || n, e = t._howls.length - 1; e >= 0; e--) t._howls[e].unload();
                        return t.usingWebAudio && t.ctx && void 0 !== t.ctx.close && (t.ctx.close(), t.ctx = null, h()), t
                    },
                    codecs: function(t) {
                        return (this || n)._codecs[t.replace(/^x-/, "")]
                    },
                    _setup: function() {
                        var t = this || n;
                        if (t.state = t.ctx ? t.ctx.state || "running" : "running", t._autoSuspend(), !t.usingWebAudio)
                            if ("undefined" != typeof Audio) try {
                                var e = new Audio;
                                void 0 === e.oncanplaythrough && (t._canPlayEvent = "canplay")
                            } catch (e) {
                                t.noAudio = !0
                            } else t.noAudio = !0;
                        try {
                            var e = new Audio;
                            e.muted && (t.noAudio = !0)
                        } catch (t) {}
                        return t.noAudio || t._setupCodecs(), t
                    },
                    _setupCodecs: function() {
                        var t = this || n,
                            e = null;
                        try {
                            e = "undefined" != typeof Audio ? new Audio : null
                        } catch (e) {
                            return t
                        }
                        if (!e || "function" != typeof e.canPlayType) return t;
                        var i = e.canPlayType("audio/mpeg;").replace(/^no$/, ""),
                            r = t._navigator && t._navigator.userAgent.match(/OPR\/([0-6].)/g),
                            o = r && parseInt(r[0].split("/")[1], 10) < 33;
                        return t._codecs = {
                            mp3: !(o || !i && !e.canPlayType("audio/mp3;").replace(/^no$/, "")),
                            mpeg: !!i,
                            opus: !!e.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/, ""),
                            ogg: !!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ""),
                            oga: !!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ""),
                            wav: !!e.canPlayType('audio/wav; codecs="1"').replace(/^no$/, ""),
                            aac: !!e.canPlayType("audio/aac;").replace(/^no$/, ""),
                            caf: !!e.canPlayType("audio/x-caf;").replace(/^no$/, ""),
                            m4a: !!(e.canPlayType("audio/x-m4a;") || e.canPlayType("audio/m4a;") || e.canPlayType("audio/aac;")).replace(/^no$/, ""),
                            mp4: !!(e.canPlayType("audio/x-mp4;") || e.canPlayType("audio/mp4;") || e.canPlayType("audio/aac;")).replace(/^no$/, ""),
                            weba: !!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/, ""),
                            webm: !!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/, ""),
                            dolby: !!e.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/, ""),
                            flac: !!(e.canPlayType("audio/x-flac;") || e.canPlayType("audio/flac;")).replace(/^no$/, "")
                        }, t
                    },
                    _enableMobileAudio: function() {
                        var t = this || n,
                            e = /iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi/i.test(t._navigator && t._navigator.userAgent),
                            i = !!("ontouchend" in window || t._navigator && t._navigator.maxTouchPoints > 0 || t._navigator && t._navigator.msMaxTouchPoints > 0);
                        if (!t._mobileEnabled && t.ctx && (e || i)) {
                            t._mobileEnabled = !1, t._mobileUnloaded || 44100 === t.ctx.sampleRate || (t._mobileUnloaded = !0, t.unload()), t._scratchBuffer = t.ctx.createBuffer(1, 1, 22050);
                            var r = function() {
                                var e = t.ctx.createBufferSource();
                                e.buffer = t._scratchBuffer, e.connect(t.ctx.destination), void 0 === e.start ? e.noteOn(0) : e.start(0), e.onended = function() {
                                    e.disconnect(0), t._mobileEnabled = !0, t.mobileAutoEnable = !1, document.removeEventListener("touchend", r, !0)
                                }
                            };
                            return document.addEventListener("touchend", r, !0), t
                        }
                    },
                    _autoSuspend: function() {
                        var t = this;
                        if (t.autoSuspend && t.ctx && void 0 !== t.ctx.suspend && n.usingWebAudio) {
                            for (var e = 0; e < t._howls.length; e++)
                                if (t._howls[e]._webAudio)
                                    for (var i = 0; i < t._howls[e]._sounds.length; i++)
                                        if (!t._howls[e]._sounds[i]._paused) return t;
                            return t._suspendTimer && clearTimeout(t._suspendTimer), t._suspendTimer = setTimeout(function() {
                                t.autoSuspend && (t._suspendTimer = null, t.state = "suspending", t.ctx.suspend().then(function() {
                                    t.state = "suspended", t._resumeAfterSuspend && (delete t._resumeAfterSuspend, t._autoResume())
                                }))
                            }, 3e4), t
                        }
                    },
                    _autoResume: function() {
                        var t = this;
                        if (t.ctx && void 0 !== t.ctx.resume && n.usingWebAudio) return "running" === t.state && t._suspendTimer ? (clearTimeout(t._suspendTimer), t._suspendTimer = null) : "suspended" === t.state ? (t.state = "resuming", t.ctx.resume().then(function() {
                            t.state = "running";
                            for (var e = 0; e < t._howls.length; e++) t._howls[e]._emit("resume")
                        }), t._suspendTimer && (clearTimeout(t._suspendTimer), t._suspendTimer = null)) : "suspending" === t.state && (t._resumeAfterSuspend = !0), t
                    }
                };
                var n = new e,
                    r = function(t) {
                        var e = this;
                        if (!t.src || 0 === t.src.length) return void console.error("An array of source files must be passed with any new Howl.");
                        e.init(t)
                    };
                r.prototype = {
                    init: function(t) {
                        var e = this;
                        return n.ctx || h(), e._autoplay = t.autoplay || !1, e._format = "string" != typeof t.format ? t.format : [t.format], e._html5 = t.html5 || !1, e._muted = t.mute || !1, e._loop = t.loop || !1, e._pool = t.pool || 5, e._preload = "boolean" != typeof t.preload || t.preload, e._rate = t.rate || 1, e._sprite = t.sprite || {}, e._src = "string" != typeof t.src ? t.src : [t.src], e._volume = void 0 !== t.volume ? t.volume : 1, e._duration = 0, e._state = "unloaded", e._sounds = [], e._endTimers = {}, e._queue = [], e._onend = t.onend ? [{
                            fn: t.onend
                        }] : [], e._onfade = t.onfade ? [{
                            fn: t.onfade
                        }] : [], e._onload = t.onload ? [{
                            fn: t.onload
                        }] : [], e._onloaderror = t.onloaderror ? [{
                            fn: t.onloaderror
                        }] : [], e._onpause = t.onpause ? [{
                            fn: t.onpause
                        }] : [], e._onplay = t.onplay ? [{
                            fn: t.onplay
                        }] : [], e._onstop = t.onstop ? [{
                            fn: t.onstop
                        }] : [], e._onmute = t.onmute ? [{
                            fn: t.onmute
                        }] : [], e._onvolume = t.onvolume ? [{
                            fn: t.onvolume
                        }] : [], e._onrate = t.onrate ? [{
                            fn: t.onrate
                        }] : [], e._onseek = t.onseek ? [{
                            fn: t.onseek
                        }] : [], e._onresume = [], e._webAudio = n.usingWebAudio && !e._html5, void 0 !== n.ctx && n.ctx && n.mobileAutoEnable && n._enableMobileAudio(), n._howls.push(e), e._autoplay && e._queue.push({
                            event: "play",
                            action: function() {
                                e.play()
                            }
                        }), e._preload && e.load(), e
                    },
                    load: function() {
                        var t = this,
                            e = null;
                        if (n.noAudio) return void t._emit("loaderror", null, "No audio support.");
                        "string" == typeof t._src && (t._src = [t._src]);
                        for (var i = 0; i < t._src.length; i++) {
                            var r, a;
                            if (t._format && t._format[i]) r = t._format[i];
                            else {
                                if ("string" != typeof(a = t._src[i])) {
                                    t._emit("loaderror", null, "Non-string found in selected audio sources - ignoring.");
                                    continue
                                }
                                r = /^data:audio\/([^;,]+);/i.exec(a), r || (r = /\.([^.]+)$/.exec(a.split("?", 1)[0])), r && (r = r[1].toLowerCase())
                            }
                            if (r || console.warn('No file extension was found. Consider using the "format" property or specify an extension.'), r && n.codecs(r)) {
                                e = t._src[i];
                                break
                            }
                        }
                        return e ? (t._src = e, t._state = "loading", "https:" === window.location.protocol && "http:" === e.slice(0, 5) && (t._html5 = !0, t._webAudio = !1), new o(t), t._webAudio && s(t), t) : void t._emit("loaderror", null, "No codec support for selected audio sources.")
                    },
                    play: function(t, e) {
                        var i = this,
                            r = null;
                        if ("number" == typeof t) r = t, t = null;
                        else {
                            if ("string" == typeof t && "loaded" === i._state && !i._sprite[t]) return null;
                            if (void 0 === t) {
                                t = "__default";
                                for (var o = 0, a = 0; a < i._sounds.length; a++) i._sounds[a]._paused && !i._sounds[a]._ended && (o++, r = i._sounds[a]._id);
                                1 === o ? t = null : r = null
                            }
                        }
                        var s = r ? i._soundById(r) : i._inactiveSound();
                        if (!s) return null;
                        if (r && !t && (t = s._sprite || "__default"), "loaded" !== i._state && !i._sprite[t]) return i._queue.push({
                            event: "play",
                            action: function() {
                                i.play(i._soundById(s._id) ? s._id : void 0)
                            }
                        }), s._id;
                        if (r && !s._paused) return e || setTimeout(function() {
                            i._emit("play", s._id)
                        }, 0), s._id;
                        i._webAudio && n._autoResume();
                        var l = Math.max(0, s._seek > 0 ? s._seek : i._sprite[t][0] / 1e3),
                            u = Math.max(0, (i._sprite[t][0] + i._sprite[t][1]) / 1e3 - l),
                            c = 1e3 * u / Math.abs(s._rate);
                        s._paused = !1, s._ended = !1, s._sprite = t, s._seek = l, s._start = i._sprite[t][0] / 1e3, s._stop = (i._sprite[t][0] + i._sprite[t][1]) / 1e3, s._loop = !(!s._loop && !i._sprite[t][2]);
                        var h = s._node;
                        if (i._webAudio) {
                            var d = function() {
                                    i._refreshBuffer(s);
                                    var t = s._muted || i._muted ? 0 : s._volume;
                                    h.gain.setValueAtTime(t, n.ctx.currentTime), s._playStart = n.ctx.currentTime, void 0 === h.bufferSource.start ? s._loop ? h.bufferSource.noteGrainOn(0, l, 86400) : h.bufferSource.noteGrainOn(0, l, u) : s._loop ? h.bufferSource.start(0, l, 86400) : h.bufferSource.start(0, l, u), c !== 1 / 0 && (i._endTimers[s._id] = setTimeout(i._ended.bind(i, s), c)), e || setTimeout(function() {
                                        i._emit("play", s._id)
                                    }, 0)
                                },
                                p = "running" === n.state;
                            if ("loaded" === i._state && p) d();
                            else {
                                var f = p || "loaded" !== i._state ? "load" : "resume";
                                i.once(f, d, p ? s._id : null), i._clearTimer(s._id)
                            }
                        } else {
                            var m = function() {
                                    h.currentTime = l, h.muted = s._muted || i._muted || n._muted || h.muted, h.volume = s._volume * n.volume(), h.playbackRate = s._rate, h.play(), c !== 1 / 0 && (i._endTimers[s._id] = setTimeout(i._ended.bind(i, s), c)), e || i._emit("play", s._id)
                                },
                                g = "loaded" === i._state && (window && window.ejecta || !h.readyState && n._navigator.isCocoonJS);
                            if (4 === h.readyState || g) m();
                            else {
                                var v = function() {
                                    m(), h.removeEventListener(n._canPlayEvent, v, !1)
                                };
                                h.addEventListener(n._canPlayEvent, v, !1), i._clearTimer(s._id)
                            }
                        }
                        return s._id
                    },
                    pause: function(t) {
                        var e = this;
                        if ("loaded" !== e._state) return e._queue.push({
                            event: "pause",
                            action: function() {
                                e.pause(t)
                            }
                        }), e;
                        for (var i = e._getSoundIds(t), n = 0; n < i.length; n++) {
                            e._clearTimer(i[n]);
                            var r = e._soundById(i[n]);
                            if (r && !r._paused && (r._seek = e.seek(i[n]), r._rateSeek = 0, r._paused = !0, e._stopFade(i[n]), r._node))
                                if (e._webAudio) {
                                    if (!r._node.bufferSource) return e;
                                    void 0 === r._node.bufferSource.stop ? r._node.bufferSource.noteOff(0) : r._node.bufferSource.stop(0), e._cleanBuffer(r._node)
                                } else isNaN(r._node.duration) && r._node.duration !== 1 / 0 || r._node.pause();
                            arguments[1] || e._emit("pause", r ? r._id : null)
                        }
                        return e
                    },
                    stop: function(t, e) {
                        var i = this;
                        if ("loaded" !== i._state) return i._queue.push({
                            event: "stop",
                            action: function() {
                                i.stop(t)
                            }
                        }), i;
                        for (var n = i._getSoundIds(t), r = 0; r < n.length; r++) {
                            i._clearTimer(n[r]);
                            var o = i._soundById(n[r]);
                            if (o && (o._seek = o._start || 0, o._rateSeek = 0, o._paused = !0, o._ended = !0, i._stopFade(n[r]), o._node))
                                if (i._webAudio) {
                                    if (!o._node.bufferSource) return e || i._emit("stop", o._id), i;
                                    void 0 === o._node.bufferSource.stop ? o._node.bufferSource.noteOff(0) : o._node.bufferSource.stop(0), i._cleanBuffer(o._node)
                                } else isNaN(o._node.duration) && o._node.duration !== 1 / 0 || (o._node.currentTime = o._start || 0, o._node.pause());
                            o && !e && i._emit("stop", o._id)
                        }
                        return i
                    },
                    mute: function(t, e) {
                        var i = this;
                        if ("loaded" !== i._state) return i._queue.push({
                            event: "mute",
                            action: function() {
                                i.mute(t, e)
                            }
                        }), i;
                        if (void 0 === e) {
                            if ("boolean" != typeof t) return i._muted;
                            i._muted = t
                        }
                        for (var r = i._getSoundIds(e), o = 0; o < r.length; o++) {
                            var a = i._soundById(r[o]);
                            a && (a._muted = t, i._webAudio && a._node ? a._node.gain.setValueAtTime(t ? 0 : a._volume, n.ctx.currentTime) : a._node && (a._node.muted = !!n._muted || t), i._emit("mute", a._id))
                        }
                        return i
                    },
                    volume: function() {
                        var t, e, i = this,
                            r = arguments;
                        if (0 === r.length) return i._volume;
                        if (1 === r.length || 2 === r.length && void 0 === r[1]) {
                            i._getSoundIds().indexOf(r[0]) >= 0 ? e = parseInt(r[0], 10) : t = parseFloat(r[0])
                        } else r.length >= 2 && (t = parseFloat(r[0]), e = parseInt(r[1], 10));
                        var o;
                        if (!(void 0 !== t && t >= 0 && t <= 1)) return o = e ? i._soundById(e) : i._sounds[0], o ? o._volume : 0;
                        if ("loaded" !== i._state) return i._queue.push({
                            event: "volume",
                            action: function() {
                                i.volume.apply(i, r)
                            }
                        }), i;
                        void 0 === e && (i._volume = t), e = i._getSoundIds(e);
                        for (var a = 0; a < e.length; a++)(o = i._soundById(e[a])) && (o._volume = t, r[2] || i._stopFade(e[a]), i._webAudio && o._node && !o._muted ? o._node.gain.setValueAtTime(t, n.ctx.currentTime) : o._node && !o._muted && (o._node.volume = t * n.volume()), i._emit("volume", o._id));
                        return i
                    },
                    fade: function(t, e, i, r) {
                        var o = this,
                            a = Math.abs(t - e),
                            s = t > e ? "out" : "in",
                            l = a / .01,
                            u = l > 0 ? i / l : i;
                        if (u < 4 && (l = Math.ceil(l / (4 / u)), u = 4), "loaded" !== o._state) return o._queue.push({
                            event: "fade",
                            action: function() {
                                o.fade(t, e, i, r)
                            }
                        }), o;
                        o.volume(t, r);
                        for (var c = o._getSoundIds(r), h = 0; h < c.length; h++) {
                            var d = o._soundById(c[h]);
                            if (d) {
                                if (r || o._stopFade(c[h]), o._webAudio && !d._muted) {
                                    var p = n.ctx.currentTime,
                                        f = p + i / 1e3;
                                    d._volume = t, d._node.gain.setValueAtTime(t, p), d._node.gain.linearRampToValueAtTime(e, f)
                                }
                                var m = t;
                                d._interval = setInterval(function(i, n) {
                                    l > 0 && (m += "in" === s ? .01 : -.01), m = Math.max(0, m), m = Math.min(1, m), m = Math.round(100 * m) / 100, o._webAudio ? (void 0 === r && (o._volume = m), n._volume = m) : o.volume(m, i, !0), (e < t && m <= e || e > t && m >= e) && (clearInterval(n._interval), n._interval = null, o.volume(e, i), o._emit("fade", i))
                                }.bind(o, c[h], d), u)
                            }
                        }
                        return o
                    },
                    _stopFade: function(t) {
                        var e = this,
                            i = e._soundById(t);
                        return i && i._interval && (e._webAudio && i._node.gain.cancelScheduledValues(n.ctx.currentTime), clearInterval(i._interval), i._interval = null, e._emit("fade", t)), e
                    },
                    loop: function() {
                        var t, e, i, n = this,
                            r = arguments;
                        if (0 === r.length) return n._loop;
                        if (1 === r.length) {
                            if ("boolean" != typeof r[0]) return !!(i = n._soundById(parseInt(r[0], 10))) && i._loop;
                            t = r[0], n._loop = t
                        } else 2 === r.length && (t = r[0], e = parseInt(r[1], 10));
                        for (var o = n._getSoundIds(e), a = 0; a < o.length; a++)(i = n._soundById(o[a])) && (i._loop = t, n._webAudio && i._node && i._node.bufferSource && (i._node.bufferSource.loop = t, t && (i._node.bufferSource.loopStart = i._start || 0, i._node.bufferSource.loopEnd = i._stop)));
                        return n
                    },
                    rate: function() {
                        var t, e, i = this,
                            r = arguments;
                        if (0 === r.length) e = i._sounds[0]._id;
                        else if (1 === r.length) {
                            var o = i._getSoundIds(),
                                a = o.indexOf(r[0]);
                            a >= 0 ? e = parseInt(r[0], 10) : t = parseFloat(r[0])
                        } else 2 === r.length && (t = parseFloat(r[0]), e = parseInt(r[1], 10));
                        var s;
                        if ("number" != typeof t) return s = i._soundById(e), s ? s._rate : i._rate;
                        if ("loaded" !== i._state) return i._queue.push({
                            event: "rate",
                            action: function() {
                                i.rate.apply(i, r)
                            }
                        }), i;
                        void 0 === e && (i._rate = t), e = i._getSoundIds(e);
                        for (var l = 0; l < e.length; l++)
                            if (s = i._soundById(e[l])) {
                                s._rateSeek = i.seek(e[l]), s._playStart = i._webAudio ? n.ctx.currentTime : s._playStart, s._rate = t, i._webAudio && s._node && s._node.bufferSource ? s._node.bufferSource.playbackRate.value = t : s._node && (s._node.playbackRate = t);
                                var u = i.seek(e[l]),
                                    c = (i._sprite[s._sprite][0] + i._sprite[s._sprite][1]) / 1e3 - u,
                                    h = 1e3 * c / Math.abs(s._rate);
                                !i._endTimers[e[l]] && s._paused || (i._clearTimer(e[l]),
                                    i._endTimers[e[l]] = setTimeout(i._ended.bind(i, s), h)), i._emit("rate", s._id)
                            }
                        return i
                    },
                    seek: function() {
                        var t, e, i = this,
                            r = arguments;
                        if (0 === r.length) e = i._sounds[0]._id;
                        else if (1 === r.length) {
                            var o = i._getSoundIds(),
                                a = o.indexOf(r[0]);
                            a >= 0 ? e = parseInt(r[0], 10) : (e = i._sounds[0]._id, t = parseFloat(r[0]))
                        } else 2 === r.length && (t = parseFloat(r[0]), e = parseInt(r[1], 10));
                        if (void 0 === e) return i;
                        if ("loaded" !== i._state) return i._queue.push({
                            event: "seek",
                            action: function() {
                                i.seek.apply(i, r)
                            }
                        }), i;
                        var s = i._soundById(e);
                        if (s) {
                            if (!("number" == typeof t && t >= 0)) {
                                if (i._webAudio) {
                                    var l = i.playing(e) ? n.ctx.currentTime - s._playStart : 0,
                                        u = s._rateSeek ? s._rateSeek - s._seek : 0;
                                    return s._seek + (u + l * Math.abs(s._rate))
                                }
                                return s._node.currentTime
                            }
                            var c = i.playing(e);
                            c && i.pause(e, !0), s._seek = t, s._ended = !1, i._clearTimer(e), c && i.play(e, !0), !i._webAudio && s._node && (s._node.currentTime = t), i._emit("seek", e)
                        }
                        return i
                    },
                    playing: function(t) {
                        var e = this;
                        if ("number" == typeof t) {
                            var i = e._soundById(t);
                            return !!i && !i._paused
                        }
                        for (var n = 0; n < e._sounds.length; n++)
                            if (!e._sounds[n]._paused) return !0;
                        return !1
                    },
                    duration: function(t) {
                        var e = this,
                            i = e._duration,
                            n = e._soundById(t);
                        return n && (i = e._sprite[n._sprite][1] / 1e3), i
                    },
                    state: function() {
                        return this._state
                    },
                    unload: function() {
                        for (var t = this, e = t._sounds, i = 0; i < e.length; i++) {
                            e[i]._paused || t.stop(e[i]._id), t._webAudio || (e[i]._node.src = "data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA", e[i]._node.removeEventListener("error", e[i]._errorFn, !1), e[i]._node.removeEventListener(n._canPlayEvent, e[i]._loadFn, !1)), delete e[i]._node, t._clearTimer(e[i]._id);
                            var r = n._howls.indexOf(t);
                            r >= 0 && n._howls.splice(r, 1)
                        }
                        var o = !0;
                        for (i = 0; i < n._howls.length; i++)
                            if (n._howls[i]._src === t._src) {
                                o = !1;
                                break
                            }
                        return a && o && delete a[t._src], n.noAudio = !1, t._state = "unloaded", t._sounds = [], t = null, null
                    },
                    on: function(t, e, i, n) {
                        var r = this,
                            o = r["_on" + t];
                        return "function" == typeof e && o.push(n ? {
                            id: i,
                            fn: e,
                            once: n
                        } : {
                            id: i,
                            fn: e
                        }), r
                    },
                    off: function(t, e, i) {
                        var n = this,
                            r = n["_on" + t],
                            o = 0;
                        if (e) {
                            for (o = 0; o < r.length; o++)
                                if (e === r[o].fn && i === r[o].id) {
                                    r.splice(o, 1);
                                    break
                                }
                        } else if (t) n["_on" + t] = [];
                        else {
                            var a = Object.keys(n);
                            for (o = 0; o < a.length; o++) 0 === a[o].indexOf("_on") && Array.isArray(n[a[o]]) && (n[a[o]] = [])
                        }
                        return n
                    },
                    once: function(t, e, i) {
                        var n = this;
                        return n.on(t, e, i, 1), n
                    },
                    _emit: function(t, e, i) {
                        for (var n = this, r = n["_on" + t], o = r.length - 1; o >= 0; o--) r[o].id && r[o].id !== e && "load" !== t || (setTimeout(function(t) {
                            t.call(this, e, i)
                        }.bind(n, r[o].fn), 0), r[o].once && n.off(t, r[o].fn, r[o].id));
                        return n
                    },
                    _loadQueue: function() {
                        var t = this;
                        if (t._queue.length > 0) {
                            var e = t._queue[0];
                            t.once(e.event, function() {
                                t._queue.shift(), t._loadQueue()
                            }), e.action()
                        }
                        return t
                    },
                    _ended: function(t) {
                        var e = this,
                            i = t._sprite,
                            r = !(!t._loop && !e._sprite[i][2]);
                        if (e._emit("end", t._id), !e._webAudio && r && e.stop(t._id, !0).play(t._id), e._webAudio && r) {
                            e._emit("play", t._id), t._seek = t._start || 0, t._rateSeek = 0, t._playStart = n.ctx.currentTime;
                            var o = 1e3 * (t._stop - t._start) / Math.abs(t._rate);
                            e._endTimers[t._id] = setTimeout(e._ended.bind(e, t), o)
                        }
                        return e._webAudio && !r && (t._paused = !0, t._ended = !0, t._seek = t._start || 0, t._rateSeek = 0, e._clearTimer(t._id), e._cleanBuffer(t._node), n._autoSuspend()), e._webAudio || r || e.stop(t._id), e
                    },
                    _clearTimer: function(t) {
                        var e = this;
                        return e._endTimers[t] && (clearTimeout(e._endTimers[t]), delete e._endTimers[t]), e
                    },
                    _soundById: function(t) {
                        for (var e = this, i = 0; i < e._sounds.length; i++)
                            if (t === e._sounds[i]._id) return e._sounds[i];
                        return null
                    },
                    _inactiveSound: function() {
                        var t = this;
                        t._drain();
                        for (var e = 0; e < t._sounds.length; e++)
                            if (t._sounds[e]._ended) return t._sounds[e].reset();
                        return new o(t)
                    },
                    _drain: function() {
                        var t = this,
                            e = t._pool,
                            i = 0,
                            n = 0;
                        if (!(t._sounds.length < e)) {
                            for (n = 0; n < t._sounds.length; n++) t._sounds[n]._ended && i++;
                            for (n = t._sounds.length - 1; n >= 0; n--) {
                                if (i <= e) return;
                                t._sounds[n]._ended && (t._webAudio && t._sounds[n]._node && t._sounds[n]._node.disconnect(0), t._sounds.splice(n, 1), i--)
                            }
                        }
                    },
                    _getSoundIds: function(t) {
                        var e = this;
                        if (void 0 === t) {
                            for (var i = [], n = 0; n < e._sounds.length; n++) i.push(e._sounds[n]._id);
                            return i
                        }
                        return [t]
                    },
                    _refreshBuffer: function(t) {
                        var e = this;
                        return t._node.bufferSource = n.ctx.createBufferSource(), t._node.bufferSource.buffer = a[e._src], t._panner ? t._node.bufferSource.connect(t._panner) : t._node.bufferSource.connect(t._node), t._node.bufferSource.loop = t._loop, t._loop && (t._node.bufferSource.loopStart = t._start || 0, t._node.bufferSource.loopEnd = t._stop), t._node.bufferSource.playbackRate.value = t._rate, e
                    },
                    _cleanBuffer: function(t) {
                        var e = this;
                        if (e._scratchBuffer) {
                            t.bufferSource.onended = null, t.bufferSource.disconnect(0);
                            try {
                                t.bufferSource.buffer = e._scratchBuffer
                            } catch (t) {}
                        }
                        return t.bufferSource = null, e
                    }
                };
                var o = function(t) {
                    this._parent = t, this.init()
                };
                o.prototype = {
                    init: function() {
                        var t = this,
                            e = t._parent;
                        return t._muted = e._muted, t._loop = e._loop, t._volume = e._volume, t._muted = e._muted, t._rate = e._rate, t._seek = 0, t._paused = !0, t._ended = !0, t._sprite = "__default", t._id = ++n._counter, e._sounds.push(t), t.create(), t
                    },
                    create: function() {
                        var t = this,
                            e = t._parent,
                            i = n._muted || t._muted || t._parent._muted ? 0 : t._volume;
                        return e._webAudio ? (t._node = void 0 === n.ctx.createGain ? n.ctx.createGainNode() : n.ctx.createGain(), t._node.gain.setValueAtTime(i, n.ctx.currentTime), t._node.paused = !0, t._node.connect(n.masterGain)) : (t._node = new Audio, t._errorFn = t._errorListener.bind(t), t._node.addEventListener("error", t._errorFn, !1), t._loadFn = t._loadListener.bind(t), t._node.addEventListener(n._canPlayEvent, t._loadFn, !1), t._node.src = e._src, t._node.preload = "auto", t._node.volume = i * n.volume(), t._node.load()), t
                    },
                    reset: function() {
                        var t = this,
                            e = t._parent;
                        return t._muted = e._muted, t._loop = e._loop, t._volume = e._volume, t._muted = e._muted, t._rate = e._rate, t._seek = 0, t._rateSeek = 0, t._paused = !0, t._ended = !0, t._sprite = "__default", t._id = ++n._counter, t
                    },
                    _errorListener: function() {
                        var t = this;
                        t._parent._emit("loaderror", t._id, t._node.error ? t._node.error.code : 0), t._node.removeEventListener("error", t._errorListener, !1)
                    },
                    _loadListener: function() {
                        var t = this,
                            e = t._parent;
                        e._duration = Math.ceil(10 * t._node.duration) / 10, 0 === Object.keys(e._sprite).length && (e._sprite = {
                            __default: [0, 1e3 * e._duration]
                        }), "loaded" !== e._state && (e._state = "loaded", e._emit("load"), e._loadQueue()), t._node.removeEventListener(n._canPlayEvent, t._loadFn, !1)
                    }
                };
                var a = {},
                    s = function(t) {
                        var e = t._src;
                        if (a[e]) return t._duration = a[e].duration, void c(t);
                        if (/^data:[^;]+;base64,/.test(e)) {
                            for (var i = atob(e.split(",")[1]), n = new Uint8Array(i.length), r = 0; r < i.length; ++r) n[r] = i.charCodeAt(r);
                            u(n.buffer, t)
                        } else {
                            var o = new XMLHttpRequest;
                            o.open("GET", e, !0), o.responseType = "arraybuffer", o.onload = function() {
                                var e = (o.status + "")[0];
                                if ("0" !== e && "2" !== e && "3" !== e) return void t._emit("loaderror", null, "Failed loading audio file with status: " + o.status + ".");
                                u(o.response, t)
                            }, o.onerror = function() {
                                t._webAudio && (t._html5 = !0, t._webAudio = !1, t._sounds = [], delete a[e], t.load())
                            }, l(o)
                        }
                    },
                    l = function(t) {
                        try {
                            t.send()
                        } catch (e) {
                            t.onerror()
                        }
                    },
                    u = function(t, e) {
                        n.ctx.decodeAudioData(t, function(t) {
                            t && e._sounds.length > 0 && (a[e._src] = t, c(e, t))
                        }, function() {
                            e._emit("loaderror", null, "Decoding audio data failed.")
                        })
                    },
                    c = function(t, e) {
                        e && !t._duration && (t._duration = e.duration), 0 === Object.keys(t._sprite).length && (t._sprite = {
                            __default: [0, 1e3 * t._duration]
                        }), "loaded" !== t._state && (t._state = "loaded", t._emit("load"), t._loadQueue())
                    },
                    h = function() {
                        try {
                            "undefined" != typeof AudioContext ? n.ctx = new AudioContext : "undefined" != typeof webkitAudioContext ? n.ctx = new webkitAudioContext : n.usingWebAudio = !1
                        } catch (t) {
                            n.usingWebAudio = !1
                        }
                        var t = /iP(hone|od|ad)/.test(n._navigator && n._navigator.platform),
                            e = n._navigator && n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),
                            i = e ? parseInt(e[1], 10) : null;
                        if (t && i && i < 9) {
                            var r = /safari/.test(n._navigator && n._navigator.userAgent.toLowerCase());
                            (n._navigator && n._navigator.standalone && !r || n._navigator && !n._navigator.standalone && !r) && (n.usingWebAudio = !1)
                        }
                        n.usingWebAudio && (n.masterGain = void 0 === n.ctx.createGain ? n.ctx.createGainNode() : n.ctx.createGain(), n.masterGain.gain.value = 1, n.masterGain.connect(n.ctx.destination)), n._setup()
                    };
                "function" == typeof define && define.amd && define([], function() {
                    return {
                        Howler: n,
                        Howl: r
                    }
                }), void 0 !== i && (i.Howler = n, i.Howl = r), "undefined" != typeof window ? (window.HowlerGlobal = e, window.Howler = n, window.Howl = r, window.Sound = o) : void 0 !== t && (t.HowlerGlobal = e, t.Howler = n, t.Howl = r, t.Sound = o)
            }(),
            function() {
                "use strict";
                HowlerGlobal.prototype._pos = [0, 0, 0], HowlerGlobal.prototype._orientation = [0, 0, -1, 0, 1, 0], HowlerGlobal.prototype.stereo = function(t) {
                    var e = this;
                    if (!e.ctx || !e.ctx.listener) return e;
                    for (var i = e._howls.length - 1; i >= 0; i--) e._howls[i].stereo(t);
                    return e
                }, HowlerGlobal.prototype.pos = function(t, e, i) {
                    var n = this;
                    return n.ctx && n.ctx.listener ? (e = "number" != typeof e ? n._pos[1] : e, i = "number" != typeof i ? n._pos[2] : i, "number" != typeof t ? n._pos : (n._pos = [t, e, i], n.ctx.listener.setPosition(n._pos[0], n._pos[1], n._pos[2]), n)) : n
                }, HowlerGlobal.prototype.orientation = function(t, e, i, n, r, o) {
                    var a = this;
                    if (!a.ctx || !a.ctx.listener) return a;
                    var s = a._orientation;
                    return e = "number" != typeof e ? s[1] : e, i = "number" != typeof i ? s[2] : i, n = "number" != typeof n ? s[3] : n, r = "number" != typeof r ? s[4] : r, o = "number" != typeof o ? s[5] : o, "number" != typeof t ? s : (a._orientation = [t, e, i, n, r, o], a.ctx.listener.setOrientation(t, e, i, n, r, o), a)
                }, Howl.prototype.init = function(t) {
                    return function(e) {
                        var i = this;
                        return i._orientation = e.orientation || [1, 0, 0], i._stereo = e.stereo || null, i._pos = e.pos || null, i._pannerAttr = {
                            coneInnerAngle: void 0 !== e.coneInnerAngle ? e.coneInnerAngle : 360,
                            coneOuterAngle: void 0 !== e.coneOuterAngle ? e.coneOuterAngle : 360,
                            coneOuterGain: void 0 !== e.coneOuterGain ? e.coneOuterGain : 0,
                            distanceModel: void 0 !== e.distanceModel ? e.distanceModel : "inverse",
                            maxDistance: void 0 !== e.maxDistance ? e.maxDistance : 1e4,
                            panningModel: void 0 !== e.panningModel ? e.panningModel : "HRTF",
                            refDistance: void 0 !== e.refDistance ? e.refDistance : 1,
                            rolloffFactor: void 0 !== e.rolloffFactor ? e.rolloffFactor : 1
                        }, i._onstereo = e.onstereo ? [{
                            fn: e.onstereo
                        }] : [], i._onpos = e.onpos ? [{
                            fn: e.onpos
                        }] : [], i._onorientation = e.onorientation ? [{
                            fn: e.onorientation
                        }] : [], t.call(this, e)
                    }
                }(Howl.prototype.init), Howl.prototype.stereo = function(e, i) {
                    var n = this;
                    if (!n._webAudio) return n;
                    if ("loaded" !== n._state) return n._queue.push({
                        event: "stereo",
                        action: function() {
                            n.stereo(e, i)
                        }
                    }), n;
                    var r = void 0 === Howler.ctx.createStereoPanner ? "spatial" : "stereo";
                    if (void 0 === i) {
                        if ("number" != typeof e) return n._stereo;
                        n._stereo = e, n._pos = [e, 0, 0]
                    }
                    for (var o = n._getSoundIds(i), a = 0; a < o.length; a++) {
                        var s = n._soundById(o[a]);
                        if (s) {
                            if ("number" != typeof e) return s._stereo;
                            s._stereo = e, s._pos = [e, 0, 0], s._node && (s._pannerAttr.panningModel = "equalpower", s._panner && s._panner.pan || t(s, r), "spatial" === r ? s._panner.setPosition(e, 0, 0) : s._panner.pan.value = e), n._emit("stereo", s._id)
                        }
                    }
                    return n
                }, Howl.prototype.pos = function(e, i, n, r) {
                    var o = this;
                    if (!o._webAudio) return o;
                    if ("loaded" !== o._state) return o._queue.push({
                        event: "pos",
                        action: function() {
                            o.pos(e, i, n, r)
                        }
                    }), o;
                    if (i = "number" != typeof i ? 0 : i, n = "number" != typeof n ? -.5 : n, void 0 === r) {
                        if ("number" != typeof e) return o._pos;
                        o._pos = [e, i, n]
                    }
                    for (var a = o._getSoundIds(r), s = 0; s < a.length; s++) {
                        var l = o._soundById(a[s]);
                        if (l) {
                            if ("number" != typeof e) return l._pos;
                            l._pos = [e, i, n], l._node && (l._panner && !l._panner.pan || t(l, "spatial"), l._panner.setPosition(e, i, n)), o._emit("pos", l._id)
                        }
                    }
                    return o
                }, Howl.prototype.orientation = function(e, i, n, r) {
                    var o = this;
                    if (!o._webAudio) return o;
                    if ("loaded" !== o._state) return o._queue.push({
                        event: "orientation",
                        action: function() {
                            o.orientation(e, i, n, r)
                        }
                    }), o;
                    if (i = "number" != typeof i ? o._orientation[1] : i, n = "number" != typeof n ? o._orientation[2] : n, void 0 === r) {
                        if ("number" != typeof e) return o._orientation;
                        o._orientation = [e, i, n]
                    }
                    for (var a = o._getSoundIds(r), s = 0; s < a.length; s++) {
                        var l = o._soundById(a[s]);
                        if (l) {
                            if ("number" != typeof e) return l._orientation;
                            l._orientation = [e, i, n], l._node && (l._panner || (l._pos || (l._pos = o._pos || [0, 0, -.5]), t(l, "spatial")), l._panner.setOrientation(e, i, n)), o._emit("orientation", l._id)
                        }
                    }
                    return o
                }, Howl.prototype.pannerAttr = function() {
                    var e, i, n, r = this,
                        o = arguments;
                    if (!r._webAudio) return r;
                    if (0 === o.length) return r._pannerAttr;
                    if (1 === o.length) {
                        if ("object" != typeof o[0]) return n = r._soundById(parseInt(o[0], 10)), n ? n._pannerAttr : r._pannerAttr;
                        e = o[0], void 0 === i && (r._pannerAttr = {
                            coneInnerAngle: void 0 !== e.coneInnerAngle ? e.coneInnerAngle : r._coneInnerAngle,
                            coneOuterAngle: void 0 !== e.coneOuterAngle ? e.coneOuterAngle : r._coneOuterAngle,
                            coneOuterGain: void 0 !== e.coneOuterGain ? e.coneOuterGain : r._coneOuterGain,
                            distanceModel: void 0 !== e.distanceModel ? e.distanceModel : r._distanceModel,
                            maxDistance: void 0 !== e.maxDistance ? e.maxDistance : r._maxDistance,
                            panningModel: void 0 !== e.panningModel ? e.panningModel : r._panningModel,
                            refDistance: void 0 !== e.refDistance ? e.refDistance : r._refDistance,
                            rolloffFactor: void 0 !== e.rolloffFactor ? e.rolloffFactor : r._rolloffFactor
                        })
                    } else 2 === o.length && (e = o[0], i = parseInt(o[1], 10));
                    for (var a = r._getSoundIds(i), s = 0; s < a.length; s++)
                        if (n = r._soundById(a[s])) {
                            var l = n._pannerAttr;
                            l = {
                                coneInnerAngle: void 0 !== e.coneInnerAngle ? e.coneInnerAngle : l.coneInnerAngle,
                                coneOuterAngle: void 0 !== e.coneOuterAngle ? e.coneOuterAngle : l.coneOuterAngle,
                                coneOuterGain: void 0 !== e.coneOuterGain ? e.coneOuterGain : l.coneOuterGain,
                                distanceModel: void 0 !== e.distanceModel ? e.distanceModel : l.distanceModel,
                                maxDistance: void 0 !== e.maxDistance ? e.maxDistance : l.maxDistance,
                                panningModel: void 0 !== e.panningModel ? e.panningModel : l.panningModel,
                                refDistance: void 0 !== e.refDistance ? e.refDistance : l.refDistance,
                                rolloffFactor: void 0 !== e.rolloffFactor ? e.rolloffFactor : l.rolloffFactor
                            };
                            var u = n._panner;
                            u ? (u.coneInnerAngle = l.coneInnerAngle, u.coneOuterAngle = l.coneOuterAngle, u.coneOuterGain = l.coneOuterGain, u.distanceModel = l.distanceModel, u.maxDistance = l.maxDistance, u.panningModel = l.panningModel, u.refDistance = l.refDistance, u.rolloffFactor = l.rolloffFactor) : (n._pos || (n._pos = r._pos || [0, 0, -.5]), t(n, "spatial"))
                        }
                    return r
                }, Sound.prototype.init = function(t) {
                    return function() {
                        var e = this,
                            i = e._parent;
                        e._orientation = i._orientation, e._stereo = i._stereo, e._pos = i._pos, e._pannerAttr = i._pannerAttr, t.call(this), e._stereo ? i.stereo(e._stereo) : e._pos && i.pos(e._pos[0], e._pos[1], e._pos[2], e._id)
                    }
                }(Sound.prototype.init), Sound.prototype.reset = function(t) {
                    return function() {
                        var e = this,
                            i = e._parent;
                        return e._orientation = i._orientation, e._pos = i._pos, e._pannerAttr = i._pannerAttr, t.call(this)
                    }
                }(Sound.prototype.reset);
                var t = function(t, e) {
                    e = e || "spatial", "spatial" === e ? (t._panner = Howler.ctx.createPanner(), t._panner.coneInnerAngle = t._pannerAttr.coneInnerAngle, t._panner.coneOuterAngle = t._pannerAttr.coneOuterAngle, t._panner.coneOuterGain = t._pannerAttr.coneOuterGain, t._panner.distanceModel = t._pannerAttr.distanceModel, t._panner.maxDistance = t._pannerAttr.maxDistance, t._panner.panningModel = t._pannerAttr.panningModel, t._panner.refDistance = t._pannerAttr.refDistance, t._panner.rolloffFactor = t._pannerAttr.rolloffFactor, t._panner.setPosition(t._pos[0], t._pos[1], t._pos[2]), t._panner.setOrientation(t._orientation[0], t._orientation[1], t._orientation[2])) : (t._panner = Howler.ctx.createStereoPanner(), t._panner.pan.value = t._stereo), t._panner.connect(t._node), t._paused || t._parent.pause(t._id, !0).play(t._id)
                }
            }()
        }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
    }, {}],
    81: [function(t, e, i) {
        e.exports = t("./main")
    }, {
        "./main": 82
    }],
    82: [function(t, e, i) {
        var n = t("promise-ext-settled"),
            r = function(t, e) {
                this.onProgress = "function" == typeof e ? e : null, this.fallbackImage = "string" == typeof t || t instanceof HTMLImageElement ? t : null
            };
        r.simplePreload = function(t) {
            return new Promise(function(e, i) {
                var n;
                t instanceof HTMLImageElement ? (n = t, n.complete ? n.naturalHeight ? e(n) : i(n) : (n.onload = e.bind(null, n), n.onerror = n.onabort = i.bind(null, n))) : "string" == typeof t && (n = new Image, n.onload = e.bind(null, n), n.onerror = n.onabort = i.bind(null, n), n.src = t)
            })
        }, r.prototype.preload = function(t) {
            var e = this,
                i = Array.prototype.concat.apply([], Array.prototype.slice.call(arguments));
            return i = i.map(function(t) {
                return r.simplePreload(t).catch(function(t) {
                    return e.fallbackImage ? r.simplePreload(e.fallbackImage).then(function(e) {
                        return t.setAttribute("data-fail-src", t.src), t.src = e.src, t
                    }, function() {
                        return Promise.reject(t)
                    }) : Promise.reject(t)
                })
            }), n(i, e.onProgress)
        }, e.exports = r
    }, {
        "promise-ext-settled": 99
    }],
    83: [function(t, e, i) {
        var n = [].indexOf;
        e.exports = function(t, e) {
            if (n) return t.indexOf(e);
            for (var i = 0; i < t.length; ++i)
                if (t[i] === e) return i;
            return -1
        }
    }, {}],
    84: [function(t, e, i) {
        ! function(i, n) {
            "function" == typeof define && define.amd ? define(["outlayer/outlayer", "get-size/get-size", "desandro-matches-selector/matches-selector", "fizzy-ui-utils/utils", "./item", "./layout-mode", "./layout-modes/masonry", "./layout-modes/fit-rows", "./layout-modes/vertical"], function(t, e, r, o, a, s) {
                return n(i, t, e, r, o, a, s)
            }) : "object" == typeof e && e.exports ? e.exports = n(i, t("outlayer"), t("get-size"), t("desandro-matches-selector"), t("fizzy-ui-utils"), t("./item"), t("./layout-mode"), t("./layout-modes/masonry"), t("./layout-modes/fit-rows"), t("./layout-modes/vertical")) : i.Isotope = n(i, i.Outlayer, i.getSize, i.matchesSelector, i.fizzyUIUtils, i.Isotope.Item, i.Isotope.LayoutMode)
        }(window, function(t, e, i, n, r, o, a) {
            "use strict";

            function s(t, e) {
                return function(i, n) {
                    for (var r = 0; r < t.length; r++) {
                        var o = t[r],
                            a = i.sortData[o],
                            s = n.sortData[o];
                        if (a > s || a < s) {
                            var l = void 0 !== e[o] ? e[o] : e,
                                u = l ? 1 : -1;
                            return (a > s ? 1 : -1) * u
                        }
                    }
                    return 0
                }
            }
            var l = t.jQuery,
                u = String.prototype.trim ? function(t) {
                    return t.trim()
                } : function(t) {
                    return t.replace(/^\s+|\s+$/g, "")
                },
                c = e.create("isotope", {
                    layoutMode: "masonry",
                    isJQueryFiltering: !0,
                    sortAscending: !0
                });
            c.Item = o, c.LayoutMode = a;
            var h = c.prototype;
            h._create = function() {
                this.itemGUID = 0, this._sorters = {}, this._getSorters(), e.prototype._create.call(this), this.modes = {}, this.filteredItems = this.items, this.sortHistory = ["original-order"];
                for (var t in a.modes) this._initLayoutMode(t)
            }, h.reloadItems = function() {
                this.itemGUID = 0, e.prototype.reloadItems.call(this)
            }, h._itemize = function() {
                for (var t = e.prototype._itemize.apply(this, arguments), i = 0; i < t.length; i++) {
                    t[i].id = this.itemGUID++
                }
                return this._updateItemsSortData(t), t
            }, h._initLayoutMode = function(t) {
                var e = a.modes[t],
                    i = this.options[t] || {};
                this.options[t] = e.options ? r.extend(e.options, i) : i, this.modes[t] = new e(this)
            }, h.layout = function() {
                if (!this._isLayoutInited && this._getOption("initLayout")) return void this.arrange();
                this._layout()
            }, h._layout = function() {
                var t = this._getIsInstant();
                this._resetLayout(), this._manageStamps(), this.layoutItems(this.filteredItems, t), this._isLayoutInited = !0
            }, h.arrange = function(t) {
                this.option(t), this._getIsInstant();
                var e = this._filter(this.items);
                this.filteredItems = e.matches, this._bindArrangeComplete(), this._isInstant ? this._noTransition(this._hideReveal, [e]) : this._hideReveal(e), this._sort(), this._layout()
            }, h._init = h.arrange, h._hideReveal = function(t) {
                this.reveal(t.needReveal), this.hide(t.needHide)
            }, h._getIsInstant = function() {
                var t = this._getOption("layoutInstant"),
                    e = void 0 !== t ? t : !this._isLayoutInited;
                return this._isInstant = e, e
            }, h._bindArrangeComplete = function() {
                function t() {
                    e && i && n && r.dispatchEvent("arrangeComplete", null, [r.filteredItems])
                }
                var e, i, n, r = this;
                this.once("layoutComplete", function() {
                    e = !0, t()
                }), this.once("hideComplete", function() {
                    i = !0, t()
                }), this.once("revealComplete", function() {
                    n = !0, t()
                })
            }, h._filter = function(t) {
                var e = this.options.filter;
                e = e || "*";
                for (var i = [], n = [], r = [], o = this._getFilterTest(e), a = 0; a < t.length; a++) {
                    var s = t[a];
                    if (!s.isIgnored) {
                        var l = o(s);
                        l && i.push(s), l && s.isHidden ? n.push(s) : l || s.isHidden || r.push(s)
                    }
                }
                return {
                    matches: i,
                    needReveal: n,
                    needHide: r
                }
            }, h._getFilterTest = function(t) {
                return l && this.options.isJQueryFiltering ? function(e) {
                    return l(e.element).is(t)
                } : "function" == typeof t ? function(e) {
                    return t(e.element)
                } : function(e) {
                    return n(e.element, t)
                }
            }, h.updateSortData = function(t) {
                var e;
                t ? (t = r.makeArray(t), e = this.getItems(t)) : e = this.items, this._getSorters(), this._updateItemsSortData(e)
            }, h._getSorters = function() {
                var t = this.options.getSortData;
                for (var e in t) {
                    var i = t[e];
                    this._sorters[e] = d(i)
                }
            }, h._updateItemsSortData = function(t) {
                for (var e = t && t.length, i = 0; e && i < e; i++) {
                    t[i].updateSortData()
                }
            };
            var d = function() {
                function t(t) {
                    if ("string" != typeof t) return t;
                    var i = u(t).split(" "),
                        n = i[0],
                        r = n.match(/^\[(.+)\]$/),
                        o = r && r[1],
                        a = e(o, n),
                        s = c.sortDataParsers[i[1]];
                    return t = s ? function(t) {
                        return t && s(a(t))
                    } : function(t) {
                        return t && a(t)
                    }
                }

                function e(t, e) {
                    return t ? function(e) {
                        return e.getAttribute(t)
                    } : function(t) {
                        var i = t.querySelector(e);
                        return i && i.textContent
                    }
                }
                return t
            }();
            c.sortDataParsers = {
                parseInt: function(t) {
                    return parseInt(t, 10)
                },
                parseFloat: function(t) {
                    return parseFloat(t)
                }
            }, h._sort = function() {
                if (this.options.sortBy) {
                    var t = r.makeArray(this.options.sortBy);
                    this._getIsSameSortBy(t) || (this.sortHistory = t.concat(this.sortHistory));
                    var e = s(this.sortHistory, this.options.sortAscending);
                    this.filteredItems.sort(e)
                }
            }, h._getIsSameSortBy = function(t) {
                for (var e = 0; e < t.length; e++)
                    if (t[e] != this.sortHistory[e]) return !1;
                return !0
            }, h._mode = function() {
                var t = this.options.layoutMode,
                    e = this.modes[t];
                if (!e) throw new Error("No layout mode: " + t);
                return e.options = this.options[t], e
            }, h._resetLayout = function() {
                e.prototype._resetLayout.call(this), this._mode()._resetLayout()
            }, h._getItemLayoutPosition = function(t) {
                return this._mode()._getItemLayoutPosition(t)
            }, h._manageStamp = function(t) {
                this._mode()._manageStamp(t)
            }, h._getContainerSize = function() {
                return this._mode()._getContainerSize()
            }, h.needsResizeLayout = function() {
                return this._mode().needsResizeLayout()
            }, h.appended = function(t) {
                var e = this.addItems(t);
                if (e.length) {
                    var i = this._filterRevealAdded(e);
                    this.filteredItems = this.filteredItems.concat(i)
                }
            }, h.prepended = function(t) {
                var e = this._itemize(t);
                if (e.length) {
                    this._resetLayout(), this._manageStamps();
                    var i = this._filterRevealAdded(e);
                    this.layoutItems(this.filteredItems), this.filteredItems = i.concat(this.filteredItems), this.items = e.concat(this.items)
                }
            }, h._filterRevealAdded = function(t) {
                var e = this._filter(t);
                return this.hide(e.needHide), this.reveal(e.matches), this.layoutItems(e.matches, !0), e.matches
            }, h.insert = function(t) {
                var e = this.addItems(t);
                if (e.length) {
                    var i, n, r = e.length;
                    for (i = 0; i < r; i++) n = e[i], this.element.appendChild(n.element);
                    var o = this._filter(e).matches;
                    for (i = 0; i < r; i++) e[i].isLayoutInstant = !0;
                    for (this.arrange(), i = 0; i < r; i++) delete e[i].isLayoutInstant;
                    this.reveal(o)
                }
            };
            var p = h.remove;
            return h.remove = function(t) {
                t = r.makeArray(t);
                var e = this.getItems(t);
                p.call(this, t);
                for (var i = e && e.length, n = 0; i && n < i; n++) {
                    var o = e[n];
                    r.removeFrom(this.filteredItems, o)
                }
            }, h.shuffle = function() {
                for (var t = 0; t < this.items.length; t++) {
                    this.items[t].sortData.random = Math.random()
                }
                this.options.sortBy = "random", this._sort(), this._layout()
            }, h._noTransition = function(t, e) {
                var i = this.options.transitionDuration;
                this.options.transitionDuration = 0;
                var n = t.apply(this, e);
                return this.options.transitionDuration = i, n
            }, h.getFilteredItemElements = function() {
                return this.filteredItems.map(function(t) {
                    return t.element
                })
            }, c
        })
    }, {
        "./item": 85,
        "./layout-mode": 86,
        "./layout-modes/fit-rows": 87,
        "./layout-modes/masonry": 88,
        "./layout-modes/vertical": 89,
        "desandro-matches-selector": 65,
        "fizzy-ui-utils": 75,
        "get-size": 76,
        outlayer: 96
    }],
    85: [function(t, e, i) {
        ! function(i, n) {
            "function" == typeof define && define.amd ? define(["outlayer/outlayer"], n) : "object" == typeof e && e.exports ? e.exports = n(t("outlayer")) : (i.Isotope = i.Isotope || {}, i.Isotope.Item = n(i.Outlayer))
        }(window, function(t) {
            "use strict";

            function e() {
                t.Item.apply(this, arguments)
            }
            var i = e.prototype = Object.create(t.Item.prototype),
                n = i._create;
            i._create = function() {
                this.id = this.layout.itemGUID++, n.call(this), this.sortData = {}
            }, i.updateSortData = function() {
                if (!this.isIgnored) {
                    this.sortData.id = this.id, this.sortData["original-order"] = this.id, this.sortData.random = Math.random();
                    var t = this.layout.options.getSortData,
                        e = this.layout._sorters;
                    for (var i in t) {
                        var n = e[i];
                        this.sortData[i] = n(this.element, this)
                    }
                }
            };
            var r = i.destroy;
            return i.destroy = function() {
                r.apply(this, arguments), this.css({
                    display: ""
                })
            }, e
        })
    }, {
        outlayer: 96
    }],
    86: [function(t, e, i) {
        ! function(i, n) {
            "function" == typeof define && define.amd ? define(["get-size/get-size", "outlayer/outlayer"], n) : "object" == typeof e && e.exports ? e.exports = n(t("get-size"), t("outlayer")) : (i.Isotope = i.Isotope || {}, i.Isotope.LayoutMode = n(i.getSize, i.Outlayer))
        }(window, function(t, e) {
            "use strict";

            function i(t) {
                this.isotope = t, t && (this.options = t.options[this.namespace], this.element = t.element, this.items = t.filteredItems, this.size = t.size)
            }
            var n = i.prototype;
            return ["_resetLayout", "_getItemLayoutPosition", "_manageStamp", "_getContainerSize", "_getElementOffset", "needsResizeLayout", "_getOption"].forEach(function(t) {
                n[t] = function() {
                    return e.prototype[t].apply(this.isotope, arguments)
                }
            }), n.needsVerticalResizeLayout = function() {
                var e = t(this.isotope.element);
                return this.isotope.size && e && e.innerHeight != this.isotope.size.innerHeight
            }, n._getMeasurement = function() {
                this.isotope._getMeasurement.apply(this, arguments)
            }, n.getColumnWidth = function() {
                this.getSegmentSize("column", "Width")
            }, n.getRowHeight = function() {
                this.getSegmentSize("row", "Height")
            }, n.getSegmentSize = function(t, e) {
                var i = t + e,
                    n = "outer" + e;
                if (this._getMeasurement(i, n), !this[i]) {
                    var r = this.getFirstItemSize();
                    this[i] = r && r[n] || this.isotope.size["inner" + e]
                }
            }, n.getFirstItemSize = function() {
                var e = this.isotope.filteredItems[0];
                return e && e.element && t(e.element)
            }, n.layout = function() {
                this.isotope.layout.apply(this.isotope, arguments)
            }, n.getSize = function() {
                this.isotope.getSize(), this.size = this.isotope.size
            }, i.modes = {}, i.create = function(t, e) {
                function r() {
                    i.apply(this, arguments)
                }
                return r.prototype = Object.create(n), r.prototype.constructor = r, e && (r.options = e), r.prototype.namespace = t, i.modes[t] = r, r
            }, i
        })
    }, {
        "get-size": 76,
        outlayer: 96
    }],
    87: [function(t, e, i) {
        ! function(n, r) {
            "function" == typeof define && define.amd ? define(["../layout-mode"], r) : "object" == typeof i ? e.exports = r(t("../layout-mode")) : r(n.Isotope.LayoutMode)
        }(window, function(t) {
            "use strict";
            var e = t.create("fitRows"),
                i = e.prototype;
            return i._resetLayout = function() {
                this.x = 0, this.y = 0, this.maxY = 0, this._getMeasurement("gutter", "outerWidth")
            }, i._getItemLayoutPosition = function(t) {
                t.getSize();
                var e = t.size.outerWidth + this.gutter,
                    i = this.isotope.size.innerWidth + this.gutter;
                0 !== this.x && e + this.x > i && (this.x = 0, this.y = this.maxY);
                var n = {
                    x: this.x,
                    y: this.y
                };
                return this.maxY = Math.max(this.maxY, this.y + t.size.outerHeight), this.x += e, n
            }, i._getContainerSize = function() {
                return {
                    height: this.maxY
                }
            }, e
        })
    }, {
        "../layout-mode": 86
    }],
    88: [function(t, e, i) {
        ! function(i, n) {
            "function" == typeof define && define.amd ? define(["../layout-mode", "masonry/masonry"], n) : "object" == typeof e && e.exports ? e.exports = n(t("../layout-mode"), t("masonry-layout")) : n(i.Isotope.LayoutMode, i.Masonry)
        }(window, function(t, e) {
            "use strict";
            var i = t.create("masonry"),
                n = i.prototype,
                r = {
                    _getElementOffset: !0,
                    layout: !0,
                    _getMeasurement: !0
                };
            for (var o in e.prototype) r[o] || (n[o] = e.prototype[o]);
            var a = n.measureColumns;
            n.measureColumns = function() {
                this.items = this.isotope.filteredItems, a.call(this)
            };
            var s = n._getOption;
            return n._getOption = function(t) {
                return "fitWidth" == t ? void 0 !== this.options.isFitWidth ? this.options.isFitWidth : this.options.fitWidth : s.apply(this.isotope, arguments)
            }, i
        })
    }, {
        "../layout-mode": 86,
        "masonry-layout": 92
    }],
    89: [function(t, e, i) {
        ! function(i, n) {
            "function" == typeof define && define.amd ? define(["../layout-mode"], n) : "object" == typeof e && e.exports ? e.exports = n(t("../layout-mode")) : n(i.Isotope.LayoutMode)
        }(window, function(t) {
            "use strict";
            var e = t.create("vertical", {
                    horizontalAlignment: 0
                }),
                i = e.prototype;
            return i._resetLayout = function() {
                this.y = 0
            }, i._getItemLayoutPosition = function(t) {
                t.getSize();
                var e = (this.isotope.size.innerWidth - t.size.outerWidth) * this.options.horizontalAlignment,
                    i = this.y;
                return this.y += t.size.outerHeight, {
                    x: e,
                    y: i
                }
            }, i._getContainerSize = function() {
                return {
                    height: this.y
                }
            }, e
        })
    }, {
        "../layout-mode": 86
    }],
    90: [function(t, e, i) {
        (function() {
            var t;
            t = void 0 !== i && null !== i ? i : this, t.Lethargy = function() {
                function t(t, e, i, n) {
                    this.stability = null != t ? Math.abs(t) : 8, this.sensitivity = null != e ? 1 + Math.abs(e) : 100, this.tolerance = null != i ? 1 + Math.abs(i) : 1.1, this.delay = null != n ? n : 150, this.lastUpDeltas = function() {
                        var t, e, i;
                        for (i = [], t = 1, e = 2 * this.stability; 1 <= e ? t <= e : t >= e; 1 <= e ? t++ : t--) i.push(null);
                        return i
                    }.call(this), this.lastDownDeltas = function() {
                        var t, e, i;
                        for (i = [], t = 1, e = 2 * this.stability; 1 <= e ? t <= e : t >= e; 1 <= e ? t++ : t--) i.push(null);
                        return i
                    }.call(this), this.deltasTimestamp = function() {
                        var t, e, i;
                        for (i = [], t = 1, e = 2 * this.stability; 1 <= e ? t <= e : t >= e; 1 <= e ? t++ : t--) i.push(null);
                        return i
                    }.call(this)
                }
                return t.prototype.check = function(t) {
                    var e;
                    return t = t.originalEvent || t, null != t.wheelDelta ? e = t.wheelDelta : null != t.deltaY ? e = t.deltaY * -40 : null == t.detail && 0 !== t.detail || (e = t.detail * -40), this.deltasTimestamp.push(Date.now()), this.deltasTimestamp.shift(), e > 0 ? (this.lastUpDeltas.push(e), this.lastUpDeltas.shift(), this.isInertia(1)) : (this.lastDownDeltas.push(e), this.lastDownDeltas.shift(), this.isInertia(-1))
                }, t.prototype.isInertia = function(t) {
                    var e, i, n, r, o, a, s;
                    return e = t === -1 ? this.lastDownDeltas : this.lastUpDeltas, null === e[0] ? t : !(this.deltasTimestamp[2 * this.stability - 2] + this.delay > Date.now() && e[0] === e[2 * this.stability - 1]) && (n = e.slice(0, this.stability), i = e.slice(this.stability, 2 * this.stability), s = n.reduce(function(t, e) {
                        return t + e
                    }), o = i.reduce(function(t, e) {
                        return t + e
                    }), a = s / n.length, r = o / i.length, Math.abs(a) < Math.abs(r * this.tolerance) && this.sensitivity < Math.abs(r) && t)
                }, t.prototype.showLastUpDeltas = function() {
                    return this.lastUpDeltas
                }, t.prototype.showLastDownDeltas = function() {
                    return this.lastDownDeltas
                }, t
            }()
        }).call(this)
    }, {}],
    91: [function(t, e, i) {
        ! function(t) {
            t(function() {
                function t(t, e, i) {
                    t.attachEvent ? (t["e" + e + i] = i, t[e + i] = function() {
                        t["e" + e + i](window.event)
                    }, t.attachEvent("on" + e, t[e + i])) : t.addEventListener(e, i, !1)
                }

                function e(t, e, i) {
                    t.detachEvent ? (t.detachEvent("on" + e, t[e + i]), t[e + i] = null) : t.removeEventListener(e, i, !1)
                }
                var i = {};
                i.extend = function(t, e) {
                    for (var i in e) t[i] = e[i];
                    return t
                }, i.any = function(t, e) {
                    for (var i = 0, n = t.length; i < n; i++)
                        if (e(t[i])) return !0;
                    return !1
                };
                var n = function() {
                        this.handlers = [];
                        var t = this,
                            e = this.checkUrl;
                        this.checkUrl = function() {
                            e.apply(t, arguments)
                        }, "undefined" != typeof window && (this.location = window.location, this.history = window.history)
                    },
                    r = /msie [\w.]+/;
                return n.started = !1, i.extend(n.prototype, {
                    interval: 50,
                    atRoot: function() {
                        return this.location.pathname.replace(/[^\/]$/, "$&/") === this.root
                    },
                    getHash: function(t) {
                        var e = (t || this).location.href.match(/#(.*)$/);
                        return e ? e[1] : ""
                    },
                    getFragment: function(t, e) {
                        if (null == t)
                            if (this._hasPushState || !this._wantsHashChange || e) {
                                t = decodeURI(this.location.pathname + this.location.search);
                                var i = this.root.replace(/\/$/, "");
                                t.indexOf(i) || (t = t.slice(i.length))
                            } else t = this.getHash();
                        return t.replace(/^[#\/]|\s+$/g, "")
                    },
                    start: function(e) {
                        if (n.started) throw new Error("LocationBar has already been started");
                        n.started = !0, this.options = i.extend({
                            root: "/"
                        }, e), this.location = this.options.location || this.location, this.history = this.options.history || this.history, this.root = this.options.root, this._wantsHashChange = this.options.hashChange !== !1, this._wantsPushState = !!this.options.pushState, this._hasPushState = !!(this.options.pushState && this.history && this.history.pushState);
                        var o = this.getFragment(),
                            a = document.documentMode,
                            s = r.exec(navigator.userAgent.toLowerCase()) && (!a || a <= 7);
                        this.root = ("/" + this.root + "/").replace(/^\/+|\/+$/g, "/"), s && this._wantsHashChange && (this.iframe = document.createElement("iframe"), this.iframe.setAttribute("src", "javascript:0"), this.iframe.setAttribute("tabindex", -1), this.iframe.style.display = "none", document.body.appendChild(this.iframe), this.iframe = this.iframe.contentWindow, this.navigate(o)), this._hasPushState ? t(window, "popstate", this.checkUrl) : this._wantsHashChange && "onhashchange" in window && !s ? t(window, "hashchange", this.checkUrl) : this._wantsHashChange && (this._checkUrlInterval = setInterval(this.checkUrl, this.interval)), this.fragment = o;
                        var l = this.location;
                        if (this._wantsHashChange && this._wantsPushState) {
                            if (!this._hasPushState && !this.atRoot()) return this.fragment = this.getFragment(null, !0), this.location.replace(this.root + "#" + this.fragment), !0;
                            this._hasPushState && this.atRoot() && l.hash && (this.fragment = this.getHash().replace(/^[#\/]|\s+$/g, ""), this.history.replaceState({}, document.title, this.root + this.fragment))
                        }
                        if (!this.options.silent) return this.loadUrl()
                    },
                    stop: function() {
                        e(window, "popstate", this.checkUrl), e(window, "hashchange", this.checkUrl), this._checkUrlInterval && clearInterval(this._checkUrlInterval), n.started = !1
                    },
                    route: function(t, e) {
                        this.handlers.unshift({
                            route: t,
                            callback: e
                        })
                    },
                    checkUrl: function() {
                        var t = this.getFragment();
                        if (t === this.fragment && this.iframe && (t = this.getFragment(this.getHash(this.iframe))),
                            t === this.fragment) return !1;
                        this.iframe && this.navigate(t), this.loadUrl()
                    },
                    loadUrl: function(t) {
                        return t = this.fragment = this.getFragment(t), i.any(this.handlers, function(e) {
                            if (e.route.test(t)) return e.callback(t), !0
                        })
                    },
                    navigate: function(t, e) {
                        if (!n.started) return !1;
                        e && e !== !0 || (e = {
                            trigger: !!e
                        });
                        var i = this.root + (t = this.getFragment(t || ""));
                        if (t = t.replace(/#.*$/, ""), this.fragment !== t) {
                            if (this.fragment = t, "" === t && "/" !== i && (i = i.slice(0, -1)), this._hasPushState) this.history[e.replace ? "replaceState" : "pushState"]({}, document.title, i);
                            else {
                                if (!this._wantsHashChange) return this.location.assign(i);
                                this._updateHash(this.location, t, e.replace), this.iframe && t !== this.getFragment(this.getHash(this.iframe)) && (e.replace || this.iframe.document.open().close(), this._updateHash(this.iframe.location, t, e.replace))
                            }
                            return e.trigger ? this.loadUrl(t) : void 0
                        }
                    },
                    _updateHash: function(t, e, i) {
                        if (i) {
                            var n = t.href.replace(/(javascript:|#).*$/, "");
                            t.replace(n + "#" + e)
                        } else t.hash = "#" + e
                    }
                }), n.prototype.update = function() {
                    this.navigate.apply(this, arguments)
                }, n.prototype.onChange = function(t) {
                    this.route(/^(.*?)$/, t)
                }, n.prototype.hasPushState = function() {
                    if (!n.started) throw new Error("only available after LocationBar.start()");
                    return this._hasPushState
                }, n
            })
        }("function" == typeof define && define.amd ? define : function(i) {
            e.exports = i(t)
        })
    }, {}],
    92: [function(t, e, i) {
        ! function(i, n) {
            "function" == typeof define && define.amd ? define(["outlayer/outlayer", "get-size/get-size"], n) : "object" == typeof e && e.exports ? e.exports = n(t("outlayer"), t("get-size")) : i.Masonry = n(i.Outlayer, i.getSize)
        }(window, function(t, e) {
            "use strict";
            var i = t.create("masonry");
            return i.compatOptions.fitWidth = "isFitWidth", i.prototype._resetLayout = function() {
                this.getSize(), this._getMeasurement("columnWidth", "outerWidth"), this._getMeasurement("gutter", "outerWidth"), this.measureColumns(), this.colYs = [];
                for (var t = 0; t < this.cols; t++) this.colYs.push(0);
                this.maxY = 0
            }, i.prototype.measureColumns = function() {
                if (this.getContainerWidth(), !this.columnWidth) {
                    var t = this.items[0],
                        i = t && t.element;
                    this.columnWidth = i && e(i).outerWidth || this.containerWidth
                }
                var n = this.columnWidth += this.gutter,
                    r = this.containerWidth + this.gutter,
                    o = r / n,
                    a = n - r % n,
                    s = a && a < 1 ? "round" : "floor";
                o = Math[s](o), this.cols = Math.max(o, 1)
            }, i.prototype.getContainerWidth = function() {
                var t = this._getOption("fitWidth"),
                    i = t ? this.element.parentNode : this.element,
                    n = e(i);
                this.containerWidth = n && n.innerWidth
            }, i.prototype._getItemLayoutPosition = function(t) {
                t.getSize();
                var e = t.size.outerWidth % this.columnWidth,
                    i = e && e < 1 ? "round" : "ceil",
                    n = Math[i](t.size.outerWidth / this.columnWidth);
                n = Math.min(n, this.cols);
                for (var r = this._getColGroup(n), o = Math.min.apply(Math, r), a = r.indexOf(o), s = {
                        x: this.columnWidth * a,
                        y: o
                    }, l = o + t.size.outerHeight, u = this.cols + 1 - r.length, c = 0; c < u; c++) this.colYs[a + c] = l;
                return s
            }, i.prototype._getColGroup = function(t) {
                if (t < 2) return this.colYs;
                for (var e = [], i = this.cols + 1 - t, n = 0; n < i; n++) {
                    var r = this.colYs.slice(n, n + t);
                    e[n] = Math.max.apply(Math, r)
                }
                return e
            }, i.prototype._manageStamp = function(t) {
                var i = e(t),
                    n = this._getElementOffset(t),
                    r = this._getOption("originLeft"),
                    o = r ? n.left : n.right,
                    a = o + i.outerWidth,
                    s = Math.floor(o / this.columnWidth);
                s = Math.max(0, s);
                var l = Math.floor(a / this.columnWidth);
                l -= a % this.columnWidth ? 0 : 1, l = Math.min(this.cols - 1, l);
                for (var u = this._getOption("originTop"), c = (u ? n.top : n.bottom) + i.outerHeight, h = s; h <= l; h++) this.colYs[h] = Math.max(c, this.colYs[h])
            }, i.prototype._getContainerSize = function() {
                this.maxY = Math.max.apply(Math, this.colYs);
                var t = {
                    height: this.maxY
                };
                return this._getOption("fitWidth") && (t.width = this._getContainerFitWidth()), t
            }, i.prototype._getContainerFitWidth = function() {
                for (var t = 0, e = this.cols; --e && 0 === this.colYs[e];) t++;
                return (this.cols - t) * this.columnWidth - this.gutter
            }, i.prototype.needsResizeLayout = function() {
                var t = this.containerWidth;
                return this.getContainerWidth(), t != this.containerWidth
            }, i
        })
    }, {
        "get-size": 76,
        outlayer: 96
    }],
    93: [function(t, e, i) {
        ! function(t, e) {
            "object" == typeof i && i && "string" != typeof i.nodeName ? e(i) : "function" == typeof define && define.amd ? define(["exports"], e) : (t.Mustache = {}, e(t.Mustache))
        }(this, function(t) {
            function e(t) {
                return "function" == typeof t
            }

            function i(t) {
                return m(t) ? "array" : typeof t
            }

            function n(t) {
                return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&")
            }

            function r(t, e) {
                return null != t && "object" == typeof t && e in t
            }

            function o(t, e) {
                return g.call(t, e)
            }

            function a(t) {
                return !o(v, t)
            }

            function s(t) {
                return String(t).replace(/[&<>"'`=\/]/g, function(t) {
                    return y[t]
                })
            }

            function l(e, i) {
                function r(t) {
                    if ("string" == typeof t && (t = t.split(b, 2)), !m(t) || 2 !== t.length) throw new Error("Invalid tags: " + t);
                    o = new RegExp(n(t[0]) + "\\s*"), s = new RegExp("\\s*" + n(t[1])), l = new RegExp("\\s*" + n("}" + t[1]))
                }
                if (!e) return [];
                var o, s, l, d = [],
                    p = [],
                    f = [],
                    g = !1,
                    v = !1;
                r(i || t.tags);
                for (var y, S, M, E, C, A, P = new h(e); !P.eos();) {
                    if (y = P.pos, M = P.scanUntil(o))
                        for (var L = 0, O = M.length; L < O; ++L) E = M.charAt(L), a(E) ? f.push(p.length) : v = !0, p.push(["text", E, y, y + 1]), y += 1, "\n" === E && function() {
                            if (g && !v)
                                for (; f.length;) delete p[f.pop()];
                            else f = [];
                            g = !1, v = !1
                        }();
                    if (!P.scan(o)) break;
                    if (g = !0, S = P.scan(T) || "name", P.scan(_), "=" === S ? (M = P.scanUntil(x), P.scan(x), P.scanUntil(s)) : "{" === S ? (M = P.scanUntil(l), P.scan(w), P.scanUntil(s), S = "&") : M = P.scanUntil(s), !P.scan(s)) throw new Error("Unclosed tag at " + P.pos);
                    if (C = [S, M, y, P.pos], p.push(C), "#" === S || "^" === S) d.push(C);
                    else if ("/" === S) {
                        if (!(A = d.pop())) throw new Error('Unopened section "' + M + '" at ' + y);
                        if (A[1] !== M) throw new Error('Unclosed section "' + A[1] + '" at ' + y)
                    } else "name" === S || "{" === S || "&" === S ? v = !0 : "=" === S && r(M)
                }
                if (A = d.pop()) throw new Error('Unclosed section "' + A[1] + '" at ' + P.pos);
                return c(u(p))
            }

            function u(t) {
                for (var e, i, n = [], r = 0, o = t.length; r < o; ++r)(e = t[r]) && ("text" === e[0] && i && "text" === i[0] ? (i[1] += e[1], i[3] = e[3]) : (n.push(e), i = e));
                return n
            }

            function c(t) {
                for (var e, i, n = [], r = n, o = [], a = 0, s = t.length; a < s; ++a) switch (e = t[a], e[0]) {
                    case "#":
                    case "^":
                        r.push(e), o.push(e), r = e[4] = [];
                        break;
                    case "/":
                        i = o.pop(), i[5] = e[2], r = o.length > 0 ? o[o.length - 1][4] : n;
                        break;
                    default:
                        r.push(e)
                }
                return n
            }

            function h(t) {
                this.string = t, this.tail = t, this.pos = 0
            }

            function d(t, e) {
                this.view = t, this.cache = {
                    ".": this.view
                }, this.parent = e
            }

            function p() {
                this.cache = {}
            }
            var f = Object.prototype.toString,
                m = Array.isArray || function(t) {
                    return "[object Array]" === f.call(t)
                },
                g = RegExp.prototype.test,
                v = /\S/,
                y = {
                    "&": "&amp;",
                    "<": "&lt;",
                    ">": "&gt;",
                    '"': "&quot;",
                    "'": "&#39;",
                    "/": "&#x2F;",
                    "`": "&#x60;",
                    "=": "&#x3D;"
                },
                _ = /\s*/,
                b = /\s+/,
                x = /\s*=/,
                w = /\s*\}/,
                T = /#|\^|\/|>|\{|&|=|!/;
            h.prototype.eos = function() {
                return "" === this.tail
            }, h.prototype.scan = function(t) {
                var e = this.tail.match(t);
                if (!e || 0 !== e.index) return "";
                var i = e[0];
                return this.tail = this.tail.substring(i.length), this.pos += i.length, i
            }, h.prototype.scanUntil = function(t) {
                var e, i = this.tail.search(t);
                switch (i) {
                    case -1:
                        e = this.tail, this.tail = "";
                        break;
                    case 0:
                        e = "";
                        break;
                    default:
                        e = this.tail.substring(0, i), this.tail = this.tail.substring(i)
                }
                return this.pos += e.length, e
            }, d.prototype.push = function(t) {
                return new d(t, this)
            }, d.prototype.lookup = function(t) {
                var i, n = this.cache;
                if (n.hasOwnProperty(t)) i = n[t];
                else {
                    for (var o, a, s = this, l = !1; s;) {
                        if (t.indexOf(".") > 0)
                            for (i = s.view, o = t.split("."), a = 0; null != i && a < o.length;) a === o.length - 1 && (l = r(i, o[a])), i = i[o[a++]];
                        else i = s.view[t], l = r(s.view, t);
                        if (l) break;
                        s = s.parent
                    }
                    n[t] = i
                }
                return e(i) && (i = i.call(this.view)), i
            }, p.prototype.clearCache = function() {
                this.cache = {}
            }, p.prototype.parse = function(t, e) {
                var i = this.cache,
                    n = i[t];
                return null == n && (n = i[t] = l(t, e)), n
            }, p.prototype.render = function(t, e, i) {
                var n = this.parse(t),
                    r = e instanceof d ? e : new d(e);
                return this.renderTokens(n, r, i, t)
            }, p.prototype.renderTokens = function(t, e, i, n) {
                for (var r, o, a, s = "", l = 0, u = t.length; l < u; ++l) a = void 0, r = t[l], o = r[0], "#" === o ? a = this.renderSection(r, e, i, n) : "^" === o ? a = this.renderInverted(r, e, i, n) : ">" === o ? a = this.renderPartial(r, e, i, n) : "&" === o ? a = this.unescapedValue(r, e) : "name" === o ? a = this.escapedValue(r, e) : "text" === o && (a = this.rawValue(r)), void 0 !== a && (s += a);
                return s
            }, p.prototype.renderSection = function(t, i, n, r) {
                function o(t) {
                    return a.render(t, i, n)
                }
                var a = this,
                    s = "",
                    l = i.lookup(t[1]);
                if (l) {
                    if (m(l))
                        for (var u = 0, c = l.length; u < c; ++u) s += this.renderTokens(t[4], i.push(l[u]), n, r);
                    else if ("object" == typeof l || "string" == typeof l || "number" == typeof l) s += this.renderTokens(t[4], i.push(l), n, r);
                    else if (e(l)) {
                        if ("string" != typeof r) throw new Error("Cannot use higher-order sections without the original template");
                        l = l.call(i.view, r.slice(t[3], t[5]), o), null != l && (s += l)
                    } else s += this.renderTokens(t[4], i, n, r);
                    return s
                }
            }, p.prototype.renderInverted = function(t, e, i, n) {
                var r = e.lookup(t[1]);
                if (!r || m(r) && 0 === r.length) return this.renderTokens(t[4], e, i, n)
            }, p.prototype.renderPartial = function(t, i, n) {
                if (n) {
                    var r = e(n) ? n(t[1]) : n[t[1]];
                    return null != r ? this.renderTokens(this.parse(r), i, n, r) : void 0
                }
            }, p.prototype.unescapedValue = function(t, e) {
                var i = e.lookup(t[1]);
                if (null != i) return i
            }, p.prototype.escapedValue = function(e, i) {
                var n = i.lookup(e[1]);
                if (null != n) return t.escape(n)
            }, p.prototype.rawValue = function(t) {
                return t[1]
            }, t.name = "mustache.js", t.version = "2.3.0", t.tags = ["{{", "}}"];
            var S = new p;
            return t.clearCache = function() {
                return S.clearCache()
            }, t.parse = function(t, e) {
                return S.parse(t, e)
            }, t.render = function(t, e, n) {
                if ("string" != typeof t) throw new TypeError('Invalid template! Template should be a "string" but "' + i(t) + '" was given as the first argument for mustache#render(template, view, partials)');
                return S.render(t, e, n)
            }, t.to_html = function(i, n, r, o) {
                var a = t.render(i, n, r);
                if (!e(o)) return a;
                o(a)
            }, t.escape = s, t.Scanner = h, t.Context = d, t.Writer = p, t
        })
    }, {}],
    94: [function(t, e, i) {
        "use strict";

        function n(t) {
            if (null === t || void 0 === t) throw new TypeError("Object.assign cannot be called with null or undefined");
            return Object(t)
        }
        var r = Object.getOwnPropertySymbols,
            o = Object.prototype.hasOwnProperty,
            a = Object.prototype.propertyIsEnumerable;
        e.exports = function() {
            try {
                if (!Object.assign) return !1;
                var t = new String("abc");
                if (t[5] = "de", "5" === Object.getOwnPropertyNames(t)[0]) return !1;
                for (var e = {}, i = 0; i < 10; i++) e["_" + String.fromCharCode(i)] = i;
                if ("0123456789" !== Object.getOwnPropertyNames(e).map(function(t) {
                        return e[t]
                    }).join("")) return !1;
                var n = {};
                return "abcdefghijklmnopqrst".split("").forEach(function(t) {
                    n[t] = t
                }), "abcdefghijklmnopqrst" === Object.keys(Object.assign({}, n)).join("")
            } catch (t) {
                return !1
            }
        }() ? Object.assign : function(t, e) {
            for (var i, s, l = n(t), u = 1; u < arguments.length; u++) {
                i = Object(arguments[u]);
                for (var c in i) o.call(i, c) && (l[c] = i[c]);
                if (r) {
                    s = r(i);
                    for (var h = 0; h < s.length; h++) a.call(i, s[h]) && (l[s[h]] = i[s[h]])
                }
            }
            return l
        }
    }, {}],
    95: [function(t, e, i) {
        ! function(i, n) {
            "function" == typeof define && define.amd ? define(["ev-emitter/ev-emitter", "get-size/get-size"], n) : "object" == typeof e && e.exports ? e.exports = n(t("ev-emitter"), t("get-size")) : (i.Outlayer = {}, i.Outlayer.Item = n(i.EvEmitter, i.getSize))
        }(window, function(t, e) {
            "use strict";

            function i(t) {
                for (var e in t) return !1;
                return null, !0
            }

            function n(t, e) {
                t && (this.element = t, this.layout = e, this.position = {
                    x: 0,
                    y: 0
                }, this._create())
            }
            var r = document.documentElement.style,
                o = "string" == typeof r.transition ? "transition" : "WebkitTransition",
                a = "string" == typeof r.transform ? "transform" : "WebkitTransform",
                s = {
                    WebkitTransition: "webkitTransitionEnd",
                    transition: "transitionend"
                }[o],
                l = {
                    transform: a,
                    transition: o,
                    transitionDuration: o + "Duration",
                    transitionProperty: o + "Property",
                    transitionDelay: o + "Delay"
                },
                u = n.prototype = Object.create(t.prototype);
            u.constructor = n, u._create = function() {
                this._transn = {
                    ingProperties: {},
                    clean: {},
                    onEnd: {}
                }, this.css({
                    position: "absolute"
                })
            }, u.handleEvent = function(t) {
                var e = "on" + t.type;
                this[e] && this[e](t)
            }, u.getSize = function() {
                this.size = e(this.element)
            }, u.css = function(t) {
                var e = this.element.style;
                for (var i in t) {
                    e[l[i] || i] = t[i]
                }
            }, u.getPosition = function() {
                var t = getComputedStyle(this.element),
                    e = this.layout._getOption("originLeft"),
                    i = this.layout._getOption("originTop"),
                    n = t[e ? "left" : "right"],
                    r = t[i ? "top" : "bottom"],
                    o = this.layout.size,
                    a = n.indexOf("%") != -1 ? parseFloat(n) / 100 * o.width : parseInt(n, 10),
                    s = r.indexOf("%") != -1 ? parseFloat(r) / 100 * o.height : parseInt(r, 10);
                a = isNaN(a) ? 0 : a, s = isNaN(s) ? 0 : s, a -= e ? o.paddingLeft : o.paddingRight, s -= i ? o.paddingTop : o.paddingBottom, this.position.x = a, this.position.y = s
            }, u.layoutPosition = function() {
                var t = this.layout.size,
                    e = {},
                    i = this.layout._getOption("originLeft"),
                    n = this.layout._getOption("originTop"),
                    r = i ? "paddingLeft" : "paddingRight",
                    o = i ? "left" : "right",
                    a = i ? "right" : "left",
                    s = this.position.x + t[r];
                e[o] = this.getXValue(s), e[a] = "";
                var l = n ? "paddingTop" : "paddingBottom",
                    u = n ? "top" : "bottom",
                    c = n ? "bottom" : "top",
                    h = this.position.y + t[l];
                e[u] = this.getYValue(h), e[c] = "", this.css(e), this.emitEvent("layout", [this])
            }, u.getXValue = function(t) {
                var e = this.layout._getOption("horizontal");
                return this.layout.options.percentPosition && !e ? t / this.layout.size.width * 100 + "%" : t + "px"
            }, u.getYValue = function(t) {
                var e = this.layout._getOption("horizontal");
                return this.layout.options.percentPosition && e ? t / this.layout.size.height * 100 + "%" : t + "px"
            }, u._transitionTo = function(t, e) {
                this.getPosition();
                var i = this.position.x,
                    n = this.position.y,
                    r = parseInt(t, 10),
                    o = parseInt(e, 10),
                    a = r === this.position.x && o === this.position.y;
                if (this.setPosition(t, e), a && !this.isTransitioning) return void this.layoutPosition();
                var s = t - i,
                    l = e - n,
                    u = {};
                u.transform = this.getTranslate(s, l), this.transition({
                    to: u,
                    onTransitionEnd: {
                        transform: this.layoutPosition
                    },
                    isCleaning: !0
                })
            }, u.getTranslate = function(t, e) {
                var i = this.layout._getOption("originLeft"),
                    n = this.layout._getOption("originTop");
                return t = i ? t : -t, e = n ? e : -e, "translate3d(" + t + "px, " + e + "px, 0)"
            }, u.goTo = function(t, e) {
                this.setPosition(t, e), this.layoutPosition()
            }, u.moveTo = u._transitionTo, u.setPosition = function(t, e) {
                this.position.x = parseInt(t, 10), this.position.y = parseInt(e, 10)
            }, u._nonTransition = function(t) {
                this.css(t.to), t.isCleaning && this._removeStyles(t.to);
                for (var e in t.onTransitionEnd) t.onTransitionEnd[e].call(this)
            }, u.transition = function(t) {
                if (!parseFloat(this.layout.options.transitionDuration)) return void this._nonTransition(t);
                var e = this._transn;
                for (var i in t.onTransitionEnd) e.onEnd[i] = t.onTransitionEnd[i];
                for (i in t.to) e.ingProperties[i] = !0, t.isCleaning && (e.clean[i] = !0);
                if (t.from) {
                    this.css(t.from);
                    this.element.offsetHeight;
                    null
                }
                this.enableTransition(t.to), this.css(t.to), this.isTransitioning = !0
            };
            var c = "opacity," + function(t) {
                return t.replace(/([A-Z])/g, function(t) {
                    return "-" + t.toLowerCase()
                })
            }(a);
            u.enableTransition = function() {
                if (!this.isTransitioning) {
                    var t = this.layout.options.transitionDuration;
                    t = "number" == typeof t ? t + "ms" : t, this.css({
                        transitionProperty: c,
                        transitionDuration: t,
                        transitionDelay: this.staggerDelay || 0
                    }), this.element.addEventListener(s, this, !1)
                }
            }, u.onwebkitTransitionEnd = function(t) {
                this.ontransitionend(t)
            }, u.onotransitionend = function(t) {
                this.ontransitionend(t)
            };
            var h = {
                "-webkit-transform": "transform"
            };
            u.ontransitionend = function(t) {
                if (t.target === this.element) {
                    var e = this._transn,
                        n = h[t.propertyName] || t.propertyName;
                    if (delete e.ingProperties[n], i(e.ingProperties) && this.disableTransition(), n in e.clean && (this.element.style[t.propertyName] = "", delete e.clean[n]), n in e.onEnd) {
                        e.onEnd[n].call(this), delete e.onEnd[n]
                    }
                    this.emitEvent("transitionEnd", [this])
                }
            }, u.disableTransition = function() {
                this.removeTransitionStyles(), this.element.removeEventListener(s, this, !1), this.isTransitioning = !1
            }, u._removeStyles = function(t) {
                var e = {};
                for (var i in t) e[i] = "";
                this.css(e)
            };
            var d = {
                transitionProperty: "",
                transitionDuration: "",
                transitionDelay: ""
            };
            return u.removeTransitionStyles = function() {
                this.css(d)
            }, u.stagger = function(t) {
                t = isNaN(t) ? 0 : t, this.staggerDelay = t + "ms"
            }, u.removeElem = function() {
                this.element.parentNode.removeChild(this.element), this.css({
                    display: ""
                }), this.emitEvent("remove", [this])
            }, u.remove = function() {
                if (!o || !parseFloat(this.layout.options.transitionDuration)) return void this.removeElem();
                this.once("transitionEnd", function() {
                    this.removeElem()
                }), this.hide()
            }, u.reveal = function() {
                delete this.isHidden, this.css({
                    display: ""
                });
                var t = this.layout.options,
                    e = {};
                e[this.getHideRevealTransitionEndProperty("visibleStyle")] = this.onRevealTransitionEnd, this.transition({
                    from: t.hiddenStyle,
                    to: t.visibleStyle,
                    isCleaning: !0,
                    onTransitionEnd: e
                })
            }, u.onRevealTransitionEnd = function() {
                this.isHidden || this.emitEvent("reveal")
            }, u.getHideRevealTransitionEndProperty = function(t) {
                var e = this.layout.options[t];
                if (e.opacity) return "opacity";
                for (var i in e) return i
            }, u.hide = function() {
                this.isHidden = !0, this.css({
                    display: ""
                });
                var t = this.layout.options,
                    e = {};
                e[this.getHideRevealTransitionEndProperty("hiddenStyle")] = this.onHideTransitionEnd, this.transition({
                    from: t.visibleStyle,
                    to: t.hiddenStyle,
                    isCleaning: !0,
                    onTransitionEnd: e
                })
            }, u.onHideTransitionEnd = function() {
                this.isHidden && (this.css({
                    display: "none"
                }), this.emitEvent("hide"))
            }, u.destroy = function() {
                this.css({
                    position: "",
                    left: "",
                    right: "",
                    top: "",
                    bottom: "",
                    transition: "",
                    transform: ""
                })
            }, n
        })
    }, {
        "ev-emitter": 72,
        "get-size": 76
    }],
    96: [function(t, e, i) {
        ! function(i, n) {
            "use strict";
            "function" == typeof define && define.amd ? define(["ev-emitter/ev-emitter", "get-size/get-size", "fizzy-ui-utils/utils", "./item"], function(t, e, r, o) {
                return n(i, t, e, r, o)
            }) : "object" == typeof e && e.exports ? e.exports = n(i, t("ev-emitter"), t("get-size"), t("fizzy-ui-utils"), t("./item")) : i.Outlayer = n(i, i.EvEmitter, i.getSize, i.fizzyUIUtils, i.Outlayer.Item)
        }(window, function(t, e, i, n, r) {
            "use strict";

            function o(t, e) {
                var i = n.getQueryElement(t);
                if (!i) return void(l && l.error("Bad element for " + this.constructor.namespace + ": " + (i || t)));
                this.element = i, u && (this.$element = u(this.element)), this.options = n.extend({}, this.constructor.defaults), this.option(e);
                var r = ++h;
                this.element.outlayerGUID = r, d[r] = this, this._create(), this._getOption("initLayout") && this.layout()
            }

            function a(t) {
                function e() {
                    t.apply(this, arguments)
                }
                return e.prototype = Object.create(t.prototype), e.prototype.constructor = e, e
            }

            function s(t) {
                if ("number" == typeof t) return t;
                var e = t.match(/(^\d*\.?\d*)(\w*)/),
                    i = e && e[1],
                    n = e && e[2];
                return i.length ? (i = parseFloat(i)) * (f[n] || 1) : 0
            }
            var l = t.console,
                u = t.jQuery,
                c = function() {},
                h = 0,
                d = {};
            o.namespace = "outlayer", o.Item = r, o.defaults = {
                containerStyle: {
                    position: "relative"
                },
                initLayout: !0,
                originLeft: !0,
                originTop: !0,
                resize: !0,
                resizeContainer: !0,
                transitionDuration: "0.4s",
                hiddenStyle: {
                    opacity: 0,
                    transform: "scale(0.001)"
                },
                visibleStyle: {
                    opacity: 1,
                    transform: "scale(1)"
                }
            };
            var p = o.prototype;
            n.extend(p, e.prototype), p.option = function(t) {
                n.extend(this.options, t)
            }, p._getOption = function(t) {
                var e = this.constructor.compatOptions[t];
                return e && void 0 !== this.options[e] ? this.options[e] : this.options[t]
            }, o.compatOptions = {
                initLayout: "isInitLayout",
                horizontal: "isHorizontal",
                layoutInstant: "isLayoutInstant",
                originLeft: "isOriginLeft",
                originTop: "isOriginTop",
                resize: "isResizeBound",
                resizeContainer: "isResizingContainer"
            }, p._create = function() {
                this.reloadItems(), this.stamps = [], this.stamp(this.options.stamp), n.extend(this.element.style, this.options.containerStyle), this._getOption("resize") && this.bindResize()
            }, p.reloadItems = function() {
                this.items = this._itemize(this.element.children)
            }, p._itemize = function(t) {
                for (var e = this._filterFindItemElements(t), i = this.constructor.Item, n = [], r = 0; r < e.length; r++) {
                    var o = e[r],
                        a = new i(o, this);
                    n.push(a)
                }
                return n
            }, p._filterFindItemElements = function(t) {
                return n.filterFindElements(t, this.options.itemSelector)
            }, p.getItemElements = function() {
                return this.items.map(function(t) {
                    return t.element
                })
            }, p.layout = function() {
                this._resetLayout(), this._manageStamps();
                var t = this._getOption("layoutInstant"),
                    e = void 0 !== t ? t : !this._isLayoutInited;
                this.layoutItems(this.items, e), this._isLayoutInited = !0
            }, p._init = p.layout, p._resetLayout = function() {
                this.getSize()
            }, p.getSize = function() {
                this.size = i(this.element)
            }, p._getMeasurement = function(t, e) {
                var n, r = this.options[t];
                r ? ("string" == typeof r ? n = this.element.querySelector(r) : r instanceof HTMLElement && (n = r), this[t] = n ? i(n)[e] : r) : this[t] = 0
            }, p.layoutItems = function(t, e) {
                t = this._getItemsForLayout(t), this._layoutItems(t, e), this._postLayout()
            }, p._getItemsForLayout = function(t) {
                return t.filter(function(t) {
                    return !t.isIgnored
                })
            }, p._layoutItems = function(t, e) {
                if (this._emitCompleteOnItems("layout", t), t && t.length) {
                    var i = [];
                    t.forEach(function(t) {
                        var n = this._getItemLayoutPosition(t);
                        n.item = t, n.isInstant = e || t.isLayoutInstant, i.push(n)
                    }, this), this._processLayoutQueue(i)
                }
            }, p._getItemLayoutPosition = function() {
                return {
                    x: 0,
                    y: 0
                }
            }, p._processLayoutQueue = function(t) {
                this.updateStagger(), t.forEach(function(t, e) {
                    this._positionItem(t.item, t.x, t.y, t.isInstant, e)
                }, this)
            }, p.updateStagger = function() {
                var t = this.options.stagger;
                return null === t || void 0 === t ? void(this.stagger = 0) : (this.stagger = s(t), this.stagger)
            }, p._positionItem = function(t, e, i, n, r) {
                n ? t.goTo(e, i) : (t.stagger(r * this.stagger), t.moveTo(e, i))
            }, p._postLayout = function() {
                this.resizeContainer()
            }, p.resizeContainer = function() {
                if (this._getOption("resizeContainer")) {
                    var t = this._getContainerSize();
                    t && (this._setContainerMeasure(t.width, !0), this._setContainerMeasure(t.height, !1))
                }
            }, p._getContainerSize = c, p._setContainerMeasure = function(t, e) {
                if (void 0 !== t) {
                    var i = this.size;
                    i.isBorderBox && (t += e ? i.paddingLeft + i.paddingRight + i.borderLeftWidth + i.borderRightWidth : i.paddingBottom + i.paddingTop + i.borderTopWidth + i.borderBottomWidth), t = Math.max(t, 0), this.element.style[e ? "width" : "height"] = t + "px"
                }
            }, p._emitCompleteOnItems = function(t, e) {
                function i() {
                    r.dispatchEvent(t + "Complete", null, [e])
                }

                function n() {
                    ++a == o && i()
                }
                var r = this,
                    o = e.length;
                if (!e || !o) return void i();
                var a = 0;
                e.forEach(function(e) {
                    e.once(t, n)
                })
            }, p.dispatchEvent = function(t, e, i) {
                var n = e ? [e].concat(i) : i;
                if (this.emitEvent(t, n), u)
                    if (this.$element = this.$element || u(this.element), e) {
                        var r = u.Event(e);
                        r.type = t, this.$element.trigger(r, i)
                    } else this.$element.trigger(t, i)
            }, p.ignore = function(t) {
                var e = this.getItem(t);
                e && (e.isIgnored = !0)
            }, p.unignore = function(t) {
                var e = this.getItem(t);
                e && delete e.isIgnored
            }, p.stamp = function(t) {
                (t = this._find(t)) && (this.stamps = this.stamps.concat(t), t.forEach(this.ignore, this))
            }, p.unstamp = function(t) {
                (t = this._find(t)) && t.forEach(function(t) {
                    n.removeFrom(this.stamps, t), this.unignore(t)
                }, this)
            }, p._find = function(t) {
                if (t) return "string" == typeof t && (t = this.element.querySelectorAll(t)), t = n.makeArray(t)
            }, p._manageStamps = function() {
                this.stamps && this.stamps.length && (this._getBoundingRect(), this.stamps.forEach(this._manageStamp, this))
            }, p._getBoundingRect = function() {
                var t = this.element.getBoundingClientRect(),
                    e = this.size;
                this._boundingRect = {
                    left: t.left + e.paddingLeft + e.borderLeftWidth,
                    top: t.top + e.paddingTop + e.borderTopWidth,
                    right: t.right - (e.paddingRight + e.borderRightWidth),
                    bottom: t.bottom - (e.paddingBottom + e.borderBottomWidth)
                }
            }, p._manageStamp = c, p._getElementOffset = function(t) {
                var e = t.getBoundingClientRect(),
                    n = this._boundingRect,
                    r = i(t);
                return {
                    left: e.left - n.left - r.marginLeft,
                    top: e.top - n.top - r.marginTop,
                    right: n.right - e.right - r.marginRight,
                    bottom: n.bottom - e.bottom - r.marginBottom
                }
            }, p.handleEvent = n.handleEvent, p.bindResize = function() {
                t.addEventListener("resize", this), this.isResizeBound = !0
            }, p.unbindResize = function() {
                t.removeEventListener("resize", this), this.isResizeBound = !1
            }, p.onresize = function() {
                this.resize()
            }, n.debounceMethod(o, "onresize", 100), p.resize = function() {
                this.isResizeBound && this.needsResizeLayout() && this.layout()
            }, p.needsResizeLayout = function() {
                var t = i(this.element);
                return this.size && t && t.innerWidth !== this.size.innerWidth
            }, p.addItems = function(t) {
                var e = this._itemize(t);
                return e.length && (this.items = this.items.concat(e)), e
            }, p.appended = function(t) {
                var e = this.addItems(t);
                e.length && (this.layoutItems(e, !0), this.reveal(e))
            }, p.prepended = function(t) {
                var e = this._itemize(t);
                if (e.length) {
                    var i = this.items.slice(0);
                    this.items = e.concat(i), this._resetLayout(), this._manageStamps(), this.layoutItems(e, !0), this.reveal(e), this.layoutItems(i)
                }
            }, p.reveal = function(t) {
                if (this._emitCompleteOnItems("reveal", t), t && t.length) {
                    var e = this.updateStagger();
                    t.forEach(function(t, i) {
                        t.stagger(i * e), t.reveal()
                    })
                }
            }, p.hide = function(t) {
                if (this._emitCompleteOnItems("hide", t), t && t.length) {
                    var e = this.updateStagger();
                    t.forEach(function(t, i) {
                        t.stagger(i * e), t.hide()
                    })
                }
            }, p.revealItemElements = function(t) {
                var e = this.getItems(t);
                this.reveal(e)
            }, p.hideItemElements = function(t) {
                var e = this.getItems(t);
                this.hide(e)
            }, p.getItem = function(t) {
                for (var e = 0; e < this.items.length; e++) {
                    var i = this.items[e];
                    if (i.element == t) return i
                }
            }, p.getItems = function(t) {
                t = n.makeArray(t);
                var e = [];
                return t.forEach(function(t) {
                    var i = this.getItem(t);
                    i && e.push(i)
                }, this), e
            }, p.remove = function(t) {
                var e = this.getItems(t);
                this._emitCompleteOnItems("remove", e), e && e.length && e.forEach(function(t) {
                    t.remove(), n.removeFrom(this.items, t)
                }, this)
            }, p.destroy = function() {
                var t = this.element.style;
                t.height = "", t.position = "", t.width = "", this.items.forEach(function(t) {
                    t.destroy()
                }), this.unbindResize(), delete d[this.element.outlayerGUID], delete this.element.outlayerGUID, u && u.removeData(this.element, this.constructor.namespace)
            }, o.data = function(t) {
                t = n.getQueryElement(t);
                var e = t && t.outlayerGUID;
                return e && d[e]
            }, o.create = function(t, e) {
                var i = a(o);
                return i.defaults = n.extend({}, o.defaults), n.extend(i.defaults, e), i.compatOptions = n.extend({}, o.compatOptions), i.namespace = t, i.data = o.data, i.Item = a(r), n.htmlInit(i, t), u && u.bridget && u.bridget(t, i), i
            };
            var f = {
                ms: 1,
                s: 1e3
            };
            return o.Item = r, o
        })
    }, {
        "./item": 95,
        "ev-emitter": 72,
        "fizzy-ui-utils": 75,
        "get-size": 76
    }],
    97: [function(t, e, i) {
        (function() {
            "use strict";
            var t = {},
                i = function(t) {
                    var e;
                    try {
                        e = JSON.parse(t.responseText)
                    } catch (i) {
                        e = t.responseText
                    }
                    return {
                        data: e,
                        request: t
                    }
                },
                n = function(t, e, n, r) {
                    var o, a = {
                            fileForm: r.fileForm || !1,
                            promise: r.promise || !1,
                            headers: r.headers || {},
                            success: r.success || function() {},
                            error: r.error || function() {},
                            loadstart: r.loadstart || function() {},
                            progress: r.progress || function() {},
                            load: r.load || function() {}
                        },
                        s = "string" == typeof n,
                        l = !1;
                    if (s) try {
                        l = !!JSON.parse(n)
                    } catch (t) {
                        l = !1
                    }
                    if (a.fileForm && s) {
                        var u = document.createElement("iframe");
                        o = {
                            readyState: !1,
                            status: !1,
                            onload: function() {},
                            onerror: function() {},
                            send: function() {
                                u.style.display = "none", u.name = u.id = "iframe" + Math.ceil(1e5 * Math.random()).toString(), document.body.appendChild(u), u.addEventListener("load", function() {
                                    (this.responseText = u.contentDocument.body.innerHTML).toString().match(/^20\d\b/) ? (this.readyState = 4, this.status = 200, a.success(), this.onload()) : (a.error(), this.onerror()), document.body.removeChild(u), a.fileForm.action = a.fileForm.action.slice(a.fileForm.action.search(/\?ie9/), 4)
                                }.bind(this)), a.fileForm.action.search(/\?ie9/) < 0 && (a.fileForm.action = a.fileForm.action ? a.fileForm.action + "?ie9" : "?ie9"), a.fileForm.target = u.id, a.fileForm.submit(), a.loadstart()
                            }
                        }
                    } else {
                        o = new(window.XMLHttpRequest || ActiveXObject)("MSXML2.XMLHTTP.3.0"), o.open(t, e, !0), o.setRequestHeader("X-Requested-With", "XMLHttpRequest"), s && (l ? o.setRequestHeader("Content-type", "application/json; charset=utf-8") : o.setRequestHeader("Content-type", "application/x-www-form-urlencoded; charset=utf-8")), o.upload && (o.upload.addEventListener("loadstart", a.loadstart, !1), o.upload.addEventListener("progress", a.progress, !1), o.upload.addEventListener("load", a.load, !1)), o.onreadystatechange = function() {
                            4 === o.readyState && (o.status >= 200 && o.status < 300 ? a.success(i(o)) : a.error(i(o)))
                        }
                    }
                    for (var c in a.headers) a.headers.hasOwnProperty(c) && o.setRequestHeader(c, a.headers[c]);
                    return window.Promise && a.promise ? new Promise(function(t, e) {
                        o.onload = function() {
                            o.status >= 200 && o.status < 300 ? t(o.response ? o.response : o.responseText) : e(Error(o.statusText))
                        }, o.onerror = function() {
                            e(Error("Network Error"))
                        }, o.send(n)
                    }) : (o.send(n), o)
                };
            t.get = function(t, e) {
                return n("GET", t, void 0, e || {})
            }, t.put = function(t, e, i) {
                return n("PUT", t, e, i || {})
            }, t.patch = function(t, e, i) {
                return n("PATCH", t, e, i || {})
            }, t.post = function(t, e, i) {
                return n("POST", t, e, i || {})
            }, t.del = t.delete = function(t, e) {
                return n("DELETE", t, void 0, e || {})
            }, "function" == typeof define && define.amd ? define(function() {
                return t
            }) : void 0 !== e && e.exports ? e.exports = t : void 0 !== this && (this.please = t)
        }).call(this)
    }, {}],
    98: [function(t, e, i) {
        function n(t) {
            if (t = t.replace(/-([a-z])/g, function(t, e) {
                    return e.toUpperCase()
                }), void 0 !== a[t]) return t;
            for (var e = t.charAt(0).toUpperCase() + t.slice(1), i = s.length; i--;) {
                var n = s[i] + e;
                if (void 0 !== a[n]) return n
            }
            return t
        }

        function r(t) {
            return t in u ? u[t] : u[t] = n(t)
        }

        function o(t) {
            return t = n(t), l.test(t) && (t = "-" + t.replace(l, "-$1"), l.lastIndex = 0), t.toLowerCase()
        }
        var a = "undefined" != typeof document ? document.createElement("p").style : {},
            s = ["O", "ms", "Moz", "Webkit"],
            l = /([A-Z])/g,
            u = {};
        e.exports = r, e.exports.dash = o
    }, {}],
    99: [function(t, e, i) {
        function n(t, e) {
            var i = t.map(function(t) {
                return t.then(function(t) {
                    return {
                        value: t,
                        status: !0
                    }
                }, function(t) {
                    return {
                        value: t,
                        status: !1
                    }
                }).then(function(t) {
                    return "function" == typeof e && e(t), t
                })
            });
            return Promise.all(i)
        }
        e.exports = n
    }, {}],
    100: [function(t, e, i) {
        "use strict";
        var n = t("./lib/camelCase"),
            r = t("./lib/extractSuffix");
        e.exports = function(t) {
            var e = {},
                i = t || {},
                o = i.el || document.body,
                a = i.prefix || "js-",
                s = "undefined" != typeof jQuery;
            if (!o) return console.warn("queryDom warning: the container specified in empty");
            var l;
            l = s ? jQuery(o).find('*[class*="' + a + '"]') : o.querySelectorAll('*[class*="' + a + '"]');
            for (var u = 0; u < l.length; u++) {
                var c = l[u],
                    h = c.className;
                "string" != typeof h && (h = c.getAttribute("class"));
                var d = r(h, a);
                if (d)
                    for (var p = 0; p < d.length; p++) {
                        var f = d[p],
                            m = n(f);
                        if (m) {
                            var g = e[m];
                            g && !g._isAllSelected && (e[m] = s ? jQuery("." + a + f) : o.querySelectorAll("." + a + f), e[m]._isAllSelected = !0), s && (c = jQuery(c)), g || (e[m] = c)
                        }
                    } else console.warn("queryDom warning: one of your prefix is empty")
            }
            return e
        }
    }, {
        "./lib/camelCase": 101,
        "./lib/extractSuffix": 102
    }],
    101: [function(t, e, i) {
        "use strict";
        e.exports = function(t) {
            return t.toLowerCase().replace(/-(.)/g, function(t, e) {
                return e.toUpperCase()
            })
        }
    }, {}],
    102: [function(t, e, i) {
        "use strict";
        e.exports = function(t, e) {
            for (var i = 1, n = []; i;) {
                var r = t.split(e)[i];
                r ? (n.push(r.split(" ")[0]), ++i) : i = 0
            }
            return n
        }
    }, {}],
    103: [function(t, e, i) {
        (function(n) {
            ! function(t) {
                if ("object" == typeof i) e.exports = t();
                else if ("function" == typeof define && define.amd) define(t);
                else {
                    var r;
                    "undefined" != typeof window ? r = window : void 0 !== n ? r = n : "undefined" != typeof self && (r = self), r.routes = t()
                }
            }(function() {
                return function e(i, n, r) {
                    function o(s, l) {
                        if (!n[s]) {
                            if (!i[s]) {
                                var u = "function" == typeof t && t;
                                if (!l && u) return u(s, !0);
                                if (a) return a(s, !0);
                                throw new Error("Cannot find module '" + s + "'")
                            }
                            var c = n[s] = {
                                exports: {}
                            };
                            i[s][0].call(c.exports, function(t) {
                                var e = i[s][1][t];
                                return o(e ? e : t)
                            }, c, c.exports, e, i, n, r)
                        }
                        return n[s].exports
                    }
                    for (var a = "function" == typeof t && t, s = 0; s < r.length; s++) o(r[s]);
                    return o
                }({
                    1: [function(t, e, i) {
                        var n = function(t) {
                                var e, i = [];
                                return t instanceof RegExp ? (e = t, t.toString()) : (e = r(t, i), t), {
                                    re: e,
                                    src: t.toString(),
                                    keys: i
                                }
                            },
                            r = function(t, e) {
                                return t = t.concat("/?").replace(/\/\(/g, "(?:/").replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?|\*/g, function(t, i, n, r, o, a) {
                                    return "*" === t ? (e.push(void 0), t) : (e.push(r), i = i || "", (a ? "" : i) + "(?:" + (a ? i : "") + (n || "") + (o || "([^/]+?)") + ")" + (a || ""))
                                }).replace(/([\/.])/g, "\\$1").replace(/\*/g, "(.*)"), new RegExp("^" + t + "$", "i")
                            },
                            o = function(t, e, i) {
                                for (var n, r = i || 0, o = t.length; r < o; ++r) {
                                    var a = t[r],
                                        s = a.re,
                                        l = a.keys,
                                        u = [],
                                        c = {};
                                    if (n = e.match(s)) {
                                        for (var h = 1, o = n.length; h < o; ++h) {
                                            var d = l[h - 1],
                                                p = "string" == typeof n[h] ? unescape(n[h]) : n[h];
                                            d ? c[d] = p : u.push(p)
                                        }
                                        return {
                                            params: c,
                                            splats: u,
                                            route: a.src,
                                            next: r + 1
                                        }
                                    }
                                }
                            },
                            a = function() {
                                return {
                                    routes: [],
                                    routeMap: {},
                                    addRoute: function(t, e) {
                                        if (!t) throw new Error(" route requires a path");
                                        if (!e) throw new Error(" route " + t.toString() + " requires a callback");
                                        var i = n(t);
                                        i.fn = e, this.routes.push(i), this.routeMap[t] = e
                                    },
                                    match: function(t, e) {
                                        var i = o(this.routes, t, e);
                                        return i && (i.fn = this.routeMap[i.route], i.next = this.match.bind(this, t, i.next)), i
                                    }
                                }
                            };
                        a.Route = n, a.pathToRegExp = r, a.match = o, a.Router = a, e.exports = a
                    }, {}]
                }, {}, [1])(1)
            })
        }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
    }, {}],
    104: [function(t, e, i) {
        "use strict";

        function n(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }

        function r(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var o = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i), n && t(e, n), e
                }
            }(),
            a = t("hammerjs"),
            s = n(a),
            l = t("hamsterjs"),
            u = n(l),
            c = t("sniffer"),
            h = n(c),
            d = t("dom-event"),
            p = function() {
                function t() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    r(this, t), e.callback || console.error("You need to provide a callback function in the options"), this.el = e.el || document.body, this.animating = !1, this.index = 0, this.length = e.length, this.options = {
                            direction: e.direction || "y",
                            loop: e.loop || !1,
                            delta: e.delta || 1,
                            callback: e.callback
                        }, this.hamster = null, this.hammer = null,
                        this.onScroll = this.onScroll.bind(this), this.onSwipe = this.onSwipe.bind(this), this.onKeyDown = this.onKeyDown.bind(this)
                }
                return o(t, [{
                    key: "init",
                    value: function() {
                        h.default.isDevice && (this.hammer = new s.default.Manager(this.el), this.hammer.add(new s.default.Swipe), this.hammer.on("swipe", this.onSwipe)), h.default.isDesktop && (this.hamster = new u.default(this.el), this.hamster.wheel(this.onScroll), (0, d.on)(document, "keydown", this.onKeyDown))
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        h.default.isDevice && (this.hammer.off("swipe", this.onSwipe), this.hammer.destroy(), this.hammer = null), h.default.isDesktop && (this.hamster.unwheel(this.onScroll), this.hamster = null, (0, d.off)(document, "keydown", this.onKeyDown))
                    }
                }, {
                    key: "getNext",
                    value: function(t) {
                        var e = t >= this.options.delta ? this.index + 1 : this.index - 1;
                        return this.checkLoop(e)
                    }
                }, {
                    key: "checkLoop",
                    value: function(t) {
                        return t < 0 ? this.options.loop ? this.length : 0 : t > this.length ? this.options.loop ? 0 : this.length : t
                    }
                }, {
                    key: "getEvent",
                    value: function(t) {
                        var e = "y" == this.options.direction ? "up" : "left",
                            i = "y" == this.options.direction ? "down" : "right",
                            n = t > this.index ? i : e;
                        return this.options.loop && (0 == this.index && t == this.length && (n = e), this.index == this.length && 0 == t && (n = i)), {
                            current: t,
                            previous: this.index,
                            direction: n
                        }
                    }
                }, {
                    key: "onSwipe",
                    value: function(t) {
                        var e = "y" == this.options.direction ? t.deltaY : t.deltaX;
                        this.animating || e > -this.options.delta && e < this.options.delta || (this.animating = !0, this.callback(e - 2 * e))
                    }
                }, {
                    key: "onScroll",
                    value: function(t, e, i, n) {
                        var r = "y" == this.options.direction ? n - 2 * n : i;
                        this.animating || r > -this.options.delta && r < this.options.delta || (this.animating = !0, this.callback(r))
                    }
                }, {
                    key: "onKeyDown",
                    value: function(t) {
                        var e = "y" == this.options.direction ? "38" : "37",
                            i = "y" == this.options.direction ? "40" : "39";
                        this.animating || t.keyCode != e && t.keyCode != i || (this.animating = !0, this.callback(t.keyCode == i ? this.options.delta + 1 : -(this.options.delta + 1)))
                    }
                }, {
                    key: "goTo",
                    value: function(t) {
                        var e = this.checkLoop(t),
                            i = this.getEvent(e);
                        this.index = e, this.options.callback(i)
                    }
                }, {
                    key: "callback",
                    value: function(t) {
                        var e = this.getNext(t),
                            i = this.getEvent(e);
                        this.index = e, this.options.callback(i)
                    }
                }]), t
            }();
        i.default = p
    }, {
        "dom-event": 105,
        hammerjs: 78,
        hamsterjs: 79,
        sniffer: 108
    }],
    105: [function(t, e, i) {
        arguments[4][69][0].apply(i, arguments)
    }, {
        dup: 69
    }],
    // 106: [function(t, e, i) {
    //     "use strict";
    //
    //     function n(t) {
    //         return t && t.__esModule ? t : {
    //             default: t
    //         }
    //     }
    //
    //     function r(t, e) {
    //         if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
    //     }
    //     Object.defineProperty(i, "__esModule", {
    //         value: !0
    //     });
    //     var o = function() {
    //             function t(t, e) {
    //                 for (var i = 0; i < e.length; i++) {
    //                     var n = e[i];
    //                     n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
    //                 }
    //             }
    //             return function(e, i, n) {
    //                 return i && t(e.prototype, i), n && t(e, n), e
    //             }
    //         }(),
    //         a = t("dom-classes"),
    //         s = n(a),
    //         l = t("dom-create-element"),
    //         u = n(l),
    //         c = t("prefix"),
    //         h = n(c),
    //         d = t("virtual-scroll"),
    //         p = n(d),
    //         f = t("dom-events"),
    //         m = n(f),
    //         g = function() {
    //             function t() {
    //                 var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
    //                 r(this, t), this.createBound(), this.options = e, this.prefix = (0, h.default)("transform"), this.rAF = void 0, this.extends = "Smooth" != this.constructor.name, this.vars = {
    //                     direction: this.options.direction || "vertical",
    //                     native: this.options.native || !1,
    //                     ease: this.options.ease || .075,
    //                     preload: this.options.preload || !1,
    //                     current: 0,
    //                     target: 0,
    //                     height: window.innerHeight,
    //                     width: window.innerWidth,
    //                     bounding: 0,
    //                     timer: null,
    //                     ticking: !1
    //                 }, this.vs = this.vars.native ? null : new p.default({
    //                     limitInertia: this.options.vs && this.options.vs.limitInertia || !1,
    //                     mouseMultiplier: this.options.vs && this.options.vs.mouseMultiplier || 1,
    //                     touchMultiplier: this.options.vs && this.options.vs.touchMultiplier || 1.5,
    //                     firefoxMultiplier: this.options.vs && this.options.vs.firefoxMultiplier || 30,
    //                     preventTouch: this.options.vs && this.options.vs.preventTouch || !0
    //                 }), this.dom = {
    //                     listener: this.options.listener || document.body,
    //                     section: this.options.section || document.querySelector(".vs-section") || null,
    //                     scrollbar: this.vars.native || this.options.noscrollbar ? null : {
    //                         state: {
    //                             clicked: !1,
    //                             x: 0
    //                         },
    //                         el: (0, u.default)({
    //                             selector: "div",
    //                             styles: "vs-scrollbar vs-" + this.vars.direction + " vs-scrollbar-" + this.constructor.name.toLowerCase()
    //                         }),
    //                         drag: {
    //                             el: (0, u.default)({
    //                                 selector: "div",
    //                                 styles: "vs-scrolldrag"
    //                             }),
    //                             delta: 0,
    //                             height: 50
    //                         }
    //                     }
    //                 }
    //             }
    //             return o(t, [{
    //                 key: "createBound",
    //                 value: function() {
    //                     var t = this;
    //                     ["run", "calc", "debounce", "resize", "mouseUp", "mouseDown", "mouseMove", "calcScroll", "scrollTo"].forEach(function(e) {
    //                         return t[e] = t[e].bind(t)
    //                     })
    //                 }
    //             }, {
    //                 key: "init",
    //                 value: function() {
    //                     this.addClasses(), this.vars.preload && this.preloadImages(), this.vars.native ? this.addFakeScrollHeight() : !this.options.noscrollbar && this.addFakeScrollBar(), this.addEvents(), this.resize()
    //                 }
    //             }, {
    //                 key: "addClasses",
    //                 value: function() {
    //                     var t = this.vars.native ? "native" : "virtual",
    //                         e = "vertical" === this.vars.direction ? "y" : "x";
    //                     s.default.add(this.dom.listener, "is-" + t + "-scroll"), s.default.add(this.dom.listener, e + "-scroll")
    //                 }
    //             }, {
    //                 key: "preloadImages",
    //                 value: function() {
    //                     var t = this,
    //                         e = Array.prototype.slice.call(this.dom.listener.querySelectorAll("img"), 0);
    //                     e.forEach(function(i) {
    //                         var n = document.createElement("img");
    //                         m.default.once(n, "load", function() {
    //                             e.splice(e.indexOf(i), 1), 0 === e.length && t.resize()
    //                         }), n.src = i.getAttribute("src")
    //                     })
    //                 }
    //             }, {
    //                 key: "calc",
    //                 value: function(t) {
    //                     var e = "horizontal" == this.vars.direction ? t.deltaX : t.deltaY;
    //                     this.vars.target += e * -1, this.clampTarget()
    //                 }
    //             }, {
    //                 key: "debounce",
    //                 value: function() {
    //                     var t = this,
    //                         e = this.dom.listener === document.body;
    //                     this.vars.target = "vertical" === this.vars.direction ? e ? window.scrollY || window.pageYOffset : this.dom.listener.scrollTop : e ? window.scrollX || window.pageXOffset : this.dom.listener.scrollLeft, clearTimeout(this.vars.timer), this.vars.ticking || (this.vars.ticking = !0, s.default.add(this.dom.listener, "is-scrolling")), this.vars.timer = setTimeout(function() {
    //                         t.vars.ticking = !1, s.default.remove(t.dom.listener, "is-scrolling")
    //                     }, 200)
    //                 }
    //             }, {
    //                 key: "run",
    //                 value: function() {
    //                     if (this.vars.current += (this.vars.target - this.vars.current) * this.vars.ease, this.vars.current < .1 && (this.vars.current = 0), this.rAF = requestAnimationFrame(this.run), this.extends || (this.dom.section.style[this.prefix] = this.getTransform(-this.vars.current.toFixed(2))), !this.vars.native && !this.options.noscrollbar) {
    //                         var t = this.dom.scrollbar.drag.height,
    //                             e = "vertical" === this.vars.direction ? this.vars.height : this.vars.width,
    //                             i = Math.abs(this.vars.current) / (this.vars.bounding / (e - t)) + t / .5 - t,
    //                             n = Math.max(0, Math.min(i - t, i + t));
    //                         this.dom.scrollbar.drag.el.style[this.prefix] = this.getTransform(n.toFixed(2))
    //                     }
    //                 }
    //             }, {
    //                 key: "getTransform",
    //                 value: function(t) {
    //                     return "vertical" === this.vars.direction ? "translate3d(0," + t + "px,0)" : "translate3d(" + t + "px,0,0)"
    //                 }
    //             }, {
    //                 key: "on",
    //                 value: function() {
    //                     var t = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0],
    //                         e = this.dom.listener === document.body ? window : this.dom.listener;
    //                     this.vars.native ? m.default.on(e, "scroll", this.debounce) : this.vs && this.vs.on(this.calc), t && this.requestAnimationFrame()
    //                 }
    //             }, {
    //                 key: "off",
    //                 value: function() {
    //                     var t = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0],
    //                         e = this.dom.listener === document.body ? window : this.dom.listener;
    //                     this.vars.native ? m.default.off(e, "scroll", this.debounce) : this.vs && this.vs.off(this.calc), t && this.cancelAnimationFrame()
    //                 }
    //             }, {
    //                 key: "requestAnimationFrame",
    //                 value: function(t) {
    //                     function e() {
    //                         return t.apply(this, arguments)
    //                     }
    //                     return e.toString = function() {
    //                         return t.toString()
    //                     }, e
    //                 }(function() {
    //                     this.rAF = requestAnimationFrame(this.run)
    //                 })
    //             }, {
    //                 key: "cancelAnimationFrame",
    //                 value: function(t) {
    //                     function e() {
    //                         return t.apply(this, arguments)
    //                     }
    //                     return e.toString = function() {
    //                         return t.toString()
    //                     }, e
    //                 }(function() {
    //                     cancelAnimationFrame(this.rAF)
    //                 })
    //             }, {
    //                 key: "addEvents",
    //                 value: function() {
    //                     this.on(), m.default.on(window, "resize", this.resize)
    //                 }
    //             }, {
    //                 key: "removeEvents",
    //                 value: function() {
    //                     this.off(), m.default.off(window, "resize", this.resize)
    //                 }
    //             }, {
    //                 key: "addFakeScrollBar",
    //                 value: function() {
    //                     this.dom.listener.appendChild(this.dom.scrollbar.el), this.dom.scrollbar.el.appendChild(this.dom.scrollbar.drag.el), m.default.on(this.dom.scrollbar.el, "click", this.calcScroll), m.default.on(this.dom.scrollbar.el, "mousedown", this.mouseDown), m.default.on(document, "mousemove", this.mouseMove), m.default.on(document, "mouseup", this.mouseUp)
    //                 }
    //             }, {
    //                 key: "removeFakeScrollBar",
    //                 value: function() {
    //                     m.default.off(this.dom.scrollbar.el, "click", this.calcScroll), m.default.off(this.dom.scrollbar.el, "mousedown", this.mouseDown), m.default.off(document, "mousemove", this.mouseMove), m.default.off(document, "mouseup", this.mouseUp), this.dom.listener.removeChild(this.dom.scrollbar.el)
    //                 }
    //             }, {
    //                 key: "mouseDown",
    //                 value: function(t) {
    //                     t.preventDefault(), 1 == t.which && (this.dom.scrollbar.state.clicked = !0)
    //                 }
    //             }, {
    //                 key: "mouseUp",
    //                 value: function(t) {
    //                     this.dom.scrollbar.state.clicked = !1, s.default.remove(this.dom.listener, "is-dragging")
    //                 }
    //             }, {
    //                 key: "mouseMove",
    //                 value: function(t) {
    //                     this.dom.scrollbar.state.clicked && this.calcScroll(t)
    //                 }
    //             }, {
    //                 key: "addFakeScrollHeight",
    //                 value: function() {
    //                     this.dom.scroll = (0, u.default)({
    //                         selector: "div",
    //                         styles: "vs-scroll-view"
    //                     }), this.dom.listener.appendChild(this.dom.scroll)
    //                 }
    //             }, {
    //                 key: "removeFakeScrollHeight",
    //                 value: function() {
    //                     this.dom.listener.removeChild(this.dom.scroll)
    //                 }
    //             }, {
    //                 key: "calcScroll",
    //                 value: function(t) {
    //                     var e = "vertical" == this.vars.direction ? t.clientY : t.clientX,
    //                         i = "vertical" == this.vars.direction ? this.vars.height : this.vars.width,
    //                         n = e * (this.vars.bounding / i);
    //                     s.default.add(this.dom.listener, "is-dragging"), this.vars.target = n, this.clampTarget(), this.dom.scrollbar && (this.dom.scrollbar.drag.delta = this.vars.target)
    //                 }
    //             }, {
    //                 key: "scrollTo",
    //                 value: function(t) {
    //                     this.vars.native ? "vertical" == this.vars.direction ? window.scrollTo(0, t) : window.scrollTo(t, 0) : (this.vars.target = t, this.clampTarget())
    //                 }
    //             }, {
    //                 key: "resize",
    //                 value: function() {
    //                     var t = "vertical" === this.vars.direction ? "height" : "width";
    //                     if (this.vars.height = window.innerHeight, this.vars.width = window.innerWidth, !this.extends) {
    //                         var e = this.dom.section.getBoundingClientRect();
    //                         this.vars.bounding = "vertical" === this.vars.direction ? e.height - (this.vars.native ? 0 : this.vars.height) : e.right - (this.vars.native ? 0 : this.vars.width)
    //                     }
    //                     this.vars.native || this.options.noscrollbar ? this.vars.native ? this.dom.scroll.style[t] = this.vars.bounding + "px" : this.clampTarget() : (this.dom.scrollbar.drag.height = this.vars.height * (this.vars.height / (this.vars.bounding + this.vars.height)), this.dom.scrollbar.drag.el.style[t] = this.dom.scrollbar.drag.height + "px")
    //                 }
    //             }, {
    //                 key: "clampTarget",
    //                 value: function() {
    //                     this.vars.target = Math.round(Math.max(0, Math.min(this.vars.target, this.vars.bounding)))
    //                 }
    //             }, {
    //                 key: "destroy",
    //                 value: function() {
    //                     this.vars.native ? (s.default.remove(this.dom.listener, "is-native-scroll"), this.removeFakeScrollHeight()) : (s.default.remove(this.dom.listener, "is-virtual-scroll"), !this.options.noscrollbar && this.removeFakeScrollBar()), "vertical" === this.vars.direction ? s.default.remove(this.dom.listener, "y-scroll") : s.default.remove(this.dom.listener, "x-scroll"), this.vs && (this.vs.destroy(), this.vs = null), this.removeEvents()
    //                 }
    //             }]), t
    //         }();
    //     i.default = g, window.Smooth = g
    // }, {
    //     "dom-classes": 107,
    //     "dom-create-element": 68,
    //     "dom-events": 70,
    //     prefix: 98,
    //     "virtual-scroll": 117
    // }],
    107: [function(t, e, i) {
        arguments[4][67][0].apply(i, arguments)
    }, {
        dup: 67,
        indexof: 83
    }],
    108: [function(t, e, i) {
        "use strict";

        function n() {
            var t = navigator.userAgent.toLowerCase(),
                e = navigator.appVersion.toLowerCase(),
                i = /android.*mobile/.test(t),
                n = !i && /android/i.test(t),
                r = i || n,
                o = /ip(hone|od|ad)/i.test(t) && !window.MSStream,
                a = /ipad/i.test(t) && o,
                s = n || a,
                l = i || o && !a,
                u = l || s,
                c = t.indexOf("firefox") > -1,
                h = !!t.match(/version\/[\d\.]+.*safari/),
                d = t.indexOf("opr") > -1,
                p = !window.ActiveXObject && "ActiveXObject" in window,
                f = e.indexOf("msie") > -1 || p || e.indexOf("edge") > -1,
                m = t.indexOf("edge") > -1,
                g = null !== window.chrome && void 0 !== window.chrome && "google inc." == navigator.vendor.toLowerCase() && !d && !m;
            this.infos = {
                isDroid: r,
                isDroidPhone: i,
                isDroidTablet: n,
                isIos: o,
                isIpad: a,
                isDevice: u,
                isEdge: m,
                isIE: f,
                isIE11: p,
                isPhone: l,
                isTablet: s,
                isFirefox: c,
                isSafari: h,
                isOpera: d,
                isChrome: g,
                isDesktop: !l && !s
            }, Object.keys(this.infos).forEach(function(t) {
                Object.defineProperty(this, t, {
                    get: function() {
                        return this.infos[t]
                    }
                })
            }, this), Object.freeze(this)
        }

        function r(t, e) {
            t.addClass ? t.addClass(e) : t.classList ? t.classList.add(e) : t.className += " " + e
        }

        function o(t) {
            return JSON.parse(JSON.stringify(t))
        }
        var a = t("dashify");
        e.exports = new n, n.prototype.addClasses = function(t) {
            Object.keys(this.infos).forEach(function(e) {
                this.infos[e] && r(t, a(e))
            }, this)
        }, n.prototype.getInfos = function() {
            return o(this.infos)
        }
    }, {
        dashify: 64
    }],
    109: [function(t, e, i) {
        ! function(t, n) {
            "use strict";

            function r(t) {
                t = t.split(" ");
                for (var e = {}, i = t.length, n = []; i--;) e.hasOwnProperty(t[i]) || (e[t[i]] = 1, n.unshift(t[i]));
                return n.join(" ")
            }
            var o = "file:" === t.location.protocol,
                a = n.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure", "1.1"),
                s = Array.prototype.forEach || function(t, e) {
                    if (void 0 === this || null === this || "function" != typeof t) throw new TypeError;
                    var i, n = this.length >>> 0;
                    for (i = 0; i < n; ++i) i in this && t.call(e, this[i], i, this)
                },
                l = {},
                u = 0,
                c = [],
                h = [],
                d = {},
                p = function(t) {
                    return t.cloneNode(!0)
                },
                f = function(t, e) {
                    h[t] = h[t] || [], h[t].push(e)
                },
                m = function(t) {
                    for (var e = 0, i = h[t].length; e < i; e++) ! function(e) {
                        setTimeout(function() {
                            h[t][e](p(l[t]))
                        }, 0)
                    }(e)
                },
                g = function(e, i) {
                    if (void 0 !== l[e]) l[e] instanceof SVGSVGElement ? i(p(l[e])) : f(e, i);
                    else {
                        if (!t.XMLHttpRequest) return i("Browser does not support XMLHttpRequest"), !1;
                        l[e] = {}, f(e, i);
                        var n = new XMLHttpRequest;
                        n.onreadystatechange = function() {
                            if (4 === n.readyState) {
                                if (404 === n.status || null === n.responseXML) return i("Unable to load SVG file: " + e), o && i("Note: SVG injection ajax calls do not work locally without adjusting security setting in your browser. Or consider using a local webserver."), i(), !1;
                                if (!(200 === n.status || o && 0 === n.status)) return i("There was a problem injecting the SVG: " + n.status + " " + n.statusText), !1;
                                if (n.responseXML instanceof Document) l[e] = n.responseXML.documentElement;
                                else if (DOMParser && DOMParser instanceof Function) {
                                    var t;
                                    try {
                                        var r = new DOMParser;
                                        t = r.parseFromString(n.responseText, "text/xml")
                                    } catch (e) {
                                        t = void 0
                                    }
                                    if (!t || t.getElementsByTagName("parsererror").length) return i("Unable to parse SVG file: " + e), !1;
                                    l[e] = t.documentElement
                                }
                                m(e)
                            }
                        }, n.open("GET", e), n.overrideMimeType && n.overrideMimeType("text/xml"), n.send()
                    }
                },
                v = function(e, i, n, o) {
                    var l = e.getAttribute("data-src") || e.getAttribute("src");
                    if (!/\.svg/i.test(l)) return void o("Attempted to inject a file with a non-svg extension: " + l);
                    if (!a) {
                        var h = e.getAttribute("data-fallback") || e.getAttribute("data-png");
                        return void(h ? (e.setAttribute("src", h), o(null)) : n ? (e.setAttribute("src", n + "/" + l.split("/").pop().replace(".svg", ".png")), o(null)) : o("This browser does not support SVG and no PNG fallback was defined."))
                    }
                    c.indexOf(e) === -1 && (c.push(e), e.setAttribute("src", ""), g(l, function(n) {
                        if (void 0 === n || "string" == typeof n) return o(n), !1;
                        var a = e.getAttribute("id");
                        a && n.setAttribute("id", a);
                        var h = e.getAttribute("title");
                        h && n.setAttribute("title", h);
                        var p = [].concat(n.getAttribute("class") || [], "injected-svg", e.getAttribute("class") || []).join(" ");
                        n.setAttribute("class", r(p));
                        var f = e.getAttribute("style");
                        f && n.setAttribute("style", f);
                        var m = [].filter.call(e.attributes, function(t) {
                            return /^data-\w[\w\-]*$/.test(t.name)
                        });
                        s.call(m, function(t) {
                            t.name && t.value && n.setAttribute(t.name, t.value)
                        });
                        var g, v, y, _, b, x = {
                            clipPath: ["clip-path"],
                            "color-profile": ["color-profile"],
                            cursor: ["cursor"],
                            filter: ["filter"],
                            linearGradient: ["fill", "stroke"],
                            marker: ["marker", "marker-start", "marker-mid", "marker-end"],
                            mask: ["mask"],
                            pattern: ["fill", "stroke"],
                            radialGradient: ["fill", "stroke"]
                        };
                        Object.keys(x).forEach(function(t) {
                            g = t, y = x[t], v = n.querySelectorAll("defs " + g + "[id]");
                            for (var e = 0, i = v.length; e < i; e++) {
                                _ = v[e].id, b = _ + "-" + u;
                                var r;
                                s.call(y, function(t) {
                                    r = n.querySelectorAll("[" + t + '*="' + _ + '"]');
                                    for (var e = 0, i = r.length; e < i; e++) r[e].setAttribute(t, "url(#" + b + ")")
                                }), v[e].id = b
                            }
                        }), n.removeAttribute("xmlns:a");
                        for (var w, T, S = n.querySelectorAll("script"), M = [], E = 0, C = S.length; E < C; E++)(T = S[E].getAttribute("type")) && "application/ecmascript" !== T && "application/javascript" !== T || (w = S[E].innerText || S[E].textContent, M.push(w), n.removeChild(S[E]));
                        if (M.length > 0 && ("always" === i || "once" === i && !d[l])) {
                            for (var A = 0, P = M.length; A < P; A++) new Function(M[A])(t);
                            d[l] = !0
                        }
                        var L = n.querySelectorAll("style");
                        s.call(L, function(t) {
                            t.textContent += ""
                        }), e.parentNode.replaceChild(n, e), delete c[c.indexOf(e)], e = null, u++, o(n)
                    }))
                },
                y = function(t, e, i) {
                    e = e || {};
                    var n = e.evalScripts || "always",
                        r = e.pngFallback || !1,
                        o = e.each;
                    if (void 0 !== t.length) {
                        var a = 0;
                        s.call(t, function(e) {
                            v(e, n, r, function(e) {
                                o && "function" == typeof o && o(e), i && t.length === ++a && i(a)
                            })
                        })
                    } else t ? v(t, n, r, function(e) {
                        o && "function" == typeof o && o(e), i && i(1), t = null
                    }) : i && i(0)
                };
            "object" == typeof e && "object" == typeof e.exports ? e.exports = i = y : "function" == typeof define && define.amd ? define(function() {
                return y
            }) : "object" == typeof t && (t.SVGInjector = y)
        }(window, document)
    }, {}],
    110: [function(t, e, i) {
        ! function() {
            "use strict";
            var t, e = function(n, r) {
                function o(t) {
                    return Math.floor(t)
                }

                function a() {
                    var t = x.params.autoplay,
                        e = x.slides.eq(x.activeIndex);
                    e.attr("data-swiper-autoplay") && (t = e.attr("data-swiper-autoplay") || x.params.autoplay), x.autoplayTimeoutId = setTimeout(function() {
                        x.params.loop ? (x.fixLoop(), x._slideNext(), x.emit("onAutoplay", x)) : x.isEnd ? r.autoplayStopOnLast ? x.stopAutoplay() : (x._slideTo(0), x.emit("onAutoplay", x)) : (x._slideNext(), x.emit("onAutoplay", x))
                    }, t)
                }

                function s(e, i) {
                    var n = t(e.target);
                    if (!n.is(i))
                        if ("string" == typeof i) n = n.parents(i);
                        else if (i.nodeType) {
                        var r;
                        return n.parents().each(function(t, e) {
                            e === i && (r = i)
                        }), r ? i : void 0
                    }
                    if (0 !== n.length) return n[0]
                }

                function l(t, e) {
                    e = e || {};
                    var i = window.MutationObserver || window.WebkitMutationObserver,
                        n = new i(function(t) {
                            t.forEach(function(t) {
                                x.onResize(!0), x.emit("onObserverUpdate", x, t)
                            })
                        });
                    n.observe(t, {
                        attributes: void 0 === e.attributes || e.attributes,
                        childList: void 0 === e.childList || e.childList,
                        characterData: void 0 === e.characterData || e.characterData
                    }), x.observers.push(n)
                }

                function u(t) {
                    t.originalEvent && (t = t.originalEvent);
                    var e = t.keyCode || t.charCode;
                    if (!x.params.allowSwipeToNext && (x.isHorizontal() && 39 === e || !x.isHorizontal() && 40 === e)) return !1;
                    if (!x.params.allowSwipeToPrev && (x.isHorizontal() && 37 === e || !x.isHorizontal() && 38 === e)) return !1;
                    if (!(t.shiftKey || t.altKey || t.ctrlKey || t.metaKey || document.activeElement && document.activeElement.nodeName && ("input" === document.activeElement.nodeName.toLowerCase() || "textarea" === document.activeElement.nodeName.toLowerCase()))) {
                        if (37 === e || 39 === e || 38 === e || 40 === e) {
                            var i = !1;
                            if (x.container.parents("." + x.params.slideClass).length > 0 && 0 === x.container.parents("." + x.params.slideActiveClass).length) return;
                            var n = {
                                    left: window.pageXOffset,
                                    top: window.pageYOffset
                                },
                                r = window.innerWidth,
                                o = window.innerHeight,
                                a = x.container.offset();
                            x.rtl && (a.left = a.left - x.container[0].scrollLeft);
                            for (var s = [
                                    [a.left, a.top],
                                    [a.left + x.width, a.top],
                                    [a.left, a.top + x.height],
                                    [a.left + x.width, a.top + x.height]
                                ], l = 0; l < s.length; l++) {
                                var u = s[l];
                                u[0] >= n.left && u[0] <= n.left + r && u[1] >= n.top && u[1] <= n.top + o && (i = !0)
                            }
                            if (!i) return
                        }
                        x.isHorizontal() ? (37 !== e && 39 !== e || (t.preventDefault ? t.preventDefault() : t.returnValue = !1), (39 === e && !x.rtl || 37 === e && x.rtl) && x.slideNext(), (37 === e && !x.rtl || 39 === e && x.rtl) && x.slidePrev()) : (38 !== e && 40 !== e || (t.preventDefault ? t.preventDefault() : t.returnValue = !1), 40 === e && x.slideNext(), 38 === e && x.slidePrev()), x.emit("onKeyPress", x, e)
                    }
                }

                function c(t) {
                    var e = 0,
                        i = 0,
                        n = 0,
                        r = 0;
                    return "detail" in t && (i = t.detail), "wheelDelta" in t && (i = -t.wheelDelta / 120), "wheelDeltaY" in t && (i = -t.wheelDeltaY / 120), "wheelDeltaX" in t && (e = -t.wheelDeltaX / 120), "axis" in t && t.axis === t.HORIZONTAL_AXIS && (e = i, i = 0), n = 10 * e, r = 10 * i, "deltaY" in t && (r = t.deltaY), "deltaX" in t && (n = t.deltaX), (n || r) && t.deltaMode && (1 === t.deltaMode ? (n *= 40, r *= 40) : (n *= 800, r *= 800)), n && !e && (e = n < 1 ? -1 : 1), r && !i && (i = r < 1 ? -1 : 1), {
                        spinX: e,
                        spinY: i,
                        pixelX: n,
                        pixelY: r
                    }
                }

                function h(t) {
                    t.originalEvent && (t = t.originalEvent);
                    var e = 0,
                        i = x.rtl ? -1 : 1,
                        n = c(t);
                    if (x.params.mousewheelForceToAxis)
                        if (x.isHorizontal()) {
                            if (!(Math.abs(n.pixelX) > Math.abs(n.pixelY))) return;
                            e = n.pixelX * i
                        } else {
                            if (!(Math.abs(n.pixelY) > Math.abs(n.pixelX))) return;
                            e = n.pixelY
                        } else e = Math.abs(n.pixelX) > Math.abs(n.pixelY) ? -n.pixelX * i : -n.pixelY;
                    if (0 !== e) {
                        if (x.params.mousewheelInvert && (e = -e), x.params.freeMode) {
                            var r = x.getWrapperTranslate() + e * x.params.mousewheelSensitivity,
                                o = x.isBeginning,
                                a = x.isEnd;
                            if (r >= x.minTranslate() && (r = x.minTranslate()), r <= x.maxTranslate() && (r = x.maxTranslate()), x.setWrapperTransition(0), x.setWrapperTranslate(r), x.updateProgress(), x.updateActiveIndex(), (!o && x.isBeginning || !a && x.isEnd) && x.updateClasses(), x.params.freeModeSticky ? (clearTimeout(x.mousewheel.timeout), x.mousewheel.timeout = setTimeout(function() {
                                    x.slideReset()
                                }, 300)) : x.params.lazyLoading && x.lazy && x.lazy.load(), x.emit("onScroll", x, t), x.params.autoplay && x.params.autoplayDisableOnInteraction && x.stopAutoplay(), 0 === r || r === x.maxTranslate()) return
                        } else {
                            if ((new window.Date).getTime() - x.mousewheel.lastScrollTime > 60)
                                if (e < 0)
                                    if (x.isEnd && !x.params.loop || x.animating) {
                                        if (x.params.mousewheelReleaseOnEdges) return !0
                                    } else x.slideNext(), x.emit("onScroll", x, t);
                            else if (x.isBeginning && !x.params.loop || x.animating) {
                                if (x.params.mousewheelReleaseOnEdges) return !0
                            } else x.slidePrev(), x.emit("onScroll", x, t);
                            x.mousewheel.lastScrollTime = (new window.Date).getTime()
                        }
                        return t.preventDefault ? t.preventDefault() : t.returnValue = !1, !1
                    }
                }

                function d(e, i) {
                    e = t(e);
                    var n, r, o, a = x.rtl ? -1 : 1;
                    n = e.attr("data-swiper-parallax") || "0", r = e.attr("data-swiper-parallax-x"), o = e.attr("data-swiper-parallax-y"), r || o ? (r = r || "0", o = o || "0") : x.isHorizontal() ? (r = n, o = "0") : (o = n, r = "0"), r = r.indexOf("%") >= 0 ? parseInt(r, 10) * i * a + "%" : r * i * a + "px", o = o.indexOf("%") >= 0 ? parseInt(o, 10) * i + "%" : o * i + "px", e.transform("translate3d(" + r + ", " + o + ",0px)")
                }

                function p(t) {
                    return 0 !== t.indexOf("on") && (t = t[0] !== t[0].toUpperCase() ? "on" + t[0].toUpperCase() + t.substring(1) : "on" + t), t
                }
                if (!(this instanceof e)) return new e(n, r);
                var f = {
                        direction: "horizontal",
                        touchEventsTarget: "container",
                        initialSlide: 0,
                        speed: 300,
                        autoplay: !1,
                        autoplayDisableOnInteraction: !0,
                        autoplayStopOnLast: !1,
                        iOSEdgeSwipeDetection: !1,
                        iOSEdgeSwipeThreshold: 20,
                        freeMode: !1,
                        freeModeMomentum: !0,
                        freeModeMomentumRatio: 1,
                        freeModeMomentumBounce: !0,
                        freeModeMomentumBounceRatio: 1,
                        freeModeMomentumVelocityRatio: 1,
                        freeModeSticky: !1,
                        freeModeMinimumVelocity: .02,
                        autoHeight: !1,
                        setWrapperSize: !1,
                        virtualTranslate: !1,
                        effect: "slide",
                        coverflow: {
                            rotate: 50,
                            stretch: 0,
                            depth: 100,
                            modifier: 1,
                            slideShadows: !0
                        },
                        flip: {
                            slideShadows: !0,
                            limitRotation: !0
                        },
                        cube: {
                            slideShadows: !0,
                            shadow: !0,
                            shadowOffset: 20,
                            shadowScale: .94
                        },
                        fade: {
                            crossFade: !1
                        },
                        parallax: !1,
                        zoom: !1,
                        zoomMax: 3,
                        zoomMin: 1,
                        zoomToggle: !0,
                        scrollbar: null,
                        scrollbarHide: !0,
                        scrollbarDraggable: !1,
                        scrollbarSnapOnRelease: !1,
                        keyboardControl: !1,
                        mousewheelControl: !1,
                        mousewheelReleaseOnEdges: !1,
                        mousewheelInvert: !1,
                        mousewheelForceToAxis: !1,
                        mousewheelSensitivity: 1,
                        mousewheelEventsTarged: "container",
                        hashnav: !1,
                        hashnavWatchState: !1,
                        history: !1,
                        replaceState: !1,
                        breakpoints: void 0,
                        spaceBetween: 0,
                        slidesPerView: 1,
                        slidesPerColumn: 1,
                        slidesPerColumnFill: "column",
                        slidesPerGroup: 1,
                        centeredSlides: !1,
                        slidesOffsetBefore: 0,
                        slidesOffsetAfter: 0,
                        roundLengths: !1,
                        touchRatio: 1,
                        touchAngle: 45,
                        simulateTouch: !0,
                        shortSwipes: !0,
                        longSwipes: !0,
                        longSwipesRatio: .5,
                        longSwipesMs: 300,
                        followFinger: !0,
                        onlyExternal: !1,
                        threshold: 0,
                        touchMoveStopPropagation: !0,
                        touchReleaseOnEdges: !1,
                        uniqueNavElements: !0,
                        pagination: null,
                        paginationElement: "span",
                        paginationClickable: !1,
                        paginationHide: !1,
                        paginationBulletRender: null,
                        paginationProgressRender: null,
                        paginationFractionRender: null,
                        paginationCustomRender: null,
                        paginationType: "bullets",
                        resistance: !0,
                        resistanceRatio: .85,
                        nextButton: null,
                        prevButton: null,
                        watchSlidesProgress: !1,
                        watchSlidesVisibility: !1,
                        grabCursor: !1,
                        preventClicks: !0,
                        preventClicksPropagation: !0,
                        slideToClickedSlide: !1,
                        lazyLoading: !1,
                        lazyLoadingInPrevNext: !1,
                        lazyLoadingInPrevNextAmount: 1,
                        lazyLoadingOnTransitionStart: !1,
                        preloadImages: !0,
                        updateOnImagesReady: !0,
                        loop: !1,
                        loopAdditionalSlides: 0,
                        loopedSlides: null,
                        control: void 0,
                        controlInverse: !1,
                        controlBy: "slide",
                        normalizeSlideIndex: !0,
                        allowSwipeToPrev: !0,
                        allowSwipeToNext: !0,
                        swipeHandler: null,
                        noSwiping: !0,
                        noSwipingClass: "swiper-no-swiping",
                        passiveListeners: !0,
                        containerModifierClass: "swiper-container-",
                        slideClass: "swiper-slide",
                        slideActiveClass: "swiper-slide-active",
                        slideDuplicateActiveClass: "swiper-slide-duplicate-active",
                        slideVisibleClass: "swiper-slide-visible",
                        slideDuplicateClass: "swiper-slide-duplicate",
                        slideNextClass: "swiper-slide-next",
                        slideDuplicateNextClass: "swiper-slide-duplicate-next",
                        slidePrevClass: "swiper-slide-prev",
                        slideDuplicatePrevClass: "swiper-slide-duplicate-prev",
                        wrapperClass: "swiper-wrapper",
                        bulletClass: "swiper-pagination-bullet",
                        bulletActiveClass: "swiper-pagination-bullet-active",
                        buttonDisabledClass: "swiper-button-disabled",
                        paginationCurrentClass: "swiper-pagination-current",
                        paginationTotalClass: "swiper-pagination-total",
                        paginationHiddenClass: "swiper-pagination-hidden",
                        paginationProgressbarClass: "swiper-pagination-progressbar",
                        paginationClickableClass: "swiper-pagination-clickable",
                        paginationModifierClass: "swiper-pagination-",
                        lazyLoadingClass: "swiper-lazy",
                        lazyStatusLoadingClass: "swiper-lazy-loading",
                        lazyStatusLoadedClass: "swiper-lazy-loaded",
                        lazyPreloaderClass: "swiper-lazy-preloader",
                        notificationClass: "swiper-notification",
                        preloaderClass: "preloader",
                        zoomContainerClass: "swiper-zoom-container",
                        observer: !1,
                        observeParents: !1,
                        a11y: !1,
                        prevSlideMessage: "Previous slide",
                        nextSlideMessage: "Next slide",
                        firstSlideMessage: "This is the first slide",
                        lastSlideMessage: "This is the last slide",
                        paginationBulletMessage: "Go to slide {{index}}",
                        runCallbacksOnInit: !0
                    },
                    m = r && r.virtualTranslate;
                r = r || {};
                var g = {};
                for (var v in r)
                    if ("object" != typeof r[v] || null === r[v] || (r[v].nodeType || r[v] === window || r[v] === document || void 0 !== i && r[v] instanceof i || "undefined" != typeof jQuery && r[v] instanceof jQuery)) g[v] = r[v];
                    else {
                        g[v] = {};
                        for (var y in r[v]) g[v][y] = r[v][y]
                    }
                for (var _ in f)
                    if (void 0 === r[_]) r[_] = f[_];
                    else if ("object" == typeof r[_])
                    for (var b in f[_]) void 0 === r[_][b] && (r[_][b] = f[_][b]);
                var x = this;
                if (x.params = r, x.originalParams = g, x.classNames = [], void 0 !== t && void 0 !== i && (t = i), (void 0 !== t || (t = void 0 === i ? window.Dom7 || window.Zepto || window.jQuery : i)) && (x.$ = t, x.currentBreakpoint = void 0, x.getActiveBreakpoint = function() {
                        if (!x.params.breakpoints) return !1;
                        var t, e = !1,
                            i = [];
                        for (t in x.params.breakpoints) x.params.breakpoints.hasOwnProperty(t) && i.push(t);
                        i.sort(function(t, e) {
                            return parseInt(t, 10) > parseInt(e, 10)
                        });
                        for (var n = 0; n < i.length; n++)(t = i[n]) >= window.innerWidth && !e && (e = t);
                        return e || "max"
                    }, x.setBreakpoint = function() {
                        var t = x.getActiveBreakpoint();
                        if (t && x.currentBreakpoint !== t) {
                            var e = t in x.params.breakpoints ? x.params.breakpoints[t] : x.originalParams,
                                i = x.params.loop && e.slidesPerView !== x.params.slidesPerView;
                            for (var n in e) x.params[n] = e[n];
                            x.currentBreakpoint = t, i && x.destroyLoop && x.reLoop(!0)
                        }
                    }, x.params.breakpoints && x.setBreakpoint(), x.container = t(n), 0 !== x.container.length)) {
                    if (x.container.length > 1) {
                        var w = [];
                        return x.container.each(function() {
                            w.push(new e(this, r))
                        }), w
                    }
                    x.container[0].swiper = x, x.container.data("swiper", x), x.classNames.push(x.params.containerModifierClass + x.params.direction), x.params.freeMode && x.classNames.push(x.params.containerModifierClass + "free-mode"), x.support.flexbox || (x.classNames.push(x.params.containerModifierClass + "no-flexbox"), x.params.slidesPerColumn = 1), x.params.autoHeight && x.classNames.push(x.params.containerModifierClass + "autoheight"), (x.params.parallax || x.params.watchSlidesVisibility) && (x.params.watchSlidesProgress = !0), x.params.touchReleaseOnEdges && (x.params.resistanceRatio = 0), ["cube", "coverflow", "flip"].indexOf(x.params.effect) >= 0 && (x.support.transforms3d ? (x.params.watchSlidesProgress = !0, x.classNames.push(x.params.containerModifierClass + "3d")) : x.params.effect = "slide"), "slide" !== x.params.effect && x.classNames.push(x.params.containerModifierClass + x.params.effect), "cube" === x.params.effect && (x.params.resistanceRatio = 0, x.params.slidesPerView = 1, x.params.slidesPerColumn = 1, x.params.slidesPerGroup = 1, x.params.centeredSlides = !1, x.params.spaceBetween = 0, x.params.virtualTranslate = !0), "fade" !== x.params.effect && "flip" !== x.params.effect || (x.params.slidesPerView = 1, x.params.slidesPerColumn = 1, x.params.slidesPerGroup = 1, x.params.watchSlidesProgress = !0, x.params.spaceBetween = 0, void 0 === m && (x.params.virtualTranslate = !0)), x.params.grabCursor && x.support.touch && (x.params.grabCursor = !1), x.wrapper = x.container.children("." + x.params.wrapperClass), x.params.pagination && (x.paginationContainer = t(x.params.pagination), x.params.uniqueNavElements && "string" == typeof x.params.pagination && x.paginationContainer.length > 1 && 1 === x.container.find(x.params.pagination).length && (x.paginationContainer = x.container.find(x.params.pagination)), "bullets" === x.params.paginationType && x.params.paginationClickable ? x.paginationContainer.addClass(x.params.paginationModifierClass + "clickable") : x.params.paginationClickable = !1, x.paginationContainer.addClass(x.params.paginationModifierClass + x.params.paginationType)), (x.params.nextButton || x.params.prevButton) && (x.params.nextButton && (x.nextButton = t(x.params.nextButton), x.params.uniqueNavElements && "string" == typeof x.params.nextButton && x.nextButton.length > 1 && 1 === x.container.find(x.params.nextButton).length && (x.nextButton = x.container.find(x.params.nextButton))), x.params.prevButton && (x.prevButton = t(x.params.prevButton), x.params.uniqueNavElements && "string" == typeof x.params.prevButton && x.prevButton.length > 1 && 1 === x.container.find(x.params.prevButton).length && (x.prevButton = x.container.find(x.params.prevButton)))), x.isHorizontal = function() {
                        return "horizontal" === x.params.direction
                    }, x.rtl = x.isHorizontal() && ("rtl" === x.container[0].dir.toLowerCase() || "rtl" === x.container.css("direction")), x.rtl && x.classNames.push(x.params.containerModifierClass + "rtl"), x.rtl && (x.wrongRTL = "-webkit-box" === x.wrapper.css("display")), x.params.slidesPerColumn > 1 && x.classNames.push(x.params.containerModifierClass + "multirow"), x.device.android && x.classNames.push(x.params.containerModifierClass + "android"), x.container.addClass(x.classNames.join(" ")), x.translate = 0, x.progress = 0, x.velocity = 0, x.lockSwipeToNext = function() {
                        x.params.allowSwipeToNext = !1, x.params.allowSwipeToPrev === !1 && x.params.grabCursor && x.unsetGrabCursor()
                    }, x.lockSwipeToPrev = function() {
                        x.params.allowSwipeToPrev = !1, x.params.allowSwipeToNext === !1 && x.params.grabCursor && x.unsetGrabCursor()
                    }, x.lockSwipes = function() {
                        x.params.allowSwipeToNext = x.params.allowSwipeToPrev = !1, x.params.grabCursor && x.unsetGrabCursor()
                    }, x.unlockSwipeToNext = function() {
                        x.params.allowSwipeToNext = !0, x.params.allowSwipeToPrev === !0 && x.params.grabCursor && x.setGrabCursor()
                    }, x.unlockSwipeToPrev = function() {
                        x.params.allowSwipeToPrev = !0, x.params.allowSwipeToNext === !0 && x.params.grabCursor && x.setGrabCursor()
                    }, x.unlockSwipes = function() {
                        x.params.allowSwipeToNext = x.params.allowSwipeToPrev = !0, x.params.grabCursor && x.setGrabCursor()
                    }, x.setGrabCursor = function(t) {
                        x.container[0].style.cursor = "move", x.container[0].style.cursor = t ? "-webkit-grabbing" : "-webkit-grab", x.container[0].style.cursor = t ? "-moz-grabbin" : "-moz-grab", x.container[0].style.cursor = t ? "grabbing" : "grab"
                    }, x.unsetGrabCursor = function() {
                        x.container[0].style.cursor = ""
                    }, x.params.grabCursor && x.setGrabCursor(), x.imagesToLoad = [], x.imagesLoaded = 0, x.loadImage = function(t, e, i, n, r, o) {
                        function a() {
                            o && o()
                        }
                        var s;
                        t.complete && r ? a() : e ? (s = new window.Image, s.onload = a, s.onerror = a, n && (s.sizes = n), i && (s.srcset = i), e && (s.src = e)) : a()
                    }, x.preloadImages = function() {
                        function t() {
                            void 0 !== x && null !== x && x && (void 0 !== x.imagesLoaded && x.imagesLoaded++, x.imagesLoaded === x.imagesToLoad.length && (x.params.updateOnImagesReady && x.update(), x.emit("onImagesReady", x)))
                        }
                        x.imagesToLoad = x.container.find("img");
                        for (var e = 0; e < x.imagesToLoad.length; e++) x.loadImage(x.imagesToLoad[e], x.imagesToLoad[e].currentSrc || x.imagesToLoad[e].getAttribute("src"), x.imagesToLoad[e].srcset || x.imagesToLoad[e].getAttribute("srcset"), x.imagesToLoad[e].sizes || x.imagesToLoad[e].getAttribute("sizes"), !0, t)
                    }, x.autoplayTimeoutId = void 0, x.autoplaying = !1, x.autoplayPaused = !1, x.startAutoplay = function() {
                        return void 0 === x.autoplayTimeoutId && (!!x.params.autoplay && (!x.autoplaying && (x.autoplaying = !0, x.emit("onAutoplayStart", x), void a())))
                    }, x.stopAutoplay = function(t) {
                        x.autoplayTimeoutId && (x.autoplayTimeoutId && clearTimeout(x.autoplayTimeoutId), x.autoplaying = !1, x.autoplayTimeoutId = void 0, x.emit("onAutoplayStop", x))
                    }, x.pauseAutoplay = function(t) {
                        x.autoplayPaused || (x.autoplayTimeoutId && clearTimeout(x.autoplayTimeoutId), x.autoplayPaused = !0, 0 === t ? (x.autoplayPaused = !1, a()) : x.wrapper.transitionEnd(function() {
                            x && (x.autoplayPaused = !1, x.autoplaying ? a() : x.stopAutoplay())
                        }))
                    }, x.minTranslate = function() {
                        return -x.snapGrid[0]
                    }, x.maxTranslate = function() {
                        return -x.snapGrid[x.snapGrid.length - 1]
                    }, x.updateAutoHeight = function() {
                        var t, e = [],
                            i = 0;
                        if ("auto" !== x.params.slidesPerView && x.params.slidesPerView > 1)
                            for (t = 0; t < Math.ceil(x.params.slidesPerView); t++) {
                                var n = x.activeIndex + t;
                                if (n > x.slides.length) break;
                                e.push(x.slides.eq(n)[0])
                            } else e.push(x.slides.eq(x.activeIndex)[0]);
                        for (t = 0; t < e.length; t++)
                            if (void 0 !== e[t]) {
                                var r = e[t].offsetHeight;
                                i = r > i ? r : i
                            }
                        i && x.wrapper.css("height", i + "px")
                    }, x.updateContainerSize = function() {
                        var t, e;
                        t = void 0 !== x.params.width ? x.params.width : x.container[0].clientWidth, e = void 0 !== x.params.height ? x.params.height : x.container[0].clientHeight, 0 === t && x.isHorizontal() || 0 === e && !x.isHorizontal() || (t = t - parseInt(x.container.css("padding-left"), 10) - parseInt(x.container.css("padding-right"), 10), e = e - parseInt(x.container.css("padding-top"), 10) - parseInt(x.container.css("padding-bottom"), 10), x.width = t, x.height = e, x.size = x.isHorizontal() ? x.width : x.height)
                    }, x.updateSlidesSize = function() {
                        x.slides = x.wrapper.children("." + x.params.slideClass), x.snapGrid = [], x.slidesGrid = [], x.slidesSizesGrid = [];
                        var t, e = x.params.spaceBetween,
                            i = -x.params.slidesOffsetBefore,
                            n = 0,
                            r = 0;
                        if (void 0 !== x.size) {
                            "string" == typeof e && e.indexOf("%") >= 0 && (e = parseFloat(e.replace("%", "")) / 100 * x.size), x.virtualSize = -e, x.rtl ? x.slides.css({
                                marginLeft: "",
                                marginTop: ""
                            }) : x.slides.css({
                                marginRight: "",
                                marginBottom: ""
                            });
                            var a;
                            x.params.slidesPerColumn > 1 && (a = Math.floor(x.slides.length / x.params.slidesPerColumn) === x.slides.length / x.params.slidesPerColumn ? x.slides.length : Math.ceil(x.slides.length / x.params.slidesPerColumn) * x.params.slidesPerColumn, "auto" !== x.params.slidesPerView && "row" === x.params.slidesPerColumnFill && (a = Math.max(a, x.params.slidesPerView * x.params.slidesPerColumn)));
                            var s, l = x.params.slidesPerColumn,
                                u = a / l,
                                c = u - (x.params.slidesPerColumn * u - x.slides.length);
                            for (t = 0; t < x.slides.length; t++) {
                                s = 0;
                                var h = x.slides.eq(t);
                                if (x.params.slidesPerColumn > 1) {
                                    var d, p, f;
                                    "column" === x.params.slidesPerColumnFill ? (p = Math.floor(t / l), f = t - p * l, (p > c || p === c && f === l - 1) && ++f >= l && (f = 0, p++), d = p + f * a / l, h.css({
                                        "-webkit-box-ordinal-group": d,
                                        "-moz-box-ordinal-group": d,
                                        "-ms-flex-order": d,
                                        "-webkit-order": d,
                                        order: d
                                    })) : (f = Math.floor(t / u), p = t - f * u), h.css("margin-" + (x.isHorizontal() ? "top" : "left"), 0 !== f && x.params.spaceBetween && x.params.spaceBetween + "px").attr("data-swiper-column", p).attr("data-swiper-row", f)
                                }
                                "none" !== h.css("display") && ("auto" === x.params.slidesPerView ? (s = x.isHorizontal() ? h.outerWidth(!0) : h.outerHeight(!0), x.params.roundLengths && (s = o(s))) : (s = (x.size - (x.params.slidesPerView - 1) * e) / x.params.slidesPerView, x.params.roundLengths && (s = o(s)), x.isHorizontal() ? x.slides[t].style.width = s + "px" : x.slides[t].style.height = s + "px"), x.slides[t].swiperSlideSize = s, x.slidesSizesGrid.push(s), x.params.centeredSlides ? (i = i + s / 2 + n / 2 + e, 0 === n && 0 !== t && (i = i - x.size / 2 - e), 0 === t && (i = i - x.size / 2 - e), Math.abs(i) < .001 && (i = 0), r % x.params.slidesPerGroup == 0 && x.snapGrid.push(i), x.slidesGrid.push(i)) : (r % x.params.slidesPerGroup == 0 && x.snapGrid.push(i), x.slidesGrid.push(i), i = i + s + e), x.virtualSize += s + e, n = s, r++)
                            }
                            x.virtualSize = Math.max(x.virtualSize, x.size) + x.params.slidesOffsetAfter;
                            var m;
                            if (x.rtl && x.wrongRTL && ("slide" === x.params.effect || "coverflow" === x.params.effect) && x.wrapper.css({
                                    width: x.virtualSize + x.params.spaceBetween + "px"
                                }), x.support.flexbox && !x.params.setWrapperSize || (x.isHorizontal() ? x.wrapper.css({
                                    width: x.virtualSize + x.params.spaceBetween + "px"
                                }) : x.wrapper.css({
                                    height: x.virtualSize + x.params.spaceBetween + "px"
                                })), x.params.slidesPerColumn > 1 && (x.virtualSize = (s + x.params.spaceBetween) * a, x.virtualSize = Math.ceil(x.virtualSize / x.params.slidesPerColumn) - x.params.spaceBetween, x.isHorizontal() ? x.wrapper.css({
                                    width: x.virtualSize + x.params.spaceBetween + "px"
                                }) : x.wrapper.css({
                                    height: x.virtualSize + x.params.spaceBetween + "px"
                                }), x.params.centeredSlides)) {
                                for (m = [], t = 0; t < x.snapGrid.length; t++) x.snapGrid[t] < x.virtualSize + x.snapGrid[0] && m.push(x.snapGrid[t]);
                                x.snapGrid = m
                            }
                            if (!x.params.centeredSlides) {
                                for (m = [], t = 0; t < x.snapGrid.length; t++) x.snapGrid[t] <= x.virtualSize - x.size && m.push(x.snapGrid[t]);
                                x.snapGrid = m, Math.floor(x.virtualSize - x.size) - Math.floor(x.snapGrid[x.snapGrid.length - 1]) > 1 && x.snapGrid.push(x.virtualSize - x.size)
                            }
                            0 === x.snapGrid.length && (x.snapGrid = [0]), 0 !== x.params.spaceBetween && (x.isHorizontal() ? x.rtl ? x.slides.css({
                                marginLeft: e + "px"
                            }) : x.slides.css({
                                marginRight: e + "px"
                            }) : x.slides.css({
                                marginBottom: e + "px"
                            })), x.params.watchSlidesProgress && x.updateSlidesOffset()
                        }
                    }, x.updateSlidesOffset = function() {
                        for (var t = 0; t < x.slides.length; t++) x.slides[t].swiperSlideOffset = x.isHorizontal() ? x.slides[t].offsetLeft : x.slides[t].offsetTop
                    }, x.currentSlidesPerView = function() {
                        var t, e, i = 1;
                        if (x.params.centeredSlides) {
                            var n, r = x.slides[x.activeIndex].swiperSlideSize;
                            for (t = x.activeIndex + 1; t < x.slides.length; t++) x.slides[t] && !n && (r += x.slides[t].swiperSlideSize, i++, r > x.size && (n = !0));
                            for (e = x.activeIndex - 1; e >= 0; e--) x.slides[e] && !n && (r += x.slides[e].swiperSlideSize, i++, r > x.size && (n = !0))
                        } else
                            for (t = x.activeIndex + 1; t < x.slides.length; t++) x.slidesGrid[t] - x.slidesGrid[x.activeIndex] < x.size && i++;
                        return i
                    }, x.updateSlidesProgress = function(t) {
                        if (void 0 === t && (t = x.translate || 0), 0 !== x.slides.length) {
                            void 0 === x.slides[0].swiperSlideOffset && x.updateSlidesOffset();
                            var e = -t;
                            x.rtl && (e = t), x.slides.removeClass(x.params.slideVisibleClass);
                            for (var i = 0; i < x.slides.length; i++) {
                                var n = x.slides[i],
                                    r = (e + (x.params.centeredSlides ? x.minTranslate() : 0) - n.swiperSlideOffset) / (n.swiperSlideSize + x.params.spaceBetween);
                                if (x.params.watchSlidesVisibility) {
                                    var o = -(e - n.swiperSlideOffset),
                                        a = o + x.slidesSizesGrid[i];
                                    (o >= 0 && o < x.size || a > 0 && a <= x.size || o <= 0 && a >= x.size) && x.slides.eq(i).addClass(x.params.slideVisibleClass)
                                }
                                n.progress = x.rtl ? -r : r
                            }
                        }
                    }, x.updateProgress = function(t) {
                        void 0 === t && (t = x.translate || 0);
                        var e = x.maxTranslate() - x.minTranslate(),
                            i = x.isBeginning,
                            n = x.isEnd;
                        0 === e ? (x.progress = 0, x.isBeginning = x.isEnd = !0) : (x.progress = (t - x.minTranslate()) / e, x.isBeginning = x.progress <= 0, x.isEnd = x.progress >= 1), x.isBeginning && !i && x.emit("onReachBeginning", x), x.isEnd && !n && x.emit("onReachEnd", x), x.params.watchSlidesProgress && x.updateSlidesProgress(t), x.emit("onProgress", x, x.progress)
                    }, x.updateActiveIndex = function() {
                        var t, e, i, n = x.rtl ? x.translate : -x.translate;
                        for (e = 0; e < x.slidesGrid.length; e++) void 0 !== x.slidesGrid[e + 1] ? n >= x.slidesGrid[e] && n < x.slidesGrid[e + 1] - (x.slidesGrid[e + 1] - x.slidesGrid[e]) / 2 ? t = e : n >= x.slidesGrid[e] && n < x.slidesGrid[e + 1] && (t = e + 1) : n >= x.slidesGrid[e] && (t = e);
                        x.params.normalizeSlideIndex && (t < 0 || void 0 === t) && (t = 0), i = Math.floor(t / x.params.slidesPerGroup), i >= x.snapGrid.length && (i = x.snapGrid.length - 1), t !== x.activeIndex && (x.snapIndex = i, x.previousIndex = x.activeIndex, x.activeIndex = t, x.updateClasses(), x.updateRealIndex())
                    }, x.updateRealIndex = function() {
                        x.realIndex = parseInt(x.slides.eq(x.activeIndex).attr("data-swiper-slide-index") || x.activeIndex, 10)
                    }, x.updateClasses = function() {
                        x.slides.removeClass(x.params.slideActiveClass + " " + x.params.slideNextClass + " " + x.params.slidePrevClass + " " + x.params.slideDuplicateActiveClass + " " + x.params.slideDuplicateNextClass + " " + x.params.slideDuplicatePrevClass);
                        var e = x.slides.eq(x.activeIndex);
                        e.addClass(x.params.slideActiveClass), r.loop && (e.hasClass(x.params.slideDuplicateClass) ? x.wrapper.children("." + x.params.slideClass + ":not(." + x.params.slideDuplicateClass + ')[data-swiper-slide-index="' + x.realIndex + '"]').addClass(x.params.slideDuplicateActiveClass) : x.wrapper.children("." + x.params.slideClass + "." + x.params.slideDuplicateClass + '[data-swiper-slide-index="' + x.realIndex + '"]').addClass(x.params.slideDuplicateActiveClass));
                        var i = e.next("." + x.params.slideClass).addClass(x.params.slideNextClass);
                        x.params.loop && 0 === i.length && (i = x.slides.eq(0), i.addClass(x.params.slideNextClass));
                        var n = e.prev("." + x.params.slideClass).addClass(x.params.slidePrevClass);
                        if (x.params.loop && 0 === n.length && (n = x.slides.eq(-1), n.addClass(x.params.slidePrevClass)), r.loop && (i.hasClass(x.params.slideDuplicateClass) ? x.wrapper.children("." + x.params.slideClass + ":not(." + x.params.slideDuplicateClass + ')[data-swiper-slide-index="' + i.attr("data-swiper-slide-index") + '"]').addClass(x.params.slideDuplicateNextClass) : x.wrapper.children("." + x.params.slideClass + "." + x.params.slideDuplicateClass + '[data-swiper-slide-index="' + i.attr("data-swiper-slide-index") + '"]').addClass(x.params.slideDuplicateNextClass), n.hasClass(x.params.slideDuplicateClass) ? x.wrapper.children("." + x.params.slideClass + ":not(." + x.params.slideDuplicateClass + ')[data-swiper-slide-index="' + n.attr("data-swiper-slide-index") + '"]').addClass(x.params.slideDuplicatePrevClass) : x.wrapper.children("." + x.params.slideClass + "." + x.params.slideDuplicateClass + '[data-swiper-slide-index="' + n.attr("data-swiper-slide-index") + '"]').addClass(x.params.slideDuplicatePrevClass)), x.paginationContainer && x.paginationContainer.length > 0) {
                            var o, a = x.params.loop ? Math.ceil((x.slides.length - 2 * x.loopedSlides) / x.params.slidesPerGroup) : x.snapGrid.length;
                            if (x.params.loop ? (o = Math.ceil((x.activeIndex - x.loopedSlides) / x.params.slidesPerGroup), o > x.slides.length - 1 - 2 * x.loopedSlides && (o -= x.slides.length - 2 * x.loopedSlides), o > a - 1 && (o -= a), o < 0 && "bullets" !== x.params.paginationType && (o = a + o)) : o = void 0 !== x.snapIndex ? x.snapIndex : x.activeIndex || 0, "bullets" === x.params.paginationType && x.bullets && x.bullets.length > 0 && (x.bullets.removeClass(x.params.bulletActiveClass), x.paginationContainer.length > 1 ? x.bullets.each(function() {
                                    t(this).index() === o && t(this).addClass(x.params.bulletActiveClass)
                                }) : x.bullets.eq(o).addClass(x.params.bulletActiveClass)), "fraction" === x.params.paginationType && (x.paginationContainer.find("." + x.params.paginationCurrentClass).text(o + 1), x.paginationContainer.find("." + x.params.paginationTotalClass).text(a)), "progress" === x.params.paginationType) {
                                var s = (o + 1) / a,
                                    l = s,
                                    u = 1;
                                x.isHorizontal() || (u = s, l = 1), x.paginationContainer.find("." + x.params.paginationProgressbarClass).transform("translate3d(0,0,0) scaleX(" + l + ") scaleY(" + u + ")").transition(x.params.speed)
                            }
                            "custom" === x.params.paginationType && x.params.paginationCustomRender && (x.paginationContainer.html(x.params.paginationCustomRender(x, o + 1, a)), x.emit("onPaginationRendered", x, x.paginationContainer[0]))
                        }
                        x.params.loop || (x.params.prevButton && x.prevButton && x.prevButton.length > 0 && (x.isBeginning ? (x.prevButton.addClass(x.params.buttonDisabledClass), x.params.a11y && x.a11y && x.a11y.disable(x.prevButton)) : (x.prevButton.removeClass(x.params.buttonDisabledClass), x.params.a11y && x.a11y && x.a11y.enable(x.prevButton))), x.params.nextButton && x.nextButton && x.nextButton.length > 0 && (x.isEnd ? (x.nextButton.addClass(x.params.buttonDisabledClass), x.params.a11y && x.a11y && x.a11y.disable(x.nextButton)) : (x.nextButton.removeClass(x.params.buttonDisabledClass), x.params.a11y && x.a11y && x.a11y.enable(x.nextButton))))
                    }, x.updatePagination = function() {
                        if (x.params.pagination && x.paginationContainer && x.paginationContainer.length > 0) {
                            var t = "";
                            if ("bullets" === x.params.paginationType) {
                                for (var e = x.params.loop ? Math.ceil((x.slides.length - 2 * x.loopedSlides) / x.params.slidesPerGroup) : x.snapGrid.length, i = 0; i < e; i++) t += x.params.paginationBulletRender ? x.params.paginationBulletRender(x, i, x.params.bulletClass) : "<" + x.params.paginationElement + ' class="' + x.params.bulletClass + '"></' + x.params.paginationElement + ">";
                                x.paginationContainer.html(t), x.bullets = x.paginationContainer.find("." + x.params.bulletClass), x.params.paginationClickable && x.params.a11y && x.a11y && x.a11y.initPagination()
                            }
                            "fraction" === x.params.paginationType && (t = x.params.paginationFractionRender ? x.params.paginationFractionRender(x, x.params.paginationCurrentClass, x.params.paginationTotalClass) : '<span class="' + x.params.paginationCurrentClass + '"></span> / <span class="' + x.params.paginationTotalClass + '"></span>', x.paginationContainer.html(t)), "progress" === x.params.paginationType && (t = x.params.paginationProgressRender ? x.params.paginationProgressRender(x, x.params.paginationProgressbarClass) : '<span class="' + x.params.paginationProgressbarClass + '"></span>', x.paginationContainer.html(t)), "custom" !== x.params.paginationType && x.emit("onPaginationRendered", x, x.paginationContainer[0])
                        }
                    }, x.update = function(t) {
                        function e() {
                            x.rtl, x.translate;
                            i = Math.min(Math.max(x.translate, x.maxTranslate()), x.minTranslate()), x.setWrapperTranslate(i), x.updateActiveIndex(), x.updateClasses()
                        }
                        if (x) {
                            x.updateContainerSize(), x.updateSlidesSize(), x.updateProgress(), x.updatePagination(), x.updateClasses(), x.params.scrollbar && x.scrollbar && x.scrollbar.set();
                            var i;
                            if (t) {
                                x.controller && x.controller.spline && (x.controller.spline = void 0), x.params.freeMode ? (e(), x.params.autoHeight && x.updateAutoHeight()) : (("auto" === x.params.slidesPerView || x.params.slidesPerView > 1) && x.isEnd && !x.params.centeredSlides ? x.slideTo(x.slides.length - 1, 0, !1, !0) : x.slideTo(x.activeIndex, 0, !1, !0)) || e()
                            } else x.params.autoHeight && x.updateAutoHeight()
                        }
                    }, x.onResize = function(t) {
                        x.params.onBeforeResize && x.params.onBeforeResize(x), x.params.breakpoints && x.setBreakpoint();
                        var e = x.params.allowSwipeToPrev,
                            i = x.params.allowSwipeToNext;
                        x.params.allowSwipeToPrev = x.params.allowSwipeToNext = !0, x.updateContainerSize(), x.updateSlidesSize(), ("auto" === x.params.slidesPerView || x.params.freeMode || t) && x.updatePagination(), x.params.scrollbar && x.scrollbar && x.scrollbar.set(), x.controller && x.controller.spline && (x.controller.spline = void 0);
                        var n = !1;
                        if (x.params.freeMode) {
                            var r = Math.min(Math.max(x.translate, x.maxTranslate()), x.minTranslate());
                            x.setWrapperTranslate(r), x.updateActiveIndex(), x.updateClasses(), x.params.autoHeight && x.updateAutoHeight()
                        } else x.updateClasses(), n = ("auto" === x.params.slidesPerView || x.params.slidesPerView > 1) && x.isEnd && !x.params.centeredSlides ? x.slideTo(x.slides.length - 1, 0, !1, !0) : x.slideTo(x.activeIndex, 0, !1, !0);
                        x.params.lazyLoading && !n && x.lazy && x.lazy.load(), x.params.allowSwipeToPrev = e, x.params.allowSwipeToNext = i, x.params.onAfterResize && x.params.onAfterResize(x)
                    }, x.touchEventsDesktop = {
                        start: "mousedown",
                        move: "mousemove",
                        end: "mouseup"
                    }, window.navigator.pointerEnabled ? x.touchEventsDesktop = {
                        start: "pointerdown",
                        move: "pointermove",
                        end: "pointerup"
                    } : window.navigator.msPointerEnabled && (x.touchEventsDesktop = {
                        start: "MSPointerDown",
                        move: "MSPointerMove",
                        end: "MSPointerUp"
                    }), x.touchEvents = {
                        start: x.support.touch || !x.params.simulateTouch ? "touchstart" : x.touchEventsDesktop.start,
                        move: x.support.touch || !x.params.simulateTouch ? "touchmove" : x.touchEventsDesktop.move,
                        end: x.support.touch || !x.params.simulateTouch ? "touchend" : x.touchEventsDesktop.end
                    }, (window.navigator.pointerEnabled || window.navigator.msPointerEnabled) && ("container" === x.params.touchEventsTarget ? x.container : x.wrapper).addClass("swiper-wp8-" + x.params.direction), x.initEvents = function(t) {
                        var e = t ? "off" : "on",
                            i = t ? "removeEventListener" : "addEventListener",
                            n = "container" === x.params.touchEventsTarget ? x.container[0] : x.wrapper[0],
                            o = x.support.touch ? n : document,
                            a = !!x.params.nested;
                        if (x.browser.ie) n[i](x.touchEvents.start, x.onTouchStart, !1), o[i](x.touchEvents.move, x.onTouchMove, a), o[i](x.touchEvents.end, x.onTouchEnd, !1);
                        else {
                            if (x.support.touch) {
                                var s = !("touchstart" !== x.touchEvents.start || !x.support.passiveListener || !x.params.passiveListeners) && {
                                    passive: !0,
                                    capture: !1
                                };
                                n[i](x.touchEvents.start, x.onTouchStart, s), n[i](x.touchEvents.move, x.onTouchMove, a), n[i](x.touchEvents.end, x.onTouchEnd, s)
                            }(r.simulateTouch && !x.device.ios && !x.device.android || r.simulateTouch && !x.support.touch && x.device.ios) && (n[i]("mousedown", x.onTouchStart, !1), document[i]("mousemove", x.onTouchMove, a), document[i]("mouseup", x.onTouchEnd, !1))
                        }
                        window[i]("resize", x.onResize), x.params.nextButton && x.nextButton && x.nextButton.length > 0 && (x.nextButton[e]("click", x.onClickNext), x.params.a11y && x.a11y && x.nextButton[e]("keydown", x.a11y.onEnterKey)), x.params.prevButton && x.prevButton && x.prevButton.length > 0 && (x.prevButton[e]("click", x.onClickPrev), x.params.a11y && x.a11y && x.prevButton[e]("keydown", x.a11y.onEnterKey)), x.params.pagination && x.params.paginationClickable && (x.paginationContainer[e]("click", "." + x.params.bulletClass, x.onClickIndex), x.params.a11y && x.a11y && x.paginationContainer[e]("keydown", "." + x.params.bulletClass, x.a11y.onEnterKey)), (x.params.preventClicks || x.params.preventClicksPropagation) && n[i]("click", x.preventClicks, !0)
                    }, x.attachEvents = function() {
                        x.initEvents()
                    }, x.detachEvents = function() {
                        x.initEvents(!0)
                    }, x.allowClick = !0, x.preventClicks = function(t) {
                        x.allowClick || (x.params.preventClicks && t.preventDefault(), x.params.preventClicksPropagation && x.animating && (t.stopPropagation(), t.stopImmediatePropagation()))
                    }, x.onClickNext = function(t) {
                        t.preventDefault(), x.isEnd && !x.params.loop || x.slideNext()
                    }, x.onClickPrev = function(t) {
                        t.preventDefault(), x.isBeginning && !x.params.loop || x.slidePrev()
                    }, x.onClickIndex = function(e) {
                        e.preventDefault();
                        var i = t(this).index() * x.params.slidesPerGroup;
                        x.params.loop && (i += x.loopedSlides), x.slideTo(i)
                    }, x.updateClickedSlide = function(e) {
                        var i = s(e, "." + x.params.slideClass),
                            n = !1;
                        if (i)
                            for (var r = 0; r < x.slides.length; r++) x.slides[r] === i && (n = !0);
                        if (!i || !n) return x.clickedSlide = void 0, void(x.clickedIndex = void 0);
                        if (x.clickedSlide = i, x.clickedIndex = t(i).index(), x.params.slideToClickedSlide && void 0 !== x.clickedIndex && x.clickedIndex !== x.activeIndex) {
                            var o, a = x.clickedIndex,
                                l = "auto" === x.params.slidesPerView ? x.currentSlidesPerView() : x.params.slidesPerView;
                            if (x.params.loop) {
                                if (x.animating) return;
                                o = parseInt(t(x.clickedSlide).attr("data-swiper-slide-index"), 10), x.params.centeredSlides ? a < x.loopedSlides - l / 2 || a > x.slides.length - x.loopedSlides + l / 2 ? (x.fixLoop(), a = x.wrapper.children("." + x.params.slideClass + '[data-swiper-slide-index="' + o + '"]:not(.' + x.params.slideDuplicateClass + ")").eq(0).index(), setTimeout(function() {
                                    x.slideTo(a)
                                }, 0)) : x.slideTo(a) : a > x.slides.length - l ? (x.fixLoop(), a = x.wrapper.children("." + x.params.slideClass + '[data-swiper-slide-index="' + o + '"]:not(.' + x.params.slideDuplicateClass + ")").eq(0).index(), setTimeout(function() {
                                    x.slideTo(a)
                                }, 0)) : x.slideTo(a)
                            } else x.slideTo(a)
                        }
                    };
                    var T, S, M, E, C, A, P, L, O, k, R = "input, select, textarea, button, video",
                        I = Date.now(),
                        D = [];
                    x.animating = !1, x.touches = {
                        startX: 0,
                        startY: 0,
                        currentX: 0,
                        currentY: 0,
                        diff: 0
                    };
                    var B, z;
                    x.onTouchStart = function(e) {
                        if (e.originalEvent && (e = e.originalEvent), (B = "touchstart" === e.type) || !("which" in e) || 3 !== e.which) {
                            if (x.params.noSwiping && s(e, "." + x.params.noSwipingClass)) return void(x.allowClick = !0);
                            if (!x.params.swipeHandler || s(e, x.params.swipeHandler)) {
                                var i = x.touches.currentX = "touchstart" === e.type ? e.targetTouches[0].pageX : e.pageX,
                                    n = x.touches.currentY = "touchstart" === e.type ? e.targetTouches[0].pageY : e.pageY;
                                if (!(x.device.ios && x.params.iOSEdgeSwipeDetection && i <= x.params.iOSEdgeSwipeThreshold)) {
                                    if (T = !0, S = !1, M = !0, C = void 0, z = void 0, x.touches.startX = i, x.touches.startY = n, E = Date.now(), x.allowClick = !0, x.updateContainerSize(), x.swipeDirection = void 0, x.params.threshold > 0 && (L = !1), "touchstart" !== e.type) {
                                        var r = !0;
                                        t(e.target).is(R) && (r = !1), document.activeElement && t(document.activeElement).is(R) && document.activeElement.blur(), r && e.preventDefault()
                                    }
                                    x.emit("onTouchStart", x, e)
                                }
                            }
                        }
                    }, x.onTouchMove = function(e) {
                        if (e.originalEvent && (e = e.originalEvent), !B || "mousemove" !== e.type) {
                            if (e.preventedByNestedSwiper) return x.touches.startX = "touchmove" === e.type ? e.targetTouches[0].pageX : e.pageX, void(x.touches.startY = "touchmove" === e.type ? e.targetTouches[0].pageY : e.pageY);
                            if (x.params.onlyExternal) return x.allowClick = !1, void(T && (x.touches.startX = x.touches.currentX = "touchmove" === e.type ? e.targetTouches[0].pageX : e.pageX, x.touches.startY = x.touches.currentY = "touchmove" === e.type ? e.targetTouches[0].pageY : e.pageY, E = Date.now()));
                            if (B && x.params.touchReleaseOnEdges && !x.params.loop)
                                if (x.isHorizontal()) {
                                    if (x.touches.currentX < x.touches.startX && x.translate <= x.maxTranslate() || x.touches.currentX > x.touches.startX && x.translate >= x.minTranslate()) return
                                } else if (x.touches.currentY < x.touches.startY && x.translate <= x.maxTranslate() || x.touches.currentY > x.touches.startY && x.translate >= x.minTranslate()) return;
                            if (B && document.activeElement && e.target === document.activeElement && t(e.target).is(R)) return S = !0, void(x.allowClick = !1);
                            if (M && x.emit("onTouchMove", x, e), !(e.targetTouches && e.targetTouches.length > 1)) {
                                if (x.touches.currentX = "touchmove" === e.type ? e.targetTouches[0].pageX : e.pageX, x.touches.currentY = "touchmove" === e.type ? e.targetTouches[0].pageY : e.pageY, void 0 === C) {
                                    var i;
                                    x.isHorizontal() && x.touches.currentY === x.touches.startY || !x.isHorizontal() && x.touches.currentX === x.touches.startX ? C = !1 : (i = 180 * Math.atan2(Math.abs(x.touches.currentY - x.touches.startY), Math.abs(x.touches.currentX - x.touches.startX)) / Math.PI, C = x.isHorizontal() ? i > x.params.touchAngle : 90 - i > x.params.touchAngle)
                                }
                                if (C && x.emit("onTouchMoveOpposite", x, e), void 0 === z && (x.touches.currentX === x.touches.startX && x.touches.currentY === x.touches.startY || (z = !0)), T) {
                                    if (C) return void(T = !1);
                                    if (z) {
                                        x.allowClick = !1, x.emit("onSliderMove", x, e), e.preventDefault(), x.params.touchMoveStopPropagation && !x.params.nested && e.stopPropagation(), S || (r.loop && x.fixLoop(), P = x.getWrapperTranslate(), x.setWrapperTransition(0), x.animating && x.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"), x.params.autoplay && x.autoplaying && (x.params.autoplayDisableOnInteraction ? x.stopAutoplay() : x.pauseAutoplay()), k = !1, !x.params.grabCursor || x.params.allowSwipeToNext !== !0 && x.params.allowSwipeToPrev !== !0 || x.setGrabCursor(!0)), S = !0;
                                        var n = x.touches.diff = x.isHorizontal() ? x.touches.currentX - x.touches.startX : x.touches.currentY - x.touches.startY;
                                        n *= x.params.touchRatio, x.rtl && (n = -n), x.swipeDirection = n > 0 ? "prev" : "next", A = n + P;
                                        var o = !0;
                                        if (n > 0 && A > x.minTranslate() ? (o = !1, x.params.resistance && (A = x.minTranslate() - 1 + Math.pow(-x.minTranslate() + P + n, x.params.resistanceRatio))) : n < 0 && A < x.maxTranslate() && (o = !1, x.params.resistance && (A = x.maxTranslate() + 1 - Math.pow(x.maxTranslate() - P - n, x.params.resistanceRatio))), o && (e.preventedByNestedSwiper = !0), !x.params.allowSwipeToNext && "next" === x.swipeDirection && A < P && (A = P), !x.params.allowSwipeToPrev && "prev" === x.swipeDirection && A > P && (A = P), x.params.threshold > 0) {
                                            if (!(Math.abs(n) > x.params.threshold || L)) return void(A = P);
                                            if (!L) return L = !0, x.touches.startX = x.touches.currentX, x.touches.startY = x.touches.currentY, A = P, void(x.touches.diff = x.isHorizontal() ? x.touches.currentX - x.touches.startX : x.touches.currentY - x.touches.startY)
                                        }
                                        x.params.followFinger && ((x.params.freeMode || x.params.watchSlidesProgress) && x.updateActiveIndex(), x.params.freeMode && (0 === D.length && D.push({
                                            position: x.touches[x.isHorizontal() ? "startX" : "startY"],
                                            time: E
                                        }), D.push({
                                            position: x.touches[x.isHorizontal() ? "currentX" : "currentY"],
                                            time: (new window.Date).getTime()
                                        })), x.updateProgress(A), x.setWrapperTranslate(A))
                                    }
                                }
                            }
                        }
                    }, x.onTouchEnd = function(e) {
                        if (e.originalEvent && (e = e.originalEvent), M && x.emit("onTouchEnd", x, e), M = !1, T) {
                            x.params.grabCursor && S && T && (x.params.allowSwipeToNext === !0 || x.params.allowSwipeToPrev === !0) && x.setGrabCursor(!1);
                            var i = Date.now(),
                                n = i - E;
                            if (x.allowClick && (x.updateClickedSlide(e), x.emit("onTap", x, e), n < 300 && i - I > 300 && (O && clearTimeout(O), O = setTimeout(function() {
                                    x && (x.params.paginationHide && x.paginationContainer.length > 0 && !t(e.target).hasClass(x.params.bulletClass) && x.paginationContainer.toggleClass(x.params.paginationHiddenClass), x.emit("onClick", x, e))
                                }, 300)), n < 300 && i - I < 300 && (O && clearTimeout(O), x.emit("onDoubleTap", x, e))), I = Date.now(), setTimeout(function() {
                                    x && (x.allowClick = !0)
                                }, 0), !T || !S || !x.swipeDirection || 0 === x.touches.diff || A === P) return void(T = S = !1);
                            T = S = !1;
                            var r;
                            if (r = x.params.followFinger ? x.rtl ? x.translate : -x.translate : -A, x.params.freeMode) {
                                if (r < -x.minTranslate()) return void x.slideTo(x.activeIndex);
                                if (r > -x.maxTranslate()) return void(x.slides.length < x.snapGrid.length ? x.slideTo(x.snapGrid.length - 1) : x.slideTo(x.slides.length - 1));
                                if (x.params.freeModeMomentum) {
                                    if (D.length > 1) {
                                        var o = D.pop(),
                                            a = D.pop(),
                                            s = o.position - a.position,
                                            l = o.time - a.time;
                                        x.velocity = s / l, x.velocity = x.velocity / 2, Math.abs(x.velocity) < x.params.freeModeMinimumVelocity && (x.velocity = 0), (l > 150 || (new window.Date).getTime() - o.time > 300) && (x.velocity = 0)
                                    } else x.velocity = 0;
                                    x.velocity = x.velocity * x.params.freeModeMomentumVelocityRatio, D.length = 0;
                                    var u = 1e3 * x.params.freeModeMomentumRatio,
                                        c = x.velocity * u,
                                        h = x.translate + c;
                                    x.rtl && (h = -h);
                                    var d, p = !1,
                                        f = 20 * Math.abs(x.velocity) * x.params.freeModeMomentumBounceRatio;
                                    if (h < x.maxTranslate()) x.params.freeModeMomentumBounce ? (h + x.maxTranslate() < -f && (h = x.maxTranslate() - f), d = x.maxTranslate(), p = !0, k = !0) : h = x.maxTranslate();
                                    else if (h > x.minTranslate()) x.params.freeModeMomentumBounce ? (h - x.minTranslate() > f && (h = x.minTranslate() + f), d = x.minTranslate(), p = !0, k = !0) : h = x.minTranslate();
                                    else if (x.params.freeModeSticky) {
                                        var m, g = 0;
                                        for (g = 0; g < x.snapGrid.length; g += 1)
                                            if (x.snapGrid[g] > -h) {
                                                m = g;
                                                break
                                            }
                                        h = Math.abs(x.snapGrid[m] - h) < Math.abs(x.snapGrid[m - 1] - h) || "next" === x.swipeDirection ? x.snapGrid[m] : x.snapGrid[m - 1], x.rtl || (h = -h)
                                    }
                                    if (0 !== x.velocity) u = x.rtl ? Math.abs((-h - x.translate) / x.velocity) : Math.abs((h - x.translate) / x.velocity);
                                    else if (x.params.freeModeSticky) return void x.slideReset();
                                    x.params.freeModeMomentumBounce && p ? (x.updateProgress(d), x.setWrapperTransition(u), x.setWrapperTranslate(h), x.onTransitionStart(), x.animating = !0, x.wrapper.transitionEnd(function() {
                                        x && k && (x.emit("onMomentumBounce", x), x.setWrapperTransition(x.params.speed), x.setWrapperTranslate(d), x.wrapper.transitionEnd(function() {
                                            x && x.onTransitionEnd()
                                        }))
                                    })) : x.velocity ? (x.updateProgress(h), x.setWrapperTransition(u), x.setWrapperTranslate(h), x.onTransitionStart(), x.animating || (x.animating = !0, x.wrapper.transitionEnd(function() {
                                        x && x.onTransitionEnd()
                                    }))) : x.updateProgress(h), x.updateActiveIndex()
                                }
                                return void((!x.params.freeModeMomentum || n >= x.params.longSwipesMs) && (x.updateProgress(), x.updateActiveIndex()))
                            }
                            var v, y = 0,
                                _ = x.slidesSizesGrid[0];
                            for (v = 0; v < x.slidesGrid.length; v += x.params.slidesPerGroup) void 0 !== x.slidesGrid[v + x.params.slidesPerGroup] ? r >= x.slidesGrid[v] && r < x.slidesGrid[v + x.params.slidesPerGroup] && (y = v, _ = x.slidesGrid[v + x.params.slidesPerGroup] - x.slidesGrid[v]) : r >= x.slidesGrid[v] && (y = v, _ = x.slidesGrid[x.slidesGrid.length - 1] - x.slidesGrid[x.slidesGrid.length - 2]);
                            var b = (r - x.slidesGrid[y]) / _;
                            if (n > x.params.longSwipesMs) {
                                if (!x.params.longSwipes) return void x.slideTo(x.activeIndex);
                                "next" === x.swipeDirection && (b >= x.params.longSwipesRatio ? x.slideTo(y + x.params.slidesPerGroup) : x.slideTo(y)), "prev" === x.swipeDirection && (b > 1 - x.params.longSwipesRatio ? x.slideTo(y + x.params.slidesPerGroup) : x.slideTo(y))
                            } else {
                                if (!x.params.shortSwipes) return void x.slideTo(x.activeIndex);
                                "next" === x.swipeDirection && x.slideTo(y + x.params.slidesPerGroup), "prev" === x.swipeDirection && x.slideTo(y)
                            }
                        }
                    }, x._slideTo = function(t, e) {
                        return x.slideTo(t, e, !0, !0)
                    }, x.slideTo = function(t, e, i, n) {
                        void 0 === i && (i = !0), void 0 === t && (t = 0), t < 0 && (t = 0), x.snapIndex = Math.floor(t / x.params.slidesPerGroup), x.snapIndex >= x.snapGrid.length && (x.snapIndex = x.snapGrid.length - 1);
                        var r = -x.snapGrid[x.snapIndex];
                        if (x.params.autoplay && x.autoplaying && (n || !x.params.autoplayDisableOnInteraction ? x.pauseAutoplay(e) : x.stopAutoplay()), x.updateProgress(r), x.params.normalizeSlideIndex)
                            for (var o = 0; o < x.slidesGrid.length; o++) - Math.floor(100 * r) >= Math.floor(100 * x.slidesGrid[o]) && (t = o);
                        return !(!x.params.allowSwipeToNext && r < x.translate && r < x.minTranslate()) && (!(!x.params.allowSwipeToPrev && r > x.translate && r > x.maxTranslate() && (x.activeIndex || 0) !== t) && (void 0 === e && (e = x.params.speed), x.previousIndex = x.activeIndex || 0, x.activeIndex = t, x.updateRealIndex(), x.rtl && -r === x.translate || !x.rtl && r === x.translate ? (x.params.autoHeight && x.updateAutoHeight(), x.updateClasses(), "slide" !== x.params.effect && x.setWrapperTranslate(r), !1) : (x.updateClasses(), x.onTransitionStart(i), 0 === e || x.browser.lteIE9 ? (x.setWrapperTranslate(r), x.setWrapperTransition(0), x.onTransitionEnd(i)) : (x.setWrapperTranslate(r), x.setWrapperTransition(e), x.animating || (x.animating = !0, x.wrapper.transitionEnd(function() {
                            x && x.onTransitionEnd(i)
                        }))), !0)))
                    }, x.onTransitionStart = function(t) {
                        void 0 === t && (t = !0), x.params.autoHeight && x.updateAutoHeight(), x.lazy && x.lazy.onTransitionStart(), t && (x.emit("onTransitionStart", x), x.activeIndex !== x.previousIndex && (x.emit("onSlideChangeStart", x), x.activeIndex > x.previousIndex ? x.emit("onSlideNextStart", x) : x.emit("onSlidePrevStart", x)))
                    }, x.onTransitionEnd = function(t) {
                        x.animating = !1, x.setWrapperTransition(0), void 0 === t && (t = !0), x.lazy && x.lazy.onTransitionEnd(), t && (x.emit("onTransitionEnd", x), x.activeIndex !== x.previousIndex && (x.emit("onSlideChangeEnd", x), x.activeIndex > x.previousIndex ? x.emit("onSlideNextEnd", x) : x.emit("onSlidePrevEnd", x))), x.params.history && x.history && x.history.setHistory(x.params.history, x.activeIndex), x.params.hashnav && x.hashnav && x.hashnav.setHash()
                    }, x.slideNext = function(t, e, i) {
                        if (x.params.loop) {
                            if (x.animating) return !1;
                            x.fixLoop();
                            x.container[0].clientLeft;
                            return x.slideTo(x.activeIndex + x.params.slidesPerGroup, e, t, i)
                        }
                        return x.slideTo(x.activeIndex + x.params.slidesPerGroup, e, t, i)
                    }, x._slideNext = function(t) {
                        return x.slideNext(!0, t, !0)
                    }, x.slidePrev = function(t, e, i) {
                        if (x.params.loop) {
                            if (x.animating) return !1;
                            x.fixLoop();
                            x.container[0].clientLeft;
                            return x.slideTo(x.activeIndex - 1, e, t, i)
                        }
                        return x.slideTo(x.activeIndex - 1, e, t, i)
                    }, x._slidePrev = function(t) {
                        return x.slidePrev(!0, t, !0)
                    }, x.slideReset = function(t, e, i) {
                        return x.slideTo(x.activeIndex, e, t)
                    }, x.disableTouchControl = function() {
                        return x.params.onlyExternal = !0, !0
                    }, x.enableTouchControl = function() {
                        return x.params.onlyExternal = !1, !0
                    }, x.setWrapperTransition = function(t, e) {
                        x.wrapper.transition(t), "slide" !== x.params.effect && x.effects[x.params.effect] && x.effects[x.params.effect].setTransition(t), x.params.parallax && x.parallax && x.parallax.setTransition(t), x.params.scrollbar && x.scrollbar && x.scrollbar.setTransition(t), x.params.control && x.controller && x.controller.setTransition(t, e), x.emit("onSetTransition", x, t)
                    }, x.setWrapperTranslate = function(t, e, i) {
                        var n = 0,
                            r = 0;
                        x.isHorizontal() ? n = x.rtl ? -t : t : r = t, x.params.roundLengths && (n = o(n), r = o(r)), x.params.virtualTranslate || (x.support.transforms3d ? x.wrapper.transform("translate3d(" + n + "px, " + r + "px, 0px)") : x.wrapper.transform("translate(" + n + "px, " + r + "px)")), x.translate = x.isHorizontal() ? n : r;
                        var a, s = x.maxTranslate() - x.minTranslate();
                        a = 0 === s ? 0 : (t - x.minTranslate()) / s, a !== x.progress && x.updateProgress(t), e && x.updateActiveIndex(), "slide" !== x.params.effect && x.effects[x.params.effect] && x.effects[x.params.effect].setTranslate(x.translate), x.params.parallax && x.parallax && x.parallax.setTranslate(x.translate), x.params.scrollbar && x.scrollbar && x.scrollbar.setTranslate(x.translate), x.params.control && x.controller && x.controller.setTranslate(x.translate, i), x.emit("onSetTranslate", x, x.translate)
                    }, x.getTranslate = function(t, e) {
                        var i, n, r, o;
                        return void 0 === e && (e = "x"), x.params.virtualTranslate ? x.rtl ? -x.translate : x.translate : (r = window.getComputedStyle(t, null), window.WebKitCSSMatrix ? (n = r.transform || r.webkitTransform, n.split(",").length > 6 && (n = n.split(", ").map(function(t) {
                            return t.replace(",", ".")
                        }).join(", ")), o = new window.WebKitCSSMatrix("none" === n ? "" : n)) : (o = r.MozTransform || r.OTransform || r.MsTransform || r.msTransform || r.transform || r.getPropertyValue("transform").replace("translate(", "matrix(1, 0, 0, 1,"), i = o.toString().split(",")), "x" === e && (n = window.WebKitCSSMatrix ? o.m41 : 16 === i.length ? parseFloat(i[12]) : parseFloat(i[4])), "y" === e && (n = window.WebKitCSSMatrix ? o.m42 : 16 === i.length ? parseFloat(i[13]) : parseFloat(i[5])), x.rtl && n && (n = -n), n || 0)
                    }, x.getWrapperTranslate = function(t) {
                        return void 0 === t && (t = x.isHorizontal() ? "x" : "y"), x.getTranslate(x.wrapper[0], t)
                    }, x.observers = [], x.initObservers = function() {
                        if (x.params.observeParents)
                            for (var t = x.container.parents(), e = 0; e < t.length; e++) l(t[e]);
                        l(x.container[0], {
                            childList: !1
                        }), l(x.wrapper[0], {
                            attributes: !1
                        })
                    }, x.disconnectObservers = function() {
                        for (var t = 0; t < x.observers.length; t++) x.observers[t].disconnect();
                        x.observers = []
                    }, x.createLoop = function() {
                        x.wrapper.children("." + x.params.slideClass + "." + x.params.slideDuplicateClass).remove();
                        var e = x.wrapper.children("." + x.params.slideClass);
                        "auto" !== x.params.slidesPerView || x.params.loopedSlides || (x.params.loopedSlides = e.length), x.loopedSlides = parseInt(x.params.loopedSlides || x.params.slidesPerView, 10), x.loopedSlides = x.loopedSlides + x.params.loopAdditionalSlides, x.loopedSlides > e.length && (x.loopedSlides = e.length);
                        var i, n = [],
                            r = [];
                        for (e.each(function(i, o) {
                                var a = t(this);
                                i < x.loopedSlides && r.push(o), i < e.length && i >= e.length - x.loopedSlides && n.push(o), a.attr("data-swiper-slide-index", i)
                            }), i = 0; i < r.length; i++) x.wrapper.append(t(r[i].cloneNode(!0)).addClass(x.params.slideDuplicateClass));
                        for (i = n.length - 1; i >= 0; i--) x.wrapper.prepend(t(n[i].cloneNode(!0)).addClass(x.params.slideDuplicateClass))
                    }, x.destroyLoop = function() {
                        x.wrapper.children("." + x.params.slideClass + "." + x.params.slideDuplicateClass).remove(),
                            x.slides.removeAttr("data-swiper-slide-index")
                    }, x.reLoop = function(t) {
                        var e = x.activeIndex - x.loopedSlides;
                        x.destroyLoop(), x.createLoop(), x.updateSlidesSize(), t && x.slideTo(e + x.loopedSlides, 0, !1)
                    }, x.fixLoop = function() {
                        var t;
                        x.activeIndex < x.loopedSlides ? (t = x.slides.length - 3 * x.loopedSlides + x.activeIndex, t += x.loopedSlides, x.slideTo(t, 0, !1, !0)) : ("auto" === x.params.slidesPerView && x.activeIndex >= 2 * x.loopedSlides || x.activeIndex > x.slides.length - 2 * x.params.slidesPerView) && (t = -x.slides.length + x.activeIndex + x.loopedSlides, t += x.loopedSlides, x.slideTo(t, 0, !1, !0))
                    }, x.appendSlide = function(t) {
                        if (x.params.loop && x.destroyLoop(), "object" == typeof t && t.length)
                            for (var e = 0; e < t.length; e++) t[e] && x.wrapper.append(t[e]);
                        else x.wrapper.append(t);
                        x.params.loop && x.createLoop(), x.params.observer && x.support.observer || x.update(!0)
                    }, x.prependSlide = function(t) {
                        x.params.loop && x.destroyLoop();
                        var e = x.activeIndex + 1;
                        if ("object" == typeof t && t.length) {
                            for (var i = 0; i < t.length; i++) t[i] && x.wrapper.prepend(t[i]);
                            e = x.activeIndex + t.length
                        } else x.wrapper.prepend(t);
                        x.params.loop && x.createLoop(), x.params.observer && x.support.observer || x.update(!0), x.slideTo(e, 0, !1)
                    }, x.removeSlide = function(t) {
                        x.params.loop && (x.destroyLoop(), x.slides = x.wrapper.children("." + x.params.slideClass));
                        var e, i = x.activeIndex;
                        if ("object" == typeof t && t.length) {
                            for (var n = 0; n < t.length; n++) e = t[n], x.slides[e] && x.slides.eq(e).remove(), e < i && i--;
                            i = Math.max(i, 0)
                        } else e = t, x.slides[e] && x.slides.eq(e).remove(), e < i && i--, i = Math.max(i, 0);
                        x.params.loop && x.createLoop(), x.params.observer && x.support.observer || x.update(!0), x.params.loop ? x.slideTo(i + x.loopedSlides, 0, !1) : x.slideTo(i, 0, !1)
                    }, x.removeAllSlides = function() {
                        for (var t = [], e = 0; e < x.slides.length; e++) t.push(e);
                        x.removeSlide(t)
                    }, x.effects = {
                        fade: {
                            setTranslate: function() {
                                for (var t = 0; t < x.slides.length; t++) {
                                    var e = x.slides.eq(t),
                                        i = e[0].swiperSlideOffset,
                                        n = -i;
                                    x.params.virtualTranslate || (n -= x.translate);
                                    var r = 0;
                                    x.isHorizontal() || (r = n, n = 0);
                                    var o = x.params.fade.crossFade ? Math.max(1 - Math.abs(e[0].progress), 0) : 1 + Math.min(Math.max(e[0].progress, -1), 0);
                                    e.css({
                                        opacity: o
                                    }).transform("translate3d(" + n + "px, " + r + "px, 0px)")
                                }
                            },
                            setTransition: function(t) {
                                if (x.slides.transition(t), x.params.virtualTranslate && 0 !== t) {
                                    var e = !1;
                                    x.slides.transitionEnd(function() {
                                        if (!e && x) {
                                            e = !0, x.animating = !1;
                                            for (var t = ["webkitTransitionEnd", "transitionend", "oTransitionEnd", "MSTransitionEnd", "msTransitionEnd"], i = 0; i < t.length; i++) x.wrapper.trigger(t[i])
                                        }
                                    })
                                }
                            }
                        },
                        flip: {
                            setTranslate: function() {
                                for (var e = 0; e < x.slides.length; e++) {
                                    var i = x.slides.eq(e),
                                        n = i[0].progress;
                                    x.params.flip.limitRotation && (n = Math.max(Math.min(i[0].progress, 1), -1));
                                    var r = i[0].swiperSlideOffset,
                                        o = -180 * n,
                                        a = o,
                                        s = 0,
                                        l = -r,
                                        u = 0;
                                    if (x.isHorizontal() ? x.rtl && (a = -a) : (u = l, l = 0, s = -a, a = 0), i[0].style.zIndex = -Math.abs(Math.round(n)) + x.slides.length, x.params.flip.slideShadows) {
                                        var c = x.isHorizontal() ? i.find(".swiper-slide-shadow-left") : i.find(".swiper-slide-shadow-top"),
                                            h = x.isHorizontal() ? i.find(".swiper-slide-shadow-right") : i.find(".swiper-slide-shadow-bottom");
                                        0 === c.length && (c = t('<div class="swiper-slide-shadow-' + (x.isHorizontal() ? "left" : "top") + '"></div>'), i.append(c)), 0 === h.length && (h = t('<div class="swiper-slide-shadow-' + (x.isHorizontal() ? "right" : "bottom") + '"></div>'), i.append(h)), c.length && (c[0].style.opacity = Math.max(-n, 0)), h.length && (h[0].style.opacity = Math.max(n, 0))
                                    }
                                    i.transform("translate3d(" + l + "px, " + u + "px, 0px) rotateX(" + s + "deg) rotateY(" + a + "deg)")
                                }
                            },
                            setTransition: function(e) {
                                if (x.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e), x.params.virtualTranslate && 0 !== e) {
                                    var i = !1;
                                    x.slides.eq(x.activeIndex).transitionEnd(function() {
                                        if (!i && x && t(this).hasClass(x.params.slideActiveClass)) {
                                            i = !0, x.animating = !1;
                                            for (var e = ["webkitTransitionEnd", "transitionend", "oTransitionEnd", "MSTransitionEnd", "msTransitionEnd"], n = 0; n < e.length; n++) x.wrapper.trigger(e[n])
                                        }
                                    })
                                }
                            }
                        },
                        cube: {
                            setTranslate: function() {
                                var e, i = 0;
                                x.params.cube.shadow && (x.isHorizontal() ? (e = x.wrapper.find(".swiper-cube-shadow"), 0 === e.length && (e = t('<div class="swiper-cube-shadow"></div>'), x.wrapper.append(e)), e.css({
                                    height: x.width + "px"
                                })) : (e = x.container.find(".swiper-cube-shadow"), 0 === e.length && (e = t('<div class="swiper-cube-shadow"></div>'), x.container.append(e))));
                                for (var n = 0; n < x.slides.length; n++) {
                                    var r = x.slides.eq(n),
                                        o = 90 * n,
                                        a = Math.floor(o / 360);
                                    x.rtl && (o = -o, a = Math.floor(-o / 360));
                                    var s = Math.max(Math.min(r[0].progress, 1), -1),
                                        l = 0,
                                        u = 0,
                                        c = 0;
                                    n % 4 == 0 ? (l = 4 * -a * x.size, c = 0) : (n - 1) % 4 == 0 ? (l = 0, c = 4 * -a * x.size) : (n - 2) % 4 == 0 ? (l = x.size + 4 * a * x.size, c = x.size) : (n - 3) % 4 == 0 && (l = -x.size, c = 3 * x.size + 4 * x.size * a), x.rtl && (l = -l), x.isHorizontal() || (u = l, l = 0);
                                    var h = "rotateX(" + (x.isHorizontal() ? 0 : -o) + "deg) rotateY(" + (x.isHorizontal() ? o : 0) + "deg) translate3d(" + l + "px, " + u + "px, " + c + "px)";
                                    if (s <= 1 && s > -1 && (i = 90 * n + 90 * s, x.rtl && (i = 90 * -n - 90 * s)), r.transform(h), x.params.cube.slideShadows) {
                                        var d = x.isHorizontal() ? r.find(".swiper-slide-shadow-left") : r.find(".swiper-slide-shadow-top"),
                                            p = x.isHorizontal() ? r.find(".swiper-slide-shadow-right") : r.find(".swiper-slide-shadow-bottom");
                                        0 === d.length && (d = t('<div class="swiper-slide-shadow-' + (x.isHorizontal() ? "left" : "top") + '"></div>'), r.append(d)), 0 === p.length && (p = t('<div class="swiper-slide-shadow-' + (x.isHorizontal() ? "right" : "bottom") + '"></div>'), r.append(p)), d.length && (d[0].style.opacity = Math.max(-s, 0)), p.length && (p[0].style.opacity = Math.max(s, 0))
                                    }
                                }
                                if (x.wrapper.css({
                                        "-webkit-transform-origin": "50% 50% -" + x.size / 2 + "px",
                                        "-moz-transform-origin": "50% 50% -" + x.size / 2 + "px",
                                        "-ms-transform-origin": "50% 50% -" + x.size / 2 + "px",
                                        "transform-origin": "50% 50% -" + x.size / 2 + "px"
                                    }), x.params.cube.shadow)
                                    if (x.isHorizontal()) e.transform("translate3d(0px, " + (x.width / 2 + x.params.cube.shadowOffset) + "px, " + -x.width / 2 + "px) rotateX(90deg) rotateZ(0deg) scale(" + x.params.cube.shadowScale + ")");
                                    else {
                                        var f = Math.abs(i) - 90 * Math.floor(Math.abs(i) / 90),
                                            m = 1.5 - (Math.sin(2 * f * Math.PI / 360) / 2 + Math.cos(2 * f * Math.PI / 360) / 2),
                                            g = x.params.cube.shadowScale,
                                            v = x.params.cube.shadowScale / m,
                                            y = x.params.cube.shadowOffset;
                                        e.transform("scale3d(" + g + ", 1, " + v + ") translate3d(0px, " + (x.height / 2 + y) + "px, " + -x.height / 2 / v + "px) rotateX(-90deg)")
                                    }
                                var _ = x.isSafari || x.isUiWebView ? -x.size / 2 : 0;
                                x.wrapper.transform("translate3d(0px,0," + _ + "px) rotateX(" + (x.isHorizontal() ? 0 : i) + "deg) rotateY(" + (x.isHorizontal() ? -i : 0) + "deg)")
                            },
                            setTransition: function(t) {
                                x.slides.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t), x.params.cube.shadow && !x.isHorizontal() && x.container.find(".swiper-cube-shadow").transition(t)
                            }
                        },
                        coverflow: {
                            setTranslate: function() {
                                for (var e = x.translate, i = x.isHorizontal() ? -e + x.width / 2 : -e + x.height / 2, n = x.isHorizontal() ? x.params.coverflow.rotate : -x.params.coverflow.rotate, r = x.params.coverflow.depth, o = 0, a = x.slides.length; o < a; o++) {
                                    var s = x.slides.eq(o),
                                        l = x.slidesSizesGrid[o],
                                        u = s[0].swiperSlideOffset,
                                        c = (i - u - l / 2) / l * x.params.coverflow.modifier,
                                        h = x.isHorizontal() ? n * c : 0,
                                        d = x.isHorizontal() ? 0 : n * c,
                                        p = -r * Math.abs(c),
                                        f = x.isHorizontal() ? 0 : x.params.coverflow.stretch * c,
                                        m = x.isHorizontal() ? x.params.coverflow.stretch * c : 0;
                                    Math.abs(m) < .001 && (m = 0), Math.abs(f) < .001 && (f = 0), Math.abs(p) < .001 && (p = 0), Math.abs(h) < .001 && (h = 0), Math.abs(d) < .001 && (d = 0);
                                    var g = "translate3d(" + m + "px," + f + "px," + p + "px)  rotateX(" + d + "deg) rotateY(" + h + "deg)";
                                    if (s.transform(g), s[0].style.zIndex = 1 - Math.abs(Math.round(c)), x.params.coverflow.slideShadows) {
                                        var v = x.isHorizontal() ? s.find(".swiper-slide-shadow-left") : s.find(".swiper-slide-shadow-top"),
                                            y = x.isHorizontal() ? s.find(".swiper-slide-shadow-right") : s.find(".swiper-slide-shadow-bottom");
                                        0 === v.length && (v = t('<div class="swiper-slide-shadow-' + (x.isHorizontal() ? "left" : "top") + '"></div>'), s.append(v)), 0 === y.length && (y = t('<div class="swiper-slide-shadow-' + (x.isHorizontal() ? "right" : "bottom") + '"></div>'), s.append(y)), v.length && (v[0].style.opacity = c > 0 ? c : 0), y.length && (y[0].style.opacity = -c > 0 ? -c : 0)
                                    }
                                }
                                if (x.browser.ie) {
                                    x.wrapper[0].style.perspectiveOrigin = i + "px 50%"
                                }
                            },
                            setTransition: function(t) {
                                x.slides.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t)
                            }
                        }
                    }, x.lazy = {
                        initialImageLoaded: !1,
                        loadImageInSlide: function(e, i) {
                            if (void 0 !== e && (void 0 === i && (i = !0), 0 !== x.slides.length)) {
                                var n = x.slides.eq(e),
                                    r = n.find("." + x.params.lazyLoadingClass + ":not(." + x.params.lazyStatusLoadedClass + "):not(." + x.params.lazyStatusLoadingClass + ")");
                                !n.hasClass(x.params.lazyLoadingClass) || n.hasClass(x.params.lazyStatusLoadedClass) || n.hasClass(x.params.lazyStatusLoadingClass) || (r = r.add(n[0])), 0 !== r.length && r.each(function() {
                                    var e = t(this);
                                    e.addClass(x.params.lazyStatusLoadingClass);
                                    var r = e.attr("data-background"),
                                        o = e.attr("data-src"),
                                        a = e.attr("data-srcset"),
                                        s = e.attr("data-sizes");
                                    x.loadImage(e[0], o || r, a, s, !1, function() {
                                        if (void 0 !== x && null !== x && x) {
                                            if (r ? (e.css("background-image", 'url("' + r + '")'), e.removeAttr("data-background")) : (a && (e.attr("srcset", a), e.removeAttr("data-srcset")), s && (e.attr("sizes", s), e.removeAttr("data-sizes")), o && (e.attr("src", o), e.removeAttr("data-src"))), e.addClass(x.params.lazyStatusLoadedClass).removeClass(x.params.lazyStatusLoadingClass), n.find("." + x.params.lazyPreloaderClass + ", ." + x.params.preloaderClass).remove(), x.params.loop && i) {
                                                var t = n.attr("data-swiper-slide-index");
                                                if (n.hasClass(x.params.slideDuplicateClass)) {
                                                    var l = x.wrapper.children('[data-swiper-slide-index="' + t + '"]:not(.' + x.params.slideDuplicateClass + ")");
                                                    x.lazy.loadImageInSlide(l.index(), !1)
                                                } else {
                                                    var u = x.wrapper.children("." + x.params.slideDuplicateClass + '[data-swiper-slide-index="' + t + '"]');
                                                    x.lazy.loadImageInSlide(u.index(), !1)
                                                }
                                            }
                                            x.emit("onLazyImageReady", x, n[0], e[0])
                                        }
                                    }), x.emit("onLazyImageLoad", x, n[0], e[0])
                                })
                            }
                        },
                        load: function() {
                            var e, i = x.params.slidesPerView;
                            if ("auto" === i && (i = 0), x.lazy.initialImageLoaded || (x.lazy.initialImageLoaded = !0), x.params.watchSlidesVisibility) x.wrapper.children("." + x.params.slideVisibleClass).each(function() {
                                x.lazy.loadImageInSlide(t(this).index())
                            });
                            else if (i > 1)
                                for (e = x.activeIndex; e < x.activeIndex + i; e++) x.slides[e] && x.lazy.loadImageInSlide(e);
                            else x.lazy.loadImageInSlide(x.activeIndex);
                            if (x.params.lazyLoadingInPrevNext)
                                if (i > 1 || x.params.lazyLoadingInPrevNextAmount && x.params.lazyLoadingInPrevNextAmount > 1) {
                                    var n = x.params.lazyLoadingInPrevNextAmount,
                                        r = i,
                                        o = Math.min(x.activeIndex + r + Math.max(n, r), x.slides.length),
                                        a = Math.max(x.activeIndex - Math.max(r, n), 0);
                                    for (e = x.activeIndex + i; e < o; e++) x.slides[e] && x.lazy.loadImageInSlide(e);
                                    for (e = a; e < x.activeIndex; e++) x.slides[e] && x.lazy.loadImageInSlide(e)
                                } else {
                                    var s = x.wrapper.children("." + x.params.slideNextClass);
                                    s.length > 0 && x.lazy.loadImageInSlide(s.index());
                                    var l = x.wrapper.children("." + x.params.slidePrevClass);
                                    l.length > 0 && x.lazy.loadImageInSlide(l.index())
                                }
                        },
                        onTransitionStart: function() {
                            x.params.lazyLoading && (x.params.lazyLoadingOnTransitionStart || !x.params.lazyLoadingOnTransitionStart && !x.lazy.initialImageLoaded) && x.lazy.load()
                        },
                        onTransitionEnd: function() {
                            x.params.lazyLoading && !x.params.lazyLoadingOnTransitionStart && x.lazy.load()
                        }
                    }, x.scrollbar = {
                        isTouched: !1,
                        setDragPosition: function(t) {
                            var e = x.scrollbar,
                                i = x.isHorizontal() ? "touchstart" === t.type || "touchmove" === t.type ? t.targetTouches[0].pageX : t.pageX || t.clientX : "touchstart" === t.type || "touchmove" === t.type ? t.targetTouches[0].pageY : t.pageY || t.clientY,
                                n = i - e.track.offset()[x.isHorizontal() ? "left" : "top"] - e.dragSize / 2,
                                r = -x.minTranslate() * e.moveDivider,
                                o = -x.maxTranslate() * e.moveDivider;
                            n < r ? n = r : n > o && (n = o), n = -n / e.moveDivider, x.updateProgress(n), x.setWrapperTranslate(n, !0)
                        },
                        dragStart: function(t) {
                            var e = x.scrollbar;
                            e.isTouched = !0, t.preventDefault(), t.stopPropagation(), e.setDragPosition(t), clearTimeout(e.dragTimeout), e.track.transition(0), x.params.scrollbarHide && e.track.css("opacity", 1), x.wrapper.transition(100), e.drag.transition(100), x.emit("onScrollbarDragStart", x)
                        },
                        dragMove: function(t) {
                            var e = x.scrollbar;
                            e.isTouched && (t.preventDefault ? t.preventDefault() : t.returnValue = !1, e.setDragPosition(t), x.wrapper.transition(0), e.track.transition(0), e.drag.transition(0), x.emit("onScrollbarDragMove", x))
                        },
                        dragEnd: function(t) {
                            var e = x.scrollbar;
                            e.isTouched && (e.isTouched = !1, x.params.scrollbarHide && (clearTimeout(e.dragTimeout), e.dragTimeout = setTimeout(function() {
                                e.track.css("opacity", 0), e.track.transition(400)
                            }, 1e3)), x.emit("onScrollbarDragEnd", x), x.params.scrollbarSnapOnRelease && x.slideReset())
                        },
                        draggableEvents: function() {
                            return x.params.simulateTouch !== !1 || x.support.touch ? x.touchEvents : x.touchEventsDesktop
                        }(),
                        enableDraggable: function() {
                            var e = x.scrollbar,
                                i = x.support.touch ? e.track : document;
                            t(e.track).on(e.draggableEvents.start, e.dragStart), t(i).on(e.draggableEvents.move, e.dragMove), t(i).on(e.draggableEvents.end, e.dragEnd)
                        },
                        disableDraggable: function() {
                            var e = x.scrollbar,
                                i = x.support.touch ? e.track : document;
                            t(e.track).off(e.draggableEvents.start, e.dragStart), t(i).off(e.draggableEvents.move, e.dragMove), t(i).off(e.draggableEvents.end, e.dragEnd)
                        },
                        set: function() {
                            if (x.params.scrollbar) {
                                var e = x.scrollbar;
                                e.track = t(x.params.scrollbar), x.params.uniqueNavElements && "string" == typeof x.params.scrollbar && e.track.length > 1 && 1 === x.container.find(x.params.scrollbar).length && (e.track = x.container.find(x.params.scrollbar)), e.drag = e.track.find(".swiper-scrollbar-drag"), 0 === e.drag.length && (e.drag = t('<div class="swiper-scrollbar-drag"></div>'), e.track.append(e.drag)), e.drag[0].style.width = "", e.drag[0].style.height = "", e.trackSize = x.isHorizontal() ? e.track[0].offsetWidth : e.track[0].offsetHeight, e.divider = x.size / x.virtualSize, e.moveDivider = e.divider * (e.trackSize / x.size), e.dragSize = e.trackSize * e.divider, x.isHorizontal() ? e.drag[0].style.width = e.dragSize + "px" : e.drag[0].style.height = e.dragSize + "px", e.divider >= 1 ? e.track[0].style.display = "none" : e.track[0].style.display = "", x.params.scrollbarHide && (e.track[0].style.opacity = 0)
                            }
                        },
                        setTranslate: function() {
                            if (x.params.scrollbar) {
                                var t, e = x.scrollbar,
                                    i = (x.translate, e.dragSize);
                                t = (e.trackSize - e.dragSize) * x.progress, x.rtl && x.isHorizontal() ? (t = -t, t > 0 ? (i = e.dragSize - t, t = 0) : -t + e.dragSize > e.trackSize && (i = e.trackSize + t)) : t < 0 ? (i = e.dragSize + t, t = 0) : t + e.dragSize > e.trackSize && (i = e.trackSize - t), x.isHorizontal() ? (x.support.transforms3d ? e.drag.transform("translate3d(" + t + "px, 0, 0)") : e.drag.transform("translateX(" + t + "px)"), e.drag[0].style.width = i + "px") : (x.support.transforms3d ? e.drag.transform("translate3d(0px, " + t + "px, 0)") : e.drag.transform("translateY(" + t + "px)"), e.drag[0].style.height = i + "px"), x.params.scrollbarHide && (clearTimeout(e.timeout), e.track[0].style.opacity = 1, e.timeout = setTimeout(function() {
                                    e.track[0].style.opacity = 0, e.track.transition(400)
                                }, 1e3))
                            }
                        },
                        setTransition: function(t) {
                            x.params.scrollbar && x.scrollbar.drag.transition(t)
                        }
                    }, x.controller = {
                        LinearSpline: function(t, e) {
                            var i = function() {
                                var t, e, i;
                                return function(n, r) {
                                    for (e = -1, t = n.length; t - e > 1;) n[i = t + e >> 1] <= r ? e = i : t = i;
                                    return t
                                }
                            }();
                            this.x = t, this.y = e, this.lastIndex = t.length - 1;
                            var n, r;
                            this.x.length;
                            this.interpolate = function(t) {
                                return t ? (r = i(this.x, t), n = r - 1, (t - this.x[n]) * (this.y[r] - this.y[n]) / (this.x[r] - this.x[n]) + this.y[n]) : 0
                            }
                        },
                        getInterpolateFunction: function(t) {
                            x.controller.spline || (x.controller.spline = x.params.loop ? new x.controller.LinearSpline(x.slidesGrid, t.slidesGrid) : new x.controller.LinearSpline(x.snapGrid, t.snapGrid))
                        },
                        setTranslate: function(t, i) {
                            function n(e) {
                                t = e.rtl && "horizontal" === e.params.direction ? -x.translate : x.translate, "slide" === x.params.controlBy && (x.controller.getInterpolateFunction(e), o = -x.controller.spline.interpolate(-t)), o && "container" !== x.params.controlBy || (r = (e.maxTranslate() - e.minTranslate()) / (x.maxTranslate() - x.minTranslate()), o = (t - x.minTranslate()) * r + e.minTranslate()), x.params.controlInverse && (o = e.maxTranslate() - o), e.updateProgress(o), e.setWrapperTranslate(o, !1, x), e.updateActiveIndex()
                            }
                            var r, o, a = x.params.control;
                            if (Array.isArray(a))
                                for (var s = 0; s < a.length; s++) a[s] !== i && a[s] instanceof e && n(a[s]);
                            else a instanceof e && i !== a && n(a)
                        },
                        setTransition: function(t, i) {
                            function n(e) {
                                e.setWrapperTransition(t, x), 0 !== t && (e.onTransitionStart(), e.wrapper.transitionEnd(function() {
                                    o && (e.params.loop && "slide" === x.params.controlBy && e.fixLoop(), e.onTransitionEnd())
                                }))
                            }
                            var r, o = x.params.control;
                            if (Array.isArray(o))
                                for (r = 0; r < o.length; r++) o[r] !== i && o[r] instanceof e && n(o[r]);
                            else o instanceof e && i !== o && n(o)
                        }
                    }, x.hashnav = {
                        onHashCange: function(t, e) {
                            var i = document.location.hash.replace("#", "");
                            i !== x.slides.eq(x.activeIndex).attr("data-hash") && x.slideTo(x.wrapper.children("." + x.params.slideClass + '[data-hash="' + i + '"]').index())
                        },
                        attachEvents: function(e) {
                            var i = e ? "off" : "on";
                            t(window)[i]("hashchange", x.hashnav.onHashCange)
                        },
                        setHash: function() {
                            if (x.hashnav.initialized && x.params.hashnav)
                                if (x.params.replaceState && window.history && window.history.replaceState) window.history.replaceState(null, null, "#" + x.slides.eq(x.activeIndex).attr("data-hash") || "");
                                else {
                                    var t = x.slides.eq(x.activeIndex),
                                        e = t.attr("data-hash") || t.attr("data-history");
                                    document.location.hash = e || ""
                                }
                        },
                        init: function() {
                            if (x.params.hashnav && !x.params.history) {
                                x.hashnav.initialized = !0;
                                var t = document.location.hash.replace("#", "");
                                if (t)
                                    for (var e = 0, i = x.slides.length; e < i; e++) {
                                        var n = x.slides.eq(e),
                                            r = n.attr("data-hash") || n.attr("data-history");
                                        if (r === t && !n.hasClass(x.params.slideDuplicateClass)) {
                                            var o = n.index();
                                            x.slideTo(o, 0, x.params.runCallbacksOnInit, !0)
                                        }
                                    }
                                x.params.hashnavWatchState && x.hashnav.attachEvents()
                            }
                        },
                        destroy: function() {
                            x.params.hashnavWatchState && x.hashnav.attachEvents(!0)
                        }
                    }, x.history = {
                        init: function() {
                            if (x.params.history) {
                                if (!window.history || !window.history.pushState) return x.params.history = !1, void(x.params.hashnav = !0);
                                x.history.initialized = !0, this.paths = this.getPathValues(), (this.paths.key || this.paths.value) && (this.scrollToSlide(0, this.paths.value, x.params.runCallbacksOnInit), x.params.replaceState || window.addEventListener("popstate", this.setHistoryPopState))
                            }
                        },
                        setHistoryPopState: function() {
                            x.history.paths = x.history.getPathValues(), x.history.scrollToSlide(x.params.speed, x.history.paths.value, !1)
                        },
                        getPathValues: function() {
                            var t = window.location.pathname.slice(1).split("/"),
                                e = t.length;
                            return {
                                key: t[e - 2],
                                value: t[e - 1]
                            }
                        },
                        setHistory: function(t, e) {
                            if (x.history.initialized && x.params.history) {
                                var i = x.slides.eq(e),
                                    n = this.slugify(i.attr("data-history"));
                                window.location.pathname.includes(t) || (n = t + "/" + n), x.params.replaceState ? window.history.replaceState(null, null, n) : window.history.pushState(null, null, n)
                            }
                        },
                        slugify: function(t) {
                            return t.toString().toLowerCase().replace(/\s+/g, "-").replace(/[^\w\-]+/g, "").replace(/\-\-+/g, "-").replace(/^-+/, "").replace(/-+$/, "")
                        },
                        scrollToSlide: function(t, e, i) {
                            if (e)
                                for (var n = 0, r = x.slides.length; n < r; n++) {
                                    var o = x.slides.eq(n),
                                        a = this.slugify(o.attr("data-history"));
                                    if (a === e && !o.hasClass(x.params.slideDuplicateClass)) {
                                        var s = o.index();
                                        x.slideTo(s, t, i)
                                    }
                                } else x.slideTo(0, t, i)
                        }
                    }, x.disableKeyboardControl = function() {
                        x.params.keyboardControl = !1, t(document).off("keydown", u)
                    }, x.enableKeyboardControl = function() {
                        x.params.keyboardControl = !0, t(document).on("keydown", u)
                    }, x.mousewheel = {
                        event: !1,
                        lastScrollTime: (new window.Date).getTime()
                    }, x.params.mousewheelControl && (x.mousewheel.event = navigator.userAgent.indexOf("firefox") > -1 ? "DOMMouseScroll" : function() {
                        var t = "onwheel" in document;
                        if (!t) {
                            var e = document.createElement("div");
                            e.setAttribute("onwheel", "return;"), t = "function" == typeof e.onwheel
                        }
                        return !t && document.implementation && document.implementation.hasFeature && document.implementation.hasFeature("", "") !== !0 && (t = document.implementation.hasFeature("Events.wheel", "3.0")), t
                    }() ? "wheel" : "mousewheel"), x.disableMousewheelControl = function() {
                        if (!x.mousewheel.event) return !1;
                        var e = x.container;
                        return "container" !== x.params.mousewheelEventsTarged && (e = t(x.params.mousewheelEventsTarged)), e.off(x.mousewheel.event, h), x.params.mousewheelControl = !1, !0
                    }, x.enableMousewheelControl = function() {
                        if (!x.mousewheel.event) return !1;
                        var e = x.container;
                        return "container" !== x.params.mousewheelEventsTarged && (e = t(x.params.mousewheelEventsTarged)), e.on(x.mousewheel.event, h), x.params.mousewheelControl = !0, !0
                    }, x.parallax = {
                        setTranslate: function() {
                            x.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function() {
                                d(this, x.progress)
                            }), x.slides.each(function() {
                                var e = t(this);
                                e.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function() {
                                    d(this, Math.min(Math.max(e[0].progress, -1), 1))
                                })
                            })
                        },
                        setTransition: function(e) {
                            void 0 === e && (e = x.params.speed), x.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function() {
                                var i = t(this),
                                    n = parseInt(i.attr("data-swiper-parallax-duration"), 10) || e;
                                0 === e && (n = 0), i.transition(n)
                            })
                        }
                    }, x.zoom = {
                        scale: 1,
                        currentScale: 1,
                        isScaling: !1,
                        gesture: {
                            slide: void 0,
                            slideWidth: void 0,
                            slideHeight: void 0,
                            image: void 0,
                            imageWrap: void 0,
                            zoomMax: x.params.zoomMax
                        },
                        image: {
                            isTouched: void 0,
                            isMoved: void 0,
                            currentX: void 0,
                            currentY: void 0,
                            minX: void 0,
                            minY: void 0,
                            maxX: void 0,
                            maxY: void 0,
                            width: void 0,
                            height: void 0,
                            startX: void 0,
                            startY: void 0,
                            touchesStart: {},
                            touchesCurrent: {}
                        },
                        velocity: {
                            x: void 0,
                            y: void 0,
                            prevPositionX: void 0,
                            prevPositionY: void 0,
                            prevTime: void 0
                        },
                        getDistanceBetweenTouches: function(t) {
                            if (t.targetTouches.length < 2) return 1;
                            var e = t.targetTouches[0].pageX,
                                i = t.targetTouches[0].pageY,
                                n = t.targetTouches[1].pageX,
                                r = t.targetTouches[1].pageY;
                            return Math.sqrt(Math.pow(n - e, 2) + Math.pow(r - i, 2))
                        },
                        onGestureStart: function(e) {
                            var i = x.zoom;
                            if (!x.support.gestures) {
                                if ("touchstart" !== e.type || "touchstart" === e.type && e.targetTouches.length < 2) return;
                                i.gesture.scaleStart = i.getDistanceBetweenTouches(e)
                            }
                            if (!(i.gesture.slide && i.gesture.slide.length || (i.gesture.slide = t(this), 0 === i.gesture.slide.length && (i.gesture.slide = x.slides.eq(x.activeIndex)), i.gesture.image = i.gesture.slide.find("img, svg, canvas"), i.gesture.imageWrap = i.gesture.image.parent("." + x.params.zoomContainerClass), i.gesture.zoomMax = i.gesture.imageWrap.attr("data-swiper-zoom") || x.params.zoomMax, 0 !== i.gesture.imageWrap.length))) return void(i.gesture.image = void 0);
                            i.gesture.image.transition(0), i.isScaling = !0
                        },
                        onGestureChange: function(t) {
                            var e = x.zoom;
                            if (!x.support.gestures) {
                                if ("touchmove" !== t.type || "touchmove" === t.type && t.targetTouches.length < 2) return;
                                e.gesture.scaleMove = e.getDistanceBetweenTouches(t)
                            }
                            e.gesture.image && 0 !== e.gesture.image.length && (x.support.gestures ? e.scale = t.scale * e.currentScale : e.scale = e.gesture.scaleMove / e.gesture.scaleStart * e.currentScale, e.scale > e.gesture.zoomMax && (e.scale = e.gesture.zoomMax - 1 + Math.pow(e.scale - e.gesture.zoomMax + 1, .5)), e.scale < x.params.zoomMin && (e.scale = x.params.zoomMin + 1 - Math.pow(x.params.zoomMin - e.scale + 1, .5)), e.gesture.image.transform("translate3d(0,0,0) scale(" + e.scale + ")"))
                        },
                        onGestureEnd: function(t) {
                            var e = x.zoom;
                            !x.support.gestures && ("touchend" !== t.type || "touchend" === t.type && t.changedTouches.length < 2) || e.gesture.image && 0 !== e.gesture.image.length && (e.scale = Math.max(Math.min(e.scale, e.gesture.zoomMax), x.params.zoomMin), e.gesture.image.transition(x.params.speed).transform("translate3d(0,0,0) scale(" + e.scale + ")"), e.currentScale = e.scale, e.isScaling = !1, 1 === e.scale && (e.gesture.slide = void 0))
                        },
                        onTouchStart: function(t, e) {
                            var i = t.zoom;
                            i.gesture.image && 0 !== i.gesture.image.length && (i.image.isTouched || ("android" === t.device.os && e.preventDefault(), i.image.isTouched = !0, i.image.touchesStart.x = "touchstart" === e.type ? e.targetTouches[0].pageX : e.pageX, i.image.touchesStart.y = "touchstart" === e.type ? e.targetTouches[0].pageY : e.pageY))
                        },
                        onTouchMove: function(t) {
                            var e = x.zoom;
                            if (e.gesture.image && 0 !== e.gesture.image.length && (x.allowClick = !1, e.image.isTouched && e.gesture.slide)) {
                                e.image.isMoved || (e.image.width = e.gesture.image[0].offsetWidth, e.image.height = e.gesture.image[0].offsetHeight, e.image.startX = x.getTranslate(e.gesture.imageWrap[0], "x") || 0, e.image.startY = x.getTranslate(e.gesture.imageWrap[0], "y") || 0, e.gesture.slideWidth = e.gesture.slide[0].offsetWidth, e.gesture.slideHeight = e.gesture.slide[0].offsetHeight, e.gesture.imageWrap.transition(0), x.rtl && (e.image.startX = -e.image.startX), x.rtl && (e.image.startY = -e.image.startY));
                                var i = e.image.width * e.scale,
                                    n = e.image.height * e.scale;
                                if (!(i < e.gesture.slideWidth && n < e.gesture.slideHeight)) {
                                    if (e.image.minX = Math.min(e.gesture.slideWidth / 2 - i / 2, 0), e.image.maxX = -e.image.minX, e.image.minY = Math.min(e.gesture.slideHeight / 2 - n / 2, 0), e.image.maxY = -e.image.minY, e.image.touchesCurrent.x = "touchmove" === t.type ? t.targetTouches[0].pageX : t.pageX, e.image.touchesCurrent.y = "touchmove" === t.type ? t.targetTouches[0].pageY : t.pageY, !e.image.isMoved && !e.isScaling) {
                                        if (x.isHorizontal() && Math.floor(e.image.minX) === Math.floor(e.image.startX) && e.image.touchesCurrent.x < e.image.touchesStart.x || Math.floor(e.image.maxX) === Math.floor(e.image.startX) && e.image.touchesCurrent.x > e.image.touchesStart.x) return void(e.image.isTouched = !1);
                                        if (!x.isHorizontal() && Math.floor(e.image.minY) === Math.floor(e.image.startY) && e.image.touchesCurrent.y < e.image.touchesStart.y || Math.floor(e.image.maxY) === Math.floor(e.image.startY) && e.image.touchesCurrent.y > e.image.touchesStart.y) return void(e.image.isTouched = !1)
                                    }
                                    t.preventDefault(), t.stopPropagation(), e.image.isMoved = !0, e.image.currentX = e.image.touchesCurrent.x - e.image.touchesStart.x + e.image.startX, e.image.currentY = e.image.touchesCurrent.y - e.image.touchesStart.y + e.image.startY, e.image.currentX < e.image.minX && (e.image.currentX = e.image.minX + 1 - Math.pow(e.image.minX - e.image.currentX + 1, .8)), e.image.currentX > e.image.maxX && (e.image.currentX = e.image.maxX - 1 + Math.pow(e.image.currentX - e.image.maxX + 1, .8)), e.image.currentY < e.image.minY && (e.image.currentY = e.image.minY + 1 - Math.pow(e.image.minY - e.image.currentY + 1, .8)), e.image.currentY > e.image.maxY && (e.image.currentY = e.image.maxY - 1 + Math.pow(e.image.currentY - e.image.maxY + 1, .8)), e.velocity.prevPositionX || (e.velocity.prevPositionX = e.image.touchesCurrent.x), e.velocity.prevPositionY || (e.velocity.prevPositionY = e.image.touchesCurrent.y), e.velocity.prevTime || (e.velocity.prevTime = Date.now()), e.velocity.x = (e.image.touchesCurrent.x - e.velocity.prevPositionX) / (Date.now() - e.velocity.prevTime) / 2, e.velocity.y = (e.image.touchesCurrent.y - e.velocity.prevPositionY) / (Date.now() - e.velocity.prevTime) / 2, Math.abs(e.image.touchesCurrent.x - e.velocity.prevPositionX) < 2 && (e.velocity.x = 0), Math.abs(e.image.touchesCurrent.y - e.velocity.prevPositionY) < 2 && (e.velocity.y = 0), e.velocity.prevPositionX = e.image.touchesCurrent.x, e.velocity.prevPositionY = e.image.touchesCurrent.y, e.velocity.prevTime = Date.now(), e.gesture.imageWrap.transform("translate3d(" + e.image.currentX + "px, " + e.image.currentY + "px,0)")
                                }
                            }
                        },
                        onTouchEnd: function(t, e) {
                            var i = t.zoom;
                            if (i.gesture.image && 0 !== i.gesture.image.length) {
                                if (!i.image.isTouched || !i.image.isMoved) return i.image.isTouched = !1, void(i.image.isMoved = !1);
                                i.image.isTouched = !1, i.image.isMoved = !1;
                                var n = 300,
                                    r = 300,
                                    o = i.velocity.x * n,
                                    a = i.image.currentX + o,
                                    s = i.velocity.y * r,
                                    l = i.image.currentY + s;
                                0 !== i.velocity.x && (n = Math.abs((a - i.image.currentX) / i.velocity.x)), 0 !== i.velocity.y && (r = Math.abs((l - i.image.currentY) / i.velocity.y));
                                var u = Math.max(n, r);
                                i.image.currentX = a, i.image.currentY = l;
                                var c = i.image.width * i.scale,
                                    h = i.image.height * i.scale;
                                i.image.minX = Math.min(i.gesture.slideWidth / 2 - c / 2, 0), i.image.maxX = -i.image.minX, i.image.minY = Math.min(i.gesture.slideHeight / 2 - h / 2, 0), i.image.maxY = -i.image.minY, i.image.currentX = Math.max(Math.min(i.image.currentX, i.image.maxX), i.image.minX), i.image.currentY = Math.max(Math.min(i.image.currentY, i.image.maxY), i.image.minY), i.gesture.imageWrap.transition(u).transform("translate3d(" + i.image.currentX + "px, " + i.image.currentY + "px,0)")
                            }
                        },
                        onTransitionEnd: function(t) {
                            var e = t.zoom;
                            e.gesture.slide && t.previousIndex !== t.activeIndex && (e.gesture.image.transform("translate3d(0,0,0) scale(1)"), e.gesture.imageWrap.transform("translate3d(0,0,0)"), e.gesture.slide = e.gesture.image = e.gesture.imageWrap = void 0, e.scale = e.currentScale = 1)
                        },
                        toggleZoom: function(e, i) {
                            var n = e.zoom;
                            if (n.gesture.slide || (n.gesture.slide = e.clickedSlide ? t(e.clickedSlide) : e.slides.eq(e.activeIndex), n.gesture.image = n.gesture.slide.find("img, svg, canvas"), n.gesture.imageWrap = n.gesture.image.parent("." + e.params.zoomContainerClass)), n.gesture.image && 0 !== n.gesture.image.length) {
                                var r, o, a, s, l, u, c, h, d, p, f, m, g, v, y, _, b, x;
                                void 0 === n.image.touchesStart.x && i ? (r = "touchend" === i.type ? i.changedTouches[0].pageX : i.pageX, o = "touchend" === i.type ? i.changedTouches[0].pageY : i.pageY) : (r = n.image.touchesStart.x, o = n.image.touchesStart.y), n.scale && 1 !== n.scale ? (n.scale = n.currentScale = 1, n.gesture.imageWrap.transition(300).transform("translate3d(0,0,0)"), n.gesture.image.transition(300).transform("translate3d(0,0,0) scale(1)"), n.gesture.slide = void 0) : (n.scale = n.currentScale = n.gesture.imageWrap.attr("data-swiper-zoom") || e.params.zoomMax, i ? (b = n.gesture.slide[0].offsetWidth, x = n.gesture.slide[0].offsetHeight, a = n.gesture.slide.offset().left, s = n.gesture.slide.offset().top, l = a + b / 2 - r, u = s + x / 2 - o, d = n.gesture.image[0].offsetWidth, p = n.gesture.image[0].offsetHeight, f = d * n.scale, m = p * n.scale, g = Math.min(b / 2 - f / 2, 0), v = Math.min(x / 2 - m / 2, 0), y = -g, _ = -v, c = l * n.scale, h = u * n.scale, c < g && (c = g), c > y && (c = y), h < v && (h = v), h > _ && (h = _)) : (c = 0, h = 0), n.gesture.imageWrap.transition(300).transform("translate3d(" + c + "px, " + h + "px,0)"), n.gesture.image.transition(300).transform("translate3d(0,0,0) scale(" + n.scale + ")"))
                            }
                        },
                        attachEvents: function(e) {
                            var i = e ? "off" : "on";
                            if (x.params.zoom) {
                                var n = (x.slides, !("touchstart" !== x.touchEvents.start || !x.support.passiveListener || !x.params.passiveListeners) && {
                                    passive: !0,
                                    capture: !1
                                });
                                x.support.gestures ? (x.slides[i]("gesturestart", x.zoom.onGestureStart, n), x.slides[i]("gesturechange", x.zoom.onGestureChange, n), x.slides[i]("gestureend", x.zoom.onGestureEnd, n)) : "touchstart" === x.touchEvents.start && (x.slides[i](x.touchEvents.start, x.zoom.onGestureStart, n), x.slides[i](x.touchEvents.move, x.zoom.onGestureChange, n), x.slides[i](x.touchEvents.end, x.zoom.onGestureEnd, n)), x[i]("touchStart", x.zoom.onTouchStart), x.slides.each(function(e, n) {
                                    t(n).find("." + x.params.zoomContainerClass).length > 0 && t(n)[i](x.touchEvents.move, x.zoom.onTouchMove)
                                }), x[i]("touchEnd", x.zoom.onTouchEnd), x[i]("transitionEnd", x.zoom.onTransitionEnd), x.params.zoomToggle && x.on("doubleTap", x.zoom.toggleZoom)
                            }
                        },
                        init: function() {
                            x.zoom.attachEvents()
                        },
                        destroy: function() {
                            x.zoom.attachEvents(!0)
                        }
                    }, x._plugins = [];
                    for (var F in x.plugins) {
                        var N = x.plugins[F](x, x.params[F]);
                        N && x._plugins.push(N)
                    }
                    return x.callPlugins = function(t) {
                        for (var e = 0; e < x._plugins.length; e++) t in x._plugins[e] && x._plugins[e][t](arguments[1], arguments[2], arguments[3], arguments[4], arguments[5])
                    }, x.emitterEventListeners = {}, x.emit = function(t) {
                        x.params[t] && x.params[t](arguments[1], arguments[2], arguments[3], arguments[4], arguments[5]);
                        var e;
                        if (x.emitterEventListeners[t])
                            for (e = 0; e < x.emitterEventListeners[t].length; e++) x.emitterEventListeners[t][e](arguments[1], arguments[2], arguments[3], arguments[4], arguments[5]);
                        x.callPlugins && x.callPlugins(t, arguments[1], arguments[2], arguments[3], arguments[4], arguments[5])
                    }, x.on = function(t, e) {
                        return t = p(t), x.emitterEventListeners[t] || (x.emitterEventListeners[t] = []), x.emitterEventListeners[t].push(e), x
                    }, x.off = function(t, e) {
                        var i;
                        if (t = p(t), void 0 === e) return x.emitterEventListeners[t] = [], x;
                        if (x.emitterEventListeners[t] && 0 !== x.emitterEventListeners[t].length) {
                            for (i = 0; i < x.emitterEventListeners[t].length; i++) x.emitterEventListeners[t][i] === e && x.emitterEventListeners[t].splice(i, 1);
                            return x
                        }
                    }, x.once = function(t, e) {
                        t = p(t);
                        var i = function() {
                            e(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4]), x.off(t, i)
                        };
                        return x.on(t, i), x
                    }, x.a11y = {
                        makeFocusable: function(t) {
                            return t.attr("tabIndex", "0"), t
                        },
                        addRole: function(t, e) {
                            return t.attr("role", e), t
                        },
                        addLabel: function(t, e) {
                            return t.attr("aria-label", e), t
                        },
                        disable: function(t) {
                            return t.attr("aria-disabled", !0), t
                        },
                        enable: function(t) {
                            return t.attr("aria-disabled", !1), t
                        },
                        onEnterKey: function(e) {
                            13 === e.keyCode && (t(e.target).is(x.params.nextButton) ? (x.onClickNext(e), x.isEnd ? x.a11y.notify(x.params.lastSlideMessage) : x.a11y.notify(x.params.nextSlideMessage)) : t(e.target).is(x.params.prevButton) && (x.onClickPrev(e), x.isBeginning ? x.a11y.notify(x.params.firstSlideMessage) : x.a11y.notify(x.params.prevSlideMessage)), t(e.target).is("." + x.params.bulletClass) && t(e.target)[0].click())
                        },
                        liveRegion: t('<span class="' + x.params.notificationClass + '" aria-live="assertive" aria-atomic="true"></span>'),
                        notify: function(t) {
                            var e = x.a11y.liveRegion;
                            0 !== e.length && (e.html(""), e.html(t))
                        },
                        init: function() {
                            x.params.nextButton && x.nextButton && x.nextButton.length > 0 && (x.a11y.makeFocusable(x.nextButton),
                                x.a11y.addRole(x.nextButton, "button"), x.a11y.addLabel(x.nextButton, x.params.nextSlideMessage)), x.params.prevButton && x.prevButton && x.prevButton.length > 0 && (x.a11y.makeFocusable(x.prevButton), x.a11y.addRole(x.prevButton, "button"), x.a11y.addLabel(x.prevButton, x.params.prevSlideMessage)), t(x.container).append(x.a11y.liveRegion)
                        },
                        initPagination: function() {
                            x.params.pagination && x.params.paginationClickable && x.bullets && x.bullets.length && x.bullets.each(function() {
                                var e = t(this);
                                x.a11y.makeFocusable(e), x.a11y.addRole(e, "button"), x.a11y.addLabel(e, x.params.paginationBulletMessage.replace(/{{index}}/, e.index() + 1))
                            })
                        },
                        destroy: function() {
                            x.a11y.liveRegion && x.a11y.liveRegion.length > 0 && x.a11y.liveRegion.remove()
                        }
                    }, x.init = function() {
                        x.params.loop && x.createLoop(), x.updateContainerSize(), x.updateSlidesSize(), x.updatePagination(), x.params.scrollbar && x.scrollbar && (x.scrollbar.set(), x.params.scrollbarDraggable && x.scrollbar.enableDraggable()), "slide" !== x.params.effect && x.effects[x.params.effect] && (x.params.loop || x.updateProgress(), x.effects[x.params.effect].setTranslate()), x.params.loop ? x.slideTo(x.params.initialSlide + x.loopedSlides, 0, x.params.runCallbacksOnInit) : (x.slideTo(x.params.initialSlide, 0, x.params.runCallbacksOnInit), 0 === x.params.initialSlide && (x.parallax && x.params.parallax && x.parallax.setTranslate(), x.lazy && x.params.lazyLoading && (x.lazy.load(), x.lazy.initialImageLoaded = !0))), x.attachEvents(), x.params.observer && x.support.observer && x.initObservers(), x.params.preloadImages && !x.params.lazyLoading && x.preloadImages(), x.params.zoom && x.zoom && x.zoom.init(), x.params.autoplay && x.startAutoplay(), x.params.keyboardControl && x.enableKeyboardControl && x.enableKeyboardControl(), x.params.mousewheelControl && x.enableMousewheelControl && x.enableMousewheelControl(), x.params.hashnavReplaceState && (x.params.replaceState = x.params.hashnavReplaceState), x.params.history && x.history && x.history.init(), x.params.hashnav && x.hashnav && x.hashnav.init(), x.params.a11y && x.a11y && x.a11y.init(), x.emit("onInit", x)
                    }, x.cleanupStyles = function() {
                        x.container.removeClass(x.classNames.join(" ")).removeAttr("style"), x.wrapper.removeAttr("style"), x.slides && x.slides.length && x.slides.removeClass([x.params.slideVisibleClass, x.params.slideActiveClass, x.params.slideNextClass, x.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row"), x.paginationContainer && x.paginationContainer.length && x.paginationContainer.removeClass(x.params.paginationHiddenClass), x.bullets && x.bullets.length && x.bullets.removeClass(x.params.bulletActiveClass), x.params.prevButton && t(x.params.prevButton).removeClass(x.params.buttonDisabledClass), x.params.nextButton && t(x.params.nextButton).removeClass(x.params.buttonDisabledClass), x.params.scrollbar && x.scrollbar && (x.scrollbar.track && x.scrollbar.track.length && x.scrollbar.track.removeAttr("style"), x.scrollbar.drag && x.scrollbar.drag.length && x.scrollbar.drag.removeAttr("style"))
                    }, x.destroy = function(t, e) {
                        x.detachEvents(), x.stopAutoplay(), x.params.scrollbar && x.scrollbar && x.params.scrollbarDraggable && x.scrollbar.disableDraggable(), x.params.loop && x.destroyLoop(), e && x.cleanupStyles(), x.disconnectObservers(), x.params.zoom && x.zoom && x.zoom.destroy(), x.params.keyboardControl && x.disableKeyboardControl && x.disableKeyboardControl(), x.params.mousewheelControl && x.disableMousewheelControl && x.disableMousewheelControl(), x.params.a11y && x.a11y && x.a11y.destroy(), x.params.history && !x.params.replaceState && window.removeEventListener("popstate", x.history.setHistoryPopState), x.params.hashnav && x.hashnav && x.hashnav.destroy(), x.emit("onDestroy"), t !== !1 && (x = null)
                    }, x.init(), x
                }
            };
            e.prototype = {
                isSafari: function() {
                    var t = window.navigator.userAgent.toLowerCase();
                    return t.indexOf("safari") >= 0 && t.indexOf("chrome") < 0 && t.indexOf("android") < 0
                }(),
                isUiWebView: /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(window.navigator.userAgent),
                isArray: function(t) {
                    return "[object Array]" === Object.prototype.toString.apply(t)
                },
                browser: {
                    ie: window.navigator.pointerEnabled || window.navigator.msPointerEnabled,
                    ieTouch: window.navigator.msPointerEnabled && window.navigator.msMaxTouchPoints > 1 || window.navigator.pointerEnabled && window.navigator.maxTouchPoints > 1,
                    lteIE9: function() {
                        var t = document.createElement("div");
                        return t.innerHTML = "<!--[if lte IE 9]><i></i><![endif]-->", 1 === t.getElementsByTagName("i").length
                    }()
                },
                device: function() {
                    var t = window.navigator.userAgent,
                        e = t.match(/(Android);?[\s\/]+([\d.]+)?/),
                        i = t.match(/(iPad).*OS\s([\d_]+)/),
                        n = t.match(/(iPod)(.*OS\s([\d_]+))?/),
                        r = !i && t.match(/(iPhone\sOS|iOS)\s([\d_]+)/);
                    return {
                        ios: i || r || n,
                        android: e
                    }
                }(),
                support: {
                    touch: window.Modernizr && Modernizr.touch === !0 || function() {
                        return !!("ontouchstart" in window || window.DocumentTouch && document instanceof DocumentTouch)
                    }(),
                    transforms3d: window.Modernizr && Modernizr.csstransforms3d === !0 || function() {
                        var t = document.createElement("div").style;
                        return "webkitPerspective" in t || "MozPerspective" in t || "OPerspective" in t || "MsPerspective" in t || "perspective" in t
                    }(),
                    flexbox: function() {
                        for (var t = document.createElement("div").style, e = "alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "), i = 0; i < e.length; i++)
                            if (e[i] in t) return !0
                    }(),
                    observer: function() {
                        return "MutationObserver" in window || "WebkitMutationObserver" in window
                    }(),
                    passiveListener: function() {
                        var t = !1;
                        try {
                            var e = Object.defineProperty({}, "passive", {
                                get: function() {
                                    t = !0
                                }
                            });
                            window.addEventListener("testPassiveListener", null, e)
                        } catch (t) {}
                        return t
                    }(),
                    gestures: function() {
                        return "ongesturestart" in window
                    }()
                },
                plugins: {}
            };
            for (var i = (function() {
                    var t = function(t) {
                            var e = this,
                                i = 0;
                            for (i = 0; i < t.length; i++) e[i] = t[i];
                            return e.length = t.length, this
                        },
                        e = function(e, i) {
                            var n = [],
                                r = 0;
                            if (e && !i && e instanceof t) return e;
                            if (e)
                                if ("string" == typeof e) {
                                    var o, a, s = e.trim();
                                    if (s.indexOf("<") >= 0 && s.indexOf(">") >= 0) {
                                        var l = "div";
                                        for (0 === s.indexOf("<li") && (l = "ul"), 0 === s.indexOf("<tr") && (l = "tbody"), 0 !== s.indexOf("<td") && 0 !== s.indexOf("<th") || (l = "tr"), 0 === s.indexOf("<tbody") && (l = "table"), 0 === s.indexOf("<option") && (l = "select"), a = document.createElement(l), a.innerHTML = e, r = 0; r < a.childNodes.length; r++) n.push(a.childNodes[r])
                                    } else
                                        for (o = i || "#" !== e[0] || e.match(/[ .<>:~]/) ? (i || document).querySelectorAll(e) : [document.getElementById(e.split("#")[1])], r = 0; r < o.length; r++) o[r] && n.push(o[r])
                                } else if (e.nodeType || e === window || e === document) n.push(e);
                            else if (e.length > 0 && e[0].nodeType)
                                for (r = 0; r < e.length; r++) n.push(e[r]);
                            return new t(n)
                        };
                    return t.prototype = {
                        addClass: function(t) {
                            if (void 0 === t) return this;
                            for (var e = t.split(" "), i = 0; i < e.length; i++)
                                for (var n = 0; n < this.length; n++) this[n].classList.add(e[i]);
                            return this
                        },
                        removeClass: function(t) {
                            for (var e = t.split(" "), i = 0; i < e.length; i++)
                                for (var n = 0; n < this.length; n++) this[n].classList.remove(e[i]);
                            return this
                        },
                        hasClass: function(t) {
                            return !!this[0] && this[0].classList.contains(t)
                        },
                        toggleClass: function(t) {
                            for (var e = t.split(" "), i = 0; i < e.length; i++)
                                for (var n = 0; n < this.length; n++) this[n].classList.toggle(e[i]);
                            return this
                        },
                        attr: function(t, e) {
                            if (1 === arguments.length && "string" == typeof t) return this[0] ? this[0].getAttribute(t) : void 0;
                            for (var i = 0; i < this.length; i++)
                                if (2 === arguments.length) this[i].setAttribute(t, e);
                                else
                                    for (var n in t) this[i][n] = t[n], this[i].setAttribute(n, t[n]);
                            return this
                        },
                        removeAttr: function(t) {
                            for (var e = 0; e < this.length; e++) this[e].removeAttribute(t);
                            return this
                        },
                        data: function(t, e) {
                            if (void 0 !== e) {
                                for (var i = 0; i < this.length; i++) {
                                    var n = this[i];
                                    n.dom7ElementDataStorage || (n.dom7ElementDataStorage = {}), n.dom7ElementDataStorage[t] = e
                                }
                                return this
                            }
                            if (this[0]) {
                                var r = this[0].getAttribute("data-" + t);
                                return r ? r : this[0].dom7ElementDataStorage && t in this[0].dom7ElementDataStorage ? this[0].dom7ElementDataStorage[t] : void 0
                            }
                        },
                        transform: function(t) {
                            for (var e = 0; e < this.length; e++) {
                                var i = this[e].style;
                                i.webkitTransform = i.MsTransform = i.msTransform = i.MozTransform = i.OTransform = i.transform = t
                            }
                            return this
                        },
                        transition: function(t) {
                            "string" != typeof t && (t += "ms");
                            for (var e = 0; e < this.length; e++) {
                                var i = this[e].style;
                                i.webkitTransitionDuration = i.MsTransitionDuration = i.msTransitionDuration = i.MozTransitionDuration = i.OTransitionDuration = i.transitionDuration = t
                            }
                            return this
                        },
                        on: function(t, i, n, r) {
                            function o(t) {
                                var r = t.target;
                                if (e(r).is(i)) n.call(r, t);
                                else
                                    for (var o = e(r).parents(), a = 0; a < o.length; a++) e(o[a]).is(i) && n.call(o[a], t)
                            }
                            var a, s, l = t.split(" ");
                            for (a = 0; a < this.length; a++)
                                if ("function" == typeof i || i === !1)
                                    for ("function" == typeof i && (n = arguments[1], r = arguments[2] || !1), s = 0; s < l.length; s++) this[a].addEventListener(l[s], n, r);
                                else
                                    for (s = 0; s < l.length; s++) this[a].dom7LiveListeners || (this[a].dom7LiveListeners = []), this[a].dom7LiveListeners.push({
                                        listener: n,
                                        liveListener: o
                                    }), this[a].addEventListener(l[s], o, r);
                            return this
                        },
                        off: function(t, e, i, n) {
                            for (var r = t.split(" "), o = 0; o < r.length; o++)
                                for (var a = 0; a < this.length; a++)
                                    if ("function" == typeof e || e === !1) "function" == typeof e && (i = arguments[1], n = arguments[2] || !1), this[a].removeEventListener(r[o], i, n);
                                    else if (this[a].dom7LiveListeners)
                                for (var s = 0; s < this[a].dom7LiveListeners.length; s++) this[a].dom7LiveListeners[s].listener === i && this[a].removeEventListener(r[o], this[a].dom7LiveListeners[s].liveListener, n);
                            return this
                        },
                        once: function(t, e, i, n) {
                            function r(a) {
                                i(a), o.off(t, e, r, n)
                            }
                            var o = this;
                            "function" == typeof e && (e = !1, i = arguments[1], n = arguments[2]), o.on(t, e, r, n)
                        },
                        trigger: function(t, e) {
                            for (var i = 0; i < this.length; i++) {
                                var n;
                                try {
                                    n = new window.CustomEvent(t, {
                                        detail: e,
                                        bubbles: !0,
                                        cancelable: !0
                                    })
                                } catch (i) {
                                    n = document.createEvent("Event"), n.initEvent(t, !0, !0), n.detail = e
                                }
                                this[i].dispatchEvent(n)
                            }
                            return this
                        },
                        transitionEnd: function(t) {
                            function e(o) {
                                if (o.target === this)
                                    for (t.call(this, o), i = 0; i < n.length; i++) r.off(n[i], e)
                            }
                            var i, n = ["webkitTransitionEnd", "transitionend", "oTransitionEnd", "MSTransitionEnd", "msTransitionEnd"],
                                r = this;
                            if (t)
                                for (i = 0; i < n.length; i++) r.on(n[i], e);
                            return this
                        },
                        width: function() {
                            return this[0] === window ? window.innerWidth : this.length > 0 ? parseFloat(this.css("width")) : null
                        },
                        outerWidth: function(t) {
                            return this.length > 0 ? t ? this[0].offsetWidth + parseFloat(this.css("margin-right")) + parseFloat(this.css("margin-left")) : this[0].offsetWidth : null
                        },
                        height: function() {
                            return this[0] === window ? window.innerHeight : this.length > 0 ? parseFloat(this.css("height")) : null
                        },
                        outerHeight: function(t) {
                            return this.length > 0 ? t ? this[0].offsetHeight + parseFloat(this.css("margin-top")) + parseFloat(this.css("margin-bottom")) : this[0].offsetHeight : null
                        },
                        offset: function() {
                            if (this.length > 0) {
                                var t = this[0],
                                    e = t.getBoundingClientRect(),
                                    i = document.body,
                                    n = t.clientTop || i.clientTop || 0,
                                    r = t.clientLeft || i.clientLeft || 0,
                                    o = window.pageYOffset || t.scrollTop,
                                    a = window.pageXOffset || t.scrollLeft;
                                return {
                                    top: e.top + o - n,
                                    left: e.left + a - r
                                }
                            }
                            return null
                        },
                        css: function(t, e) {
                            var i;
                            if (1 === arguments.length) {
                                if ("string" != typeof t) {
                                    for (i = 0; i < this.length; i++)
                                        for (var n in t) this[i].style[n] = t[n];
                                    return this
                                }
                                if (this[0]) return window.getComputedStyle(this[0], null).getPropertyValue(t)
                            }
                            if (2 === arguments.length && "string" == typeof t) {
                                for (i = 0; i < this.length; i++) this[i].style[t] = e;
                                return this
                            }
                            return this
                        },
                        each: function(t) {
                            for (var e = 0; e < this.length; e++) t.call(this[e], e, this[e]);
                            return this
                        },
                        html: function(t) {
                            if (void 0 === t) return this[0] ? this[0].innerHTML : void 0;
                            for (var e = 0; e < this.length; e++) this[e].innerHTML = t;
                            return this
                        },
                        text: function(t) {
                            if (void 0 === t) return this[0] ? this[0].textContent.trim() : null;
                            for (var e = 0; e < this.length; e++) this[e].textContent = t;
                            return this
                        },
                        is: function(i) {
                            if (!this[0]) return !1;
                            var n, r;
                            if ("string" == typeof i) {
                                var o = this[0];
                                if (o === document) return i === document;
                                if (o === window) return i === window;
                                if (o.matches) return o.matches(i);
                                if (o.webkitMatchesSelector) return o.webkitMatchesSelector(i);
                                if (o.mozMatchesSelector) return o.mozMatchesSelector(i);
                                if (o.msMatchesSelector) return o.msMatchesSelector(i);
                                for (n = e(i), r = 0; r < n.length; r++)
                                    if (n[r] === this[0]) return !0;
                                return !1
                            }
                            if (i === document) return this[0] === document;
                            if (i === window) return this[0] === window;
                            if (i.nodeType || i instanceof t) {
                                for (n = i.nodeType ? [i] : i, r = 0; r < n.length; r++)
                                    if (n[r] === this[0]) return !0;
                                return !1
                            }
                            return !1
                        },
                        index: function() {
                            if (this[0]) {
                                for (var t = this[0], e = 0; null !== (t = t.previousSibling);) 1 === t.nodeType && e++;
                                return e
                            }
                        },
                        eq: function(e) {
                            if (void 0 === e) return this;
                            var i, n = this.length;
                            return e > n - 1 ? new t([]) : e < 0 ? (i = n + e, new t(i < 0 ? [] : [this[i]])) : new t([this[e]])
                        },
                        append: function(e) {
                            var i, n;
                            for (i = 0; i < this.length; i++)
                                if ("string" == typeof e) {
                                    var r = document.createElement("div");
                                    for (r.innerHTML = e; r.firstChild;) this[i].appendChild(r.firstChild)
                                } else if (e instanceof t)
                                for (n = 0; n < e.length; n++) this[i].appendChild(e[n]);
                            else this[i].appendChild(e);
                            return this
                        },
                        prepend: function(e) {
                            var i, n;
                            for (i = 0; i < this.length; i++)
                                if ("string" == typeof e) {
                                    var r = document.createElement("div");
                                    for (r.innerHTML = e, n = r.childNodes.length - 1; n >= 0; n--) this[i].insertBefore(r.childNodes[n], this[i].childNodes[0])
                                } else if (e instanceof t)
                                for (n = 0; n < e.length; n++) this[i].insertBefore(e[n], this[i].childNodes[0]);
                            else this[i].insertBefore(e, this[i].childNodes[0]);
                            return this
                        },
                        insertBefore: function(t) {
                            for (var i = e(t), n = 0; n < this.length; n++)
                                if (1 === i.length) i[0].parentNode.insertBefore(this[n], i[0]);
                                else if (i.length > 1)
                                for (var r = 0; r < i.length; r++) i[r].parentNode.insertBefore(this[n].cloneNode(!0), i[r])
                        },
                        insertAfter: function(t) {
                            for (var i = e(t), n = 0; n < this.length; n++)
                                if (1 === i.length) i[0].parentNode.insertBefore(this[n], i[0].nextSibling);
                                else if (i.length > 1)
                                for (var r = 0; r < i.length; r++) i[r].parentNode.insertBefore(this[n].cloneNode(!0), i[r].nextSibling)
                        },
                        next: function(i) {
                            return new t(this.length > 0 ? i ? this[0].nextElementSibling && e(this[0].nextElementSibling).is(i) ? [this[0].nextElementSibling] : [] : this[0].nextElementSibling ? [this[0].nextElementSibling] : [] : [])
                        },
                        nextAll: function(i) {
                            var n = [],
                                r = this[0];
                            if (!r) return new t([]);
                            for (; r.nextElementSibling;) {
                                var o = r.nextElementSibling;
                                i ? e(o).is(i) && n.push(o) : n.push(o), r = o
                            }
                            return new t(n)
                        },
                        prev: function(i) {
                            return new t(this.length > 0 ? i ? this[0].previousElementSibling && e(this[0].previousElementSibling).is(i) ? [this[0].previousElementSibling] : [] : this[0].previousElementSibling ? [this[0].previousElementSibling] : [] : [])
                        },
                        prevAll: function(i) {
                            var n = [],
                                r = this[0];
                            if (!r) return new t([]);
                            for (; r.previousElementSibling;) {
                                var o = r.previousElementSibling;
                                i ? e(o).is(i) && n.push(o) : n.push(o), r = o
                            }
                            return new t(n)
                        },
                        parent: function(t) {
                            for (var i = [], n = 0; n < this.length; n++) t ? e(this[n].parentNode).is(t) && i.push(this[n].parentNode) : i.push(this[n].parentNode);
                            return e(e.unique(i))
                        },
                        parents: function(t) {
                            for (var i = [], n = 0; n < this.length; n++)
                                for (var r = this[n].parentNode; r;) t ? e(r).is(t) && i.push(r) : i.push(r), r = r.parentNode;
                            return e(e.unique(i))
                        },
                        find: function(e) {
                            for (var i = [], n = 0; n < this.length; n++)
                                for (var r = this[n].querySelectorAll(e), o = 0; o < r.length; o++) i.push(r[o]);
                            return new t(i)
                        },
                        children: function(i) {
                            for (var n = [], r = 0; r < this.length; r++)
                                for (var o = this[r].childNodes, a = 0; a < o.length; a++) i ? 1 === o[a].nodeType && e(o[a]).is(i) && n.push(o[a]) : 1 === o[a].nodeType && n.push(o[a]);
                            return new t(e.unique(n))
                        },
                        remove: function() {
                            for (var t = 0; t < this.length; t++) this[t].parentNode && this[t].parentNode.removeChild(this[t]);
                            return this
                        },
                        add: function() {
                            var t, i, n = this;
                            for (t = 0; t < arguments.length; t++) {
                                var r = e(arguments[t]);
                                for (i = 0; i < r.length; i++) n[n.length] = r[i], n.length++
                            }
                            return n
                        }
                    }, e.fn = t.prototype, e.unique = function(t) {
                        for (var e = [], i = 0; i < t.length; i++) e.indexOf(t[i]) === -1 && e.push(t[i]);
                        return e
                    }, e
                }()), n = ["jQuery", "Zepto", "Dom7"], r = 0; r < n.length; r++) window[n[r]] && function(t) {
                t.fn.swiper = function(i) {
                    var n;
                    return t(this).each(function() {
                        var t = new e(this, i);
                        n || (n = t)
                    }), n
                }
            }(window[n[r]]);
            var o;
            o = void 0 === i ? window.Dom7 || window.Zepto || window.jQuery : i, o && ("transitionEnd" in o.fn || (o.fn.transitionEnd = function(t) {
                function e(o) {
                    if (o.target === this)
                        for (t.call(this, o), i = 0; i < n.length; i++) r.off(n[i], e)
                }
                var i, n = ["webkitTransitionEnd", "transitionend", "oTransitionEnd", "MSTransitionEnd", "msTransitionEnd"],
                    r = this;
                if (t)
                    for (i = 0; i < n.length; i++) r.on(n[i], e);
                return this
            }), "transform" in o.fn || (o.fn.transform = function(t) {
                for (var e = 0; e < this.length; e++) {
                    var i = this[e].style;
                    i.webkitTransform = i.MsTransform = i.msTransform = i.MozTransform = i.OTransform = i.transform = t
                }
                return this
            }), "transition" in o.fn || (o.fn.transition = function(t) {
                "string" != typeof t && (t += "ms");
                for (var e = 0; e < this.length; e++) {
                    var i = this[e].style;
                    i.webkitTransitionDuration = i.MsTransitionDuration = i.msTransitionDuration = i.MozTransitionDuration = i.OTransitionDuration = i.transitionDuration = t
                }
                return this
            }), "outerWidth" in o.fn || (o.fn.outerWidth = function(t) {
                return this.length > 0 ? t ? this[0].offsetWidth + parseFloat(this.css("margin-right")) + parseFloat(this.css("margin-left")) : this[0].offsetWidth : null
            })), window.Swiper = e
        }(), void 0 !== e ? e.exports = window.Swiper : "function" == typeof define && define.amd && define([], function() {
            "use strict";
            return window.Swiper
        })
    }, {}],
    111: [function(t, e, i) {
        function n(t, e) {
            return t.ctrlKey == (e.ctrlKey || !1) && t.altKey == (e.altKey || !1) && t.shiftKey == (e.shiftKey || !1) && t.metaKey == (e.metaKey || !1) && t.keyCode == (e.keyCode || 0) && t.charCode == (e.charCode || 0) || (t = document.createEvent("Event"), t.initEvent(e.type, e.bubbles, e.cancelable), t.ctrlKey = e.ctrlKey || !1, t.altKey = e.altKey || !1, t.shiftKey = e.shiftKey || !1, t.metaKey = e.metaKey || !1, t.keyCode = e.keyCode || 0, t.charCode = e.charCode || 0), t
        }
        var r = (window, document || {}),
            o = (r.documentElement, !0);
        try {
            r.createEvent("KeyEvents")
        } catch (t) {
            o = !1
        }
        var a = function(t, e) {
                e = e || {};
                var i = c(t),
                    a = i;
                "KeyboardEvent" === i && o && (i = "KeyEvents", a = "KeyEvent");
                var s = r.createEvent(i),
                    u = "init" + a,
                    h = "function" == typeof s[u] ? u : "initEvent",
                    d = l[h],
                    p = [],
                    f = {};
                e.type = t;
                for (var m = 0; m < d.length; ++m) {
                    var g = d[m],
                        v = e[g];
                    void 0 === v && (v = s[g]), f[g] = !0, p.push(v)
                }
                s[h].apply(s, p), "KeyboardEvent" === i && (s = n(s, e));
                for (var g in e) f[g] || (s[g] = e[g]);
                return s
            },
            s = function(t, e) {
                e = e || {};
                var i = r.createEventObject();
                i.type = t;
                for (var n in e) void 0 !== e[n] && (i[n] = e[n]);
                return i
            };
        e.exports = r.createEvent ? a : s;
        var l = t("./init.json"),
            u = t("./types.json"),
            c = function() {
                var t = {};
                for (var e in u)
                    for (var i = u[e], n = 0; n < i.length; n++) t[i[n]] = e;
                return function(e) {
                    return t[e] || "Event"
                }
            }()
    }, {
        "./init.json": 112,
        "./types.json": 113
    }],
    112: [function(t, e, i) {
        e.exports = {
            initEvent: ["type", "bubbles", "cancelable"],
            initUIEvent: ["type", "bubbles", "cancelable", "view", "detail"],
            initMouseEvent: ["type", "bubbles", "cancelable", "view", "detail", "screenX", "screenY", "clientX", "clientY", "ctrlKey", "altKey", "shiftKey", "metaKey", "button", "relatedTarget"],
            initMutationEvent: ["type", "bubbles", "cancelable", "relatedNode", "prevValue", "newValue", "attrName", "attrChange"],
            initKeyboardEvent: ["type", "bubbles", "cancelable", "view", "ctrlKey", "altKey", "shiftKey", "metaKey", "keyCode", "charCode"],
            initKeyEvent: ["type", "bubbles", "cancelable", "view", "ctrlKey", "altKey", "shiftKey", "metaKey", "keyCode", "charCode"]
        }
    }, {}],
    113: [function(t, e, i) {
        e.exports = {
            MouseEvent: ["click", "mousedown", "mouseup", "mouseover", "mousemove", "mouseout"],
            KeyboardEvent: ["keydown", "keyup", "keypress"],
            MutationEvent: ["DOMSubtreeModified", "DOMNodeInserted", "DOMNodeRemoved", "DOMNodeRemovedFromDocument", "DOMNodeInsertedIntoDocument", "DOMAttrModified", "DOMCharacterDataModified"],
            HTMLEvents: ["load", "unload", "abort", "error", "select", "change", "submit", "reset", "focus", "blur", "resize", "scroll"],
            UIEvent: ["DOMFocusIn", "DOMFocusOut", "DOMActivate"]
        }
    }, {}],
    114: [function(t, e, i) {
        var n = {
            REVISION: "77"
        };
        "function" == typeof define && define.amd ? define("three", n) : void 0 !== i && void 0 !== e && (e.exports = n), void 0 === Number.EPSILON && (Number.EPSILON = Math.pow(2, -52)), void 0 === Math.sign && (Math.sign = function(t) {
                return t < 0 ? -1 : t > 0 ? 1 : +t
            }), void 0 === Function.prototype.name && Object.defineProperty(Function.prototype, "name", {
                get: function() {
                    return this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1]
                }
            }), void 0 === Object.assign && function() {
                Object.assign = function(t) {
                    "use strict";
                    if (void 0 === t || null === t) throw new TypeError("Cannot convert undefined or null to object");
                    for (var e = Object(t), i = 1; i < arguments.length; i++) {
                        var n = arguments[i];
                        if (void 0 !== n && null !== n)
                            for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r])
                    }
                    return e
                }
            }(), Object.assign(n, {
                MOUSE: {
                    LEFT: 0,
                    MIDDLE: 1,
                    RIGHT: 2
                },
                CullFaceNone: 0,
                CullFaceBack: 1,
                CullFaceFront: 2,
                CullFaceFrontBack: 3,
                FrontFaceDirectionCW: 0,
                FrontFaceDirectionCCW: 1,
                BasicShadowMap: 0,
                PCFShadowMap: 1,
                PCFSoftShadowMap: 2,
                FrontSide: 0,
                BackSide: 1,
                DoubleSide: 2,
                FlatShading: 1,
                SmoothShading: 2,
                NoColors: 0,
                FaceColors: 1,
                VertexColors: 2,
                NoBlending: 0,
                NormalBlending: 1,
                AdditiveBlending: 2,
                SubtractiveBlending: 3,
                MultiplyBlending: 4,
                CustomBlending: 5,
                AddEquation: 100,
                SubtractEquation: 101,
                ReverseSubtractEquation: 102,
                MinEquation: 103,
                MaxEquation: 104,
                ZeroFactor: 200,
                OneFactor: 201,
                SrcColorFactor: 202,
                OneMinusSrcColorFactor: 203,
                SrcAlphaFactor: 204,
                OneMinusSrcAlphaFactor: 205,
                DstAlphaFactor: 206,
                OneMinusDstAlphaFactor: 207,
                DstColorFactor: 208,
                OneMinusDstColorFactor: 209,
                SrcAlphaSaturateFactor: 210,
                NeverDepth: 0,
                AlwaysDepth: 1,
                LessDepth: 2,
                LessEqualDepth: 3,
                EqualDepth: 4,
                GreaterEqualDepth: 5,
                GreaterDepth: 6,
                NotEqualDepth: 7,
                MultiplyOperation: 0,
                MixOperation: 1,
                AddOperation: 2,
                NoToneMapping: 0,
                LinearToneMapping: 1,
                ReinhardToneMapping: 2,
                Uncharted2ToneMapping: 3,
                CineonToneMapping: 4,
                UVMapping: 300,
                CubeReflectionMapping: 301,
                CubeRefractionMapping: 302,
                EquirectangularReflectionMapping: 303,
                EquirectangularRefractionMapping: 304,
                SphericalReflectionMapping: 305,
                CubeUVReflectionMapping: 306,
                CubeUVRefractionMapping: 307,
                RepeatWrapping: 1e3,
                ClampToEdgeWrapping: 1001,
                MirroredRepeatWrapping: 1002,
                NearestFilter: 1003,
                NearestMipMapNearestFilter: 1004,
                NearestMipMapLinearFilter: 1005,
                LinearFilter: 1006,
                LinearMipMapNearestFilter: 1007,
                LinearMipMapLinearFilter: 1008,
                UnsignedByteType: 1009,
                ByteType: 1010,
                ShortType: 1011,
                UnsignedShortType: 1012,
                IntType: 1013,
                UnsignedIntType: 1014,
                FloatType: 1015,
                HalfFloatType: 1025,
                UnsignedShort4444Type: 1016,
                UnsignedShort5551Type: 1017,
                UnsignedShort565Type: 1018,
                AlphaFormat: 1019,
                RGBFormat: 1020,
                RGBAFormat: 1021,
                LuminanceFormat: 1022,
                LuminanceAlphaFormat: 1023,
                RGBEFormat: n.RGBAFormat,
                DepthFormat: 1026,
                RGB_S3TC_DXT1_Format: 2001,
                RGBA_S3TC_DXT1_Format: 2002,
                RGBA_S3TC_DXT3_Format: 2003,
                RGBA_S3TC_DXT5_Format: 2004,
                RGB_PVRTC_4BPPV1_Format: 2100,
                RGB_PVRTC_2BPPV1_Format: 2101,
                RGBA_PVRTC_4BPPV1_Format: 2102,
                RGBA_PVRTC_2BPPV1_Format: 2103,
                RGB_ETC1_Format: 2151,
                LoopOnce: 2200,
                LoopRepeat: 2201,
                LoopPingPong: 2202,
                InterpolateDiscrete: 2300,
                InterpolateLinear: 2301,
                InterpolateSmooth: 2302,
                ZeroCurvatureEnding: 2400,
                ZeroSlopeEnding: 2401,
                WrapAroundEnding: 2402,
                TrianglesDrawMode: 0,
                TriangleStripDrawMode: 1,
                TriangleFanDrawMode: 2,
                LinearEncoding: 3e3,
                sRGBEncoding: 3001,
                GammaEncoding: 3007,
                RGBEEncoding: 3002,
                LogLuvEncoding: 3003,
                RGBM7Encoding: 3004,
                RGBM16Encoding: 3005,
                RGBDEncoding: 3006,
                BasicDepthPacking: 3200,
                RGBADepthPacking: 3201
            }), n.Color = function(t, e, i) {
                return void 0 === e && void 0 === i ? this.set(t) : this.setRGB(t, e, i)
            }, n.Color.prototype = {
                constructor: n.Color,
                r: 1,
                g: 1,
                b: 1,
                set: function(t) {
                    return t instanceof n.Color ? this.copy(t) : "number" == typeof t ? this.setHex(t) : "string" == typeof t && this.setStyle(t), this
                },
                setScalar: function(t) {
                    this.r = t, this.g = t, this.b = t
                },
                setHex: function(t) {
                    return t = Math.floor(t), this.r = (t >> 16 & 255) / 255, this.g = (t >> 8 & 255) / 255, this.b = (255 & t) / 255, this
                },
                setRGB: function(t, e, i) {
                    return this.r = t, this.g = e, this.b = i, this
                },
                setHSL: function() {
                    function t(t, e, i) {
                        return i < 0 && (i += 1), i > 1 && (i -= 1), i < 1 / 6 ? t + 6 * (e - t) * i : i < .5 ? e : i < 2 / 3 ? t + 6 * (e - t) * (2 / 3 - i) : t
                    }
                    return function(e, i, r) {
                        if (e = n.Math.euclideanModulo(e, 1), i = n.Math.clamp(i, 0, 1), r = n.Math.clamp(r, 0, 1), 0 === i) this.r = this.g = this.b = r;
                        else {
                            var o = r <= .5 ? r * (1 + i) : r + i - r * i,
                                a = 2 * r - o;
                            this.r = t(a, o, e + 1 / 3), this.g = t(a, o, e), this.b = t(a, o, e - 1 / 3)
                        }
                        return this
                    }
                }(),
                setStyle: function(t) {
                    function e(e) {
                        void 0 !== e && parseFloat(e) < 1 && console.warn("THREE.Color: Alpha component of " + t + " will be ignored.")
                    }
                    var i;
                    if (i = /^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)) {
                        var r, o = i[1],
                            a = i[2];
                        switch (o) {
                            case "rgb":
                            case "rgba":
                                if (r = /^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)) return this.r = Math.min(255, parseInt(r[1], 10)) / 255, this.g = Math.min(255, parseInt(r[2], 10)) / 255, this.b = Math.min(255, parseInt(r[3], 10)) / 255, e(r[5]), this;
                                if (r = /^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)) return this.r = Math.min(100, parseInt(r[1], 10)) / 100, this.g = Math.min(100, parseInt(r[2], 10)) / 100, this.b = Math.min(100, parseInt(r[3], 10)) / 100, e(r[5]), this;
                                break;
                            case "hsl":
                            case "hsla":
                                if (r = /^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)) {
                                    var s = parseFloat(r[1]) / 360,
                                        l = parseInt(r[2], 10) / 100,
                                        u = parseInt(r[3], 10) / 100;
                                    return e(r[5]), this.setHSL(s, l, u)
                                }
                        }
                    } else if (i = /^\#([A-Fa-f0-9]+)$/.exec(t)) {
                        var c = i[1],
                            h = c.length;
                        if (3 === h) return this.r = parseInt(c.charAt(0) + c.charAt(0), 16) / 255, this.g = parseInt(c.charAt(1) + c.charAt(1), 16) / 255, this.b = parseInt(c.charAt(2) + c.charAt(2), 16) / 255, this;
                        if (6 === h) return this.r = parseInt(c.charAt(0) + c.charAt(1), 16) / 255, this.g = parseInt(c.charAt(2) + c.charAt(3), 16) / 255, this.b = parseInt(c.charAt(4) + c.charAt(5), 16) / 255, this
                    }
                    if (t && t.length > 0) {
                        var c = n.ColorKeywords[t];
                        void 0 !== c ? this.setHex(c) : console.warn("THREE.Color: Unknown color " + t)
                    }
                    return this
                },
                clone: function() {
                    return new this.constructor(this.r, this.g, this.b)
                },
                copy: function(t) {
                    return this.r = t.r, this.g = t.g, this.b = t.b, this
                },
                copyGammaToLinear: function(t, e) {
                    return void 0 === e && (e = 2), this.r = Math.pow(t.r, e), this.g = Math.pow(t.g, e), this.b = Math.pow(t.b, e), this
                },
                copyLinearToGamma: function(t, e) {
                    void 0 === e && (e = 2);
                    var i = e > 0 ? 1 / e : 1;
                    return this.r = Math.pow(t.r, i), this.g = Math.pow(t.g, i), this.b = Math.pow(t.b, i), this
                },
                convertGammaToLinear: function() {
                    var t = this.r,
                        e = this.g,
                        i = this.b;
                    return this.r = t * t, this.g = e * e, this.b = i * i, this
                },
                convertLinearToGamma: function() {
                    return this.r = Math.sqrt(this.r), this.g = Math.sqrt(this.g), this.b = Math.sqrt(this.b), this
                },
                getHex: function() {
                    return 255 * this.r << 16 ^ 255 * this.g << 8 ^ 255 * this.b << 0
                },
                getHexString: function() {
                    return ("000000" + this.getHex().toString(16)).slice(-6)
                },
                getHSL: function(t) {
                    var e, i, n = t || {
                            h: 0,
                            s: 0,
                            l: 0
                        },
                        r = this.r,
                        o = this.g,
                        a = this.b,
                        s = Math.max(r, o, a),
                        l = Math.min(r, o, a),
                        u = (l + s) / 2;
                    if (l === s) e = 0, i = 0;
                    else {
                        var c = s - l;
                        switch (i = u <= .5 ? c / (s + l) : c / (2 - s - l), s) {
                            case r:
                                e = (o - a) / c + (o < a ? 6 : 0);
                                break;
                            case o:
                                e = (a - r) / c + 2;
                                break;
                            case a:
                                e = (r - o) / c + 4
                        }
                        e /= 6
                    }
                    return n.h = e, n.s = i, n.l = u, n
                },
                getStyle: function() {
                    return "rgb(" + (255 * this.r | 0) + "," + (255 * this.g | 0) + "," + (255 * this.b | 0) + ")"
                },
                offsetHSL: function(t, e, i) {
                    var n = this.getHSL();
                    return n.h += t, n.s += e, n.l += i, this.setHSL(n.h, n.s, n.l), this
                },
                add: function(t) {
                    return this.r += t.r, this.g += t.g, this.b += t.b, this
                },
                addColors: function(t, e) {
                    return this.r = t.r + e.r, this.g = t.g + e.g, this.b = t.b + e.b, this
                },
                addScalar: function(t) {
                    return this.r += t, this.g += t, this.b += t, this
                },
                multiply: function(t) {
                    return this.r *= t.r, this.g *= t.g, this.b *= t.b, this
                },
                multiplyScalar: function(t) {
                    return this.r *= t, this.g *= t, this.b *= t, this
                },
                lerp: function(t, e) {
                    return this.r += (t.r - this.r) * e, this.g += (t.g - this.g) * e, this.b += (t.b - this.b) * e, this
                },
                equals: function(t) {
                    return t.r === this.r && t.g === this.g && t.b === this.b
                },
                fromArray: function(t, e) {
                    return void 0 === e && (e = 0), this.r = t[e], this.g = t[e + 1], this.b = t[e + 2], this
                },
                toArray: function(t, e) {
                    return void 0 === t && (t = []), void 0 === e && (e = 0), t[e] = this.r, t[e + 1] = this.g, t[e + 2] = this.b, t
                }
            }, n.ColorKeywords = {
                aliceblue: 15792383,
                antiquewhite: 16444375,
                aqua: 65535,
                aquamarine: 8388564,
                azure: 15794175,
                beige: 16119260,
                bisque: 16770244,
                black: 0,
                blanchedalmond: 16772045,
                blue: 255,
                blueviolet: 9055202,
                brown: 10824234,
                burlywood: 14596231,
                cadetblue: 6266528,
                chartreuse: 8388352,
                chocolate: 13789470,
                coral: 16744272,
                cornflowerblue: 6591981,
                cornsilk: 16775388,
                crimson: 14423100,
                cyan: 65535,
                darkblue: 139,
                darkcyan: 35723,
                darkgoldenrod: 12092939,
                darkgray: 11119017,
                darkgreen: 25600,
                darkgrey: 11119017,
                darkkhaki: 12433259,
                darkmagenta: 9109643,
                darkolivegreen: 5597999,
                darkorange: 16747520,
                darkorchid: 10040012,
                darkred: 9109504,
                darksalmon: 15308410,
                darkseagreen: 9419919,
                darkslateblue: 4734347,
                darkslategray: 3100495,
                darkslategrey: 3100495,
                darkturquoise: 52945,
                darkviolet: 9699539,
                deeppink: 16716947,
                deepskyblue: 49151,
                dimgray: 6908265,
                dimgrey: 6908265,
                dodgerblue: 2003199,
                firebrick: 11674146,
                floralwhite: 16775920,
                forestgreen: 2263842,
                fuchsia: 16711935,
                gainsboro: 14474460,
                ghostwhite: 16316671,
                gold: 16766720,
                goldenrod: 14329120,
                gray: 8421504,
                green: 32768,
                greenyellow: 11403055,
                grey: 8421504,
                honeydew: 15794160,
                hotpink: 16738740,
                indianred: 13458524,
                indigo: 4915330,
                ivory: 16777200,
                khaki: 15787660,
                lavender: 15132410,
                lavenderblush: 16773365,
                lawngreen: 8190976,
                lemonchiffon: 16775885,
                lightblue: 11393254,
                lightcoral: 15761536,
                lightcyan: 14745599,
                lightgoldenrodyellow: 16448210,
                lightgray: 13882323,
                lightgreen: 9498256,
                lightgrey: 13882323,
                lightpink: 16758465,
                lightsalmon: 16752762,
                lightseagreen: 2142890,
                lightskyblue: 8900346,
                lightslategray: 7833753,
                lightslategrey: 7833753,
                lightsteelblue: 11584734,
                lightyellow: 16777184,
                lime: 65280,
                limegreen: 3329330,
                linen: 16445670,
                magenta: 16711935,
                maroon: 8388608,
                mediumaquamarine: 6737322,
                mediumblue: 205,
                mediumorchid: 12211667,
                mediumpurple: 9662683,
                mediumseagreen: 3978097,
                mediumslateblue: 8087790,
                mediumspringgreen: 64154,
                mediumturquoise: 4772300,
                mediumvioletred: 13047173,
                midnightblue: 1644912,
                mintcream: 16121850,
                mistyrose: 16770273,
                moccasin: 16770229,
                navajowhite: 16768685,
                navy: 128,
                oldlace: 16643558,
                olive: 8421376,
                olivedrab: 7048739,
                orange: 16753920,
                orangered: 16729344,
                orchid: 14315734,
                palegoldenrod: 15657130,
                palegreen: 10025880,
                paleturquoise: 11529966,
                palevioletred: 14381203,
                papayawhip: 16773077,
                peachpuff: 16767673,
                peru: 13468991,
                pink: 16761035,
                plum: 14524637,
                powderblue: 11591910,
                purple: 8388736,
                red: 16711680,
                rosybrown: 12357519,
                royalblue: 4286945,
                saddlebrown: 9127187,
                salmon: 16416882,
                sandybrown: 16032864,
                seagreen: 3050327,
                seashell: 16774638,
                sienna: 10506797,
                silver: 12632256,
                skyblue: 8900331,
                slateblue: 6970061,
                slategray: 7372944,
                slategrey: 7372944,
                snow: 16775930,
                springgreen: 65407,
                steelblue: 4620980,
                tan: 13808780,
                teal: 32896,
                thistle: 14204888,
                tomato: 16737095,
                turquoise: 4251856,
                violet: 15631086,
                wheat: 16113331,
                white: 16777215,
                whitesmoke: 16119285,
                yellow: 16776960,
                yellowgreen: 10145074
            }, n.Quaternion = function(t, e, i, n) {
                this._x = t || 0, this._y = e || 0, this._z = i || 0, this._w = void 0 !== n ? n : 1
            }, n.Quaternion.prototype = {
                constructor: n.Quaternion,
                get x() {
                    return this._x
                },
                set x(t) {
                    this._x = t, this.onChangeCallback()
                },
                get y() {
                    return this._y
                },
                set y(t) {
                    this._y = t, this.onChangeCallback()
                },
                get z() {
                    return this._z
                },
                set z(t) {
                    this._z = t, this.onChangeCallback()
                },
                get w() {
                    return this._w
                },
                set w(t) {
                    this._w = t, this.onChangeCallback()
                },
                set: function(t, e, i, n) {
                    return this._x = t, this._y = e, this._z = i, this._w = n, this.onChangeCallback(), this
                },
                clone: function() {
                    return new this.constructor(this._x, this._y, this._z, this._w)
                },
                copy: function(t) {
                    return this._x = t.x, this._y = t.y, this._z = t.z, this._w = t.w, this.onChangeCallback(), this
                },
                setFromEuler: function(t, e) {
                    if (t instanceof n.Euler == !1) throw new Error("THREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.");
                    var i = Math.cos(t._x / 2),
                        r = Math.cos(t._y / 2),
                        o = Math.cos(t._z / 2),
                        a = Math.sin(t._x / 2),
                        s = Math.sin(t._y / 2),
                        l = Math.sin(t._z / 2),
                        u = t.order;
                    return "XYZ" === u ? (this._x = a * r * o + i * s * l, this._y = i * s * o - a * r * l, this._z = i * r * l + a * s * o, this._w = i * r * o - a * s * l) : "YXZ" === u ? (this._x = a * r * o + i * s * l, this._y = i * s * o - a * r * l, this._z = i * r * l - a * s * o, this._w = i * r * o + a * s * l) : "ZXY" === u ? (this._x = a * r * o - i * s * l, this._y = i * s * o + a * r * l, this._z = i * r * l + a * s * o, this._w = i * r * o - a * s * l) : "ZYX" === u ? (this._x = a * r * o - i * s * l, this._y = i * s * o + a * r * l, this._z = i * r * l - a * s * o, this._w = i * r * o + a * s * l) : "YZX" === u ? (this._x = a * r * o + i * s * l, this._y = i * s * o + a * r * l, this._z = i * r * l - a * s * o, this._w = i * r * o - a * s * l) : "XZY" === u && (this._x = a * r * o - i * s * l, this._y = i * s * o - a * r * l, this._z = i * r * l + a * s * o, this._w = i * r * o + a * s * l), e !== !1 && this.onChangeCallback(), this
                },
                setFromAxisAngle: function(t, e) {
                    var i = e / 2,
                        n = Math.sin(i);
                    return this._x = t.x * n, this._y = t.y * n, this._z = t.z * n, this._w = Math.cos(i), this.onChangeCallback(), this
                },
                setFromRotationMatrix: function(t) {
                    var e, i = t.elements,
                        n = i[0],
                        r = i[4],
                        o = i[8],
                        a = i[1],
                        s = i[5],
                        l = i[9],
                        u = i[2],
                        c = i[6],
                        h = i[10],
                        d = n + s + h;
                    return d > 0 ? (e = .5 / Math.sqrt(d + 1), this._w = .25 / e, this._x = (c - l) * e, this._y = (o - u) * e, this._z = (a - r) * e) : n > s && n > h ? (e = 2 * Math.sqrt(1 + n - s - h), this._w = (c - l) / e, this._x = .25 * e, this._y = (r + a) / e, this._z = (o + u) / e) : s > h ? (e = 2 * Math.sqrt(1 + s - n - h), this._w = (o - u) / e, this._x = (r + a) / e, this._y = .25 * e, this._z = (l + c) / e) : (e = 2 * Math.sqrt(1 + h - n - s), this._w = (a - r) / e, this._x = (o + u) / e, this._y = (l + c) / e, this._z = .25 * e), this.onChangeCallback(), this
                },
                setFromUnitVectors: function() {
                    var t, e;
                    return function(i, r) {
                        return void 0 === t && (t = new n.Vector3), e = i.dot(r) + 1, e < 1e-6 ? (e = 0, Math.abs(i.x) > Math.abs(i.z) ? t.set(-i.y, i.x, 0) : t.set(0, -i.z, i.y)) : t.crossVectors(i, r), this._x = t.x, this._y = t.y, this._z = t.z, this._w = e, this.normalize()
                    }
                }(),
                inverse: function() {
                    return this.conjugate().normalize()
                },
                conjugate: function() {
                    return this._x *= -1, this._y *= -1, this._z *= -1, this.onChangeCallback(), this
                },
                dot: function(t) {
                    return this._x * t._x + this._y * t._y + this._z * t._z + this._w * t._w
                },
                lengthSq: function() {
                    return this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w
                },
                length: function() {
                    return Math.sqrt(this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w)
                },
                normalize: function() {
                    var t = this.length();
                    return 0 === t ? (this._x = 0, this._y = 0, this._z = 0, this._w = 1) : (t = 1 / t, this._x = this._x * t, this._y = this._y * t, this._z = this._z * t, this._w = this._w * t), this.onChangeCallback(), this
                },
                multiply: function(t, e) {
                    return void 0 !== e ? (console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."), this.multiplyQuaternions(t, e)) : this.multiplyQuaternions(this, t)
                },
                premultiply: function(t) {
                    return this.multiplyQuaternions(t, this)
                },
                multiplyQuaternions: function(t, e) {
                    var i = t._x,
                        n = t._y,
                        r = t._z,
                        o = t._w,
                        a = e._x,
                        s = e._y,
                        l = e._z,
                        u = e._w;
                    return this._x = i * u + o * a + n * l - r * s, this._y = n * u + o * s + r * a - i * l, this._z = r * u + o * l + i * s - n * a, this._w = o * u - i * a - n * s - r * l, this.onChangeCallback(), this
                },
                slerp: function(t, e) {
                    if (0 === e) return this;
                    if (1 === e) return this.copy(t);
                    var i = this._x,
                        n = this._y,
                        r = this._z,
                        o = this._w,
                        a = o * t._w + i * t._x + n * t._y + r * t._z;
                    if (a < 0 ? (this._w = -t._w, this._x = -t._x, this._y = -t._y, this._z = -t._z, a = -a) : this.copy(t), a >= 1) return this._w = o, this._x = i, this._y = n, this._z = r, this;
                    var s = Math.sqrt(1 - a * a);
                    if (Math.abs(s) < .001) return this._w = .5 * (o + this._w), this._x = .5 * (i + this._x), this._y = .5 * (n + this._y), this._z = .5 * (r + this._z), this;
                    var l = Math.atan2(s, a),
                        u = Math.sin((1 - e) * l) / s,
                        c = Math.sin(e * l) / s;
                    return this._w = o * u + this._w * c, this._x = i * u + this._x * c, this._y = n * u + this._y * c, this._z = r * u + this._z * c, this.onChangeCallback(), this
                },
                equals: function(t) {
                    return t._x === this._x && t._y === this._y && t._z === this._z && t._w === this._w
                },
                fromArray: function(t, e) {
                    return void 0 === e && (e = 0), this._x = t[e], this._y = t[e + 1], this._z = t[e + 2], this._w = t[e + 3], this.onChangeCallback(), this
                },
                toArray: function(t, e) {
                    return void 0 === t && (t = []), void 0 === e && (e = 0), t[e] = this._x, t[e + 1] = this._y, t[e + 2] = this._z, t[e + 3] = this._w, t
                },
                onChange: function(t) {
                    return this.onChangeCallback = t, this
                },
                onChangeCallback: function() {}
            }, Object.assign(n.Quaternion, {
                slerp: function(t, e, i, n) {
                    return i.copy(t).slerp(e, n)
                },
                slerpFlat: function(t, e, i, n, r, o, a) {
                    var s = i[n + 0],
                        l = i[n + 1],
                        u = i[n + 2],
                        c = i[n + 3],
                        h = r[o + 0],
                        d = r[o + 1],
                        p = r[o + 2],
                        f = r[o + 3];
                    if (c !== f || s !== h || l !== d || u !== p) {
                        var m = 1 - a,
                            g = s * h + l * d + u * p + c * f,
                            v = g >= 0 ? 1 : -1,
                            y = 1 - g * g;
                        if (y > Number.EPSILON) {
                            var _ = Math.sqrt(y),
                                b = Math.atan2(_, g * v);
                            m = Math.sin(m * b) / _, a = Math.sin(a * b) / _
                        }
                        var x = a * v;
                        if (s = s * m + h * x, l = l * m + d * x, u = u * m + p * x, c = c * m + f * x, m === 1 - a) {
                            var w = 1 / Math.sqrt(s * s + l * l + u * u + c * c);
                            s *= w, l *= w, u *= w, c *= w
                        }
                    }
                    t[e] = s, t[e + 1] = l, t[e + 2] = u, t[e + 3] = c
                }
            }), n.Vector2 = function(t, e) {
                this.x = t || 0, this.y = e || 0
            }, n.Vector2.prototype = {
                constructor: n.Vector2,
                get width() {
                    return this.x
                },
                set width(t) {
                    this.x = t
                },
                get height() {
                    return this.y
                },
                set height(t) {
                    this.y = t
                },
                set: function(t, e) {
                    return this.x = t, this.y = e, this
                },
                setScalar: function(t) {
                    return this.x = t, this.y = t, this
                },
                setX: function(t) {
                    return this.x = t, this
                },
                setY: function(t) {
                    return this.y = t, this
                },
                setComponent: function(t, e) {
                    switch (t) {
                        case 0:
                            this.x = e;
                            break;
                        case 1:
                            this.y = e;
                            break;
                        default:
                            throw new Error("index is out of range: " + t)
                    }
                },
                getComponent: function(t) {
                    switch (t) {
                        case 0:
                            return this.x;
                        case 1:
                            return this.y;
                        default:
                            throw new Error("index is out of range: " + t)
                    }
                },
                clone: function() {
                    return new this.constructor(this.x, this.y)
                },
                copy: function(t) {
                    return this.x = t.x, this.y = t.y, this
                },
                add: function(t, e) {
                    return void 0 !== e ? (console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."), this.addVectors(t, e)) : (this.x += t.x, this.y += t.y, this)
                },
                addScalar: function(t) {
                    return this.x += t, this.y += t, this
                },
                addVectors: function(t, e) {
                    return this.x = t.x + e.x, this.y = t.y + e.y, this
                },
                addScaledVector: function(t, e) {
                    return this.x += t.x * e, this.y += t.y * e, this
                },
                sub: function(t, e) {
                    return void 0 !== e ? (console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."), this.subVectors(t, e)) : (this.x -= t.x, this.y -= t.y, this)
                },
                subScalar: function(t) {
                    return this.x -= t, this.y -= t, this
                },
                subVectors: function(t, e) {
                    return this.x = t.x - e.x, this.y = t.y - e.y, this
                },
                multiply: function(t) {
                    return this.x *= t.x, this.y *= t.y, this
                },
                multiplyScalar: function(t) {
                    return isFinite(t) ? (this.x *= t, this.y *= t) : (this.x = 0, this.y = 0), this
                },
                divide: function(t) {
                    return this.x /= t.x, this.y /= t.y, this
                },
                divideScalar: function(t) {
                    return this.multiplyScalar(1 / t)
                },
                min: function(t) {
                    return this.x = Math.min(this.x, t.x), this.y = Math.min(this.y, t.y), this
                },
                max: function(t) {
                    return this.x = Math.max(this.x, t.x), this.y = Math.max(this.y, t.y), this
                },
                clamp: function(t, e) {
                    return this.x = Math.max(t.x, Math.min(e.x, this.x)), this.y = Math.max(t.y, Math.min(e.y, this.y)), this
                },
                clampScalar: function() {
                    var t, e;
                    return function(i, r) {
                        return void 0 === t && (t = new n.Vector2, e = new n.Vector2), t.set(i, i), e.set(r, r), this.clamp(t, e)
                    }
                }(),
                clampLength: function(t, e) {
                    var i = this.length();
                    return this.multiplyScalar(Math.max(t, Math.min(e, i)) / i)
                },
                floor: function() {
                    return this.x = Math.floor(this.x), this.y = Math.floor(this.y), this
                },
                ceil: function() {
                    return this.x = Math.ceil(this.x), this.y = Math.ceil(this.y), this
                },
                round: function() {
                    return this.x = Math.round(this.x), this.y = Math.round(this.y), this
                },
                roundToZero: function() {
                    return this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x), this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y), this
                },
                negate: function() {
                    return this.x = -this.x, this.y = -this.y, this
                },
                dot: function(t) {
                    return this.x * t.x + this.y * t.y
                },
                lengthSq: function() {
                    return this.x * this.x + this.y * this.y
                },
                length: function() {
                    return Math.sqrt(this.x * this.x + this.y * this.y)
                },
                lengthManhattan: function() {
                    return Math.abs(this.x) + Math.abs(this.y)
                },
                normalize: function() {
                    return this.divideScalar(this.length())
                },
                angle: function() {
                    var t = Math.atan2(this.y, this.x);
                    return t < 0 && (t += 2 * Math.PI), t
                },
                distanceTo: function(t) {
                    return Math.sqrt(this.distanceToSquared(t))
                },
                distanceToSquared: function(t) {
                    var e = this.x - t.x,
                        i = this.y - t.y;
                    return e * e + i * i
                },
                setLength: function(t) {
                    return this.multiplyScalar(t / this.length())
                },
                lerp: function(t, e) {
                    return this.x += (t.x - this.x) * e, this.y += (t.y - this.y) * e, this
                },
                lerpVectors: function(t, e, i) {
                    return this.subVectors(e, t).multiplyScalar(i).add(t)
                },
                equals: function(t) {
                    return t.x === this.x && t.y === this.y
                },
                fromArray: function(t, e) {
                    return void 0 === e && (e = 0), this.x = t[e], this.y = t[e + 1], this
                },
                toArray: function(t, e) {
                    return void 0 === t && (t = []), void 0 === e && (e = 0), t[e] = this.x, t[e + 1] = this.y, t
                },
                fromAttribute: function(t, e, i) {
                    return void 0 === i && (i = 0), e = e * t.itemSize + i, this.x = t.array[e], this.y = t.array[e + 1], this
                },
                rotateAround: function(t, e) {
                    var i = Math.cos(e),
                        n = Math.sin(e),
                        r = this.x - t.x,
                        o = this.y - t.y;
                    return this.x = r * i - o * n + t.x, this.y = r * n + o * i + t.y, this
                }
            }, n.Vector3 = function(t, e, i) {
                this.x = t || 0, this.y = e || 0, this.z = i || 0
            }, n.Vector3.prototype = {
                constructor: n.Vector3,
                set: function(t, e, i) {
                    return this.x = t, this.y = e, this.z = i, this
                },
                setScalar: function(t) {
                    return this.x = t, this.y = t, this.z = t, this
                },
                setX: function(t) {
                    return this.x = t, this
                },
                setY: function(t) {
                    return this.y = t, this
                },
                setZ: function(t) {
                    return this.z = t, this
                },
                setComponent: function(t, e) {
                    switch (t) {
                        case 0:
                            this.x = e;
                            break;
                        case 1:
                            this.y = e;
                            break;
                        case 2:
                            this.z = e;
                            break;
                        default:
                            throw new Error("index is out of range: " + t)
                    }
                },
                getComponent: function(t) {
                    switch (t) {
                        case 0:
                            return this.x;
                        case 1:
                            return this.y;
                        case 2:
                            return this.z;
                        default:
                            throw new Error("index is out of range: " + t)
                    }
                },
                clone: function() {
                    return new this.constructor(this.x, this.y, this.z)
                },
                copy: function(t) {
                    return this.x = t.x, this.y = t.y, this.z = t.z, this
                },
                add: function(t, e) {
                    return void 0 !== e ? (console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."), this.addVectors(t, e)) : (this.x += t.x, this.y += t.y, this.z += t.z, this)
                },
                addScalar: function(t) {
                    return this.x += t, this.y += t, this.z += t, this
                },
                addVectors: function(t, e) {
                    return this.x = t.x + e.x, this.y = t.y + e.y, this.z = t.z + e.z, this
                },
                addScaledVector: function(t, e) {
                    return this.x += t.x * e, this.y += t.y * e, this.z += t.z * e, this
                },
                sub: function(t, e) {
                    return void 0 !== e ? (console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."), this.subVectors(t, e)) : (this.x -= t.x, this.y -= t.y, this.z -= t.z, this)
                },
                subScalar: function(t) {
                    return this.x -= t, this.y -= t, this.z -= t, this
                },
                subVectors: function(t, e) {
                    return this.x = t.x - e.x, this.y = t.y - e.y, this.z = t.z - e.z, this
                },
                multiply: function(t, e) {
                    return void 0 !== e ? (console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."), this.multiplyVectors(t, e)) : (this.x *= t.x, this.y *= t.y, this.z *= t.z, this)
                },
                multiplyScalar: function(t) {
                    return isFinite(t) ? (this.x *= t, this.y *= t, this.z *= t) : (this.x = 0, this.y = 0, this.z = 0), this
                },
                multiplyVectors: function(t, e) {
                    return this.x = t.x * e.x, this.y = t.y * e.y, this.z = t.z * e.z, this
                },
                applyEuler: function() {
                    var t;
                    return function(e) {
                        return e instanceof n.Euler == !1 && console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."), void 0 === t && (t = new n.Quaternion), this.applyQuaternion(t.setFromEuler(e))
                    }
                }(),
                applyAxisAngle: function() {
                    var t;
                    return function(e, i) {
                        return void 0 === t && (t = new n.Quaternion), this.applyQuaternion(t.setFromAxisAngle(e, i))
                    }
                }(),
                applyMatrix3: function(t) {
                    var e = this.x,
                        i = this.y,
                        n = this.z,
                        r = t.elements;
                    return this.x = r[0] * e + r[3] * i + r[6] * n, this.y = r[1] * e + r[4] * i + r[7] * n, this.z = r[2] * e + r[5] * i + r[8] * n, this
                },
                applyMatrix4: function(t) {
                    var e = this.x,
                        i = this.y,
                        n = this.z,
                        r = t.elements;
                    return this.x = r[0] * e + r[4] * i + r[8] * n + r[12], this.y = r[1] * e + r[5] * i + r[9] * n + r[13], this.z = r[2] * e + r[6] * i + r[10] * n + r[14], this
                },
                applyProjection: function(t) {
                    var e = this.x,
                        i = this.y,
                        n = this.z,
                        r = t.elements,
                        o = 1 / (r[3] * e + r[7] * i + r[11] * n + r[15]);
                    return this.x = (r[0] * e + r[4] * i + r[8] * n + r[12]) * o, this.y = (r[1] * e + r[5] * i + r[9] * n + r[13]) * o, this.z = (r[2] * e + r[6] * i + r[10] * n + r[14]) * o, this
                },
                applyQuaternion: function(t) {
                    var e = this.x,
                        i = this.y,
                        n = this.z,
                        r = t.x,
                        o = t.y,
                        a = t.z,
                        s = t.w,
                        l = s * e + o * n - a * i,
                        u = s * i + a * e - r * n,
                        c = s * n + r * i - o * e,
                        h = -r * e - o * i - a * n;
                    return this.x = l * s + h * -r + u * -a - c * -o, this.y = u * s + h * -o + c * -r - l * -a, this.z = c * s + h * -a + l * -o - u * -r, this
                },
                project: function() {
                    var t;
                    return function(e) {
                        return void 0 === t && (t = new n.Matrix4), t.multiplyMatrices(e.projectionMatrix, t.getInverse(e.matrixWorld)), this.applyProjection(t)
                    }
                }(),
                unproject: function() {
                    var t;
                    return function(e) {
                        return void 0 === t && (t = new n.Matrix4), t.multiplyMatrices(e.matrixWorld, t.getInverse(e.projectionMatrix)), this.applyProjection(t)
                    }
                }(),
                transformDirection: function(t) {
                    var e = this.x,
                        i = this.y,
                        n = this.z,
                        r = t.elements;
                    return this.x = r[0] * e + r[4] * i + r[8] * n, this.y = r[1] * e + r[5] * i + r[9] * n, this.z = r[2] * e + r[6] * i + r[10] * n, this.normalize()
                },
                divide: function(t) {
                    return this.x /= t.x, this.y /= t.y, this.z /= t.z, this
                },
                divideScalar: function(t) {
                    return this.multiplyScalar(1 / t)
                },
                min: function(t) {
                    return this.x = Math.min(this.x, t.x), this.y = Math.min(this.y, t.y), this.z = Math.min(this.z, t.z), this
                },
                max: function(t) {
                    return this.x = Math.max(this.x, t.x), this.y = Math.max(this.y, t.y), this.z = Math.max(this.z, t.z), this
                },
                clamp: function(t, e) {
                    return this.x = Math.max(t.x, Math.min(e.x, this.x)), this.y = Math.max(t.y, Math.min(e.y, this.y)), this.z = Math.max(t.z, Math.min(e.z, this.z)), this
                },
                clampScalar: function() {
                    var t, e;
                    return function(i, r) {
                        return void 0 === t && (t = new n.Vector3, e = new n.Vector3), t.set(i, i, i), e.set(r, r, r), this.clamp(t, e)
                    }
                }(),
                clampLength: function(t, e) {
                    var i = this.length();
                    return this.multiplyScalar(Math.max(t, Math.min(e, i)) / i)
                },
                floor: function() {
                    return this.x = Math.floor(this.x), this.y = Math.floor(this.y), this.z = Math.floor(this.z), this
                },
                ceil: function() {
                    return this.x = Math.ceil(this.x), this.y = Math.ceil(this.y), this.z = Math.ceil(this.z), this
                },
                round: function() {
                    return this.x = Math.round(this.x), this.y = Math.round(this.y), this.z = Math.round(this.z), this
                },
                roundToZero: function() {
                    return this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x), this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y), this.z = this.z < 0 ? Math.ceil(this.z) : Math.floor(this.z), this
                },
                negate: function() {
                    return this.x = -this.x, this.y = -this.y, this.z = -this.z, this
                },
                dot: function(t) {
                    return this.x * t.x + this.y * t.y + this.z * t.z
                },
                lengthSq: function() {
                    return this.x * this.x + this.y * this.y + this.z * this.z
                },
                length: function() {
                    return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z)
                },
                lengthManhattan: function() {
                    return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z)
                },
                normalize: function() {
                    return this.divideScalar(this.length())
                },
                setLength: function(t) {
                    return this.multiplyScalar(t / this.length())
                },
                lerp: function(t, e) {
                    return this.x += (t.x - this.x) * e, this.y += (t.y - this.y) * e, this.z += (t.z - this.z) * e, this
                },
                lerpVectors: function(t, e, i) {
                    return this.subVectors(e, t).multiplyScalar(i).add(t)
                },
                cross: function(t, e) {
                    if (void 0 !== e) return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."), this.crossVectors(t, e);
                    var i = this.x,
                        n = this.y,
                        r = this.z;
                    return this.x = n * t.z - r * t.y, this.y = r * t.x - i * t.z, this.z = i * t.y - n * t.x, this
                },
                crossVectors: function(t, e) {
                    var i = t.x,
                        n = t.y,
                        r = t.z,
                        o = e.x,
                        a = e.y,
                        s = e.z;
                    return this.x = n * s - r * a, this.y = r * o - i * s, this.z = i * a - n * o, this
                },
                projectOnVector: function() {
                    var t, e;
                    return function(i) {
                        return void 0 === t && (t = new n.Vector3), t.copy(i).normalize(), e = this.dot(t), this.copy(t).multiplyScalar(e)
                    }
                }(),
                projectOnPlane: function() {
                    var t;
                    return function(e) {
                        return void 0 === t && (t = new n.Vector3), t.copy(this).projectOnVector(e), this.sub(t)
                    }
                }(),
                reflect: function() {
                    var t;
                    return function(e) {
                        return void 0 === t && (t = new n.Vector3), this.sub(t.copy(e).multiplyScalar(2 * this.dot(e)))
                    }
                }(),
                angleTo: function(t) {
                    var e = this.dot(t) / Math.sqrt(this.lengthSq() * t.lengthSq());
                    return Math.acos(n.Math.clamp(e, -1, 1))
                },
                distanceTo: function(t) {
                    return Math.sqrt(this.distanceToSquared(t))
                },
                distanceToSquared: function(t) {
                    var e = this.x - t.x,
                        i = this.y - t.y,
                        n = this.z - t.z;
                    return e * e + i * i + n * n
                },
                setFromSpherical: function(t) {
                    var e = Math.sin(t.phi) * t.radius;
                    return this.x = e * Math.sin(t.theta), this.y = Math.cos(t.phi) * t.radius, this.z = e * Math.cos(t.theta), this
                },
                setFromMatrixPosition: function(t) {
                    return this.setFromMatrixColumn(t, 3)
                },
                setFromMatrixScale: function(t) {
                    var e = this.setFromMatrixColumn(t, 0).length(),
                        i = this.setFromMatrixColumn(t, 1).length(),
                        n = this.setFromMatrixColumn(t, 2).length();
                    return this.x = e, this.y = i, this.z = n, this
                },
                setFromMatrixColumn: function(t, e) {
                    if ("number" == typeof t) {
                        console.warn("THREE.Vector3: setFromMatrixColumn now expects ( matrix, index ).");
                        var i = t;
                        t = e, e = i
                    }
                    return this.fromArray(t.elements, 4 * e)
                },
                equals: function(t) {
                    return t.x === this.x && t.y === this.y && t.z === this.z
                },
                fromArray: function(t, e) {
                    return void 0 === e && (e = 0), this.x = t[e], this.y = t[e + 1], this.z = t[e + 2], this
                },
                toArray: function(t, e) {
                    return void 0 === t && (t = []), void 0 === e && (e = 0), t[e] = this.x, t[e + 1] = this.y, t[e + 2] = this.z, t
                },
                fromAttribute: function(t, e, i) {
                    return void 0 === i && (i = 0), e = e * t.itemSize + i, this.x = t.array[e], this.y = t.array[e + 1], this.z = t.array[e + 2], this
                }
            }, n.Vector4 = function(t, e, i, n) {
                this.x = t || 0, this.y = e || 0, this.z = i || 0, this.w = void 0 !== n ? n : 1
            }, n.Vector4.prototype = {
                constructor: n.Vector4,
                set: function(t, e, i, n) {
                    return this.x = t, this.y = e, this.z = i, this.w = n, this
                },
                setScalar: function(t) {
                    return this.x = t, this.y = t, this.z = t, this.w = t, this
                },
                setX: function(t) {
                    return this.x = t, this
                },
                setY: function(t) {
                    return this.y = t, this
                },
                setZ: function(t) {
                    return this.z = t, this
                },
                setW: function(t) {
                    return this.w = t, this
                },
                setComponent: function(t, e) {
                    switch (t) {
                        case 0:
                            this.x = e;
                            break;
                        case 1:
                            this.y = e;
                            break;
                        case 2:
                            this.z = e;
                            break;
                        case 3:
                            this.w = e;
                            break;
                        default:
                            throw new Error("index is out of range: " + t)
                    }
                },
                getComponent: function(t) {
                    switch (t) {
                        case 0:
                            return this.x;
                        case 1:
                            return this.y;
                        case 2:
                            return this.z;
                        case 3:
                            return this.w;
                        default:
                            throw new Error("index is out of range: " + t)
                    }
                },
                clone: function() {
                    return new this.constructor(this.x, this.y, this.z, this.w)
                },
                copy: function(t) {
                    return this.x = t.x, this.y = t.y, this.z = t.z, this.w = void 0 !== t.w ? t.w : 1, this
                },
                add: function(t, e) {
                    return void 0 !== e ? (console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."), this.addVectors(t, e)) : (this.x += t.x, this.y += t.y, this.z += t.z, this.w += t.w, this)
                },
                addScalar: function(t) {
                    return this.x += t, this.y += t, this.z += t, this.w += t, this
                },
                addVectors: function(t, e) {
                    return this.x = t.x + e.x, this.y = t.y + e.y, this.z = t.z + e.z, this.w = t.w + e.w, this
                },
                addScaledVector: function(t, e) {
                    return this.x += t.x * e, this.y += t.y * e, this.z += t.z * e, this.w += t.w * e, this
                },
                sub: function(t, e) {
                    return void 0 !== e ? (console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."), this.subVectors(t, e)) : (this.x -= t.x, this.y -= t.y, this.z -= t.z, this.w -= t.w, this)
                },
                subScalar: function(t) {
                    return this.x -= t, this.y -= t, this.z -= t, this.w -= t, this
                },
                subVectors: function(t, e) {
                    return this.x = t.x - e.x, this.y = t.y - e.y, this.z = t.z - e.z, this.w = t.w - e.w, this
                },
                multiplyScalar: function(t) {
                    return isFinite(t) ? (this.x *= t, this.y *= t, this.z *= t, this.w *= t) : (this.x = 0, this.y = 0, this.z = 0, this.w = 0), this
                },
                applyMatrix4: function(t) {
                    var e = this.x,
                        i = this.y,
                        n = this.z,
                        r = this.w,
                        o = t.elements;
                    return this.x = o[0] * e + o[4] * i + o[8] * n + o[12] * r, this.y = o[1] * e + o[5] * i + o[9] * n + o[13] * r, this.z = o[2] * e + o[6] * i + o[10] * n + o[14] * r, this.w = o[3] * e + o[7] * i + o[11] * n + o[15] * r, this
                },
                divideScalar: function(t) {
                    return this.multiplyScalar(1 / t)
                },
                setAxisAngleFromQuaternion: function(t) {
                    this.w = 2 * Math.acos(t.w);
                    var e = Math.sqrt(1 - t.w * t.w);
                    return e < 1e-4 ? (this.x = 1, this.y = 0, this.z = 0) : (this.x = t.x / e, this.y = t.y / e, this.z = t.z / e), this
                },
                setAxisAngleFromRotationMatrix: function(t) {
                    var e, i, n, r, o = t.elements,
                        a = o[0],
                        s = o[4],
                        l = o[8],
                        u = o[1],
                        c = o[5],
                        h = o[9],
                        d = o[2],
                        p = o[6],
                        f = o[10];
                    if (Math.abs(s - u) < .01 && Math.abs(l - d) < .01 && Math.abs(h - p) < .01) {
                        if (Math.abs(s + u) < .1 && Math.abs(l + d) < .1 && Math.abs(h + p) < .1 && Math.abs(a + c + f - 3) < .1) return this.set(1, 0, 0, 0), this;
                        e = Math.PI;
                        var m = (a + 1) / 2,
                            g = (c + 1) / 2,
                            v = (f + 1) / 2,
                            y = (s + u) / 4,
                            _ = (l + d) / 4,
                            b = (h + p) / 4;
                        return m > g && m > v ? m < .01 ? (i = 0, n = .707106781, r = .707106781) : (i = Math.sqrt(m), n = y / i, r = _ / i) : g > v ? g < .01 ? (i = .707106781, n = 0, r = .707106781) : (n = Math.sqrt(g), i = y / n, r = b / n) : v < .01 ? (i = .707106781, n = .707106781, r = 0) : (r = Math.sqrt(v), i = _ / r, n = b / r), this.set(i, n, r, e), this
                    }
                    var x = Math.sqrt((p - h) * (p - h) + (l - d) * (l - d) + (u - s) * (u - s));
                    return Math.abs(x) < .001 && (x = 1), this.x = (p - h) / x, this.y = (l - d) / x, this.z = (u - s) / x, this.w = Math.acos((a + c + f - 1) / 2), this
                },
                min: function(t) {
                    return this.x = Math.min(this.x, t.x), this.y = Math.min(this.y, t.y), this.z = Math.min(this.z, t.z), this.w = Math.min(this.w, t.w), this
                },
                max: function(t) {
                    return this.x = Math.max(this.x, t.x), this.y = Math.max(this.y, t.y), this.z = Math.max(this.z, t.z), this.w = Math.max(this.w, t.w), this
                },
                clamp: function(t, e) {
                    return this.x = Math.max(t.x, Math.min(e.x, this.x)), this.y = Math.max(t.y, Math.min(e.y, this.y)), this.z = Math.max(t.z, Math.min(e.z, this.z)), this.w = Math.max(t.w, Math.min(e.w, this.w)), this
                },
                clampScalar: function() {
                    var t, e;
                    return function(i, r) {
                        return void 0 === t && (t = new n.Vector4, e = new n.Vector4), t.set(i, i, i, i), e.set(r, r, r, r), this.clamp(t, e)
                    }
                }(),
                floor: function() {
                    return this.x = Math.floor(this.x), this.y = Math.floor(this.y), this.z = Math.floor(this.z), this.w = Math.floor(this.w), this
                },
                ceil: function() {
                    return this.x = Math.ceil(this.x), this.y = Math.ceil(this.y), this.z = Math.ceil(this.z), this.w = Math.ceil(this.w), this
                },
                round: function() {
                    return this.x = Math.round(this.x), this.y = Math.round(this.y), this.z = Math.round(this.z), this.w = Math.round(this.w), this
                },
                roundToZero: function() {
                    return this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x), this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y), this.z = this.z < 0 ? Math.ceil(this.z) : Math.floor(this.z), this.w = this.w < 0 ? Math.ceil(this.w) : Math.floor(this.w), this
                },
                negate: function() {
                    return this.x = -this.x, this.y = -this.y, this.z = -this.z, this.w = -this.w, this
                },
                dot: function(t) {
                    return this.x * t.x + this.y * t.y + this.z * t.z + this.w * t.w
                },
                lengthSq: function() {
                    return this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w
                },
                length: function() {
                    return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w)
                },
                lengthManhattan: function() {
                    return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z) + Math.abs(this.w)
                },
                normalize: function() {
                    return this.divideScalar(this.length())
                },
                setLength: function(t) {
                    return this.multiplyScalar(t / this.length())
                },
                lerp: function(t, e) {
                    return this.x += (t.x - this.x) * e, this.y += (t.y - this.y) * e, this.z += (t.z - this.z) * e, this.w += (t.w - this.w) * e, this
                },
                lerpVectors: function(t, e, i) {
                    return this.subVectors(e, t).multiplyScalar(i).add(t)
                },
                equals: function(t) {
                    return t.x === this.x && t.y === this.y && t.z === this.z && t.w === this.w
                },
                fromArray: function(t, e) {
                    return void 0 === e && (e = 0), this.x = t[e], this.y = t[e + 1], this.z = t[e + 2], this.w = t[e + 3], this
                },
                toArray: function(t, e) {
                    return void 0 === t && (t = []), void 0 === e && (e = 0), t[e] = this.x, t[e + 1] = this.y, t[e + 2] = this.z, t[e + 3] = this.w, t
                },
                fromAttribute: function(t, e, i) {
                    return void 0 === i && (i = 0), e = e * t.itemSize + i, this.x = t.array[e], this.y = t.array[e + 1], this.z = t.array[e + 2], this.w = t.array[e + 3], this
                }
            }, n.Euler = function(t, e, i, r) {
                this._x = t || 0, this._y = e || 0, this._z = i || 0, this._order = r || n.Euler.DefaultOrder
            }, n.Euler.RotationOrders = ["XYZ", "YZX", "ZXY", "XZY", "YXZ", "ZYX"], n.Euler.DefaultOrder = "XYZ", n.Euler.prototype = {
                constructor: n.Euler,
                get x() {
                    return this._x
                },
                set x(t) {
                    this._x = t, this.onChangeCallback()
                },
                get y() {
                    return this._y
                },
                set y(t) {
                    this._y = t, this.onChangeCallback()
                },
                get z() {
                    return this._z
                },
                set z(t) {
                    this._z = t, this.onChangeCallback()
                },
                get order() {
                    return this._order
                },
                set order(t) {
                    this._order = t, this.onChangeCallback()
                },
                set: function(t, e, i, n) {
                    return this._x = t, this._y = e, this._z = i, this._order = n || this._order, this.onChangeCallback(), this
                },
                clone: function() {
                    return new this.constructor(this._x, this._y, this._z, this._order)
                },
                copy: function(t) {
                    return this._x = t._x, this._y = t._y, this._z = t._z, this._order = t._order, this.onChangeCallback(), this
                },
                setFromRotationMatrix: function(t, e, i) {
                    var r = n.Math.clamp,
                        o = t.elements,
                        a = o[0],
                        s = o[4],
                        l = o[8],
                        u = o[1],
                        c = o[5],
                        h = o[9],
                        d = o[2],
                        p = o[6],
                        f = o[10];
                    return e = e || this._order, "XYZ" === e ? (this._y = Math.asin(r(l, -1, 1)), Math.abs(l) < .99999 ? (this._x = Math.atan2(-h, f), this._z = Math.atan2(-s, a)) : (this._x = Math.atan2(p, c), this._z = 0)) : "YXZ" === e ? (this._x = Math.asin(-r(h, -1, 1)), Math.abs(h) < .99999 ? (this._y = Math.atan2(l, f), this._z = Math.atan2(u, c)) : (this._y = Math.atan2(-d, a), this._z = 0)) : "ZXY" === e ? (this._x = Math.asin(r(p, -1, 1)), Math.abs(p) < .99999 ? (this._y = Math.atan2(-d, f), this._z = Math.atan2(-s, c)) : (this._y = 0, this._z = Math.atan2(u, a))) : "ZYX" === e ? (this._y = Math.asin(-r(d, -1, 1)), Math.abs(d) < .99999 ? (this._x = Math.atan2(p, f), this._z = Math.atan2(u, a)) : (this._x = 0, this._z = Math.atan2(-s, c))) : "YZX" === e ? (this._z = Math.asin(r(u, -1, 1)), Math.abs(u) < .99999 ? (this._x = Math.atan2(-h, c), this._y = Math.atan2(-d, a)) : (this._x = 0, this._y = Math.atan2(l, f))) : "XZY" === e ? (this._z = Math.asin(-r(s, -1, 1)), Math.abs(s) < .99999 ? (this._x = Math.atan2(p, c), this._y = Math.atan2(l, a)) : (this._x = Math.atan2(-h, f), this._y = 0)) : console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: " + e), this._order = e, i !== !1 && this.onChangeCallback(), this
                },
                setFromQuaternion: function() {
                    var t;
                    return function(e, i, r) {
                        return void 0 === t && (t = new n.Matrix4), t.makeRotationFromQuaternion(e), this.setFromRotationMatrix(t, i, r)
                    }
                }(),
                setFromVector3: function(t, e) {
                    return this.set(t.x, t.y, t.z, e || this._order)
                },
                reorder: function() {
                    var t = new n.Quaternion;
                    return function(e) {
                        return t.setFromEuler(this), this.setFromQuaternion(t, e)
                    }
                }(),
                equals: function(t) {
                    return t._x === this._x && t._y === this._y && t._z === this._z && t._order === this._order
                },
                fromArray: function(t) {
                    return this._x = t[0], this._y = t[1], this._z = t[2], void 0 !== t[3] && (this._order = t[3]), this.onChangeCallback(), this
                },
                toArray: function(t, e) {
                    return void 0 === t && (t = []), void 0 === e && (e = 0), t[e] = this._x, t[e + 1] = this._y, t[e + 2] = this._z, t[e + 3] = this._order, t
                },
                toVector3: function(t) {
                    return t ? t.set(this._x, this._y, this._z) : new n.Vector3(this._x, this._y, this._z)
                },
                onChange: function(t) {
                    return this.onChangeCallback = t, this
                },
                onChangeCallback: function() {}
            }, n.Line3 = function(t, e) {
                this.start = void 0 !== t ? t : new n.Vector3, this.end = void 0 !== e ? e : new n.Vector3
            }, n.Line3.prototype = {
                constructor: n.Line3,
                set: function(t, e) {
                    return this.start.copy(t), this.end.copy(e), this
                },
                clone: function() {
                    return (new this.constructor).copy(this)
                },
                copy: function(t) {
                    return this.start.copy(t.start), this.end.copy(t.end), this
                },
                center: function(t) {
                    return (t || new n.Vector3).addVectors(this.start, this.end).multiplyScalar(.5)
                },
                delta: function(t) {
                    return (t || new n.Vector3).subVectors(this.end, this.start)
                },
                distanceSq: function() {
                    return this.start.distanceToSquared(this.end)
                },
                distance: function() {
                    return this.start.distanceTo(this.end)
                },
                at: function(t, e) {
                    var i = e || new n.Vector3;
                    return this.delta(i).multiplyScalar(t).add(this.start)
                },
                closestPointToPointParameter: function() {
                    var t = new n.Vector3,
                        e = new n.Vector3;
                    return function(i, r) {
                        t.subVectors(i, this.start), e.subVectors(this.end, this.start);
                        var o = e.dot(e),
                            a = e.dot(t),
                            s = a / o;
                        return r && (s = n.Math.clamp(s, 0, 1)), s
                    }
                }(),
                closestPointToPoint: function(t, e, i) {
                    var r = this.closestPointToPointParameter(t, e),
                        o = i || new n.Vector3;
                    return this.delta(o).multiplyScalar(r).add(this.start)
                },
                applyMatrix4: function(t) {
                    return this.start.applyMatrix4(t), this.end.applyMatrix4(t), this
                },
                equals: function(t) {
                    return t.start.equals(this.start) && t.end.equals(this.end)
                }
            }, n.Box2 = function(t, e) {
                this.min = void 0 !== t ? t : new n.Vector2(+(1 / 0), +(1 / 0)), this.max = void 0 !== e ? e : new n.Vector2(-(1 / 0), -(1 / 0))
            }, n.Box2.prototype = {
                constructor: n.Box2,
                set: function(t, e) {
                    return this.min.copy(t), this.max.copy(e), this
                },
                setFromPoints: function(t) {
                    this.makeEmpty();
                    for (var e = 0, i = t.length; e < i; e++) this.expandByPoint(t[e]);
                    return this
                },
                setFromCenterAndSize: function() {
                    var t = new n.Vector2;
                    return function(e, i) {
                        var n = t.copy(i).multiplyScalar(.5);
                        return this.min.copy(e).sub(n), this.max.copy(e).add(n), this
                    }
                }(),
                clone: function() {
                    return (new this.constructor).copy(this)
                },
                copy: function(t) {
                    return this.min.copy(t.min), this.max.copy(t.max), this
                },
                makeEmpty: function() {
                    return this.min.x = this.min.y = +(1 / 0), this.max.x = this.max.y = -(1 / 0), this
                },
                isEmpty: function() {
                    return this.max.x < this.min.x || this.max.y < this.min.y
                },
                center: function(t) {
                    return (t || new n.Vector2).addVectors(this.min, this.max).multiplyScalar(.5)
                },
                size: function(t) {
                    return (t || new n.Vector2).subVectors(this.max, this.min)
                },
                expandByPoint: function(t) {
                    return this.min.min(t), this.max.max(t), this
                },
                expandByVector: function(t) {
                    return this.min.sub(t), this.max.add(t), this
                },
                expandByScalar: function(t) {
                    return this.min.addScalar(-t), this.max.addScalar(t), this
                },
                containsPoint: function(t) {
                    return !(t.x < this.min.x || t.x > this.max.x || t.y < this.min.y || t.y > this.max.y)
                },
                containsBox: function(t) {
                    return this.min.x <= t.min.x && t.max.x <= this.max.x && this.min.y <= t.min.y && t.max.y <= this.max.y
                },
                getParameter: function(t, e) {
                    return (e || new n.Vector2).set((t.x - this.min.x) / (this.max.x - this.min.x), (t.y - this.min.y) / (this.max.y - this.min.y))
                },
                intersectsBox: function(t) {
                    return !(t.max.x < this.min.x || t.min.x > this.max.x || t.max.y < this.min.y || t.min.y > this.max.y)
                },
                clampPoint: function(t, e) {
                    return (e || new n.Vector2).copy(t).clamp(this.min, this.max)
                },
                distanceToPoint: function() {
                    var t = new n.Vector2;
                    return function(e) {
                        return t.copy(e).clamp(this.min, this.max).sub(e).length()
                    }
                }(),
                intersect: function(t) {
                    return this.min.max(t.min), this.max.min(t.max), this
                },
                union: function(t) {
                    return this.min.min(t.min), this.max.max(t.max), this
                },
                translate: function(t) {
                    return this.min.add(t), this.max.add(t), this
                },
                equals: function(t) {
                    return t.min.equals(this.min) && t.max.equals(this.max)
                }
            }, n.Box3 = function(t, e) {
                this.min = void 0 !== t ? t : new n.Vector3(+(1 / 0), +(1 / 0), +(1 / 0)), this.max = void 0 !== e ? e : new n.Vector3(-(1 / 0), -(1 / 0), -(1 / 0))
            }, n.Box3.prototype = {
                constructor: n.Box3,
                set: function(t, e) {
                    return this.min.copy(t), this.max.copy(e), this
                },
                setFromArray: function(t) {
                    for (var e = +(1 / 0), i = +(1 / 0), n = +(1 / 0), r = -(1 / 0), o = -(1 / 0), a = -(1 / 0), s = 0, l = t.length; s < l; s += 3) {
                        var u = t[s],
                            c = t[s + 1],
                            h = t[s + 2];
                        u < e && (e = u), c < i && (i = c), h < n && (n = h), u > r && (r = u), c > o && (o = c), h > a && (a = h)
                    }
                    this.min.set(e, i, n), this.max.set(r, o, a)
                },
                setFromPoints: function(t) {
                    this.makeEmpty();
                    for (var e = 0, i = t.length; e < i; e++) this.expandByPoint(t[e]);
                    return this
                },
                setFromCenterAndSize: function() {
                    var t = new n.Vector3;
                    return function(e, i) {
                        var n = t.copy(i).multiplyScalar(.5);
                        return this.min.copy(e).sub(n), this.max.copy(e).add(n), this
                    }
                }(),
                setFromObject: function() {
                    var t = new n.Vector3;
                    return function(e) {
                        var i = this;
                        return e.updateMatrixWorld(!0), this.makeEmpty(), e.traverse(function(e) {
                            var r = e.geometry;
                            if (void 0 !== r)
                                if (r instanceof n.Geometry)
                                    for (var o = r.vertices, a = 0, s = o.length; a < s; a++) t.copy(o[a]), t.applyMatrix4(e.matrixWorld), i.expandByPoint(t);
                                else if (r instanceof n.BufferGeometry && void 0 !== r.attributes.position)
                                for (var l = r.attributes.position.array, a = 0, s = l.length; a < s; a += 3) t.fromArray(l, a), t.applyMatrix4(e.matrixWorld), i.expandByPoint(t)
                        }), this
                    }
                }(),
                clone: function() {
                    return (new this.constructor).copy(this)
                },
                copy: function(t) {
                    return this.min.copy(t.min), this.max.copy(t.max), this
                },
                makeEmpty: function() {
                    return this.min.x = this.min.y = this.min.z = +(1 / 0), this.max.x = this.max.y = this.max.z = -(1 / 0), this
                },
                isEmpty: function() {
                    return this.max.x < this.min.x || this.max.y < this.min.y || this.max.z < this.min.z
                },
                center: function(t) {
                    return (t || new n.Vector3).addVectors(this.min, this.max).multiplyScalar(.5)
                },
                size: function(t) {
                    return (t || new n.Vector3).subVectors(this.max, this.min)
                },
                expandByPoint: function(t) {
                    return this.min.min(t), this.max.max(t), this
                },
                expandByVector: function(t) {
                    return this.min.sub(t), this.max.add(t), this
                },
                expandByScalar: function(t) {
                    return this.min.addScalar(-t), this.max.addScalar(t), this
                },
                containsPoint: function(t) {
                    return !(t.x < this.min.x || t.x > this.max.x || t.y < this.min.y || t.y > this.max.y || t.z < this.min.z || t.z > this.max.z)
                },
                containsBox: function(t) {
                    return this.min.x <= t.min.x && t.max.x <= this.max.x && this.min.y <= t.min.y && t.max.y <= this.max.y && this.min.z <= t.min.z && t.max.z <= this.max.z
                },
                getParameter: function(t, e) {
                    return (e || new n.Vector3).set((t.x - this.min.x) / (this.max.x - this.min.x), (t.y - this.min.y) / (this.max.y - this.min.y), (t.z - this.min.z) / (this.max.z - this.min.z))
                },
                intersectsBox: function(t) {
                    return !(t.max.x < this.min.x || t.min.x > this.max.x || t.max.y < this.min.y || t.min.y > this.max.y || t.max.z < this.min.z || t.min.z > this.max.z)
                },
                intersectsSphere: function() {
                    var t;
                    return function(e) {
                        return void 0 === t && (t = new n.Vector3), this.clampPoint(e.center, t), t.distanceToSquared(e.center) <= e.radius * e.radius
                    }
                }(),
                intersectsPlane: function(t) {
                    var e, i;
                    return t.normal.x > 0 ? (e = t.normal.x * this.min.x, i = t.normal.x * this.max.x) : (e = t.normal.x * this.max.x, i = t.normal.x * this.min.x), t.normal.y > 0 ? (e += t.normal.y * this.min.y, i += t.normal.y * this.max.y) : (e += t.normal.y * this.max.y, i += t.normal.y * this.min.y), t.normal.z > 0 ? (e += t.normal.z * this.min.z, i += t.normal.z * this.max.z) : (e += t.normal.z * this.max.z, i += t.normal.z * this.min.z), e <= t.constant && i >= t.constant
                },
                clampPoint: function(t, e) {
                    return (e || new n.Vector3).copy(t).clamp(this.min, this.max)
                },
                distanceToPoint: function() {
                    var t = new n.Vector3;
                    return function(e) {
                        return t.copy(e).clamp(this.min, this.max).sub(e).length()
                    }
                }(),
                getBoundingSphere: function() {
                    var t = new n.Vector3;
                    return function(e) {
                        var i = e || new n.Sphere;
                        return i.center = this.center(), i.radius = .5 * this.size(t).length(), i
                    }
                }(),
                intersect: function(t) {
                    return this.min.max(t.min), this.max.min(t.max), this.isEmpty() && this.makeEmpty(), this
                },
                union: function(t) {
                    return this.min.min(t.min), this.max.max(t.max), this
                },
                applyMatrix4: function() {
                    var t = [new n.Vector3, new n.Vector3, new n.Vector3, new n.Vector3, new n.Vector3, new n.Vector3, new n.Vector3, new n.Vector3];
                    return function(e) {
                        return this.isEmpty() ? this : (t[0].set(this.min.x, this.min.y, this.min.z).applyMatrix4(e), t[1].set(this.min.x, this.min.y, this.max.z).applyMatrix4(e), t[2].set(this.min.x, this.max.y, this.min.z).applyMatrix4(e), t[3].set(this.min.x, this.max.y, this.max.z).applyMatrix4(e), t[4].set(this.max.x, this.min.y, this.min.z).applyMatrix4(e), t[5].set(this.max.x, this.min.y, this.max.z).applyMatrix4(e), t[6].set(this.max.x, this.max.y, this.min.z).applyMatrix4(e), t[7].set(this.max.x, this.max.y, this.max.z).applyMatrix4(e), this.setFromPoints(t), this)
                    }
                }(),
                translate: function(t) {
                    return this.min.add(t), this.max.add(t), this
                },
                equals: function(t) {
                    return t.min.equals(this.min) && t.max.equals(this.max)
                }
            }, n.Matrix3 = function() {
                this.elements = new Float32Array([1, 0, 0, 0, 1, 0, 0, 0, 1]), arguments.length > 0 && console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")
            }, n.Matrix3.prototype = {
                constructor: n.Matrix3,
                set: function(t, e, i, n, r, o, a, s, l) {
                    var u = this.elements;
                    return u[0] = t, u[1] = n, u[2] = a, u[3] = e, u[4] = r, u[5] = s, u[6] = i, u[7] = o, u[8] = l, this
                },
                identity: function() {
                    return this.set(1, 0, 0, 0, 1, 0, 0, 0, 1), this
                },
                clone: function() {
                    return (new this.constructor).fromArray(this.elements)
                },
                copy: function(t) {
                    var e = t.elements;
                    return this.set(e[0], e[3], e[6], e[1], e[4], e[7], e[2], e[5], e[8]), this
                },
                setFromMatrix4: function(t) {
                    var e = t.elements;
                    return this.set(e[0], e[4], e[8], e[1], e[5], e[9], e[2], e[6], e[10]), this
                },
                applyToVector3Array: function() {
                    var t;
                    return function(e, i, r) {
                        void 0 === t && (t = new n.Vector3), void 0 === i && (i = 0), void 0 === r && (r = e.length);
                        for (var o = 0, a = i; o < r; o += 3,
                            a += 3) t.fromArray(e, a), t.applyMatrix3(this), t.toArray(e, a);
                        return e
                    }
                }(),
                applyToBuffer: function() {
                    var t;
                    return function(e, i, r) {
                        void 0 === t && (t = new n.Vector3), void 0 === i && (i = 0), void 0 === r && (r = e.length / e.itemSize);
                        for (var o = 0, a = i; o < r; o++, a++) t.x = e.getX(a), t.y = e.getY(a), t.z = e.getZ(a), t.applyMatrix3(this), e.setXYZ(t.x, t.y, t.z);
                        return e
                    }
                }(),
                multiplyScalar: function(t) {
                    var e = this.elements;
                    return e[0] *= t, e[3] *= t, e[6] *= t, e[1] *= t, e[4] *= t, e[7] *= t, e[2] *= t, e[5] *= t, e[8] *= t, this
                },
                determinant: function() {
                    var t = this.elements,
                        e = t[0],
                        i = t[1],
                        n = t[2],
                        r = t[3],
                        o = t[4],
                        a = t[5],
                        s = t[6],
                        l = t[7],
                        u = t[8];
                    return e * o * u - e * a * l - i * r * u + i * a * s + n * r * l - n * o * s
                },
                getInverse: function(t, e) {
                    t instanceof n.Matrix4 && console.error("THREE.Matrix3.getInverse no longer takes a Matrix4 argument.");
                    var i = t.elements,
                        r = this.elements,
                        o = i[0],
                        a = i[1],
                        s = i[2],
                        l = i[3],
                        u = i[4],
                        c = i[5],
                        h = i[6],
                        d = i[7],
                        p = i[8],
                        f = p * u - c * d,
                        m = c * h - p * l,
                        g = d * l - u * h,
                        v = o * f + a * m + s * g;
                    if (0 === v) {
                        var y = "THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0";
                        if (e) throw new Error(y);
                        return console.warn(y), this.identity()
                    }
                    var _ = 1 / v;
                    return r[0] = f * _, r[1] = (s * d - p * a) * _, r[2] = (c * a - s * u) * _, r[3] = m * _, r[4] = (p * o - s * h) * _, r[5] = (s * l - c * o) * _, r[6] = g * _, r[7] = (a * h - d * o) * _, r[8] = (u * o - a * l) * _, this
                },
                transpose: function() {
                    var t, e = this.elements;
                    return t = e[1], e[1] = e[3], e[3] = t, t = e[2], e[2] = e[6], e[6] = t, t = e[5], e[5] = e[7], e[7] = t, this
                },
                flattenToArrayOffset: function(t, e) {
                    return console.warn("THREE.Matrix3: .flattenToArrayOffset is deprecated - just use .toArray instead."), this.toArray(t, e)
                },
                getNormalMatrix: function(t) {
                    return this.setFromMatrix4(t).getInverse(this).transpose()
                },
                transposeIntoArray: function(t) {
                    var e = this.elements;
                    return t[0] = e[0], t[1] = e[3], t[2] = e[6], t[3] = e[1], t[4] = e[4], t[5] = e[7], t[6] = e[2], t[7] = e[5], t[8] = e[8], this
                },
                fromArray: function(t) {
                    return this.elements.set(t), this
                },
                toArray: function(t, e) {
                    void 0 === t && (t = []), void 0 === e && (e = 0);
                    var i = this.elements;
                    return t[e] = i[0], t[e + 1] = i[1], t[e + 2] = i[2], t[e + 3] = i[3], t[e + 4] = i[4], t[e + 5] = i[5], t[e + 6] = i[6], t[e + 7] = i[7], t[e + 8] = i[8], t
                }
            }, n.Matrix4 = function() {
                this.elements = new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]), arguments.length > 0 && console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")
            }, n.Matrix4.prototype = {
                constructor: n.Matrix4,
                set: function(t, e, i, n, r, o, a, s, l, u, c, h, d, p, f, m) {
                    var g = this.elements;
                    return g[0] = t, g[4] = e, g[8] = i, g[12] = n, g[1] = r, g[5] = o, g[9] = a, g[13] = s, g[2] = l, g[6] = u, g[10] = c, g[14] = h, g[3] = d, g[7] = p, g[11] = f, g[15] = m, this
                },
                identity: function() {
                    return this.set(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1), this
                },
                clone: function() {
                    return (new n.Matrix4).fromArray(this.elements)
                },
                copy: function(t) {
                    return this.elements.set(t.elements), this
                },
                copyPosition: function(t) {
                    var e = this.elements,
                        i = t.elements;
                    return e[12] = i[12], e[13] = i[13], e[14] = i[14], this
                },
                extractBasis: function(t, e, i) {
                    return t.setFromMatrixColumn(this, 0), e.setFromMatrixColumn(this, 1), i.setFromMatrixColumn(this, 2), this
                },
                makeBasis: function(t, e, i) {
                    return this.set(t.x, e.x, i.x, 0, t.y, e.y, i.y, 0, t.z, e.z, i.z, 0, 0, 0, 0, 1), this
                },
                extractRotation: function() {
                    var t;
                    return function(e) {
                        void 0 === t && (t = new n.Vector3);
                        var i = this.elements,
                            r = e.elements,
                            o = 1 / t.setFromMatrixColumn(e, 0).length(),
                            a = 1 / t.setFromMatrixColumn(e, 1).length(),
                            s = 1 / t.setFromMatrixColumn(e, 2).length();
                        return i[0] = r[0] * o, i[1] = r[1] * o, i[2] = r[2] * o, i[4] = r[4] * a, i[5] = r[5] * a, i[6] = r[6] * a, i[8] = r[8] * s, i[9] = r[9] * s, i[10] = r[10] * s, this
                    }
                }(),
                makeRotationFromEuler: function(t) {
                    t instanceof n.Euler == !1 && console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");
                    var e = this.elements,
                        i = t.x,
                        r = t.y,
                        o = t.z,
                        a = Math.cos(i),
                        s = Math.sin(i),
                        l = Math.cos(r),
                        u = Math.sin(r),
                        c = Math.cos(o),
                        h = Math.sin(o);
                    if ("XYZ" === t.order) {
                        var d = a * c,
                            p = a * h,
                            f = s * c,
                            m = s * h;
                        e[0] = l * c, e[4] = -l * h, e[8] = u, e[1] = p + f * u, e[5] = d - m * u, e[9] = -s * l, e[2] = m - d * u, e[6] = f + p * u, e[10] = a * l
                    } else if ("YXZ" === t.order) {
                        var g = l * c,
                            v = l * h,
                            y = u * c,
                            _ = u * h;
                        e[0] = g + _ * s, e[4] = y * s - v, e[8] = a * u, e[1] = a * h, e[5] = a * c, e[9] = -s, e[2] = v * s - y, e[6] = _ + g * s, e[10] = a * l
                    } else if ("ZXY" === t.order) {
                        var g = l * c,
                            v = l * h,
                            y = u * c,
                            _ = u * h;
                        e[0] = g - _ * s, e[4] = -a * h, e[8] = y + v * s, e[1] = v + y * s, e[5] = a * c, e[9] = _ - g * s, e[2] = -a * u, e[6] = s, e[10] = a * l
                    } else if ("ZYX" === t.order) {
                        var d = a * c,
                            p = a * h,
                            f = s * c,
                            m = s * h;
                        e[0] = l * c, e[4] = f * u - p, e[8] = d * u + m, e[1] = l * h, e[5] = m * u + d, e[9] = p * u - f, e[2] = -u, e[6] = s * l, e[10] = a * l
                    } else if ("YZX" === t.order) {
                        var b = a * l,
                            x = a * u,
                            w = s * l,
                            T = s * u;
                        e[0] = l * c, e[4] = T - b * h, e[8] = w * h + x, e[1] = h, e[5] = a * c, e[9] = -s * c, e[2] = -u * c, e[6] = x * h + w, e[10] = b - T * h
                    } else if ("XZY" === t.order) {
                        var b = a * l,
                            x = a * u,
                            w = s * l,
                            T = s * u;
                        e[0] = l * c, e[4] = -h, e[8] = u * c, e[1] = b * h + T, e[5] = a * c, e[9] = x * h - w, e[2] = w * h - x, e[6] = s * c, e[10] = T * h + b
                    }
                    return e[3] = 0, e[7] = 0, e[11] = 0, e[12] = 0, e[13] = 0, e[14] = 0, e[15] = 1, this
                },
                makeRotationFromQuaternion: function(t) {
                    var e = this.elements,
                        i = t.x,
                        n = t.y,
                        r = t.z,
                        o = t.w,
                        a = i + i,
                        s = n + n,
                        l = r + r,
                        u = i * a,
                        c = i * s,
                        h = i * l,
                        d = n * s,
                        p = n * l,
                        f = r * l,
                        m = o * a,
                        g = o * s,
                        v = o * l;
                    return e[0] = 1 - (d + f), e[4] = c - v, e[8] = h + g, e[1] = c + v, e[5] = 1 - (u + f), e[9] = p - m, e[2] = h - g, e[6] = p + m, e[10] = 1 - (u + d), e[3] = 0, e[7] = 0, e[11] = 0, e[12] = 0, e[13] = 0, e[14] = 0, e[15] = 1, this
                },
                lookAt: function() {
                    var t, e, i;
                    return function(r, o, a) {
                        void 0 === t && (t = new n.Vector3, e = new n.Vector3, i = new n.Vector3);
                        var s = this.elements;
                        return i.subVectors(r, o).normalize(), 0 === i.lengthSq() && (i.z = 1), t.crossVectors(a, i).normalize(), 0 === t.lengthSq() && (i.z += 1e-4, t.crossVectors(a, i).normalize()), e.crossVectors(i, t), s[0] = t.x, s[4] = e.x, s[8] = i.x, s[1] = t.y, s[5] = e.y, s[9] = i.y, s[2] = t.z, s[6] = e.z, s[10] = i.z, this
                    }
                }(),
                multiply: function(t, e) {
                    return void 0 !== e ? (console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."), this.multiplyMatrices(t, e)) : this.multiplyMatrices(this, t)
                },
                premultiply: function(t) {
                    return this.multiplyMatrices(t, this)
                },
                multiplyMatrices: function(t, e) {
                    var i = t.elements,
                        n = e.elements,
                        r = this.elements,
                        o = i[0],
                        a = i[4],
                        s = i[8],
                        l = i[12],
                        u = i[1],
                        c = i[5],
                        h = i[9],
                        d = i[13],
                        p = i[2],
                        f = i[6],
                        m = i[10],
                        g = i[14],
                        v = i[3],
                        y = i[7],
                        _ = i[11],
                        b = i[15],
                        x = n[0],
                        w = n[4],
                        T = n[8],
                        S = n[12],
                        M = n[1],
                        E = n[5],
                        C = n[9],
                        A = n[13],
                        P = n[2],
                        L = n[6],
                        O = n[10],
                        k = n[14],
                        R = n[3],
                        I = n[7],
                        D = n[11],
                        B = n[15];
                    return r[0] = o * x + a * M + s * P + l * R, r[4] = o * w + a * E + s * L + l * I, r[8] = o * T + a * C + s * O + l * D, r[12] = o * S + a * A + s * k + l * B, r[1] = u * x + c * M + h * P + d * R, r[5] = u * w + c * E + h * L + d * I, r[9] = u * T + c * C + h * O + d * D, r[13] = u * S + c * A + h * k + d * B, r[2] = p * x + f * M + m * P + g * R, r[6] = p * w + f * E + m * L + g * I, r[10] = p * T + f * C + m * O + g * D, r[14] = p * S + f * A + m * k + g * B, r[3] = v * x + y * M + _ * P + b * R, r[7] = v * w + y * E + _ * L + b * I, r[11] = v * T + y * C + _ * O + b * D, r[15] = v * S + y * A + _ * k + b * B, this
                },
                multiplyToArray: function(t, e, i) {
                    var n = this.elements;
                    return this.multiplyMatrices(t, e), i[0] = n[0], i[1] = n[1], i[2] = n[2], i[3] = n[3], i[4] = n[4], i[5] = n[5], i[6] = n[6], i[7] = n[7], i[8] = n[8], i[9] = n[9], i[10] = n[10], i[11] = n[11], i[12] = n[12], i[13] = n[13], i[14] = n[14], i[15] = n[15], this
                },
                multiplyScalar: function(t) {
                    var e = this.elements;
                    return e[0] *= t, e[4] *= t, e[8] *= t, e[12] *= t, e[1] *= t, e[5] *= t, e[9] *= t, e[13] *= t, e[2] *= t, e[6] *= t, e[10] *= t, e[14] *= t, e[3] *= t, e[7] *= t, e[11] *= t, e[15] *= t, this
                },
                applyToVector3Array: function() {
                    var t;
                    return function(e, i, r) {
                        void 0 === t && (t = new n.Vector3), void 0 === i && (i = 0), void 0 === r && (r = e.length);
                        for (var o = 0, a = i; o < r; o += 3, a += 3) t.fromArray(e, a), t.applyMatrix4(this), t.toArray(e, a);
                        return e
                    }
                }(),
                applyToBuffer: function() {
                    var t;
                    return function(e, i, r) {
                        void 0 === t && (t = new n.Vector3), void 0 === i && (i = 0), void 0 === r && (r = e.length / e.itemSize);
                        for (var o = 0, a = i; o < r; o++, a++) t.x = e.getX(a), t.y = e.getY(a), t.z = e.getZ(a), t.applyMatrix4(this), e.setXYZ(t.x, t.y, t.z);
                        return e
                    }
                }(),
                determinant: function() {
                    var t = this.elements,
                        e = t[0],
                        i = t[4],
                        n = t[8],
                        r = t[12],
                        o = t[1],
                        a = t[5],
                        s = t[9],
                        l = t[13],
                        u = t[2],
                        c = t[6],
                        h = t[10],
                        d = t[14];
                    return t[3] * (+r * s * c - n * l * c - r * a * h + i * l * h + n * a * d - i * s * d) + t[7] * (+e * s * d - e * l * h + r * o * h - n * o * d + n * l * u - r * s * u) + t[11] * (+e * l * c - e * a * d - r * o * c + i * o * d + r * a * u - i * l * u) + t[15] * (-n * a * u - e * s * c + e * a * h + n * o * c - i * o * h + i * s * u)
                },
                transpose: function() {
                    var t, e = this.elements;
                    return t = e[1], e[1] = e[4], e[4] = t, t = e[2], e[2] = e[8], e[8] = t, t = e[6], e[6] = e[9], e[9] = t, t = e[3], e[3] = e[12], e[12] = t, t = e[7], e[7] = e[13], e[13] = t, t = e[11], e[11] = e[14], e[14] = t, this
                },
                flattenToArrayOffset: function(t, e) {
                    return console.warn("THREE.Matrix3: .flattenToArrayOffset is deprecated - just use .toArray instead."), this.toArray(t, e)
                },
                getPosition: function() {
                    var t;
                    return function() {
                        return void 0 === t && (t = new n.Vector3), console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."), t.setFromMatrixColumn(this, 3)
                    }
                }(),
                setPosition: function(t) {
                    var e = this.elements;
                    return e[12] = t.x, e[13] = t.y, e[14] = t.z, this
                },
                getInverse: function(t, e) {
                    var i = this.elements,
                        n = t.elements,
                        r = n[0],
                        o = n[1],
                        a = n[2],
                        s = n[3],
                        l = n[4],
                        u = n[5],
                        c = n[6],
                        h = n[7],
                        d = n[8],
                        p = n[9],
                        f = n[10],
                        m = n[11],
                        g = n[12],
                        v = n[13],
                        y = n[14],
                        _ = n[15],
                        b = p * y * h - v * f * h + v * c * m - u * y * m - p * c * _ + u * f * _,
                        x = g * f * h - d * y * h - g * c * m + l * y * m + d * c * _ - l * f * _,
                        w = d * v * h - g * p * h + g * u * m - l * v * m - d * u * _ + l * p * _,
                        T = g * p * c - d * v * c - g * u * f + l * v * f + d * u * y - l * p * y,
                        S = r * b + o * x + a * w + s * T;
                    if (0 === S) {
                        var M = "THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0";
                        if (e) throw new Error(M);
                        return console.warn(M), this.identity()
                    }
                    var E = 1 / S;
                    return i[0] = b * E, i[1] = (v * f * s - p * y * s - v * a * m + o * y * m + p * a * _ - o * f * _) * E, i[2] = (u * y * s - v * c * s + v * a * h - o * y * h - u * a * _ + o * c * _) * E, i[3] = (p * c * s - u * f * s - p * a * h + o * f * h + u * a * m - o * c * m) * E, i[4] = x * E, i[5] = (d * y * s - g * f * s + g * a * m - r * y * m - d * a * _ + r * f * _) * E, i[6] = (g * c * s - l * y * s - g * a * h + r * y * h + l * a * _ - r * c * _) * E, i[7] = (l * f * s - d * c * s + d * a * h - r * f * h - l * a * m + r * c * m) * E, i[8] = w * E, i[9] = (g * p * s - d * v * s - g * o * m + r * v * m + d * o * _ - r * p * _) * E, i[10] = (l * v * s - g * u * s + g * o * h - r * v * h - l * o * _ + r * u * _) * E, i[11] = (d * u * s - l * p * s - d * o * h + r * p * h + l * o * m - r * u * m) * E, i[12] = T * E, i[13] = (d * v * a - g * p * a + g * o * f - r * v * f - d * o * y + r * p * y) * E, i[14] = (g * u * a - l * v * a - g * o * c + r * v * c + l * o * y - r * u * y) * E, i[15] = (l * p * a - d * u * a + d * o * c - r * p * c - l * o * f + r * u * f) * E, this
                },
                scale: function(t) {
                    var e = this.elements,
                        i = t.x,
                        n = t.y,
                        r = t.z;
                    return e[0] *= i, e[4] *= n, e[8] *= r, e[1] *= i, e[5] *= n, e[9] *= r, e[2] *= i, e[6] *= n, e[10] *= r, e[3] *= i, e[7] *= n, e[11] *= r, this
                },
                getMaxScaleOnAxis: function() {
                    var t = this.elements,
                        e = t[0] * t[0] + t[1] * t[1] + t[2] * t[2],
                        i = t[4] * t[4] + t[5] * t[5] + t[6] * t[6],
                        n = t[8] * t[8] + t[9] * t[9] + t[10] * t[10];
                    return Math.sqrt(Math.max(e, i, n))
                },
                makeTranslation: function(t, e, i) {
                    return this.set(1, 0, 0, t, 0, 1, 0, e, 0, 0, 1, i, 0, 0, 0, 1), this
                },
                makeRotationX: function(t) {
                    var e = Math.cos(t),
                        i = Math.sin(t);
                    return this.set(1, 0, 0, 0, 0, e, -i, 0, 0, i, e, 0, 0, 0, 0, 1), this
                },
                makeRotationY: function(t) {
                    var e = Math.cos(t),
                        i = Math.sin(t);
                    return this.set(e, 0, i, 0, 0, 1, 0, 0, -i, 0, e, 0, 0, 0, 0, 1), this
                },
                makeRotationZ: function(t) {
                    var e = Math.cos(t),
                        i = Math.sin(t);
                    return this.set(e, -i, 0, 0, i, e, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1), this
                },
                makeRotationAxis: function(t, e) {
                    var i = Math.cos(e),
                        n = Math.sin(e),
                        r = 1 - i,
                        o = t.x,
                        a = t.y,
                        s = t.z,
                        l = r * o,
                        u = r * a;
                    return this.set(l * o + i, l * a - n * s, l * s + n * a, 0, l * a + n * s, u * a + i, u * s - n * o, 0, l * s - n * a, u * s + n * o, r * s * s + i, 0, 0, 0, 0, 1), this
                },
                makeScale: function(t, e, i) {
                    return this.set(t, 0, 0, 0, 0, e, 0, 0, 0, 0, i, 0, 0, 0, 0, 1), this
                },
                compose: function(t, e, i) {
                    return this.makeRotationFromQuaternion(e), this.scale(i), this.setPosition(t), this
                },
                decompose: function() {
                    var t, e;
                    return function(i, r, o) {
                        void 0 === t && (t = new n.Vector3, e = new n.Matrix4);
                        var a = this.elements,
                            s = t.set(a[0], a[1], a[2]).length(),
                            l = t.set(a[4], a[5], a[6]).length(),
                            u = t.set(a[8], a[9], a[10]).length();
                        this.determinant() < 0 && (s = -s), i.x = a[12], i.y = a[13], i.z = a[14], e.elements.set(this.elements);
                        var c = 1 / s,
                            h = 1 / l,
                            d = 1 / u;
                        return e.elements[0] *= c, e.elements[1] *= c, e.elements[2] *= c, e.elements[4] *= h, e.elements[5] *= h, e.elements[6] *= h, e.elements[8] *= d, e.elements[9] *= d, e.elements[10] *= d, r.setFromRotationMatrix(e), o.x = s, o.y = l, o.z = u, this
                    }
                }(),
                makeFrustum: function(t, e, i, n, r, o) {
                    var a = this.elements,
                        s = 2 * r / (e - t),
                        l = 2 * r / (n - i),
                        u = (e + t) / (e - t),
                        c = (n + i) / (n - i),
                        h = -(o + r) / (o - r),
                        d = -2 * o * r / (o - r);
                    return a[0] = s, a[4] = 0, a[8] = u, a[12] = 0, a[1] = 0, a[5] = l, a[9] = c, a[13] = 0, a[2] = 0, a[6] = 0, a[10] = h, a[14] = d, a[3] = 0, a[7] = 0, a[11] = -1, a[15] = 0, this
                },
                makePerspective: function(t, e, i, r) {
                    var o = i * Math.tan(n.Math.DEG2RAD * t * .5),
                        a = -o,
                        s = a * e,
                        l = o * e;
                    return this.makeFrustum(s, l, a, o, i, r)
                },
                makeOrthographic: function(t, e, i, n, r, o) {
                    var a = this.elements,
                        s = 1 / (e - t),
                        l = 1 / (i - n),
                        u = 1 / (o - r),
                        c = (e + t) * s,
                        h = (i + n) * l,
                        d = (o + r) * u;
                    return a[0] = 2 * s, a[4] = 0, a[8] = 0, a[12] = -c, a[1] = 0, a[5] = 2 * l, a[9] = 0, a[13] = -h, a[2] = 0, a[6] = 0, a[10] = -2 * u, a[14] = -d, a[3] = 0, a[7] = 0, a[11] = 0, a[15] = 1, this
                },
                equals: function(t) {
                    for (var e = this.elements, i = t.elements, n = 0; n < 16; n++)
                        if (e[n] !== i[n]) return !1;
                    return !0
                },
                fromArray: function(t) {
                    return this.elements.set(t), this
                },
                toArray: function(t, e) {
                    void 0 === t && (t = []), void 0 === e && (e = 0);
                    var i = this.elements;
                    return t[e] = i[0], t[e + 1] = i[1], t[e + 2] = i[2], t[e + 3] = i[3], t[e + 4] = i[4], t[e + 5] = i[5], t[e + 6] = i[6], t[e + 7] = i[7], t[e + 8] = i[8], t[e + 9] = i[9], t[e + 10] = i[10], t[e + 11] = i[11], t[e + 12] = i[12], t[e + 13] = i[13], t[e + 14] = i[14], t[e + 15] = i[15], t
                }
            }, n.Ray = function(t, e) {
                this.origin = void 0 !== t ? t : new n.Vector3, this.direction = void 0 !== e ? e : new n.Vector3
            }, n.Ray.prototype = {
                constructor: n.Ray,
                set: function(t, e) {
                    return this.origin.copy(t), this.direction.copy(e), this
                },
                clone: function() {
                    return (new this.constructor).copy(this)
                },
                copy: function(t) {
                    return this.origin.copy(t.origin), this.direction.copy(t.direction), this
                },
                at: function(t, e) {
                    return (e || new n.Vector3).copy(this.direction).multiplyScalar(t).add(this.origin)
                },
                lookAt: function(t) {
                    return this.direction.copy(t).sub(this.origin).normalize(), this
                },
                recast: function() {
                    var t = new n.Vector3;
                    return function(e) {
                        return this.origin.copy(this.at(e, t)), this
                    }
                }(),
                closestPointToPoint: function(t, e) {
                    var i = e || new n.Vector3;
                    i.subVectors(t, this.origin);
                    var r = i.dot(this.direction);
                    return r < 0 ? i.copy(this.origin) : i.copy(this.direction).multiplyScalar(r).add(this.origin)
                },
                distanceToPoint: function(t) {
                    return Math.sqrt(this.distanceSqToPoint(t))
                },
                distanceSqToPoint: function() {
                    var t = new n.Vector3;
                    return function(e) {
                        var i = t.subVectors(e, this.origin).dot(this.direction);
                        return i < 0 ? this.origin.distanceToSquared(e) : (t.copy(this.direction).multiplyScalar(i).add(this.origin), t.distanceToSquared(e))
                    }
                }(),
                distanceSqToSegment: function() {
                    var t = new n.Vector3,
                        e = new n.Vector3,
                        i = new n.Vector3;
                    return function(n, r, o, a) {
                        t.copy(n).add(r).multiplyScalar(.5), e.copy(r).sub(n).normalize(), i.copy(this.origin).sub(t);
                        var s, l, u, c, h = .5 * n.distanceTo(r),
                            d = -this.direction.dot(e),
                            p = i.dot(this.direction),
                            f = -i.dot(e),
                            m = i.lengthSq(),
                            g = Math.abs(1 - d * d);
                        if (g > 0)
                            if (s = d * f - p, l = d * p - f, c = h * g, s >= 0)
                                if (l >= -c)
                                    if (l <= c) {
                                        var v = 1 / g;
                                        s *= v, l *= v, u = s * (s + d * l + 2 * p) + l * (d * s + l + 2 * f) + m
                                    } else l = h, s = Math.max(0, -(d * l + p)), u = -s * s + l * (l + 2 * f) + m;
                        else l = -h, s = Math.max(0, -(d * l + p)), u = -s * s + l * (l + 2 * f) + m;
                        else l <= -c ? (s = Math.max(0, -(-d * h + p)), l = s > 0 ? -h : Math.min(Math.max(-h, -f), h), u = -s * s + l * (l + 2 * f) + m) : l <= c ? (s = 0, l = Math.min(Math.max(-h, -f), h), u = l * (l + 2 * f) + m) : (s = Math.max(0, -(d * h + p)), l = s > 0 ? h : Math.min(Math.max(-h, -f), h), u = -s * s + l * (l + 2 * f) + m);
                        else l = d > 0 ? -h : h, s = Math.max(0, -(d * l + p)), u = -s * s + l * (l + 2 * f) + m;
                        return o && o.copy(this.direction).multiplyScalar(s).add(this.origin), a && a.copy(e).multiplyScalar(l).add(t), u
                    }
                }(),
                intersectSphere: function() {
                    var t = new n.Vector3;
                    return function(e, i) {
                        t.subVectors(e.center, this.origin);
                        var n = t.dot(this.direction),
                            r = t.dot(t) - n * n,
                            o = e.radius * e.radius;
                        if (r > o) return null;
                        var a = Math.sqrt(o - r),
                            s = n - a,
                            l = n + a;
                        return s < 0 && l < 0 ? null : s < 0 ? this.at(l, i) : this.at(s, i)
                    }
                }(),
                intersectsSphere: function(t) {
                    return this.distanceToPoint(t.center) <= t.radius
                },
                distanceToPlane: function(t) {
                    var e = t.normal.dot(this.direction);
                    if (0 === e) return 0 === t.distanceToPoint(this.origin) ? 0 : null;
                    var i = -(this.origin.dot(t.normal) + t.constant) / e;
                    return i >= 0 ? i : null
                },
                intersectPlane: function(t, e) {
                    var i = this.distanceToPlane(t);
                    return null === i ? null : this.at(i, e)
                },
                intersectsPlane: function(t) {
                    var e = t.distanceToPoint(this.origin);
                    return 0 === e || t.normal.dot(this.direction) * e < 0
                },
                intersectBox: function(t, e) {
                    var i, n, r, o, a, s, l = 1 / this.direction.x,
                        u = 1 / this.direction.y,
                        c = 1 / this.direction.z,
                        h = this.origin;
                    return l >= 0 ? (i = (t.min.x - h.x) * l, n = (t.max.x - h.x) * l) : (i = (t.max.x - h.x) * l, n = (t.min.x - h.x) * l), u >= 0 ? (r = (t.min.y - h.y) * u, o = (t.max.y - h.y) * u) : (r = (t.max.y - h.y) * u, o = (t.min.y - h.y) * u), i > o || r > n ? null : ((r > i || i !== i) && (i = r), (o < n || n !== n) && (n = o), c >= 0 ? (a = (t.min.z - h.z) * c, s = (t.max.z - h.z) * c) : (a = (t.max.z - h.z) * c, s = (t.min.z - h.z) * c), i > s || a > n ? null : ((a > i || i !== i) && (i = a), (s < n || n !== n) && (n = s), n < 0 ? null : this.at(i >= 0 ? i : n, e)))
                },
                intersectsBox: function() {
                    var t = new n.Vector3;
                    return function(e) {
                        return null !== this.intersectBox(e, t)
                    }
                }(),
                intersectTriangle: function() {
                    var t = new n.Vector3,
                        e = new n.Vector3,
                        i = new n.Vector3,
                        r = new n.Vector3;
                    return function(n, o, a, s, l) {
                        e.subVectors(o, n), i.subVectors(a, n), r.crossVectors(e, i);
                        var u, c = this.direction.dot(r);
                        if (c > 0) {
                            if (s) return null;
                            u = 1
                        } else {
                            if (!(c < 0)) return null;
                            u = -1, c = -c
                        }
                        t.subVectors(this.origin, n);
                        var h = u * this.direction.dot(i.crossVectors(t, i));
                        if (h < 0) return null;
                        var d = u * this.direction.dot(e.cross(t));
                        if (d < 0) return null;
                        if (h + d > c) return null;
                        var p = -u * t.dot(r);
                        return p < 0 ? null : this.at(p / c, l)
                    }
                }(),
                applyMatrix4: function(t) {
                    return this.direction.add(this.origin).applyMatrix4(t), this.origin.applyMatrix4(t), this.direction.sub(this.origin), this.direction.normalize(), this
                },
                equals: function(t) {
                    return t.origin.equals(this.origin) && t.direction.equals(this.direction)
                }
            }, n.Sphere = function(t, e) {
                this.center = void 0 !== t ? t : new n.Vector3, this.radius = void 0 !== e ? e : 0
            }, n.Sphere.prototype = {
                constructor: n.Sphere,
                set: function(t, e) {
                    return this.center.copy(t), this.radius = e, this
                },
                setFromPoints: function() {
                    var t = new n.Box3;
                    return function(e, i) {
                        var n = this.center;
                        void 0 !== i ? n.copy(i) : t.setFromPoints(e).center(n);
                        for (var r = 0, o = 0, a = e.length; o < a; o++) r = Math.max(r, n.distanceToSquared(e[o]));
                        return this.radius = Math.sqrt(r), this
                    }
                }(),
                clone: function() {
                    return (new this.constructor).copy(this)
                },
                copy: function(t) {
                    return this.center.copy(t.center), this.radius = t.radius, this
                },
                empty: function() {
                    return this.radius <= 0
                },
                containsPoint: function(t) {
                    return t.distanceToSquared(this.center) <= this.radius * this.radius
                },
                distanceToPoint: function(t) {
                    return t.distanceTo(this.center) - this.radius
                },
                intersectsSphere: function(t) {
                    var e = this.radius + t.radius;
                    return t.center.distanceToSquared(this.center) <= e * e
                },
                intersectsBox: function(t) {
                    return t.intersectsSphere(this)
                },
                intersectsPlane: function(t) {
                    return Math.abs(this.center.dot(t.normal) - t.constant) <= this.radius
                },
                clampPoint: function(t, e) {
                    var i = this.center.distanceToSquared(t),
                        r = e || new n.Vector3;
                    return r.copy(t), i > this.radius * this.radius && (r.sub(this.center).normalize(), r.multiplyScalar(this.radius).add(this.center)), r
                },
                getBoundingBox: function(t) {
                    var e = t || new n.Box3;
                    return e.set(this.center, this.center), e.expandByScalar(this.radius), e
                },
                applyMatrix4: function(t) {
                    return this.center.applyMatrix4(t), this.radius = this.radius * t.getMaxScaleOnAxis(), this
                },
                translate: function(t) {
                    return this.center.add(t), this
                },
                equals: function(t) {
                    return t.center.equals(this.center) && t.radius === this.radius
                }
            }, n.Frustum = function(t, e, i, r, o, a) {
                this.planes = [void 0 !== t ? t : new n.Plane, void 0 !== e ? e : new n.Plane, void 0 !== i ? i : new n.Plane, void 0 !== r ? r : new n.Plane, void 0 !== o ? o : new n.Plane, void 0 !== a ? a : new n.Plane]
            }, n.Frustum.prototype = {
                constructor: n.Frustum,
                set: function(t, e, i, n, r, o) {
                    var a = this.planes;
                    return a[0].copy(t), a[1].copy(e), a[2].copy(i), a[3].copy(n), a[4].copy(r), a[5].copy(o), this
                },
                clone: function() {
                    return (new this.constructor).copy(this)
                },
                copy: function(t) {
                    for (var e = this.planes, i = 0; i < 6; i++) e[i].copy(t.planes[i]);
                    return this
                },
                setFromMatrix: function(t) {
                    var e = this.planes,
                        i = t.elements,
                        n = i[0],
                        r = i[1],
                        o = i[2],
                        a = i[3],
                        s = i[4],
                        l = i[5],
                        u = i[6],
                        c = i[7],
                        h = i[8],
                        d = i[9],
                        p = i[10],
                        f = i[11],
                        m = i[12],
                        g = i[13],
                        v = i[14],
                        y = i[15];
                    return e[0].setComponents(a - n, c - s, f - h, y - m).normalize(), e[1].setComponents(a + n, c + s, f + h, y + m).normalize(), e[2].setComponents(a + r, c + l, f + d, y + g).normalize(), e[3].setComponents(a - r, c - l, f - d, y - g).normalize(), e[4].setComponents(a - o, c - u, f - p, y - v).normalize(), e[5].setComponents(a + o, c + u, f + p, y + v).normalize(), this
                },
                intersectsObject: function() {
                    var t = new n.Sphere;
                    return function(e) {
                        var i = e.geometry;
                        return null === i.boundingSphere && i.computeBoundingSphere(), t.copy(i.boundingSphere).applyMatrix4(e.matrixWorld), this.intersectsSphere(t)
                    }
                }(),
                intersectsSprite: function() {
                    var t = new n.Sphere;
                    return function(e) {
                        return t.center.set(0, 0, 0), t.radius = .7071067811865476, t.applyMatrix4(e.matrixWorld), this.intersectsSphere(t)
                    }
                }(),
                intersectsSphere: function(t) {
                    for (var e = this.planes, i = t.center, n = -t.radius, r = 0; r < 6; r++) {
                        if (e[r].distanceToPoint(i) < n) return !1
                    }
                    return !0
                },
                intersectsBox: function() {
                    var t = new n.Vector3,
                        e = new n.Vector3;
                    return function(i) {
                        for (var n = this.planes, r = 0; r < 6; r++) {
                            var o = n[r];
                            t.x = o.normal.x > 0 ? i.min.x : i.max.x, e.x = o.normal.x > 0 ? i.max.x : i.min.x, t.y = o.normal.y > 0 ? i.min.y : i.max.y, e.y = o.normal.y > 0 ? i.max.y : i.min.y, t.z = o.normal.z > 0 ? i.min.z : i.max.z, e.z = o.normal.z > 0 ? i.max.z : i.min.z;
                            var a = o.distanceToPoint(t),
                                s = o.distanceToPoint(e);
                            if (a < 0 && s < 0) return !1
                        }
                        return !0
                    }
                }(),
                containsPoint: function(t) {
                    for (var e = this.planes, i = 0; i < 6; i++)
                        if (e[i].distanceToPoint(t) < 0) return !1;
                    return !0
                }
            }, n.Plane = function(t, e) {
                this.normal = void 0 !== t ? t : new n.Vector3(1, 0, 0), this.constant = void 0 !== e ? e : 0
            }, n.Plane.prototype = {
                constructor: n.Plane,
                set: function(t, e) {
                    return this.normal.copy(t), this.constant = e, this
                },
                setComponents: function(t, e, i, n) {
                    return this.normal.set(t, e, i), this.constant = n, this
                },
                setFromNormalAndCoplanarPoint: function(t, e) {
                    return this.normal.copy(t), this.constant = -e.dot(this.normal), this
                },
                setFromCoplanarPoints: function() {
                    var t = new n.Vector3,
                        e = new n.Vector3;
                    return function(i, n, r) {
                        var o = t.subVectors(r, n).cross(e.subVectors(i, n)).normalize();
                        return this.setFromNormalAndCoplanarPoint(o, i), this
                    }
                }(),
                clone: function() {
                    return (new this.constructor).copy(this)
                },
                copy: function(t) {
                    return this.normal.copy(t.normal), this.constant = t.constant, this
                },
                normalize: function() {
                    var t = 1 / this.normal.length();
                    return this.normal.multiplyScalar(t), this.constant *= t, this
                },
                negate: function() {
                    return this.constant *= -1, this.normal.negate(), this
                },
                distanceToPoint: function(t) {
                    return this.normal.dot(t) + this.constant
                },
                distanceToSphere: function(t) {
                    return this.distanceToPoint(t.center) - t.radius
                },
                projectPoint: function(t, e) {
                    return this.orthoPoint(t, e).sub(t).negate()
                },
                orthoPoint: function(t, e) {
                    var i = this.distanceToPoint(t);
                    return (e || new n.Vector3).copy(this.normal).multiplyScalar(i)
                },
                intersectLine: function() {
                    var t = new n.Vector3;
                    return function(e, i) {
                        var r = i || new n.Vector3,
                            o = e.delta(t),
                            a = this.normal.dot(o);
                        if (0 !== a) {
                            var s = -(e.start.dot(this.normal) + this.constant) / a;
                            if (!(s < 0 || s > 1)) return r.copy(o).multiplyScalar(s).add(e.start)
                        } else if (0 === this.distanceToPoint(e.start)) return r.copy(e.start)
                    }
                }(),
                intersectsLine: function(t) {
                    var e = this.distanceToPoint(t.start),
                        i = this.distanceToPoint(t.end);
                    return e < 0 && i > 0 || i < 0 && e > 0
                },
                intersectsBox: function(t) {
                    return t.intersectsPlane(this)
                },
                intersectsSphere: function(t) {
                    return t.intersectsPlane(this)
                },
                coplanarPoint: function(t) {
                    return (t || new n.Vector3).copy(this.normal).multiplyScalar(-this.constant)
                },
                applyMatrix4: function() {
                    var t = new n.Vector3,
                        e = new n.Matrix3;
                    return function(i, n) {
                        var r = this.coplanarPoint(t).applyMatrix4(i),
                            o = n || e.getNormalMatrix(i),
                            a = this.normal.applyMatrix3(o).normalize();
                        return this.constant = -r.dot(a), this
                    }
                }(),
                translate: function(t) {
                    return this.constant = this.constant - t.dot(this.normal), this
                },
                equals: function(t) {
                    return t.normal.equals(this.normal) && t.constant === this.constant
                }
            }, n.Spherical = function(t, e, i) {
                return this.radius = void 0 !== t ? t : 1, this.phi = void 0 !== e ? e : 0, this.theta = void 0 !== i ? i : 0, this
            }, n.Spherical.prototype = {
                constructor: n.Spherical,
                set: function(t, e, i) {
                    return this.radius = t, this.phi = e, this.theta = i, this
                },
                clone: function() {
                    return (new this.constructor).copy(this)
                },
                copy: function(t) {
                    return this.radius.copy(t.radius), this.phi.copy(t.phi), this.theta.copy(t.theta), this
                },
                makeSafe: function() {
                    return this.phi = Math.max(1e-6, Math.min(Math.PI - 1e-6, this.phi)), this
                },
                setFromVector3: function(t) {
                    return this.radius = t.length(), 0 === this.radius ? (this.theta = 0, this.phi = 0) : (this.theta = Math.atan2(t.x, t.z), this.phi = Math.acos(n.Math.clamp(t.y / this.radius, -1, 1))), this
                }
            }, n.Math = {
                DEG2RAD: Math.PI / 180,
                RAD2DEG: 180 / Math.PI,
                generateUUID: function() {
                    var t, e = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),
                        i = new Array(36),
                        n = 0;
                    return function() {
                        for (var r = 0; r < 36; r++) 8 === r || 13 === r || 18 === r || 23 === r ? i[r] = "-" : 14 === r ? i[r] = "4" : (n <= 2 && (n = 33554432 + 16777216 * Math.random() | 0), t = 15 & n, n >>= 4, i[r] = e[19 === r ? 3 & t | 8 : t]);
                        return i.join("")
                    }
                }(),
                clamp: function(t, e, i) {
                    return Math.max(e, Math.min(i, t))
                },
                euclideanModulo: function(t, e) {
                    return (t % e + e) % e
                },
                mapLinear: function(t, e, i, n, r) {
                    return n + (t - e) * (r - n) / (i - e)
                },
                smoothstep: function(t, e, i) {
                    return t <= e ? 0 : t >= i ? 1 : (t = (t - e) / (i - e)) * t * (3 - 2 * t)
                },
                smootherstep: function(t, e, i) {
                    return t <= e ? 0 : t >= i ? 1 : (t = (t - e) / (i - e)) * t * t * (t * (6 * t - 15) + 10)
                },
                random16: function() {
                    return console.warn("THREE.Math.random16() has been deprecated. Use Math.random() instead."), Math.random()
                },
                randInt: function(t, e) {
                    return t + Math.floor(Math.random() * (e - t + 1))
                },
                randFloat: function(t, e) {
                    return t + Math.random() * (e - t)
                },
                randFloatSpread: function(t) {
                    return t * (.5 - Math.random())
                },
                degToRad: function(t) {
                    return t * n.Math.DEG2RAD
                },
                radToDeg: function(t) {
                    return t * n.Math.RAD2DEG
                },
                isPowerOfTwo: function(t) {
                    return 0 == (t & t - 1) && 0 !== t
                },
                nearestPowerOfTwo: function(t) {
                    return Math.pow(2, Math.round(Math.log(t) / Math.LN2))
                },
                nextPowerOfTwo: function(t) {
                    return t--, t |= t >> 1, t |= t >> 2, t |= t >> 4, t |= t >> 8, t |= t >> 16, ++t
                }
            }, n.Spline = function(t) {
                function e(t, e, i, n, r, o, a) {
                    var s = .5 * (i - t),
                        l = .5 * (n - e);
                    return (2 * (e - i) + s + l) * a + (-3 * (e - i) - 2 * s - l) * o + s * r + e
                }
                this.points = t;
                var i, r, o, a, s, l, u, c, h, d = [],
                    p = {
                        x: 0,
                        y: 0,
                        z: 0
                    };
                this.initFromArray = function(t) {
                    this.points = [];
                    for (var e = 0; e < t.length; e++) this.points[e] = {
                        x: t[e][0],
                        y: t[e][1],
                        z: t[e][2]
                    }
                }, this.getPoint = function(t) {
                    return i = (this.points.length - 1) * t, r = Math.floor(i), o = i - r, d[0] = 0 === r ? r : r - 1, d[1] = r, d[2] = r > this.points.length - 2 ? this.points.length - 1 : r + 1, d[3] = r > this.points.length - 3 ? this.points.length - 1 : r + 2, l = this.points[d[0]], u = this.points[d[1]], c = this.points[d[2]], h = this.points[d[3]], a = o * o, s = o * a, p.x = e(l.x, u.x, c.x, h.x, o, a, s), p.y = e(l.y, u.y, c.y, h.y, o, a, s), p.z = e(l.z, u.z, c.z, h.z, o, a, s), p
                }, this.getControlPointsArray = function() {
                    var t, e, i = this.points.length,
                        n = [];
                    for (t = 0; t < i; t++) e = this.points[t], n[t] = [e.x, e.y, e.z];
                    return n
                }, this.getLength = function(t) {
                    var e, i, r, o, a = 0,
                        s = 0,
                        l = 0,
                        u = new n.Vector3,
                        c = new n.Vector3,
                        h = [],
                        d = 0;
                    for (h[0] = 0, t || (t = 100), r = this.points.length * t, u.copy(this.points[0]), e = 1; e < r; e++) i = e / r, o = this.getPoint(i), c.copy(o), d += c.distanceTo(u), u.copy(o), a = (this.points.length - 1) * i, (s = Math.floor(a)) !== l && (h[s] = d, l = s);
                    return h[h.length] = d, {
                        chunks: h,
                        total: d
                    }
                }, this.reparametrizeByArcLength = function(t) {
                    var e, i, r, o, a, s, l, u, c = [],
                        h = new n.Vector3,
                        d = this.getLength();
                    for (c.push(h.copy(this.points[0]).clone()), e = 1; e < this.points.length; e++) {
                        for (s = d.chunks[e] - d.chunks[e - 1], l = Math.ceil(t * s / d.total), o = (e - 1) / (this.points.length - 1), a = e / (this.points.length - 1), i = 1; i < l - 1; i++) r = o + i * (1 / l) * (a - o), u = this.getPoint(r), c.push(h.copy(u).clone());
                        c.push(h.copy(this.points[e]).clone())
                    }
                    this.points = c
                }
            }, n.Triangle = function(t, e, i) {
                this.a = void 0 !== t ? t : new n.Vector3, this.b = void 0 !== e ? e : new n.Vector3, this.c = void 0 !== i ? i : new n.Vector3
            }, n.Triangle.normal = function() {
                var t = new n.Vector3;
                return function(e, i, r, o) {
                    var a = o || new n.Vector3;
                    a.subVectors(r, i), t.subVectors(e, i), a.cross(t);
                    var s = a.lengthSq();
                    return s > 0 ? a.multiplyScalar(1 / Math.sqrt(s)) : a.set(0, 0, 0)
                }
            }(), n.Triangle.barycoordFromPoint = function() {
                var t = new n.Vector3,
                    e = new n.Vector3,
                    i = new n.Vector3;
                return function(r, o, a, s, l) {
                    t.subVectors(s, o), e.subVectors(a, o), i.subVectors(r, o);
                    var u = t.dot(t),
                        c = t.dot(e),
                        h = t.dot(i),
                        d = e.dot(e),
                        p = e.dot(i),
                        f = u * d - c * c,
                        m = l || new n.Vector3;
                    if (0 === f) return m.set(-2, -1, -1);
                    var g = 1 / f,
                        v = (d * h - c * p) * g,
                        y = (u * p - c * h) * g;
                    return m.set(1 - v - y, y, v)
                }
            }(), n.Triangle.containsPoint = function() {
                var t = new n.Vector3;
                return function(e, i, r, o) {
                    var a = n.Triangle.barycoordFromPoint(e, i, r, o, t);
                    return a.x >= 0 && a.y >= 0 && a.x + a.y <= 1
                }
            }(), n.Triangle.prototype = {
                constructor: n.Triangle,
                set: function(t, e, i) {
                    return this.a.copy(t), this.b.copy(e), this.c.copy(i), this
                },
                setFromPointsAndIndices: function(t, e, i, n) {
                    return this.a.copy(t[e]), this.b.copy(t[i]), this.c.copy(t[n]), this
                },
                clone: function() {
                    return (new this.constructor).copy(this)
                },
                copy: function(t) {
                    return this.a.copy(t.a), this.b.copy(t.b), this.c.copy(t.c), this
                },
                area: function() {
                    var t = new n.Vector3,
                        e = new n.Vector3;
                    return function() {
                        return t.subVectors(this.c, this.b), e.subVectors(this.a, this.b), .5 * t.cross(e).length()
                    }
                }(),
                midpoint: function(t) {
                    return (t || new n.Vector3).addVectors(this.a, this.b).add(this.c).multiplyScalar(1 / 3)
                },
                normal: function(t) {
                    return n.Triangle.normal(this.a, this.b, this.c, t)
                },
                plane: function(t) {
                    return (t || new n.Plane).setFromCoplanarPoints(this.a, this.b, this.c)
                },
                barycoordFromPoint: function(t, e) {
                    return n.Triangle.barycoordFromPoint(t, this.a, this.b, this.c, e)
                },
                containsPoint: function(t) {
                    return n.Triangle.containsPoint(t, this.a, this.b, this.c)
                },
                closestPointToPoint: function() {
                    var t, e, i, r;
                    return function(o, a) {
                        void 0 === t && (t = new n.Plane, e = [new n.Line3, new n.Line3, new n.Line3], i = new n.Vector3, r = new n.Vector3);
                        var s = a || new n.Vector3,
                            l = 1 / 0;
                        if (t.setFromCoplanarPoints(this.a, this.b, this.c), t.projectPoint(o, i), this.containsPoint(i) === !0) s.copy(i);
                        else {
                            e[0].set(this.a, this.b), e[1].set(this.b, this.c), e[2].set(this.c, this.a);
                            for (var u = 0; u < e.length; u++) {
                                e[u].closestPointToPoint(i, !0, r);
                                var c = i.distanceToSquared(r);
                                c < l && (l = c, s.copy(r))
                            }
                        }
                        return s
                    }
                }(),
                equals: function(t) {
                    return t.a.equals(this.a) && t.b.equals(this.b) && t.c.equals(this.c)
                }
            }, n.Interpolant = function(t, e, i, n) {
                this.parameterPositions = t, this._cachedIndex = 0, this.resultBuffer = void 0 !== n ? n : new e.constructor(i), this.sampleValues = e, this.valueSize = i
            }, n.Interpolant.prototype = {
                constructor: n.Interpolant,
                evaluate: function(t) {
                    var e = this.parameterPositions,
                        i = this._cachedIndex,
                        n = e[i],
                        r = e[i - 1];
                    t: {
                        e: {
                            var o;
                            i: {
                                n: if (!(t < n)) {
                                    for (var a = i + 2;;) {
                                        if (void 0 === n) {
                                            if (t < r) break n;
                                            return i = e.length, this._cachedIndex = i, this.afterEnd_(i - 1, t, r)
                                        }
                                        if (i === a) break;
                                        if (r = n, n = e[++i], t < n) break e
                                    }
                                    o = e.length;
                                    break i
                                } {
                                    if (t >= r) break t;
                                    var s = e[1];
                                    t < s && (i = 2, r = s);
                                    for (var a = i - 2;;) {
                                        if (void 0 === r) return this._cachedIndex = 0, this.beforeStart_(0, t, n);
                                        if (i === a) break;
                                        if (n = r, r = e[--i - 1], t >= r) break e
                                    }
                                    o = i, i = 0
                                }
                            }
                            for (; i < o;) {
                                var l = i + o >>> 1;
                                t < e[l] ? o = l : i = l + 1
                            }
                            if (n = e[i], void 0 === (r = e[i - 1])) return this._cachedIndex = 0, this.beforeStart_(0, t, n);
                            if (void 0 === n) return i = e.length, this._cachedIndex = i, this.afterEnd_(i - 1, r, t)
                        }
                        this._cachedIndex = i,
                        this.intervalChanged_(i, r, n)
                    }
                    return this.interpolate_(i, r, t, n)
                },
                settings: null,
                DefaultSettings_: {},
                getSettings_: function() {
                    return this.settings || this.DefaultSettings_
                },
                copySampleValue_: function(t) {
                    for (var e = this.resultBuffer, i = this.sampleValues, n = this.valueSize, r = t * n, o = 0; o !== n; ++o) e[o] = i[r + o];
                    return e
                },
                interpolate_: function(t, e, i, n) {
                    throw new Error("call to abstract method")
                },
                intervalChanged_: function(t, e, i) {}
            }, Object.assign(n.Interpolant.prototype, {
                beforeStart_: n.Interpolant.prototype.copySampleValue_,
                afterEnd_: n.Interpolant.prototype.copySampleValue_
            }), n.CubicInterpolant = function(t, e, i, r) {
                n.Interpolant.call(this, t, e, i, r), this._weightPrev = -0, this._offsetPrev = -0, this._weightNext = -0, this._offsetNext = -0
            }, n.CubicInterpolant.prototype = Object.assign(Object.create(n.Interpolant.prototype), {
                constructor: n.CubicInterpolant,
                DefaultSettings_: {
                    endingStart: n.ZeroCurvatureEnding,
                    endingEnd: n.ZeroCurvatureEnding
                },
                intervalChanged_: function(t, e, i) {
                    var r = this.parameterPositions,
                        o = t - 2,
                        a = t + 1,
                        s = r[o],
                        l = r[a];
                    if (void 0 === s) switch (this.getSettings_().endingStart) {
                        case n.ZeroSlopeEnding:
                            o = t, s = 2 * e - i;
                            break;
                        case n.WrapAroundEnding:
                            o = r.length - 2, s = e + r[o] - r[o + 1];
                            break;
                        default:
                            o = t, s = i
                    }
                    if (void 0 === l) switch (this.getSettings_().endingEnd) {
                        case n.ZeroSlopeEnding:
                            a = t, l = 2 * i - e;
                            break;
                        case n.WrapAroundEnding:
                            a = 1, l = i + r[1] - r[0];
                            break;
                        default:
                            a = t - 1, l = e
                    }
                    var u = .5 * (i - e),
                        c = this.valueSize;
                    this._weightPrev = u / (e - s), this._weightNext = u / (l - i), this._offsetPrev = o * c, this._offsetNext = a * c
                },
                interpolate_: function(t, e, i, n) {
                    for (var r = this.resultBuffer, o = this.sampleValues, a = this.valueSize, s = t * a, l = s - a, u = this._offsetPrev, c = this._offsetNext, h = this._weightPrev, d = this._weightNext, p = (i - e) / (n - e), f = p * p, m = f * p, g = -h * m + 2 * h * f - h * p, v = (1 + h) * m + (-1.5 - 2 * h) * f + (-.5 + h) * p + 1, y = (-1 - d) * m + (1.5 + d) * f + .5 * p, _ = d * m - d * f, b = 0; b !== a; ++b) r[b] = g * o[u + b] + v * o[l + b] + y * o[s + b] + _ * o[c + b];
                    return r
                }
            }), n.DiscreteInterpolant = function(t, e, i, r) {
                n.Interpolant.call(this, t, e, i, r)
            }, n.DiscreteInterpolant.prototype = Object.assign(Object.create(n.Interpolant.prototype), {
                constructor: n.DiscreteInterpolant,
                interpolate_: function(t, e, i, n) {
                    return this.copySampleValue_(t - 1)
                }
            }), n.LinearInterpolant = function(t, e, i, r) {
                n.Interpolant.call(this, t, e, i, r)
            }, n.LinearInterpolant.prototype = Object.assign(Object.create(n.Interpolant.prototype), {
                constructor: n.LinearInterpolant,
                interpolate_: function(t, e, i, n) {
                    for (var r = this.resultBuffer, o = this.sampleValues, a = this.valueSize, s = t * a, l = s - a, u = (i - e) / (n - e), c = 1 - u, h = 0; h !== a; ++h) r[h] = o[l + h] * c + o[s + h] * u;
                    return r
                }
            }), n.QuaternionLinearInterpolant = function(t, e, i, r) {
                n.Interpolant.call(this, t, e, i, r)
            }, n.QuaternionLinearInterpolant.prototype = Object.assign(Object.create(n.Interpolant.prototype), {
                constructor: n.QuaternionLinearInterpolant,
                interpolate_: function(t, e, i, r) {
                    for (var o = this.resultBuffer, a = this.sampleValues, s = this.valueSize, l = t * s, u = (i - e) / (r - e), c = l + s; l !== c; l += 4) n.Quaternion.slerpFlat(o, 0, a, l - s, a, l, u);
                    return o
                }
            }), n.Clock = function(t) {
                this.autoStart = void 0 === t || t, this.startTime = 0, this.oldTime = 0, this.elapsedTime = 0, this.running = !1
            }, n.Clock.prototype = {
                constructor: n.Clock,
                start: function() {
                    this.startTime = (performance || Date).now(), this.oldTime = this.startTime, this.running = !0
                },
                stop: function() {
                    this.getElapsedTime(), this.running = !1
                },
                getElapsedTime: function() {
                    return this.getDelta(), this.elapsedTime
                },
                getDelta: function() {
                    var t = 0;
                    if (this.autoStart && !this.running && this.start(), this.running) {
                        var e = (performance || Date).now();
                        t = (e - this.oldTime) / 1e3, this.oldTime = e, this.elapsedTime += t
                    }
                    return t
                }
            }, n.EventDispatcher = function() {}, Object.assign(n.EventDispatcher.prototype, {
                addEventListener: function(t, e) {
                    void 0 === this._listeners && (this._listeners = {});
                    var i = this._listeners;
                    void 0 === i[t] && (i[t] = []), i[t].indexOf(e) === -1 && i[t].push(e)
                },
                hasEventListener: function(t, e) {
                    if (void 0 === this._listeners) return !1;
                    var i = this._listeners;
                    return void 0 !== i[t] && i[t].indexOf(e) !== -1
                },
                removeEventListener: function(t, e) {
                    if (void 0 !== this._listeners) {
                        var i = this._listeners,
                            n = i[t];
                        if (void 0 !== n) {
                            var r = n.indexOf(e);
                            r !== -1 && n.splice(r, 1)
                        }
                    }
                },
                dispatchEvent: function(t) {
                    if (void 0 !== this._listeners) {
                        var e = this._listeners,
                            i = e[t.type];
                        if (void 0 !== i) {
                            t.target = this;
                            var n = [],
                                r = 0,
                                o = i.length;
                            for (r = 0; r < o; r++) n[r] = i[r];
                            for (r = 0; r < o; r++) n[r].call(this, t)
                        }
                    }
                }
            }), n.Layers = function() {
                this.mask = 1
            }, n.Layers.prototype = {
                constructor: n.Layers,
                set: function(t) {
                    this.mask = 1 << t
                },
                enable: function(t) {
                    this.mask |= 1 << t
                },
                toggle: function(t) {
                    this.mask ^= 1 << t
                },
                disable: function(t) {
                    this.mask &= ~(1 << t)
                },
                test: function(t) {
                    return 0 != (this.mask & t.mask)
                }
            },
            function(t) {
                function e(t, e) {
                    return t.distance - e.distance
                }

                function i(t, e, n, r) {
                    if (t.visible !== !1 && (t.raycast(e, n), r === !0))
                        for (var o = t.children, a = 0, s = o.length; a < s; a++) i(o[a], e, n, !0)
                }
                t.Raycaster = function(e, i, n, r) {
                    this.ray = new t.Ray(e, i), this.near = n || 0, this.far = r || 1 / 0, this.params = {
                        Mesh: {},
                        Line: {},
                        LOD: {},
                        Points: {
                            threshold: 1
                        },
                        Sprite: {}
                    }, Object.defineProperties(this.params, {
                        PointCloud: {
                            get: function() {
                                return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."), this.Points
                            }
                        }
                    })
                }, t.Raycaster.prototype = {
                    constructor: t.Raycaster,
                    linePrecision: 1,
                    set: function(t, e) {
                        this.ray.set(t, e)
                    },
                    setFromCamera: function(e, i) {
                        i instanceof t.PerspectiveCamera ? (this.ray.origin.setFromMatrixPosition(i.matrixWorld), this.ray.direction.set(e.x, e.y, .5).unproject(i).sub(this.ray.origin).normalize()) : i instanceof t.OrthographicCamera ? (this.ray.origin.set(e.x, e.y, -1).unproject(i), this.ray.direction.set(0, 0, -1).transformDirection(i.matrixWorld)) : console.error("THREE.Raycaster: Unsupported camera type.")
                    },
                    intersectObject: function(t, n) {
                        var r = [];
                        return i(t, this, r, n), r.sort(e), r
                    },
                    intersectObjects: function(t, n) {
                        var r = [];
                        if (Array.isArray(t) === !1) return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."), r;
                        for (var o = 0, a = t.length; o < a; o++) i(t[o], this, r, n);
                        return r.sort(e), r
                    }
                }
            }(n), n.Object3D = function() {
                function t() {
                    o.setFromEuler(r, !1)
                }

                function e() {
                    r.setFromQuaternion(o, void 0, !1)
                }
                Object.defineProperty(this, "id", {
                    value: n.Object3DIdCount++
                }), this.uuid = n.Math.generateUUID(), this.name = "", this.type = "Object3D", this.parent = null, this.children = [], this.up = n.Object3D.DefaultUp.clone();
                var i = new n.Vector3,
                    r = new n.Euler,
                    o = new n.Quaternion,
                    a = new n.Vector3(1, 1, 1);
                r.onChange(t), o.onChange(e), Object.defineProperties(this, {
                    position: {
                        enumerable: !0,
                        value: i
                    },
                    rotation: {
                        enumerable: !0,
                        value: r
                    },
                    quaternion: {
                        enumerable: !0,
                        value: o
                    },
                    scale: {
                        enumerable: !0,
                        value: a
                    },
                    modelViewMatrix: {
                        value: new n.Matrix4
                    },
                    normalMatrix: {
                        value: new n.Matrix3
                    }
                }), this.matrix = new n.Matrix4, this.matrixWorld = new n.Matrix4, this.matrixAutoUpdate = n.Object3D.DefaultMatrixAutoUpdate, this.matrixWorldNeedsUpdate = !1, this.layers = new n.Layers, this.visible = !0, this.castShadow = !1, this.receiveShadow = !1, this.frustumCulled = !0, this.renderOrder = 0, this.userData = {}
            }, n.Object3D.DefaultUp = new n.Vector3(0, 1, 0), n.Object3D.DefaultMatrixAutoUpdate = !0, Object.assign(n.Object3D.prototype, n.EventDispatcher.prototype, {
                applyMatrix: function(t) {
                    this.matrix.multiplyMatrices(t, this.matrix), this.matrix.decompose(this.position, this.quaternion, this.scale)
                },
                setRotationFromAxisAngle: function(t, e) {
                    this.quaternion.setFromAxisAngle(t, e)
                },
                setRotationFromEuler: function(t) {
                    this.quaternion.setFromEuler(t, !0)
                },
                setRotationFromMatrix: function(t) {
                    this.quaternion.setFromRotationMatrix(t)
                },
                setRotationFromQuaternion: function(t) {
                    this.quaternion.copy(t)
                },
                rotateOnAxis: function() {
                    var t = new n.Quaternion;
                    return function(e, i) {
                        return t.setFromAxisAngle(e, i), this.quaternion.multiply(t), this
                    }
                }(),
                rotateX: function() {
                    var t = new n.Vector3(1, 0, 0);
                    return function(e) {
                        return this.rotateOnAxis(t, e)
                    }
                }(),
                rotateY: function() {
                    var t = new n.Vector3(0, 1, 0);
                    return function(e) {
                        return this.rotateOnAxis(t, e)
                    }
                }(),
                rotateZ: function() {
                    var t = new n.Vector3(0, 0, 1);
                    return function(e) {
                        return this.rotateOnAxis(t, e)
                    }
                }(),
                translateOnAxis: function() {
                    var t = new n.Vector3;
                    return function(e, i) {
                        return t.copy(e).applyQuaternion(this.quaternion), this.position.add(t.multiplyScalar(i)), this
                    }
                }(),
                translateX: function() {
                    var t = new n.Vector3(1, 0, 0);
                    return function(e) {
                        return this.translateOnAxis(t, e)
                    }
                }(),
                translateY: function() {
                    var t = new n.Vector3(0, 1, 0);
                    return function(e) {
                        return this.translateOnAxis(t, e)
                    }
                }(),
                translateZ: function() {
                    var t = new n.Vector3(0, 0, 1);
                    return function(e) {
                        return this.translateOnAxis(t, e)
                    }
                }(),
                localToWorld: function(t) {
                    return t.applyMatrix4(this.matrixWorld)
                },
                worldToLocal: function() {
                    var t = new n.Matrix4;
                    return function(e) {
                        return e.applyMatrix4(t.getInverse(this.matrixWorld))
                    }
                }(),
                lookAt: function() {
                    var t = new n.Matrix4;
                    return function(e) {
                        t.lookAt(e, this.position, this.up), this.quaternion.setFromRotationMatrix(t)
                    }
                }(),
                add: function(t) {
                    if (arguments.length > 1) {
                        for (var e = 0; e < arguments.length; e++) this.add(arguments[e]);
                        return this
                    }
                    return t === this ? (console.error("THREE.Object3D.add: object can't be added as a child of itself.", t), this) : (t instanceof n.Object3D ? (null !== t.parent && t.parent.remove(t), t.parent = this, t.dispatchEvent({
                        type: "added"
                    }), this.children.push(t)) : console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.", t), this)
                },
                remove: function(t) {
                    if (arguments.length > 1)
                        for (var e = 0; e < arguments.length; e++) this.remove(arguments[e]);
                    var i = this.children.indexOf(t);
                    i !== -1 && (t.parent = null, t.dispatchEvent({
                        type: "removed"
                    }), this.children.splice(i, 1))
                },
                getObjectById: function(t) {
                    return this.getObjectByProperty("id", t)
                },
                getObjectByName: function(t) {
                    return this.getObjectByProperty("name", t)
                },
                getObjectByProperty: function(t, e) {
                    if (this[t] === e) return this;
                    for (var i = 0, n = this.children.length; i < n; i++) {
                        var r = this.children[i],
                            o = r.getObjectByProperty(t, e);
                        if (void 0 !== o) return o
                    }
                },
                getWorldPosition: function(t) {
                    var e = t || new n.Vector3;
                    return this.updateMatrixWorld(!0), e.setFromMatrixPosition(this.matrixWorld)
                },
                getWorldQuaternion: function() {
                    var t = new n.Vector3,
                        e = new n.Vector3;
                    return function(i) {
                        var r = i || new n.Quaternion;
                        return this.updateMatrixWorld(!0), this.matrixWorld.decompose(t, r, e), r
                    }
                }(),
                getWorldRotation: function() {
                    var t = new n.Quaternion;
                    return function(e) {
                        var i = e || new n.Euler;
                        return this.getWorldQuaternion(t), i.setFromQuaternion(t, this.rotation.order, !1)
                    }
                }(),
                getWorldScale: function() {
                    var t = new n.Vector3,
                        e = new n.Quaternion;
                    return function(i) {
                        var r = i || new n.Vector3;
                        return this.updateMatrixWorld(!0), this.matrixWorld.decompose(t, e, r), r
                    }
                }(),
                getWorldDirection: function() {
                    var t = new n.Quaternion;
                    return function(e) {
                        var i = e || new n.Vector3;
                        return this.getWorldQuaternion(t), i.set(0, 0, 1).applyQuaternion(t)
                    }
                }(),
                raycast: function() {},
                traverse: function(t) {
                    t(this);
                    for (var e = this.children, i = 0, n = e.length; i < n; i++) e[i].traverse(t)
                },
                traverseVisible: function(t) {
                    if (this.visible !== !1) {
                        t(this);
                        for (var e = this.children, i = 0, n = e.length; i < n; i++) e[i].traverseVisible(t)
                    }
                },
                traverseAncestors: function(t) {
                    var e = this.parent;
                    null !== e && (t(e), e.traverseAncestors(t))
                },
                updateMatrix: function() {
                    this.matrix.compose(this.position, this.quaternion, this.scale), this.matrixWorldNeedsUpdate = !0
                },
                updateMatrixWorld: function(t) {
                    this.matrixAutoUpdate === !0 && this.updateMatrix(), this.matrixWorldNeedsUpdate !== !0 && t !== !0 || (null === this.parent ? this.matrixWorld.copy(this.matrix) : this.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix), this.matrixWorldNeedsUpdate = !1, t = !0);
                    for (var e = 0, i = this.children.length; e < i; e++) this.children[e].updateMatrixWorld(t)
                },
                toJSON: function(t) {
                    function e(t) {
                        var e = [];
                        for (var i in t) {
                            var n = t[i];
                            delete n.metadata, e.push(n)
                        }
                        return e
                    }
                    var i = void 0 === t || "" === t,
                        n = {};
                    i && (t = {
                        geometries: {},
                        materials: {},
                        textures: {},
                        images: {}
                    }, n.metadata = {
                        version: 4.4,
                        type: "Object",
                        generator: "Object3D.toJSON"
                    });
                    var r = {};
                    if (r.uuid = this.uuid, r.type = this.type, "" !== this.name && (r.name = this.name), "{}" !== JSON.stringify(this.userData) && (r.userData = this.userData), this.castShadow === !0 && (r.castShadow = !0), this.receiveShadow === !0 && (r.receiveShadow = !0), this.visible === !1 && (r.visible = !1), r.matrix = this.matrix.toArray(), void 0 !== this.geometry && (void 0 === t.geometries[this.geometry.uuid] && (t.geometries[this.geometry.uuid] = this.geometry.toJSON(t)), r.geometry = this.geometry.uuid), void 0 !== this.material && (void 0 === t.materials[this.material.uuid] && (t.materials[this.material.uuid] = this.material.toJSON(t)), r.material = this.material.uuid), this.children.length > 0) {
                        r.children = [];
                        for (var o = 0; o < this.children.length; o++) r.children.push(this.children[o].toJSON(t).object)
                    }
                    if (i) {
                        var a = e(t.geometries),
                            s = e(t.materials),
                            l = e(t.textures),
                            u = e(t.images);
                        a.length > 0 && (n.geometries = a), s.length > 0 && (n.materials = s), l.length > 0 && (n.textures = l), u.length > 0 && (n.images = u)
                    }
                    return n.object = r, n
                },
                clone: function(t) {
                    return (new this.constructor).copy(this, t)
                },
                copy: function(t, e) {
                    if (void 0 === e && (e = !0), this.name = t.name, this.up.copy(t.up), this.position.copy(t.position), this.quaternion.copy(t.quaternion), this.scale.copy(t.scale), this.matrix.copy(t.matrix), this.matrixWorld.copy(t.matrixWorld), this.matrixAutoUpdate = t.matrixAutoUpdate, this.matrixWorldNeedsUpdate = t.matrixWorldNeedsUpdate, this.visible = t.visible, this.castShadow = t.castShadow, this.receiveShadow = t.receiveShadow, this.frustumCulled = t.frustumCulled, this.renderOrder = t.renderOrder, this.userData = JSON.parse(JSON.stringify(t.userData)), e === !0)
                        for (var i = 0; i < t.children.length; i++) {
                            var n = t.children[i];
                            this.add(n.clone())
                        }
                    return this
                }
            }), n.Object3DIdCount = 0, n.Face3 = function(t, e, i, r, o, a) {
                this.a = t, this.b = e, this.c = i, this.normal = r instanceof n.Vector3 ? r : new n.Vector3, this.vertexNormals = Array.isArray(r) ? r : [], this.color = o instanceof n.Color ? o : new n.Color, this.vertexColors = Array.isArray(o) ? o : [], this.materialIndex = void 0 !== a ? a : 0
            }, n.Face3.prototype = {
                constructor: n.Face3,
                clone: function() {
                    return (new this.constructor).copy(this)
                },
                copy: function(t) {
                    this.a = t.a, this.b = t.b, this.c = t.c, this.normal.copy(t.normal), this.color.copy(t.color), this.materialIndex = t.materialIndex;
                    for (var e = 0, i = t.vertexNormals.length; e < i; e++) this.vertexNormals[e] = t.vertexNormals[e].clone();
                    for (var e = 0, i = t.vertexColors.length; e < i; e++) this.vertexColors[e] = t.vertexColors[e].clone();
                    return this
                }
            }, n.BufferAttribute = function(t, e, i) {
                this.uuid = n.Math.generateUUID(), this.array = t, this.itemSize = e, this.dynamic = !1, this.updateRange = {
                    offset: 0,
                    count: -1
                }, this.version = 0, this.normalized = i === !0
            }, n.BufferAttribute.prototype = {
                constructor: n.BufferAttribute,
                get count() {
                    return this.array.length / this.itemSize
                },
                set needsUpdate(t) {
                    t === !0 && this.version++
                },
                setDynamic: function(t) {
                    return this.dynamic = t, this
                },
                copy: function(t) {
                    return this.array = new t.array.constructor(t.array), this.itemSize = t.itemSize, this.dynamic = t.dynamic, this
                },
                copyAt: function(t, e, i) {
                    t *= this.itemSize, i *= e.itemSize;
                    for (var n = 0, r = this.itemSize; n < r; n++) this.array[t + n] = e.array[i + n];
                    return this
                },
                copyArray: function(t) {
                    return this.array.set(t), this
                },
                copyColorsArray: function(t) {
                    for (var e = this.array, i = 0, r = 0, o = t.length; r < o; r++) {
                        var a = t[r];
                        void 0 === a && (console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined", r), a = new n.Color), e[i++] = a.r, e[i++] = a.g, e[i++] = a.b
                    }
                    return this
                },
                copyIndicesArray: function(t) {
                    for (var e = this.array, i = 0, n = 0, r = t.length; n < r; n++) {
                        var o = t[n];
                        e[i++] = o.a, e[i++] = o.b, e[i++] = o.c
                    }
                    return this
                },
                copyVector2sArray: function(t) {
                    for (var e = this.array, i = 0, r = 0, o = t.length; r < o; r++) {
                        var a = t[r];
                        void 0 === a && (console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined", r), a = new n.Vector2), e[i++] = a.x, e[i++] = a.y
                    }
                    return this
                },
                copyVector3sArray: function(t) {
                    for (var e = this.array, i = 0, r = 0, o = t.length; r < o; r++) {
                        var a = t[r];
                        void 0 === a && (console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined", r), a = new n.Vector3), e[i++] = a.x, e[i++] = a.y, e[i++] = a.z
                    }
                    return this
                },
                copyVector4sArray: function(t) {
                    for (var e = this.array, i = 0, r = 0, o = t.length; r < o; r++) {
                        var a = t[r];
                        void 0 === a && (console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined", r), a = new n.Vector4), e[i++] = a.x, e[i++] = a.y, e[i++] = a.z, e[i++] = a.w
                    }
                    return this
                },
                set: function(t, e) {
                    return void 0 === e && (e = 0), this.array.set(t, e), this
                },
                getX: function(t) {
                    return this.array[t * this.itemSize]
                },
                setX: function(t, e) {
                    return this.array[t * this.itemSize] = e, this
                },
                getY: function(t) {
                    return this.array[t * this.itemSize + 1]
                },
                setY: function(t, e) {
                    return this.array[t * this.itemSize + 1] = e, this
                },
                getZ: function(t) {
                    return this.array[t * this.itemSize + 2]
                },
                setZ: function(t, e) {
                    return this.array[t * this.itemSize + 2] = e, this
                },
                getW: function(t) {
                    return this.array[t * this.itemSize + 3]
                },
                setW: function(t, e) {
                    return this.array[t * this.itemSize + 3] = e, this
                },
                setXY: function(t, e, i) {
                    return t *= this.itemSize, this.array[t + 0] = e, this.array[t + 1] = i, this
                },
                setXYZ: function(t, e, i, n) {
                    return t *= this.itemSize, this.array[t + 0] = e, this.array[t + 1] = i, this.array[t + 2] = n, this
                },
                setXYZW: function(t, e, i, n, r) {
                    return t *= this.itemSize, this.array[t + 0] = e, this.array[t + 1] = i, this.array[t + 2] = n, this.array[t + 3] = r, this
                },
                clone: function() {
                    return (new this.constructor).copy(this)
                }
            }, n.Int8Attribute = function(t, e) {
                return new n.BufferAttribute(new Int8Array(t), e)
            }, n.Uint8Attribute = function(t, e) {
                return new n.BufferAttribute(new Uint8Array(t), e)
            }, n.Uint8ClampedAttribute = function(t, e) {
                return new n.BufferAttribute(new Uint8ClampedArray(t), e)
            }, n.Int16Attribute = function(t, e) {
                return new n.BufferAttribute(new Int16Array(t), e)
            }, n.Uint16Attribute = function(t, e) {
                return new n.BufferAttribute(new Uint16Array(t), e)
            }, n.Int32Attribute = function(t, e) {
                return new n.BufferAttribute(new Int32Array(t), e)
            }, n.Uint32Attribute = function(t, e) {
                return new n.BufferAttribute(new Uint32Array(t), e)
            }, n.Float32Attribute = function(t, e) {
                return new n.BufferAttribute(new Float32Array(t), e)
            }, n.Float64Attribute = function(t, e) {
                return new n.BufferAttribute(new Float64Array(t), e)
            }, n.DynamicBufferAttribute = function(t, e) {
                return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."), new n.BufferAttribute(t, e).setDynamic(!0)
            }, n.InstancedBufferAttribute = function(t, e, i) {
                n.BufferAttribute.call(this, t, e), this.meshPerAttribute = i || 1
            }, n.InstancedBufferAttribute.prototype = Object.create(n.BufferAttribute.prototype), n.InstancedBufferAttribute.prototype.constructor = n.InstancedBufferAttribute, n.InstancedBufferAttribute.prototype.copy = function(t) {
                return n.BufferAttribute.prototype.copy.call(this, t), this.meshPerAttribute = t.meshPerAttribute, this
            }, n.InterleavedBuffer = function(t, e) {
                this.uuid = n.Math.generateUUID(), this.array = t, this.stride = e, this.dynamic = !1, this.updateRange = {
                    offset: 0,
                    count: -1
                }, this.version = 0
            }, n.InterleavedBuffer.prototype = {
                constructor: n.InterleavedBuffer,
                get length() {
                    return this.array.length
                },
                get count() {
                    return this.array.length / this.stride
                },
                set needsUpdate(t) {
                    t === !0 && this.version++
                },
                setDynamic: function(t) {
                    return this.dynamic = t, this
                },
                copy: function(t) {
                    return this.array = new t.array.constructor(t.array), this.stride = t.stride, this.dynamic = t.dynamic, this
                },
                copyAt: function(t, e, i) {
                    t *= this.stride, i *= e.stride;
                    for (var n = 0, r = this.stride; n < r; n++) this.array[t + n] = e.array[i + n];
                    return this
                },
                set: function(t, e) {
                    return void 0 === e && (e = 0), this.array.set(t, e), this
                },
                clone: function() {
                    return (new this.constructor).copy(this)
                }
            }, n.InstancedInterleavedBuffer = function(t, e, i) {
                n.InterleavedBuffer.call(this, t, e), this.meshPerAttribute = i || 1
            }, n.InstancedInterleavedBuffer.prototype = Object.create(n.InterleavedBuffer.prototype), n.InstancedInterleavedBuffer.prototype.constructor = n.InstancedInterleavedBuffer, n.InstancedInterleavedBuffer.prototype.copy = function(t) {
                return n.InterleavedBuffer.prototype.copy.call(this, t), this.meshPerAttribute = t.meshPerAttribute, this
            }, n.InterleavedBufferAttribute = function(t, e, i) {
                this.uuid = n.Math.generateUUID(), this.data = t, this.itemSize = e, this.offset = i
            }, n.InterleavedBufferAttribute.prototype = {
                constructor: n.InterleavedBufferAttribute,
                get length() {
                    return console.warn("THREE.BufferAttribute: .length has been deprecated. Please use .count."), this.array.length
                },
                get count() {
                    return this.data.count
                },
                setX: function(t, e) {
                    return this.data.array[t * this.data.stride + this.offset] = e, this
                },
                setY: function(t, e) {
                    return this.data.array[t * this.data.stride + this.offset + 1] = e, this
                },
                setZ: function(t, e) {
                    return this.data.array[t * this.data.stride + this.offset + 2] = e, this
                },
                setW: function(t, e) {
                    return this.data.array[t * this.data.stride + this.offset + 3] = e, this
                },
                getX: function(t) {
                    return this.data.array[t * this.data.stride + this.offset]
                },
                getY: function(t) {
                    return this.data.array[t * this.data.stride + this.offset + 1]
                },
                getZ: function(t) {
                    return this.data.array[t * this.data.stride + this.offset + 2]
                },
                getW: function(t) {
                    return this.data.array[t * this.data.stride + this.offset + 3]
                },
                setXY: function(t, e, i) {
                    return t = t * this.data.stride + this.offset, this.data.array[t + 0] = e, this.data.array[t + 1] = i, this
                },
                setXYZ: function(t, e, i, n) {
                    return t = t * this.data.stride + this.offset, this.data.array[t + 0] = e, this.data.array[t + 1] = i, this.data.array[t + 2] = n, this
                },
                setXYZW: function(t, e, i, n, r) {
                    return t = t * this.data.stride + this.offset, this.data.array[t + 0] = e, this.data.array[t + 1] = i, this.data.array[t + 2] = n, this.data.array[t + 3] = r, this
                }
            }, n.Geometry = function() {
                Object.defineProperty(this, "id", {
                    value: n.GeometryIdCount++
                }), this.uuid = n.Math.generateUUID(), this.name = "", this.type = "Geometry", this.vertices = [], this.colors = [], this.faces = [], this.faceVertexUvs = [
                    []
                ], this.morphTargets = [], this.morphNormals = [], this.skinWeights = [], this.skinIndices = [], this.lineDistances = [], this.boundingBox = null, this.boundingSphere = null, this.verticesNeedUpdate = !1, this.elementsNeedUpdate = !1, this.uvsNeedUpdate = !1, this.normalsNeedUpdate = !1, this.colorsNeedUpdate = !1, this.lineDistancesNeedUpdate = !1, this.groupsNeedUpdate = !1
            }, Object.assign(n.Geometry.prototype, n.EventDispatcher.prototype, {
                applyMatrix: function(t) {
                    for (var e = (new n.Matrix3).getNormalMatrix(t), i = 0, r = this.vertices.length; i < r; i++) {
                        this.vertices[i].applyMatrix4(t)
                    }
                    for (var i = 0, r = this.faces.length; i < r; i++) {
                        var o = this.faces[i];
                        o.normal.applyMatrix3(e).normalize();
                        for (var a = 0, s = o.vertexNormals.length; a < s; a++) o.vertexNormals[a].applyMatrix3(e).normalize()
                    }
                    return null !== this.boundingBox && this.computeBoundingBox(), null !== this.boundingSphere && this.computeBoundingSphere(), this.verticesNeedUpdate = !0, this.normalsNeedUpdate = !0, this
                },
                rotateX: function() {
                    var t;
                    return function(e) {
                        return void 0 === t && (t = new n.Matrix4), t.makeRotationX(e), this.applyMatrix(t), this
                    }
                }(),
                rotateY: function() {
                    var t;
                    return function(e) {
                        return void 0 === t && (t = new n.Matrix4), t.makeRotationY(e), this.applyMatrix(t), this
                    }
                }(),
                rotateZ: function() {
                    var t;
                    return function(e) {
                        return void 0 === t && (t = new n.Matrix4), t.makeRotationZ(e), this.applyMatrix(t), this
                    }
                }(),
                translate: function() {
                    var t;
                    return function(e, i, r) {
                        return void 0 === t && (t = new n.Matrix4), t.makeTranslation(e, i, r), this.applyMatrix(t), this
                    }
                }(),
                scale: function() {
                    var t;
                    return function(e, i, r) {
                        return void 0 === t && (t = new n.Matrix4), t.makeScale(e, i, r), this.applyMatrix(t), this
                    }
                }(),
                lookAt: function() {
                    var t;
                    return function(e) {
                        void 0 === t && (t = new n.Object3D), t.lookAt(e), t.updateMatrix(), this.applyMatrix(t.matrix)
                    }
                }(),
                fromBufferGeometry: function(t) {
                    function e(t, e, r, o) {
                        var a = void 0 !== s ? [h[t].clone(), h[e].clone(), h[r].clone()] : [],
                            f = void 0 !== l ? [i.colors[t].clone(), i.colors[e].clone(), i.colors[r].clone()] : [],
                            m = new n.Face3(t, e, r, a, f, o);
                        i.faces.push(m), void 0 !== u && i.faceVertexUvs[0].push([d[t].clone(), d[e].clone(), d[r].clone()]), void 0 !== c && i.faceVertexUvs[1].push([p[t].clone(), p[e].clone(), p[r].clone()])
                    }
                    var i = this,
                        r = null !== t.index ? t.index.array : void 0,
                        o = t.attributes,
                        a = o.position.array,
                        s = void 0 !== o.normal ? o.normal.array : void 0,
                        l = void 0 !== o.color ? o.color.array : void 0,
                        u = void 0 !== o.uv ? o.uv.array : void 0,
                        c = void 0 !== o.uv2 ? o.uv2.array : void 0;
                    void 0 !== c && (this.faceVertexUvs[1] = []);
                    for (var h = [], d = [], p = [], f = 0, m = 0; f < a.length; f += 3, m += 2) i.vertices.push(new n.Vector3(a[f], a[f + 1], a[f + 2])), void 0 !== s && h.push(new n.Vector3(s[f], s[f + 1], s[f + 2])), void 0 !== l && i.colors.push(new n.Color(l[f], l[f + 1], l[f + 2])), void 0 !== u && d.push(new n.Vector2(u[m], u[m + 1])), void 0 !== c && p.push(new n.Vector2(c[m], c[m + 1]));
                    if (void 0 !== r) {
                        var g = t.groups;
                        if (g.length > 0)
                            for (var f = 0; f < g.length; f++)
                                for (var v = g[f], y = v.start, _ = v.count, m = y, b = y + _; m < b; m += 3) e(r[m], r[m + 1], r[m + 2], v.materialIndex);
                        else
                            for (var f = 0; f < r.length; f += 3) e(r[f], r[f + 1], r[f + 2])
                    } else
                        for (var f = 0; f < a.length / 3; f += 3) e(f, f + 1, f + 2);
                    return this.computeFaceNormals(), null !== t.boundingBox && (this.boundingBox = t.boundingBox.clone()), null !== t.boundingSphere && (this.boundingSphere = t.boundingSphere.clone()), this
                },
                center: function() {
                    this.computeBoundingBox();
                    var t = this.boundingBox.center().negate();
                    return this.translate(t.x, t.y, t.z), t
                },
                normalize: function() {
                    this.computeBoundingSphere();
                    var t = this.boundingSphere.center,
                        e = this.boundingSphere.radius,
                        i = 0 === e ? 1 : 1 / e,
                        r = new n.Matrix4;
                    return r.set(i, 0, 0, -i * t.x, 0, i, 0, -i * t.y, 0, 0, i, -i * t.z, 0, 0, 0, 1), this.applyMatrix(r), this
                },
                computeFaceNormals: function() {
                    for (var t = new n.Vector3, e = new n.Vector3, i = 0, r = this.faces.length; i < r; i++) {
                        var o = this.faces[i],
                            a = this.vertices[o.a],
                            s = this.vertices[o.b],
                            l = this.vertices[o.c];
                        t.subVectors(l, s), e.subVectors(a, s), t.cross(e), t.normalize(), o.normal.copy(t)
                    }
                },
                computeVertexNormals: function(t) {
                    void 0 === t && (t = !0);
                    var e, i, r, o, a, s;
                    for (s = new Array(this.vertices.length), e = 0, i = this.vertices.length; e < i; e++) s[e] = new n.Vector3;
                    if (t) {
                        var l, u, c, h = new n.Vector3,
                            d = new n.Vector3;
                        for (r = 0, o = this.faces.length; r < o; r++) a = this.faces[r], l = this.vertices[a.a], u = this.vertices[a.b], c = this.vertices[a.c], h.subVectors(c, u), d.subVectors(l, u), h.cross(d), s[a.a].add(h), s[a.b].add(h), s[a.c].add(h)
                    } else
                        for (r = 0, o = this.faces.length; r < o; r++) a = this.faces[r], s[a.a].add(a.normal), s[a.b].add(a.normal), s[a.c].add(a.normal);
                    for (e = 0, i = this.vertices.length; e < i; e++) s[e].normalize();
                    for (r = 0, o = this.faces.length; r < o; r++) {
                        a = this.faces[r];
                        var p = a.vertexNormals;
                        3 === p.length ? (p[0].copy(s[a.a]), p[1].copy(s[a.b]), p[2].copy(s[a.c])) : (p[0] = s[a.a].clone(), p[1] = s[a.b].clone(), p[2] = s[a.c].clone())
                    }
                    this.faces.length > 0 && (this.normalsNeedUpdate = !0)
                },
                computeMorphNormals: function() {
                    var t, e, i, r, o;
                    for (i = 0, r = this.faces.length; i < r; i++)
                        for (o = this.faces[i], o.__originalFaceNormal ? o.__originalFaceNormal.copy(o.normal) : o.__originalFaceNormal = o.normal.clone(), o.__originalVertexNormals || (o.__originalVertexNormals = []), t = 0, e = o.vertexNormals.length; t < e; t++) o.__originalVertexNormals[t] ? o.__originalVertexNormals[t].copy(o.vertexNormals[t]) : o.__originalVertexNormals[t] = o.vertexNormals[t].clone();
                    var a = new n.Geometry;
                    for (a.faces = this.faces, t = 0, e = this.morphTargets.length; t < e; t++) {
                        if (!this.morphNormals[t]) {
                            this.morphNormals[t] = {}, this.morphNormals[t].faceNormals = [], this.morphNormals[t].vertexNormals = [];
                            var s, l, u = this.morphNormals[t].faceNormals,
                                c = this.morphNormals[t].vertexNormals;
                            for (i = 0, r = this.faces.length; i < r; i++) s = new n.Vector3, l = {
                                a: new n.Vector3,
                                b: new n.Vector3,
                                c: new n.Vector3
                            }, u.push(s), c.push(l)
                        }
                        var h = this.morphNormals[t];
                        a.vertices = this.morphTargets[t].vertices, a.computeFaceNormals(), a.computeVertexNormals();
                        var s, l;
                        for (i = 0, r = this.faces.length; i < r; i++) o = this.faces[i], s = h.faceNormals[i], l = h.vertexNormals[i], s.copy(o.normal), l.a.copy(o.vertexNormals[0]), l.b.copy(o.vertexNormals[1]), l.c.copy(o.vertexNormals[2])
                    }
                    for (i = 0, r = this.faces.length; i < r; i++) o = this.faces[i], o.normal = o.__originalFaceNormal, o.vertexNormals = o.__originalVertexNormals
                },
                computeTangents: function() {
                    console.warn("THREE.Geometry: .computeTangents() has been removed.")
                },
                computeLineDistances: function() {
                    for (var t = 0, e = this.vertices, i = 0, n = e.length; i < n; i++) i > 0 && (t += e[i].distanceTo(e[i - 1])), this.lineDistances[i] = t
                },
                computeBoundingBox: function() {
                    null === this.boundingBox && (this.boundingBox = new n.Box3), this.boundingBox.setFromPoints(this.vertices)
                },
                computeBoundingSphere: function() {
                    null === this.boundingSphere && (this.boundingSphere = new n.Sphere), this.boundingSphere.setFromPoints(this.vertices)
                },
                merge: function(t, e, i) {
                    if (t instanceof n.Geometry == !1) return void console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.", t);
                    var r, o = this.vertices.length,
                        a = this.vertices,
                        s = t.vertices,
                        l = this.faces,
                        u = t.faces,
                        c = this.faceVertexUvs[0],
                        h = t.faceVertexUvs[0];
                    void 0 === i && (i = 0), void 0 !== e && (r = (new n.Matrix3).getNormalMatrix(e));
                    for (var d = 0, p = s.length; d < p; d++) {
                        var f = s[d],
                            m = f.clone();
                        void 0 !== e && m.applyMatrix4(e), a.push(m)
                    }
                    for (d = 0, p = u.length; d < p; d++) {
                        var g, v, y, _ = u[d],
                            b = _.vertexNormals,
                            x = _.vertexColors;
                        g = new n.Face3(_.a + o, _.b + o, _.c + o), g.normal.copy(_.normal), void 0 !== r && g.normal.applyMatrix3(r).normalize();
                        for (var w = 0, T = b.length; w < T; w++) v = b[w].clone(), void 0 !== r && v.applyMatrix3(r).normalize(), g.vertexNormals.push(v);
                        g.color.copy(_.color);
                        for (var w = 0, T = x.length; w < T; w++) y = x[w], g.vertexColors.push(y.clone());
                        g.materialIndex = _.materialIndex + i, l.push(g)
                    }
                    for (d = 0, p = h.length; d < p; d++) {
                        var S = h[d],
                            M = [];
                        if (void 0 !== S) {
                            for (var w = 0, T = S.length; w < T; w++) M.push(S[w].clone());
                            c.push(M)
                        }
                    }
                },
                mergeMesh: function(t) {
                    if (t instanceof n.Mesh == !1) return void console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.", t);
                    t.matrixAutoUpdate && t.updateMatrix(), this.merge(t.geometry, t.matrix)
                },
                mergeVertices: function() {
                    var t, e, i, n, r, o, a, s, l = {},
                        u = [],
                        c = [],
                        h = Math.pow(10, 4);
                    for (i = 0, n = this.vertices.length; i < n; i++) t = this.vertices[i], e = Math.round(t.x * h) + "_" + Math.round(t.y * h) + "_" + Math.round(t.z * h), void 0 === l[e] ? (l[e] = i, u.push(this.vertices[i]), c[i] = u.length - 1) : c[i] = c[l[e]];
                    var d = [];
                    for (i = 0, n = this.faces.length; i < n; i++) {
                        r = this.faces[i], r.a = c[r.a], r.b = c[r.b], r.c = c[r.c], o = [r.a, r.b, r.c];
                        for (var p = 0; p < 3; p++)
                            if (o[p] === o[(p + 1) % 3]) {
                                p, d.push(i);
                                break
                            }
                    }
                    for (i = d.length - 1; i >= 0; i--) {
                        var f = d[i];
                        for (this.faces.splice(f, 1), a = 0, s = this.faceVertexUvs.length; a < s; a++) this.faceVertexUvs[a].splice(f, 1)
                    }
                    var m = this.vertices.length - u.length;
                    return this.vertices = u, m
                },
                sortFacesByMaterialIndex: function() {
                    function t(t, e) {
                        return t.materialIndex - e.materialIndex
                    }
                    for (var e = this.faces, i = e.length, n = 0; n < i; n++) e[n]._id = n;
                    e.sort(t);
                    var r, o, a = this.faceVertexUvs[0],
                        s = this.faceVertexUvs[1];
                    a && a.length === i && (r = []), s && s.length === i && (o = []);
                    for (var n = 0; n < i; n++) {
                        var l = e[n]._id;
                        r && r.push(a[l]), o && o.push(s[l])
                    }
                    r && (this.faceVertexUvs[0] = r), o && (this.faceVertexUvs[1] = o)
                },
                toJSON: function() {
                    function t(t, e, i) {
                        return i ? t | 1 << e : t & ~(1 << e)
                    }

                    function e(t) {
                        var e = t.x.toString() + t.y.toString() + t.z.toString();
                        return void 0 !== d[e] ? d[e] : (d[e] = h.length / 3, h.push(t.x, t.y, t.z), d[e])
                    }

                    function i(t) {
                        var e = t.r.toString() + t.g.toString() + t.b.toString();
                        return void 0 !== f[e] ? f[e] : (f[e] = p.length, p.push(t.getHex()), f[e])
                    }

                    function n(t) {
                        var e = t.x.toString() + t.y.toString();
                        return void 0 !== g[e] ? g[e] : (g[e] = m.length / 2, m.push(t.x, t.y), g[e])
                    }
                    var r = {
                        metadata: {
                            version: 4.4,
                            type: "Geometry",
                            generator: "Geometry.toJSON"
                        }
                    };
                    if (r.uuid = this.uuid, r.type = this.type, "" !== this.name && (r.name = this.name), void 0 !== this.parameters) {
                        var o = this.parameters;
                        for (var a in o) void 0 !== o[a] && (r[a] = o[a]);
                        return r
                    }
                    for (var s = [], l = 0; l < this.vertices.length; l++) {
                        var u = this.vertices[l];
                        s.push(u.x, u.y, u.z)
                    }
                    for (var c = [], h = [], d = {}, p = [], f = {}, m = [], g = {}, l = 0; l < this.faces.length; l++) {
                        var v = this.faces[l],
                            y = void 0 !== this.faceVertexUvs[0][l],
                            _ = v.normal.length() > 0,
                            b = v.vertexNormals.length > 0,
                            x = 1 !== v.color.r || 1 !== v.color.g || 1 !== v.color.b,
                            w = v.vertexColors.length > 0,
                            T = 0;
                        if (T = t(T, 0, 0), T = t(T, 1, !0), T = t(T, 2, !1), T = t(T, 3, y), T = t(T, 4, _), T = t(T, 5, b), T = t(T, 6, x), T = t(T, 7, w), c.push(T), c.push(v.a, v.b, v.c), c.push(v.materialIndex), y) {
                            var S = this.faceVertexUvs[0][l];
                            c.push(n(S[0]), n(S[1]), n(S[2]))
                        }
                        if (_ && c.push(e(v.normal)), b) {
                            var M = v.vertexNormals;
                            c.push(e(M[0]), e(M[1]), e(M[2]))
                        }
                        if (x && c.push(i(v.color)), w) {
                            var E = v.vertexColors;
                            c.push(i(E[0]), i(E[1]), i(E[2]))
                        }
                    }
                    return r.data = {}, r.data.vertices = s, r.data.normals = h, p.length > 0 && (r.data.colors = p), m.length > 0 && (r.data.uvs = [m]), r.data.faces = c, r
                },
                clone: function() {
                    return (new n.Geometry).copy(this)
                },
                copy: function(t) {
                    this.vertices = [], this.faces = [], this.faceVertexUvs = [
                        []
                    ];
                    for (var e = t.vertices, i = 0, n = e.length; i < n; i++) this.vertices.push(e[i].clone());
                    for (var r = t.faces, i = 0, n = r.length; i < n; i++) this.faces.push(r[i].clone());
                    for (var i = 0, n = t.faceVertexUvs.length; i < n; i++) {
                        var o = t.faceVertexUvs[i];
                        void 0 === this.faceVertexUvs[i] && (this.faceVertexUvs[i] = []);
                        for (var a = 0, s = o.length; a < s; a++) {
                            for (var l = o[a], u = [], c = 0, h = l.length; c < h; c++) {
                                var d = l[c];
                                u.push(d.clone())
                            }
                            this.faceVertexUvs[i].push(u)
                        }
                    }
                    return this
                },
                dispose: function() {
                    this.dispatchEvent({
                        type: "dispose"
                    })
                }
            }), n.GeometryIdCount = 0, n.DirectGeometry = function() {
                Object.defineProperty(this, "id", {
                    value: n.GeometryIdCount++
                }), this.uuid = n.Math.generateUUID(), this.name = "", this.type = "DirectGeometry", this.indices = [], this.vertices = [], this.normals = [], this.colors = [], this.uvs = [], this.uvs2 = [], this.groups = [], this.morphTargets = {}, this.skinWeights = [], this.skinIndices = [], this.boundingBox = null, this.boundingSphere = null, this.verticesNeedUpdate = !1, this.normalsNeedUpdate = !1, this.colorsNeedUpdate = !1, this.uvsNeedUpdate = !1, this.groupsNeedUpdate = !1
            }, Object.assign(n.DirectGeometry.prototype, n.EventDispatcher.prototype, {
                computeBoundingBox: n.Geometry.prototype.computeBoundingBox,
                computeBoundingSphere: n.Geometry.prototype.computeBoundingSphere,
                computeFaceNormals: function() {
                    console.warn("THREE.DirectGeometry: computeFaceNormals() is not a method of this type of geometry.")
                },
                computeVertexNormals: function() {
                    console.warn("THREE.DirectGeometry: computeVertexNormals() is not a method of this type of geometry.")
                },
                computeGroups: function(t) {
                    for (var e, i, n = [], r = t.faces, o = 0; o < r.length; o++) {
                        var a = r[o];
                        a.materialIndex !== i && (i = a.materialIndex, void 0 !== e && (e.count = 3 * o - e.start, n.push(e)), e = {
                            start: 3 * o,
                            materialIndex: i
                        })
                    }
                    void 0 !== e && (e.count = 3 * o - e.start, n.push(e)), this.groups = n
                },
                fromGeometry: function(t) {
                    var e, i = t.faces,
                        r = t.vertices,
                        o = t.faceVertexUvs,
                        a = o[0] && o[0].length > 0,
                        s = o[1] && o[1].length > 0,
                        l = t.morphTargets,
                        u = l.length;
                    if (u > 0) {
                        e = [];
                        for (var c = 0; c < u; c++) e[c] = [];
                        this.morphTargets.position = e
                    }
                    var h, d = t.morphNormals,
                        p = d.length;
                    if (p > 0) {
                        h = [];
                        for (var c = 0; c < p; c++) h[c] = [];
                        this.morphTargets.normal = h
                    }
                    for (var f = t.skinIndices, m = t.skinWeights, g = f.length === r.length, v = m.length === r.length, c = 0; c < i.length; c++) {
                        var y = i[c];
                        this.vertices.push(r[y.a], r[y.b], r[y.c]);
                        var _ = y.vertexNormals;
                        if (3 === _.length) this.normals.push(_[0], _[1], _[2]);
                        else {
                            var b = y.normal;
                            this.normals.push(b, b, b)
                        }
                        var x = y.vertexColors;
                        if (3 === x.length) this.colors.push(x[0], x[1], x[2]);
                        else {
                            var w = y.color;
                            this.colors.push(w, w, w)
                        }
                        if (a === !0) {
                            var T = o[0][c];
                            void 0 !== T ? this.uvs.push(T[0], T[1], T[2]) : (console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ", c), this.uvs.push(new n.Vector2, new n.Vector2, new n.Vector2))
                        }
                        if (s === !0) {
                            var T = o[1][c];
                            void 0 !== T ? this.uvs2.push(T[0], T[1], T[2]) : (console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ", c), this.uvs2.push(new n.Vector2, new n.Vector2, new n.Vector2))
                        }
                        for (var S = 0; S < u; S++) {
                            var M = l[S].vertices;
                            e[S].push(M[y.a], M[y.b], M[y.c])
                        }
                        for (var S = 0; S < p; S++) {
                            var E = d[S].vertexNormals[c];
                            h[S].push(E.a, E.b, E.c)
                        }
                        g && this.skinIndices.push(f[y.a], f[y.b], f[y.c]), v && this.skinWeights.push(m[y.a], m[y.b], m[y.c])
                    }
                    return this.computeGroups(t), this.verticesNeedUpdate = t.verticesNeedUpdate, this.normalsNeedUpdate = t.normalsNeedUpdate, this.colorsNeedUpdate = t.colorsNeedUpdate, this.uvsNeedUpdate = t.uvsNeedUpdate, this.groupsNeedUpdate = t.groupsNeedUpdate, this
                },
                dispose: function() {
                    this.dispatchEvent({
                        type: "dispose"
                    })
                }
            }), n.BufferGeometry = function() {
                Object.defineProperty(this, "id", {
                    value: n.GeometryIdCount++
                }), this.uuid = n.Math.generateUUID(), this.name = "", this.type = "BufferGeometry", this.index = null, this.attributes = {}, this.morphAttributes = {}, this.groups = [], this.boundingBox = null, this.boundingSphere = null, this.drawRange = {
                    start: 0,
                    count: 1 / 0
                }
            },
            Object.assign(n.BufferGeometry.prototype, n.EventDispatcher.prototype, {
                getIndex: function() {
                    return this.index
                },
                setIndex: function(t) {
                    this.index = t
                },
                addAttribute: function(t, e) {
                    return e instanceof n.BufferAttribute == !1 && e instanceof n.InterleavedBufferAttribute == !1 ? (console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."), void this.addAttribute(t, new n.BufferAttribute(arguments[1], arguments[2]))) : "index" === t ? (console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."), void this.setIndex(e)) : (this.attributes[t] = e, this)
                },
                getAttribute: function(t) {
                    return this.attributes[t]
                },
                removeAttribute: function(t) {
                    return delete this.attributes[t], this
                },
                addGroup: function(t, e, i) {
                    this.groups.push({
                        start: t,
                        count: e,
                        materialIndex: void 0 !== i ? i : 0
                    })
                },
                clearGroups: function() {
                    this.groups = []
                },
                setDrawRange: function(t, e) {
                    this.drawRange.start = t, this.drawRange.count = e
                },
                applyMatrix: function(t) {
                    var e = this.attributes.position;
                    void 0 !== e && (t.applyToVector3Array(e.array), e.needsUpdate = !0);
                    var i = this.attributes.normal;
                    if (void 0 !== i) {
                        (new n.Matrix3).getNormalMatrix(t).applyToVector3Array(i.array), i.needsUpdate = !0
                    }
                    return null !== this.boundingBox && this.computeBoundingBox(), null !== this.boundingSphere && this.computeBoundingSphere(), this
                },
                rotateX: function() {
                    var t;
                    return function(e) {
                        return void 0 === t && (t = new n.Matrix4), t.makeRotationX(e), this.applyMatrix(t), this
                    }
                }(),
                rotateY: function() {
                    var t;
                    return function(e) {
                        return void 0 === t && (t = new n.Matrix4), t.makeRotationY(e), this.applyMatrix(t), this
                    }
                }(),
                rotateZ: function() {
                    var t;
                    return function(e) {
                        return void 0 === t && (t = new n.Matrix4), t.makeRotationZ(e), this.applyMatrix(t), this
                    }
                }(),
                translate: function() {
                    var t;
                    return function(e, i, r) {
                        return void 0 === t && (t = new n.Matrix4), t.makeTranslation(e, i, r), this.applyMatrix(t), this
                    }
                }(),
                scale: function() {
                    var t;
                    return function(e, i, r) {
                        return void 0 === t && (t = new n.Matrix4), t.makeScale(e, i, r), this.applyMatrix(t), this
                    }
                }(),
                lookAt: function() {
                    var t;
                    return function(e) {
                        void 0 === t && (t = new n.Object3D), t.lookAt(e), t.updateMatrix(), this.applyMatrix(t.matrix)
                    }
                }(),
                center: function() {
                    this.computeBoundingBox();
                    var t = this.boundingBox.center().negate();
                    return this.translate(t.x, t.y, t.z), t
                },
                setFromObject: function(t) {
                    var e = t.geometry;
                    if (t instanceof n.Points || t instanceof n.Line) {
                        var i = new n.Float32Attribute(3 * e.vertices.length, 3),
                            r = new n.Float32Attribute(3 * e.colors.length, 3);
                        if (this.addAttribute("position", i.copyVector3sArray(e.vertices)), this.addAttribute("color", r.copyColorsArray(e.colors)), e.lineDistances && e.lineDistances.length === e.vertices.length) {
                            var o = new n.Float32Attribute(e.lineDistances.length, 1);
                            this.addAttribute("lineDistance", o.copyArray(e.lineDistances))
                        }
                        null !== e.boundingSphere && (this.boundingSphere = e.boundingSphere.clone()), null !== e.boundingBox && (this.boundingBox = e.boundingBox.clone())
                    } else t instanceof n.Mesh && e instanceof n.Geometry && this.fromGeometry(e);
                    return this
                },
                updateFromObject: function(t) {
                    var e = t.geometry;
                    if (t instanceof n.Mesh) {
                        var i = e.__directGeometry;
                        if (void 0 === i) return this.fromGeometry(e);
                        i.verticesNeedUpdate = e.verticesNeedUpdate, i.normalsNeedUpdate = e.normalsNeedUpdate, i.colorsNeedUpdate = e.colorsNeedUpdate, i.uvsNeedUpdate = e.uvsNeedUpdate, i.groupsNeedUpdate = e.groupsNeedUpdate, e.verticesNeedUpdate = !1, e.normalsNeedUpdate = !1, e.colorsNeedUpdate = !1, e.uvsNeedUpdate = !1, e.groupsNeedUpdate = !1, e = i
                    }
                    if (e.verticesNeedUpdate === !0) {
                        var r = this.attributes.position;
                        void 0 !== r && (r.copyVector3sArray(e.vertices), r.needsUpdate = !0), e.verticesNeedUpdate = !1
                    }
                    if (e.normalsNeedUpdate === !0) {
                        var r = this.attributes.normal;
                        void 0 !== r && (r.copyVector3sArray(e.normals), r.needsUpdate = !0), e.normalsNeedUpdate = !1
                    }
                    if (e.colorsNeedUpdate === !0) {
                        var r = this.attributes.color;
                        void 0 !== r && (r.copyColorsArray(e.colors), r.needsUpdate = !0), e.colorsNeedUpdate = !1
                    }
                    if (e.uvsNeedUpdate) {
                        var r = this.attributes.uv;
                        void 0 !== r && (r.copyVector2sArray(e.uvs), r.needsUpdate = !0), e.uvsNeedUpdate = !1
                    }
                    if (e.lineDistancesNeedUpdate) {
                        var r = this.attributes.lineDistance;
                        void 0 !== r && (r.copyArray(e.lineDistances), r.needsUpdate = !0), e.lineDistancesNeedUpdate = !1
                    }
                    return e.groupsNeedUpdate && (e.computeGroups(t.geometry), this.groups = e.groups, e.groupsNeedUpdate = !1), this
                },
                fromGeometry: function(t) {
                    return t.__directGeometry = (new n.DirectGeometry).fromGeometry(t), this.fromDirectGeometry(t.__directGeometry)
                },
                fromDirectGeometry: function(t) {
                    var e = new Float32Array(3 * t.vertices.length);
                    if (this.addAttribute("position", new n.BufferAttribute(e, 3).copyVector3sArray(t.vertices)), t.normals.length > 0) {
                        var i = new Float32Array(3 * t.normals.length);
                        this.addAttribute("normal", new n.BufferAttribute(i, 3).copyVector3sArray(t.normals))
                    }
                    if (t.colors.length > 0) {
                        var r = new Float32Array(3 * t.colors.length);
                        this.addAttribute("color", new n.BufferAttribute(r, 3).copyColorsArray(t.colors))
                    }
                    if (t.uvs.length > 0) {
                        var o = new Float32Array(2 * t.uvs.length);
                        this.addAttribute("uv", new n.BufferAttribute(o, 2).copyVector2sArray(t.uvs))
                    }
                    if (t.uvs2.length > 0) {
                        var a = new Float32Array(2 * t.uvs2.length);
                        this.addAttribute("uv2", new n.BufferAttribute(a, 2).copyVector2sArray(t.uvs2))
                    }
                    if (t.indices.length > 0) {
                        var s = t.vertices.length > 65535 ? Uint32Array : Uint16Array,
                            l = new s(3 * t.indices.length);
                        this.setIndex(new n.BufferAttribute(l, 1).copyIndicesArray(t.indices))
                    }
                    this.groups = t.groups;
                    for (var u in t.morphTargets) {
                        for (var c = [], h = t.morphTargets[u], d = 0, p = h.length; d < p; d++) {
                            var f = h[d],
                                m = new n.Float32Attribute(3 * f.length, 3);
                            c.push(m.copyVector3sArray(f))
                        }
                        this.morphAttributes[u] = c
                    }
                    if (t.skinIndices.length > 0) {
                        var g = new n.Float32Attribute(4 * t.skinIndices.length, 4);
                        this.addAttribute("skinIndex", g.copyVector4sArray(t.skinIndices))
                    }
                    if (t.skinWeights.length > 0) {
                        var v = new n.Float32Attribute(4 * t.skinWeights.length, 4);
                        this.addAttribute("skinWeight", v.copyVector4sArray(t.skinWeights))
                    }
                    return null !== t.boundingSphere && (this.boundingSphere = t.boundingSphere.clone()), null !== t.boundingBox && (this.boundingBox = t.boundingBox.clone()), this
                },
                computeBoundingBox: function() {
                    null === this.boundingBox && (this.boundingBox = new n.Box3);
                    var t = this.attributes.position.array;
                    void 0 !== t ? this.boundingBox.setFromArray(t) : this.boundingBox.makeEmpty(), (isNaN(this.boundingBox.min.x) || isNaN(this.boundingBox.min.y) || isNaN(this.boundingBox.min.z)) && console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.', this)
                },
                computeBoundingSphere: function() {
                    var t = new n.Box3,
                        e = new n.Vector3;
                    return function() {
                        null === this.boundingSphere && (this.boundingSphere = new n.Sphere);
                        var i = this.attributes.position.array;
                        if (i) {
                            var r = this.boundingSphere.center;
                            t.setFromArray(i), t.center(r);
                            for (var o = 0, a = 0, s = i.length; a < s; a += 3) e.fromArray(i, a), o = Math.max(o, r.distanceToSquared(e));
                            this.boundingSphere.radius = Math.sqrt(o), isNaN(this.boundingSphere.radius) && console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.', this)
                        }
                    }
                }(),
                computeFaceNormals: function() {},
                computeVertexNormals: function() {
                    var t = this.index,
                        e = this.attributes,
                        i = this.groups;
                    if (e.position) {
                        var r = e.position.array;
                        if (void 0 === e.normal) this.addAttribute("normal", new n.BufferAttribute(new Float32Array(r.length), 3));
                        else
                            for (var o = e.normal.array, a = 0, s = o.length; a < s; a++) o[a] = 0;
                        var l, u, c, h = e.normal.array,
                            d = new n.Vector3,
                            p = new n.Vector3,
                            f = new n.Vector3,
                            m = new n.Vector3,
                            g = new n.Vector3;
                        if (t) {
                            var v = t.array;
                            0 === i.length && this.addGroup(0, v.length);
                            for (var y = 0, _ = i.length; y < _; ++y)
                                for (var b = i[y], x = b.start, w = b.count, a = x, s = x + w; a < s; a += 3) l = 3 * v[a + 0], u = 3 * v[a + 1], c = 3 * v[a + 2], d.fromArray(r, l), p.fromArray(r, u), f.fromArray(r, c), m.subVectors(f, p), g.subVectors(d, p), m.cross(g), h[l] += m.x, h[l + 1] += m.y, h[l + 2] += m.z, h[u] += m.x, h[u + 1] += m.y, h[u + 2] += m.z, h[c] += m.x, h[c + 1] += m.y, h[c + 2] += m.z
                        } else
                            for (var a = 0, s = r.length; a < s; a += 9) d.fromArray(r, a), p.fromArray(r, a + 3), f.fromArray(r, a + 6), m.subVectors(f, p), g.subVectors(d, p), m.cross(g), h[a] = m.x, h[a + 1] = m.y, h[a + 2] = m.z, h[a + 3] = m.x, h[a + 4] = m.y, h[a + 5] = m.z, h[a + 6] = m.x, h[a + 7] = m.y, h[a + 8] = m.z;
                        this.normalizeNormals(), e.normal.needsUpdate = !0
                    }
                },
                merge: function(t, e) {
                    if (t instanceof n.BufferGeometry == !1) return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.", t);
                    void 0 === e && (e = 0);
                    var i = this.attributes;
                    for (var r in i)
                        if (void 0 !== t.attributes[r])
                            for (var o = i[r], a = o.array, s = t.attributes[r], l = s.array, u = s.itemSize, c = 0, h = u * e; c < l.length; c++, h++) a[h] = l[c];
                    return this
                },
                normalizeNormals: function() {
                    for (var t, e, i, n, r = this.attributes.normal.array, o = 0, a = r.length; o < a; o += 3) t = r[o], e = r[o + 1], i = r[o + 2], n = 1 / Math.sqrt(t * t + e * e + i * i), r[o] *= n, r[o + 1] *= n, r[o + 2] *= n
                },
                toNonIndexed: function() {
                    if (null === this.index) return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."), this;
                    var t = new n.BufferGeometry,
                        e = this.index.array,
                        i = this.attributes;
                    for (var r in i) {
                        for (var o = i[r], a = o.array, s = o.itemSize, l = new a.constructor(e.length * s), u = 0, c = 0, h = 0, d = e.length; h < d; h++) {
                            u = e[h] * s;
                            for (var p = 0; p < s; p++) l[c++] = a[u++]
                        }
                        t.addAttribute(r, new n.BufferAttribute(l, s))
                    }
                    return t
                },
                toJSON: function() {
                    var t = {
                        metadata: {
                            version: 4.4,
                            type: "BufferGeometry",
                            generator: "BufferGeometry.toJSON"
                        }
                    };
                    if (t.uuid = this.uuid, t.type = this.type, "" !== this.name && (t.name = this.name), void 0 !== this.parameters) {
                        var e = this.parameters;
                        for (var i in e) void 0 !== e[i] && (t[i] = e[i]);
                        return t
                    }
                    t.data = {
                        attributes: {}
                    };
                    var n = this.index;
                    if (null !== n) {
                        var r = Array.prototype.slice.call(n.array);
                        t.data.index = {
                            type: n.array.constructor.name,
                            array: r
                        }
                    }
                    var o = this.attributes;
                    for (var i in o) {
                        var a = o[i],
                            r = Array.prototype.slice.call(a.array);
                        t.data.attributes[i] = {
                            itemSize: a.itemSize,
                            type: a.array.constructor.name,
                            array: r,
                            normalized: a.normalized
                        }
                    }
                    var s = this.groups;
                    s.length > 0 && (t.data.groups = JSON.parse(JSON.stringify(s)));
                    var l = this.boundingSphere;
                    return null !== l && (t.data.boundingSphere = {
                        center: l.center.toArray(),
                        radius: l.radius
                    }), t
                },
                clone: function() {
                    return (new n.BufferGeometry).copy(this)
                },
                copy: function(t) {
                    var e = t.index;
                    null !== e && this.setIndex(e.clone());
                    var i = t.attributes;
                    for (var n in i) {
                        var r = i[n];
                        this.addAttribute(n, r.clone())
                    }
                    for (var o = t.groups, a = 0, s = o.length; a < s; a++) {
                        var l = o[a];
                        this.addGroup(l.start, l.count, l.materialIndex)
                    }
                    return this
                },
                dispose: function() {
                    this.dispatchEvent({
                        type: "dispose"
                    })
                }
            }), n.BufferGeometry.MaxIndex = 65535, n.InstancedBufferGeometry = function() {
                n.BufferGeometry.call(this), this.type = "InstancedBufferGeometry", this.maxInstancedCount = void 0
            }, n.InstancedBufferGeometry.prototype = Object.create(n.BufferGeometry.prototype), n.InstancedBufferGeometry.prototype.constructor = n.InstancedBufferGeometry, n.InstancedBufferGeometry.prototype.addGroup = function(t, e, i) {
                this.groups.push({
                    start: t,
                    count: e,
                    instances: i
                })
            }, n.InstancedBufferGeometry.prototype.copy = function(t) {
                var e = t.index;
                null !== e && this.setIndex(e.clone());
                var i = t.attributes;
                for (var n in i) {
                    var r = i[n];
                    this.addAttribute(n, r.clone())
                }
                for (var o = t.groups, a = 0, s = o.length; a < s; a++) {
                    var l = o[a];
                    this.addGroup(l.start, l.count, l.instances)
                }
                return this
            }, n.Uniform = function(t) {
                "string" == typeof t && (console.warn("THREE.Uniform: Type parameter is no longer needed."), t = arguments[1]), this.value = t, this.dynamic = !1
            }, n.Uniform.prototype = {
                constructor: n.Uniform,
                onUpdate: function(t) {
                    return this.dynamic = !0, this.onUpdateCallback = t, this
                }
            }, n.AnimationAction = function() {
                throw new Error("THREE.AnimationAction: Use mixer.clipAction for construction.")
            }, n.AnimationAction._new = function(t, e, i) {
                this._mixer = t, this._clip = e, this._localRoot = i || null;
                for (var r = e.tracks, o = r.length, a = new Array(o), s = {
                        endingStart: n.ZeroCurvatureEnding,
                        endingEnd: n.ZeroCurvatureEnding
                    }, l = 0; l !== o; ++l) {
                    var u = r[l].createInterpolant(null);
                    a[l] = u, u.settings = s
                }
                this._interpolantSettings = s, this._interpolants = a, this._propertyBindings = new Array(o), this._cacheIndex = null, this._byClipCacheIndex = null, this._timeScaleInterpolant = null, this._weightInterpolant = null, this.loop = n.LoopRepeat, this._loopCount = -1, this._startTime = null, this.time = 0, this.timeScale = 1, this._effectiveTimeScale = 1, this.weight = 1, this._effectiveWeight = 1, this.repetitions = 1 / 0, this.paused = !1, this.enabled = !0, this.clampWhenFinished = !1, this.zeroSlopeAtStart = !0, this.zeroSlopeAtEnd = !0
            }, n.AnimationAction._new.prototype = {
                constructor: n.AnimationAction._new,
                play: function() {
                    return this._mixer._activateAction(this), this
                },
                stop: function() {
                    return this._mixer._deactivateAction(this), this.reset()
                },
                reset: function() {
                    return this.paused = !1, this.enabled = !0, this.time = 0, this._loopCount = -1, this._startTime = null, this.stopFading().stopWarping()
                },
                isRunning: function() {
                    this._startTime;
                    return this.enabled && !this.paused && 0 !== this.timeScale && null === this._startTime && this._mixer._isActiveAction(this)
                },
                isScheduled: function() {
                    return this._mixer._isActiveAction(this)
                },
                startAt: function(t) {
                    return this._startTime = t, this
                },
                setLoop: function(t, e) {
                    return this.loop = t, this.repetitions = e, this
                },
                setEffectiveWeight: function(t) {
                    return this.weight = t, this._effectiveWeight = this.enabled ? t : 0, this.stopFading()
                },
                getEffectiveWeight: function() {
                    return this._effectiveWeight
                },
                fadeIn: function(t) {
                    return this._scheduleFading(t, 0, 1)
                },
                fadeOut: function(t) {
                    return this._scheduleFading(t, 1, 0)
                },
                crossFadeFrom: function(t, e, i) {
                    this._mixer;
                    if (t.fadeOut(e), this.fadeIn(e), i) {
                        var n = this._clip.duration,
                            r = t._clip.duration,
                            o = r / n,
                            a = n / r;
                        t.warp(1, o, e), this.warp(a, 1, e)
                    }
                    return this
                },
                crossFadeTo: function(t, e, i) {
                    return t.crossFadeFrom(this, e, i)
                },
                stopFading: function() {
                    var t = this._weightInterpolant;
                    return null !== t && (this._weightInterpolant = null, this._mixer._takeBackControlInterpolant(t)), this
                },
                setEffectiveTimeScale: function(t) {
                    return this.timeScale = t, this._effectiveTimeScale = this.paused ? 0 : t, this.stopWarping()
                },
                getEffectiveTimeScale: function() {
                    return this._effectiveTimeScale
                },
                setDuration: function(t) {
                    return this.timeScale = this._clip.duration / t, this.stopWarping()
                },
                syncWith: function(t) {
                    return this.time = t.time, this.timeScale = t.timeScale, this.stopWarping()
                },
                halt: function(t) {
                    return this.warp(this._effectiveTimeScale, 0, t)
                },
                warp: function(t, e, i) {
                    var n = this._mixer,
                        r = n.time,
                        o = this._timeScaleInterpolant,
                        a = this.timeScale;
                    null === o && (o = n._lendControlInterpolant(), this._timeScaleInterpolant = o);
                    var s = o.parameterPositions,
                        l = o.sampleValues;
                    return s[0] = r, s[1] = r + i, l[0] = t / a, l[1] = e / a, this
                },
                stopWarping: function() {
                    var t = this._timeScaleInterpolant;
                    return null !== t && (this._timeScaleInterpolant = null, this._mixer._takeBackControlInterpolant(t)), this
                },
                getMixer: function() {
                    return this._mixer
                },
                getClip: function() {
                    return this._clip
                },
                getRoot: function() {
                    return this._localRoot || this._mixer._root
                },
                _update: function(t, e, i, n) {
                    var r = this._startTime;
                    if (null !== r) {
                        var o = (t - r) * i;
                        if (o < 0 || 0 === i) return;
                        this._startTime = null, e = i * o
                    }
                    e *= this._updateTimeScale(t);
                    var a = this._updateTime(e),
                        s = this._updateWeight(t);
                    if (s > 0)
                        for (var l = this._interpolants, u = this._propertyBindings, c = 0, h = l.length; c !== h; ++c) l[c].evaluate(a), u[c].accumulate(n, s)
                },
                _updateWeight: function(t) {
                    var e = 0;
                    if (this.enabled) {
                        e = this.weight;
                        var i = this._weightInterpolant;
                        if (null !== i) {
                            var n = i.evaluate(t)[0];
                            e *= n, t > i.parameterPositions[1] && (this.stopFading(), 0 === n && (this.enabled = !1))
                        }
                    }
                    return this._effectiveWeight = e, e
                },
                _updateTimeScale: function(t) {
                    var e = 0;
                    if (!this.paused) {
                        e = this.timeScale;
                        var i = this._timeScaleInterpolant;
                        if (null !== i) {
                            e *= i.evaluate(t)[0], t > i.parameterPositions[1] && (this.stopWarping(), 0 === e ? this.paused = !0 : this.timeScale = e)
                        }
                    }
                    return this._effectiveTimeScale = e, e
                },
                _updateTime: function(t) {
                    var e = this.time + t;
                    if (0 === t) return e;
                    var i = this._clip.duration,
                        r = this.loop,
                        o = this._loopCount;
                    if (r === n.LoopOnce) {
                        o === -1 && (this.loopCount = 0, this._setEndings(!0, !0, !1));
                        t: {
                            if (e >= i) e = i;
                            else {
                                if (!(e < 0)) break t;
                                e = 0
                            }
                            this.clampWhenFinished ? this.paused = !0 : this.enabled = !1, this._mixer.dispatchEvent({
                                type: "finished",
                                action: this,
                                direction: t < 0 ? -1 : 1
                            })
                        }
                    } else {
                        var a = r === n.LoopPingPong;
                        if (o === -1 && (t >= 0 ? (o = 0, this._setEndings(!0, 0 === this.repetitions, a)) : this._setEndings(0 === this.repetitions, !0, a)), e >= i || e < 0) {
                            var s = Math.floor(e / i);
                            e -= i * s, o += Math.abs(s);
                            var l = this.repetitions - o;
                            if (l < 0) this.clampWhenFinished ? this.paused = !0 : this.enabled = !1, e = t > 0 ? i : 0, this._mixer.dispatchEvent({
                                type: "finished",
                                action: this,
                                direction: t > 0 ? 1 : -1
                            });
                            else {
                                if (0 === l) {
                                    var u = t < 0;
                                    this._setEndings(u, !u, a)
                                } else this._setEndings(!1, !1, a);
                                this._loopCount = o, this._mixer.dispatchEvent({
                                    type: "loop",
                                    action: this,
                                    loopDelta: s
                                })
                            }
                        }
                        if (a && 1 == (1 & o)) return this.time = e, i - e
                    }
                    return this.time = e, e
                },
                _setEndings: function(t, e, i) {
                    var r = this._interpolantSettings;
                    i ? (r.endingStart = n.ZeroSlopeEnding, r.endingEnd = n.ZeroSlopeEnding) : (r.endingStart = t ? this.zeroSlopeAtStart ? n.ZeroSlopeEnding : n.ZeroCurvatureEnding : n.WrapAroundEnding, r.endingEnd = e ? this.zeroSlopeAtEnd ? n.ZeroSlopeEnding : n.ZeroCurvatureEnding : n.WrapAroundEnding)
                },
                _scheduleFading: function(t, e, i) {
                    var n = this._mixer,
                        r = n.time,
                        o = this._weightInterpolant;
                    null === o && (o = n._lendControlInterpolant(), this._weightInterpolant = o);
                    var a = o.parameterPositions,
                        s = o.sampleValues;
                    return a[0] = r, s[0] = e, a[1] = r + t, s[1] = i, this
                }
            }, n.AnimationClip = function(t, e, i) {
                this.name = t, this.tracks = i, this.duration = void 0 !== e ? e : -1, this.uuid = n.Math.generateUUID(), this.duration < 0 && this.resetDuration(), this.trim(), this.optimize()
            }, n.AnimationClip.prototype = {
                constructor: n.AnimationClip,
                resetDuration: function() {
                    for (var t = this.tracks, e = 0, i = 0, n = t.length; i !== n; ++i) {
                        var r = this.tracks[i];
                        e = Math.max(e, r.times[r.times.length - 1])
                    }
                    this.duration = e
                },
                trim: function() {
                    for (var t = 0; t < this.tracks.length; t++) this.tracks[t].trim(0, this.duration);
                    return this
                },
                optimize: function() {
                    for (var t = 0; t < this.tracks.length; t++) this.tracks[t].optimize();
                    return this
                }
            }, Object.assign(n.AnimationClip, {
                parse: function(t) {
                    for (var e = [], i = t.tracks, r = 1 / (t.fps || 1), o = 0, a = i.length; o !== a; ++o) e.push(n.KeyframeTrack.parse(i[o]).scale(r));
                    return new n.AnimationClip(t.name, t.duration, e)
                },
                toJSON: function(t) {
                    for (var e = [], i = t.tracks, r = {
                            name: t.name,
                            duration: t.duration,
                            tracks: e
                        }, o = 0, a = i.length; o !== a; ++o) e.push(n.KeyframeTrack.toJSON(i[o]));
                    return r
                },
                CreateFromMorphTargetSequence: function(t, e, i, r) {
                    for (var o = e.length, a = [], s = 0; s < o; s++) {
                        var l = [],
                            u = [];
                        l.push((s + o - 1) % o, s, (s + 1) % o), u.push(0, 1, 0);
                        var c = n.AnimationUtils.getKeyframeOrder(l);
                        l = n.AnimationUtils.sortedArray(l, 1, c), u = n.AnimationUtils.sortedArray(u, 1, c), r || 0 !== l[0] || (l.push(o), u.push(u[0])), a.push(new n.NumberKeyframeTrack(".morphTargetInfluences[" + e[s].name + "]", l, u).scale(1 / i))
                    }
                    return new n.AnimationClip(t, -1, a)
                },
                findByName: function(t, e) {
                    var i = t;
                    if (!Array.isArray(t)) {
                        var n = t;
                        i = n.geometry && n.geometry.animations || n.animations
                    }
                    for (var r = 0; r < i.length; r++)
                        if (i[r].name === e) return i[r];
                    return null
                },
                CreateClipsFromMorphTargetSequences: function(t, e, i) {
                    for (var r = {}, o = 0, a = t.length; o < a; o++) {
                        var s = t[o],
                            l = s.name.match(/^([\w-]*?)([\d]+)$/);
                        if (l && l.length > 1) {
                            var u = l[1],
                                c = r[u];
                            c || (r[u] = c = []), c.push(s)
                        }
                    }
                    var h = [];
                    for (var u in r) h.push(n.AnimationClip.CreateFromMorphTargetSequence(u, r[u], e, i));
                    return h
                },
                parseAnimation: function(t, e, i) {
                    if (!t) return console.error("  no animation in JSONLoader data"), null;
                    for (var r = function(t, e, i, r, o) {
                            if (0 !== i.length) {
                                var a = [],
                                    s = [];
                                n.AnimationUtils.flattenJSON(i, a, s, r), 0 !== a.length && o.push(new t(e, a, s))
                            }
                        }, o = [], a = t.name || "default", s = t.length || -1, l = t.fps || 30, u = t.hierarchy || [], c = 0; c < u.length; c++) {
                        var h = u[c].keys;
                        if (h && 0 !== h.length)
                            if (h[0].morphTargets) {
                                for (var d = {}, p = 0; p < h.length; p++)
                                    if (h[p].morphTargets)
                                        for (var f = 0; f < h[p].morphTargets.length; f++) d[h[p].morphTargets[f]] = -1;
                                for (var m in d) {
                                    for (var g = [], v = [], f = 0; f !== h[p].morphTargets.length; ++f) {
                                        var y = h[p];
                                        g.push(y.time), v.push(y.morphTarget === m ? 1 : 0)
                                    }
                                    o.push(new n.NumberKeyframeTrack(".morphTargetInfluence[" + m + "]", g, v))
                                }
                                s = d.length * (l || 1)
                            } else {
                                var _ = ".bones[" + e[c].name + "]";
                                r(n.VectorKeyframeTrack, _ + ".position", h, "pos", o), r(n.QuaternionKeyframeTrack, _ + ".quaternion", h, "rot", o), r(n.VectorKeyframeTrack, _ + ".scale", h, "scl", o)
                            }
                    }
                    return 0 === o.length ? null : new n.AnimationClip(a, s, o)
                }
            }), n.AnimationMixer = function(t) {
                this._root = t, this._initMemoryManager(), this._accuIndex = 0, this.time = 0, this.timeScale = 1
            }, Object.assign(n.AnimationMixer.prototype, n.EventDispatcher.prototype, {
                clipAction: function(t, e) {
                    var i = e || this._root,
                        r = i.uuid,
                        o = "string" == typeof t ? n.AnimationClip.findByName(i, t) : t,
                        a = null !== o ? o.uuid : t,
                        s = this._actionsByClip[a],
                        l = null;
                    if (void 0 !== s) {
                        var u = s.actionByRoot[r];
                        if (void 0 !== u) return u;
                        l = s.knownActions[0], null === o && (o = l._clip)
                    }
                    if (null === o) return null;
                    var c = new n.AnimationMixer._Action(this, o, e);
                    return this._bindAction(c, l), this._addInactiveAction(c, a, r), c
                },
                existingAction: function(t, e) {
                    var i = e || this._root,
                        r = i.uuid,
                        o = "string" == typeof t ? n.AnimationClip.findByName(i, t) : t,
                        a = o ? o.uuid : t,
                        s = this._actionsByClip[a];
                    return void 0 !== s ? s.actionByRoot[r] || null : null
                },
                stopAllAction: function() {
                    var t = this._actions,
                        e = this._nActiveActions,
                        i = this._bindings,
                        n = this._nActiveBindings;
                    this._nActiveActions = 0, this._nActiveBindings = 0;
                    for (var r = 0; r !== e; ++r) t[r].reset();
                    for (var r = 0; r !== n; ++r) i[r].useCount = 0;
                    return this
                },
                update: function(t) {
                    t *= this.timeScale;
                    for (var e = this._actions, i = this._nActiveActions, n = this.time += t, r = Math.sign(t), o = this._accuIndex ^= 1, a = 0; a !== i; ++a) {
                        var s = e[a];
                        s.enabled && s._update(n, t, r, o)
                    }
                    for (var l = this._bindings, u = this._nActiveBindings, a = 0; a !== u; ++a) l[a].apply(o);
                    return this
                },
                getRoot: function() {
                    return this._root
                },
                uncacheClip: function(t) {
                    var e = this._actions,
                        i = t.uuid,
                        n = this._actionsByClip,
                        r = n[i];
                    if (void 0 !== r) {
                        for (var o = r.knownActions, a = 0, s = o.length; a !== s; ++a) {
                            var l = o[a];
                            this._deactivateAction(l);
                            var u = l._cacheIndex,
                                c = e[e.length - 1];
                            l._cacheIndex = null, l._byClipCacheIndex = null, c._cacheIndex = u, e[u] = c, e.pop(), this._removeInactiveBindingsForAction(l)
                        }
                        delete n[i]
                    }
                },
                uncacheRoot: function(t) {
                    var e = t.uuid,
                        i = this._actionsByClip;
                    for (var n in i) {
                        var r = i[n].actionByRoot,
                            o = r[e];
                        void 0 !== o && (this._deactivateAction(o), this._removeInactiveAction(o))
                    }
                    var a = this._bindingsByRootAndName,
                        s = a[e];
                    if (void 0 !== s)
                        for (var l in s) {
                            var u = s[l];
                            u.restoreOriginalState(), this._removeInactiveBinding(u)
                        }
                },
                uncacheAction: function(t, e) {
                    var i = this.existingAction(t, e);
                    null !== i && (this._deactivateAction(i), this._removeInactiveAction(i))
                }
            }), n.AnimationMixer._Action = n.AnimationAction._new, Object.assign(n.AnimationMixer.prototype, {
                _bindAction: function(t, e) {
                    var i = t._localRoot || this._root,
                        r = t._clip.tracks,
                        o = r.length,
                        a = t._propertyBindings,
                        s = t._interpolants,
                        l = i.uuid,
                        u = this._bindingsByRootAndName,
                        c = u[l];
                    void 0 === c && (c = {}, u[l] = c);
                    for (var h = 0; h !== o; ++h) {
                        var d = r[h],
                            p = d.name,
                            f = c[p];
                        if (void 0 !== f) a[h] = f;
                        else {
                            if (void 0 !== (f = a[h])) {
                                null === f._cacheIndex && (++f.referenceCount, this._addInactiveBinding(f, l, p));
                                continue
                            }
                            var m = e && e._propertyBindings[h].binding.parsedPath;
                            f = new n.PropertyMixer(n.PropertyBinding.create(i, p, m), d.ValueTypeName, d.getValueSize()), ++f.referenceCount, this._addInactiveBinding(f, l, p), a[h] = f
                        }
                        s[h].resultBuffer = f.buffer
                    }
                },
                _activateAction: function(t) {
                    if (!this._isActiveAction(t)) {
                        if (null === t._cacheIndex) {
                            var e = (t._localRoot || this._root).uuid,
                                i = t._clip.uuid,
                                n = this._actionsByClip[i];
                            this._bindAction(t, n && n.knownActions[0]), this._addInactiveAction(t, i, e)
                        }
                        for (var r = t._propertyBindings, o = 0, a = r.length; o !== a; ++o) {
                            var s = r[o];
                            0 == s.useCount++ && (this._lendBinding(s), s.saveOriginalState())
                        }
                        this._lendAction(t)
                    }
                },
                _deactivateAction: function(t) {
                    if (this._isActiveAction(t)) {
                        for (var e = t._propertyBindings, i = 0, n = e.length; i !== n; ++i) {
                            var r = e[i];
                            0 == --r.useCount && (r.restoreOriginalState(), this._takeBackBinding(r))
                        }
                        this._takeBackAction(t)
                    }
                },
                _initMemoryManager: function() {
                    this._actions = [], this._nActiveActions = 0, this._actionsByClip = {}, this._bindings = [], this._nActiveBindings = 0, this._bindingsByRootAndName = {}, this._controlInterpolants = [], this._nActiveControlInterpolants = 0;
                    var t = this;
                    this.stats = {
                        actions: {get total() {
                                return t._actions.length
                            },
                            get inUse() {
                                return t._nActiveActions
                            }
                        },
                        bindings: {get total() {
                                return t._bindings.length
                            },
                            get inUse() {
                                return t._nActiveBindings
                            }
                        },
                        controlInterpolants: {get total() {
                                return t._controlInterpolants.length
                            },
                            get inUse() {
                                return t._nActiveControlInterpolants
                            }
                        }
                    }
                },
                _isActiveAction: function(t) {
                    var e = t._cacheIndex;
                    return null !== e && e < this._nActiveActions
                },
                _addInactiveAction: function(t, e, i) {
                    var n = this._actions,
                        r = this._actionsByClip,
                        o = r[e];
                    if (void 0 === o) o = {
                        knownActions: [t],
                        actionByRoot: {}
                    }, t._byClipCacheIndex = 0, r[e] = o;
                    else {
                        var a = o.knownActions;
                        t._byClipCacheIndex = a.length, a.push(t)
                    }
                    t._cacheIndex = n.length, n.push(t), o.actionByRoot[i] = t
                },
                _removeInactiveAction: function(t) {
                    var e = this._actions,
                        i = e[e.length - 1],
                        n = t._cacheIndex;
                    i._cacheIndex = n, e[n] = i, e.pop(), t._cacheIndex = null;
                    var r = t._clip.uuid,
                        o = this._actionsByClip,
                        a = o[r],
                        s = a.knownActions,
                        l = s[s.length - 1],
                        u = t._byClipCacheIndex;
                    l._byClipCacheIndex = u, s[u] = l, s.pop(), t._byClipCacheIndex = null, delete a.actionByRoot[(e._localRoot || this._root).uuid], 0 === s.length && delete o[r], this._removeInactiveBindingsForAction(t)
                },
                _removeInactiveBindingsForAction: function(t) {
                    for (var e = t._propertyBindings, i = 0, n = e.length; i !== n; ++i) {
                        var r = e[i];
                        0 == --r.referenceCount && this._removeInactiveBinding(r)
                    }
                },
                _lendAction: function(t) {
                    var e = this._actions,
                        i = t._cacheIndex,
                        n = this._nActiveActions++,
                        r = e[n];
                    t._cacheIndex = n, e[n] = t, r._cacheIndex = i, e[i] = r
                },
                _takeBackAction: function(t) {
                    var e = this._actions,
                        i = t._cacheIndex,
                        n = --this._nActiveActions,
                        r = e[n];
                    t._cacheIndex = n, e[n] = t, r._cacheIndex = i, e[i] = r
                },
                _addInactiveBinding: function(t, e, i) {
                    var n = this._bindingsByRootAndName,
                        r = n[e],
                        o = this._bindings;
                    void 0 === r && (r = {}, n[e] = r), r[i] = t, t._cacheIndex = o.length, o.push(t)
                },
                _removeInactiveBinding: function(t) {
                    var e = this._bindings,
                        i = t.binding,
                        n = i.rootNode.uuid,
                        r = i.path,
                        o = this._bindingsByRootAndName,
                        a = o[n],
                        s = e[e.length - 1],
                        l = t._cacheIndex;
                    s._cacheIndex = l, e[l] = s, e.pop(), delete a[r];
                    t: {
                        for (var u in a) break t;
                        delete o[n]
                    }
                },
                _lendBinding: function(t) {
                    var e = this._bindings,
                        i = t._cacheIndex,
                        n = this._nActiveBindings++,
                        r = e[n];
                    t._cacheIndex = n, e[n] = t, r._cacheIndex = i, e[i] = r
                },
                _takeBackBinding: function(t) {
                    var e = this._bindings,
                        i = t._cacheIndex,
                        n = --this._nActiveBindings,
                        r = e[n];
                    t._cacheIndex = n, e[n] = t, r._cacheIndex = i, e[i] = r
                },
                _lendControlInterpolant: function() {
                    var t = this._controlInterpolants,
                        e = this._nActiveControlInterpolants++,
                        i = t[e];
                    return void 0 === i && (i = new n.LinearInterpolant(new Float32Array(2), new Float32Array(2), 1, this._controlInterpolantsResultBuffer), i.__cacheIndex = e, t[e] = i), i
                },
                _takeBackControlInterpolant: function(t) {
                    var e = this._controlInterpolants,
                        i = t.__cacheIndex,
                        n = --this._nActiveControlInterpolants,
                        r = e[n];
                    t.__cacheIndex = n, e[n] = t, r.__cacheIndex = i, e[i] = r
                },
                _controlInterpolantsResultBuffer: new Float32Array(1)
            }), n.AnimationObjectGroup = function(t) {
                this.uuid = n.Math.generateUUID(), this._objects = Array.prototype.slice.call(arguments), this.nCachedObjects_ = 0;
                var e = {};
                this._indicesByUUID = e;
                for (var i = 0, r = arguments.length; i !== r; ++i) e[arguments[i].uuid] = i;
                this._paths = [], this._parsedPaths = [], this._bindings = [], this._bindingsIndicesByPath = {};
                var o = this;
                this.stats = {
                    objects: {get total() {
                            return o._objects.length
                        },
                        get inUse() {
                            return this.total - o.nCachedObjects_
                        }
                    },
                    get bindingsPerObject() {
                        return o._bindings.length
                    }
                }
            }, n.AnimationObjectGroup.prototype = {
                constructor: n.AnimationObjectGroup,
                add: function(t) {
                    for (var e = this._objects, i = e.length, r = this.nCachedObjects_, o = this._indicesByUUID, a = this._paths, s = this._parsedPaths, l = this._bindings, u = l.length, c = 0, h = arguments.length; c !== h; ++c) {
                        var d = arguments[c],
                            p = d.uuid,
                            f = o[p];
                        if (void 0 === f) {
                            f = i++, o[p] = f, e.push(d);
                            for (var m = 0, g = u; m !== g; ++m) l[m].push(new n.PropertyBinding(d, a[m], s[m]))
                        } else if (f < r) {
                            var v = e[f],
                                y = --r,
                                _ = e[y];
                            o[_.uuid] = f, e[f] = _, o[p] = y, e[y] = d;
                            for (var m = 0, g = u; m !== g; ++m) {
                                var b = l[m],
                                    x = b[y],
                                    w = b[f];
                                b[f] = x, void 0 === w && (w = new n.PropertyBinding(d, a[m], s[m])), b[y] = w
                            }
                        } else e[f] !== v && console.error("Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes...")
                    }
                    this.nCachedObjects_ = r
                },
                remove: function(t) {
                    for (var e = this._objects, i = (e.length, this.nCachedObjects_), n = this._indicesByUUID, r = this._bindings, o = r.length, a = 0, s = arguments.length; a !== s; ++a) {
                        var l = arguments[a],
                            u = l.uuid,
                            c = n[u];
                        if (void 0 !== c && c >= i) {
                            var h = i++,
                                d = e[h];
                            n[d.uuid] = c, e[c] = d, n[u] = h, e[h] = l;
                            for (var p = 0, f = o; p !== f; ++p) {
                                var m = r[p],
                                    g = m[h],
                                    v = m[c];
                                m[c] = g, m[h] = v
                            }
                        }
                    }
                    this.nCachedObjects_ = i
                },
                uncache: function(t) {
                    for (var e = this._objects, i = e.length, n = this.nCachedObjects_, r = this._indicesByUUID, o = this._bindings, a = o.length, s = 0, l = arguments.length; s !== l; ++s) {
                        var u = arguments[s],
                            c = u.uuid,
                            h = r[c];
                        if (void 0 !== h)
                            if (delete r[c], h < n) {
                                var d = --n,
                                    p = e[d],
                                    f = --i,
                                    m = e[f];
                                r[p.uuid] = h, e[h] = p, r[m.uuid] = d, e[d] = m, e.pop();
                                for (var g = 0, v = a; g !== v; ++g) {
                                    var y = o[g],
                                        _ = y[d],
                                        b = y[f];
                                    y[h] = _, y[d] = b, y.pop()
                                }
                            } else {
                                var f = --i,
                                    m = e[f];
                                r[m.uuid] = h, e[h] = m, e.pop();
                                for (var g = 0, v = a; g !== v; ++g) {
                                    var y = o[g];
                                    y[h] = y[f], y.pop()
                                }
                            }
                    }
                    this.nCachedObjects_ = n
                },
                subscribe_: function(t, e) {
                    var i = this._bindingsIndicesByPath,
                        r = i[t],
                        o = this._bindings;
                    if (void 0 !== r) return o[r];
                    var a = this._paths,
                        s = this._parsedPaths,
                        l = this._objects,
                        u = l.length,
                        c = this.nCachedObjects_,
                        h = new Array(u);
                    r = o.length, i[t] = r, a.push(t), s.push(e), o.push(h);
                    for (var d = c, p = l.length; d !== p; ++d) {
                        var f = l[d];
                        h[d] = new n.PropertyBinding(f, t, e)
                    }
                    return h
                },
                unsubscribe_: function(t) {
                    var e = this._bindingsIndicesByPath,
                        i = e[t];
                    if (void 0 !== i) {
                        var n = this._paths,
                            r = this._parsedPaths,
                            o = this._bindings,
                            a = o.length - 1,
                            s = o[a];
                        e[t[a]] = i, o[i] = s, o.pop(), r[i] = r[a], r.pop(), n[i] = n[a], n.pop()
                    }
                }
            }, n.AnimationUtils = {
                arraySlice: function(t, e, i) {
                    return n.AnimationUtils.isTypedArray(t) ? new t.constructor(t.subarray(e, i)) : t.slice(e, i)
                },
                convertArray: function(t, e, i) {
                    return !t || !i && t.constructor === e ? t : "number" == typeof e.BYTES_PER_ELEMENT ? new e(t) : Array.prototype.slice.call(t)
                },
                isTypedArray: function(t) {
                    return ArrayBuffer.isView(t) && !(t instanceof DataView)
                },
                getKeyframeOrder: function(t) {
                    function e(e, i) {
                        return t[e] - t[i]
                    }
                    for (var i = t.length, n = new Array(i), r = 0; r !== i; ++r) n[r] = r;
                    return n.sort(e), n
                },
                sortedArray: function(t, e, i) {
                    for (var n = t.length, r = new t.constructor(n), o = 0, a = 0; a !== n; ++o)
                        for (var s = i[o] * e, l = 0; l !== e; ++l) r[a++] = t[s + l];
                    return r
                },
                flattenJSON: function(t, e, i, n) {
                    for (var r = 1, o = t[0]; void 0 !== o && void 0 === o[n];) o = t[r++];
                    if (void 0 !== o) {
                        var a = o[n];
                        if (void 0 !== a)
                            if (Array.isArray(a))
                                do {
                                    a = o[n], void 0 !== a && (e.push(o.time), i.push.apply(i, a)), o = t[r++]
                                } while (void 0 !== o);
                            else if (void 0 !== a.toArray)
                            do {
                                a = o[n], void 0 !== a && (e.push(o.time), a.toArray(i, i.length)), o = t[r++]
                            } while (void 0 !== o);
                        else
                            do {
                                a = o[n], void 0 !== a && (e.push(o.time), i.push(a)), o = t[r++]
                            } while (void 0 !== o)
                    }
                }
            }, n.KeyframeTrack = function(t, e, i, r) {
                if (void 0 === t) throw new Error("track name is undefined");
                if (void 0 === e || 0 === e.length) throw new Error("no keyframes in track named " + t);
                this.name = t, this.times = n.AnimationUtils.convertArray(e, this.TimeBufferType), this.values = n.AnimationUtils.convertArray(i, this.ValueBufferType), this.setInterpolation(r || this.DefaultInterpolation), this.validate(), this.optimize()
            }, n.KeyframeTrack.prototype = {
                constructor: n.KeyframeTrack,
                TimeBufferType: Float32Array,
                ValueBufferType: Float32Array,
                DefaultInterpolation: n.InterpolateLinear,
                InterpolantFactoryMethodDiscrete: function(t) {
                    return new n.DiscreteInterpolant(this.times, this.values, this.getValueSize(), t)
                },
                InterpolantFactoryMethodLinear: function(t) {
                    return new n.LinearInterpolant(this.times, this.values, this.getValueSize(), t)
                },
                InterpolantFactoryMethodSmooth: function(t) {
                    return new n.CubicInterpolant(this.times, this.values, this.getValueSize(), t)
                },
                setInterpolation: function(t) {
                    var e;
                    switch (t) {
                        case n.InterpolateDiscrete:
                            e = this.InterpolantFactoryMethodDiscrete;
                            break;
                        case n.InterpolateLinear:
                            e = this.InterpolantFactoryMethodLinear;
                            break;
                        case n.InterpolateSmooth:
                            e = this.InterpolantFactoryMethodSmooth
                    }
                    if (void 0 === e) {
                        var i = "unsupported interpolation for " + this.ValueTypeName + " keyframe track named " + this.name;
                        if (void 0 === this.createInterpolant) {
                            if (t === this.DefaultInterpolation) throw new Error(i);
                            this.setInterpolation(this.DefaultInterpolation)
                        }
                        return void console.warn(i)
                    }
                    this.createInterpolant = e
                },
                getInterpolation: function() {
                    switch (this.createInterpolant) {
                        case this.InterpolantFactoryMethodDiscrete:
                            return n.InterpolateDiscrete;
                        case this.InterpolantFactoryMethodLinear:
                            return n.InterpolateLinear;
                        case this.InterpolantFactoryMethodSmooth:
                            return n.InterpolateSmooth
                    }
                },
                getValueSize: function() {
                    return this.values.length / this.times.length
                },
                shift: function(t) {
                    if (0 !== t)
                        for (var e = this.times, i = 0, n = e.length; i !== n; ++i) e[i] += t;
                    return this
                },
                scale: function(t) {
                    if (1 !== t)
                        for (var e = this.times, i = 0, n = e.length; i !== n; ++i) e[i] *= t;
                    return this
                },
                trim: function(t, e) {
                    for (var i = this.times, r = i.length, o = 0, a = r - 1; o !== r && i[o] < t;) ++o;
                    for (; a !== -1 && i[a] > e;) --a;
                    if (++a, 0 !== o || a !== r) {
                        o >= a && (a = Math.max(a, 1), o = a - 1);
                        var s = this.getValueSize();
                        this.times = n.AnimationUtils.arraySlice(i, o, a), this.values = n.AnimationUtils.arraySlice(this.values, o * s, a * s)
                    }
                    return this
                },
                validate: function() {
                    var t = !0,
                        e = this.getValueSize();
                    e - Math.floor(e) != 0 && (console.error("invalid value size in track", this), t = !1);
                    var i = this.times,
                        r = this.values,
                        o = i.length;
                    0 === o && (console.error("track is empty", this), t = !1);
                    for (var a = null, s = 0; s !== o; s++) {
                        var l = i[s];
                        if ("number" == typeof l && isNaN(l)) {
                            console.error("time is not a valid number", this, s, l), t = !1;
                            break
                        }
                        if (null !== a && a > l) {
                            console.error("out of order keys", this, s, l, a), t = !1;
                            break
                        }
                        a = l
                    }
                    if (void 0 !== r && n.AnimationUtils.isTypedArray(r))
                        for (var s = 0, u = r.length; s !== u; ++s) {
                            var c = r[s];
                            if (isNaN(c)) {
                                console.error("value is not a valid number", this, s, c), t = !1;
                                break
                            }
                        }
                    return t
                },
                optimize: function() {
                    for (var t = this.times, e = this.values, i = this.getValueSize(), r = 1, o = 1, a = t.length - 1; o <= a; ++o) {
                        var s = !1,
                            l = t[o];
                        if (l !== t[o + 1] && (1 !== o || l !== l[0]))
                            for (var u = o * i, c = u - i, h = u + i, d = 0; d !== i; ++d) {
                                var p = e[u + d];
                                if (p !== e[c + d] || p !== e[h + d]) {
                                    s = !0;
                                    break
                                }
                            }
                        if (s) {
                            if (o !== r) {
                                t[r] = t[o];
                                for (var f = o * i, m = r * i, d = 0; d !== i; ++d) e[m + d] = e[f + d]
                            }++r
                        }
                    }
                    return r !== t.length && (this.times = n.AnimationUtils.arraySlice(t, 0, r), this.values = n.AnimationUtils.arraySlice(e, 0, r * i)), this
                }
            }, Object.assign(n.KeyframeTrack, {
                parse: function(t) {
                    if (void 0 === t.type) throw new Error("track type undefined, can not parse");
                    var e = n.KeyframeTrack._getTrackTypeForValueTypeName(t.type);
                    if (void 0 === t.times) {
                        var i = [],
                            r = [];
                        n.AnimationUtils.flattenJSON(t.keys, i, r, "value"), t.times = i, t.values = r
                    }
                    return void 0 !== e.parse ? e.parse(t) : new e(t.name, t.times, t.values, t.interpolation)
                },
                toJSON: function(t) {
                    var e, i = t.constructor;
                    if (void 0 !== i.toJSON) e = i.toJSON(t);
                    else {
                        e = {
                            name: t.name,
                            times: n.AnimationUtils.convertArray(t.times, Array),
                            values: n.AnimationUtils.convertArray(t.values, Array)
                        };
                        var r = t.getInterpolation();
                        r !== t.DefaultInterpolation && (e.interpolation = r)
                    }
                    return e.type = t.ValueTypeName, e
                },
                _getTrackTypeForValueTypeName: function(t) {
                    switch (t.toLowerCase()) {
                        case "scalar":
                        case "double":
                        case "float":
                        case "number":
                        case "integer":
                            return n.NumberKeyframeTrack;
                        case "vector":
                        case "vector2":
                        case "vector3":
                        case "vector4":
                            return n.VectorKeyframeTrack;
                        case "color":
                            return n.ColorKeyframeTrack;
                        case "quaternion":
                            return n.QuaternionKeyframeTrack;
                        case "bool":
                        case "boolean":
                            return n.BooleanKeyframeTrack;
                        case "string":
                            return n.StringKeyframeTrack
                    }
                    throw new Error("Unsupported typeName: " + t)
                }
            }), n.PropertyBinding = function(t, e, i) {
                this.path = e, this.parsedPath = i || n.PropertyBinding.parseTrackName(e), this.node = n.PropertyBinding.findNode(t, this.parsedPath.nodeName) || t, this.rootNode = t
            }, n.PropertyBinding.prototype = {
                constructor: n.PropertyBinding,
                getValue: function(t, e) {
                    this.bind(), this.getValue(t, e)
                },
                setValue: function(t, e) {
                    this.bind(), this.setValue(t, e)
                },
                bind: function() {
                    var t = this.node,
                        e = this.parsedPath,
                        i = e.objectName,
                        r = e.propertyName,
                        o = e.propertyIndex;
                    if (t || (t = n.PropertyBinding.findNode(this.rootNode, e.nodeName) || this.rootNode, this.node = t), this.getValue = this._getValue_unavailable, this.setValue = this._setValue_unavailable, !t) return void console.error("  trying to update node for track: " + this.path + " but it wasn't found.");
                    if (i) {
                        var a = e.objectIndex;
                        switch (i) {
                            case "materials":
                                if (!t.material) return void console.error("  can not bind to material as node does not have a material", this);
                                if (!t.material.materials) return void console.error("  can not bind to material.materials as node.material does not have a materials array", this);
                                t = t.material.materials;
                                break;
                            case "bones":
                                if (!t.skeleton) return void console.error("  can not bind to bones as node does not have a skeleton", this);
                                t = t.skeleton.bones;
                                for (var s = 0; s < t.length; s++)
                                    if (t[s].name === a) {
                                        a = s;
                                        break
                                    }
                                break;
                            default:
                                if (void 0 === t[i]) return void console.error("  can not bind to objectName of node, undefined", this);
                                t = t[i]
                        }
                        if (void 0 !== a) {
                            if (void 0 === t[a]) return void console.error("  trying to bind to objectIndex of objectName, but is undefined:", this, t);
                            t = t[a]
                        }
                    }
                    var l = t[r];
                    if (!l) {
                        var u = e.nodeName;
                        return void console.error("  trying to update property for track: " + u + "." + r + " but it wasn't found.", t)
                    }
                    var c = this.Versioning.None;
                    void 0 !== t.needsUpdate ? (c = this.Versioning.NeedsUpdate, this.targetObject = t) : void 0 !== t.matrixWorldNeedsUpdate && (c = this.Versioning.MatrixWorldNeedsUpdate, this.targetObject = t);
                    var h = this.BindingType.Direct;
                    if (void 0 !== o) {
                        if ("morphTargetInfluences" === r) {
                            if (!t.geometry) return void console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry", this);
                            if (!t.geometry.morphTargets) return void console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry.morphTargets", this);
                            for (var s = 0; s < this.node.geometry.morphTargets.length; s++)
                                if (t.geometry.morphTargets[s].name === o) {
                                    o = s;
                                    break
                                }
                        }
                        h = this.BindingType.ArrayElement, this.resolvedProperty = l, this.propertyIndex = o
                    } else void 0 !== l.fromArray && void 0 !== l.toArray ? (h = this.BindingType.HasFromToArray, this.resolvedProperty = l) : void 0 !== l.length ? (h = this.BindingType.EntireArray, this.resolvedProperty = l) : this.propertyName = r;
                    this.getValue = this.GetterByBindingType[h], this.setValue = this.SetterByBindingTypeAndVersioning[h][c]
                },
                unbind: function() {
                    this.node = null, this.getValue = this._getValue_unbound, this.setValue = this._setValue_unbound
                }
            }, Object.assign(n.PropertyBinding.prototype, {
                _getValue_unavailable: function() {},
                _setValue_unavailable: function() {},
                _getValue_unbound: n.PropertyBinding.prototype.getValue,
                _setValue_unbound: n.PropertyBinding.prototype.setValue,
                BindingType: {
                    Direct: 0,
                    EntireArray: 1,
                    ArrayElement: 2,
                    HasFromToArray: 3
                },
                Versioning: {
                    None: 0,
                    NeedsUpdate: 1,
                    MatrixWorldNeedsUpdate: 2
                },
                GetterByBindingType: [function(t, e) {
                    t[e] = this.node[this.propertyName]
                }, function(t, e) {
                    for (var i = this.resolvedProperty, n = 0, r = i.length; n !== r; ++n) t[e++] = i[n]
                }, function(t, e) {
                    t[e] = this.resolvedProperty[this.propertyIndex]
                }, function(t, e) {
                    this.resolvedProperty.toArray(t, e)
                }],
                SetterByBindingTypeAndVersioning: [
                    [function(t, e) {
                        this.node[this.propertyName] = t[e]
                    }, function(t, e) {
                        this.node[this.propertyName] = t[e], this.targetObject.needsUpdate = !0
                    }, function(t, e) {
                        this.node[this.propertyName] = t[e], this.targetObject.matrixWorldNeedsUpdate = !0
                    }],
                    [function(t, e) {
                        for (var i = this.resolvedProperty, n = 0, r = i.length; n !== r; ++n) i[n] = t[e++]
                    }, function(t, e) {
                        for (var i = this.resolvedProperty, n = 0, r = i.length; n !== r; ++n) i[n] = t[e++];
                        this.targetObject.needsUpdate = !0
                    }, function(t, e) {
                        for (var i = this.resolvedProperty, n = 0, r = i.length; n !== r; ++n) i[n] = t[e++];
                        this.targetObject.matrixWorldNeedsUpdate = !0
                    }],
                    [function(t, e) {
                        this.resolvedProperty[this.propertyIndex] = t[e]
                    }, function(t, e) {
                        this.resolvedProperty[this.propertyIndex] = t[e], this.targetObject.needsUpdate = !0
                    }, function(t, e) {
                        this.resolvedProperty[this.propertyIndex] = t[e], this.targetObject.matrixWorldNeedsUpdate = !0
                    }],
                    [function(t, e) {
                        this.resolvedProperty.fromArray(t, e)
                    }, function(t, e) {
                        this.resolvedProperty.fromArray(t, e), this.targetObject.needsUpdate = !0
                    }, function(t, e) {
                        this.resolvedProperty.fromArray(t, e), this.targetObject.matrixWorldNeedsUpdate = !0
                    }]
                ]
            }), n.PropertyBinding.Composite = function(t, e, i) {
                var r = i || n.PropertyBinding.parseTrackName(e);
                this._targetGroup = t, this._bindings = t.subscribe_(e, r)
            }, n.PropertyBinding.Composite.prototype = {
                constructor: n.PropertyBinding.Composite,
                getValue: function(t, e) {
                    this.bind();
                    var i = this._targetGroup.nCachedObjects_,
                        n = this._bindings[i];
                    void 0 !== n && n.getValue(t, e)
                },
                setValue: function(t, e) {
                    for (var i = this._bindings, n = this._targetGroup.nCachedObjects_, r = i.length; n !== r; ++n) i[n].setValue(t, e)
                },
                bind: function() {
                    for (var t = this._bindings, e = this._targetGroup.nCachedObjects_, i = t.length; e !== i; ++e) t[e].bind()
                },
                unbind: function() {
                    for (var t = this._bindings, e = this._targetGroup.nCachedObjects_, i = t.length; e !== i; ++e) t[e].unbind()
                }
            }, n.PropertyBinding.create = function(t, e, i) {
                return t instanceof n.AnimationObjectGroup ? new n.PropertyBinding.Composite(t, e, i) : new n.PropertyBinding(t, e, i)
            }, n.PropertyBinding.parseTrackName = function(t) {
                var e = /^(([\w]+\/)*)([\w-\d]+)?(\.([\w]+)(\[([\w\d\[\]\_.:\- ]+)\])?)?(\.([\w.]+)(\[([\w\d\[\]\_. ]+)\])?)$/,
                    i = e.exec(t);
                if (!i) throw new Error("cannot parse trackName at all: " + t);
                i.index === e.lastIndex && e.lastIndex++;
                var n = {
                    nodeName: i[3],
                    objectName: i[5],
                    objectIndex: i[7],
                    propertyName: i[9],
                    propertyIndex: i[11]
                };
                if (null === n.propertyName || 0 === n.propertyName.length) throw new Error("can not parse propertyName from trackName: " + t);
                return n
            }, n.PropertyBinding.findNode = function(t, e) {
                if (!e || "" === e || "root" === e || "." === e || e === -1 || e === t.name || e === t.uuid) return t;
                if (t.skeleton) {
                    var i = function(t) {
                        for (var i = 0; i < t.bones.length; i++) {
                            var n = t.bones[i];
                            if (n.name === e) return n
                        }
                        return null
                    }(t.skeleton);
                    if (i) return i
                }
                if (t.children) {
                    var n = function(t) {
                            for (var i = 0; i < t.length; i++) {
                                var r = t[i];
                                if (r.name === e || r.uuid === e) return r;
                                var o = n(r.children);
                                if (o) return o
                            }
                            return null
                        },
                        r = n(t.children);
                    if (r) return r
                }
                return null
            }, n.PropertyMixer = function(t, e, i) {
                this.binding = t, this.valueSize = i;
                var n, r = Float64Array;
                switch (e) {
                    case "quaternion":
                        n = this._slerp;
                        break;
                    case "string":
                    case "bool":
                        r = Array, n = this._select;
                        break;
                    default:
                        n = this._lerp
                }
                this.buffer = new r(4 * i), this._mixBufferRegion = n, this.cumulativeWeight = 0, this.useCount = 0, this.referenceCount = 0
            }, n.PropertyMixer.prototype = {
                constructor: n.PropertyMixer,
                accumulate: function(t, e) {
                    var i = this.buffer,
                        n = this.valueSize,
                        r = t * n + n,
                        o = this.cumulativeWeight;
                    if (0 === o) {
                        for (var a = 0; a !== n; ++a) i[r + a] = i[a];
                        o = e
                    } else {
                        o += e;
                        var s = e / o;
                        this._mixBufferRegion(i, r, 0, s, n)
                    }
                    this.cumulativeWeight = o
                },
                apply: function(t) {
                    var e = this.valueSize,
                        i = this.buffer,
                        n = t * e + e,
                        r = this.cumulativeWeight,
                        o = this.binding;
                    if (this.cumulativeWeight = 0, r < 1) {
                        var a = 3 * e;
                        this._mixBufferRegion(i, n, a, 1 - r, e)
                    }
                    for (var s = e, l = e + e; s !== l; ++s)
                        if (i[s] !== i[s + e]) {
                            o.setValue(i, n);
                            break
                        }
                },
                saveOriginalState: function() {
                    var t = this.binding,
                        e = this.buffer,
                        i = this.valueSize,
                        n = 3 * i;
                    t.getValue(e, n);
                    for (var r = i, o = n; r !== o; ++r) e[r] = e[n + r % i];
                    this.cumulativeWeight = 0
                },
                restoreOriginalState: function() {
                    var t = 3 * this.valueSize;
                    this.binding.setValue(this.buffer, t)
                },
                _select: function(t, e, i, n, r) {
                    if (n >= .5)
                        for (var o = 0; o !== r; ++o) t[e + o] = t[i + o]
                },
                _slerp: function(t, e, i, r, o) {
                    n.Quaternion.slerpFlat(t, e, t, e, t, i, r)
                },
                _lerp: function(t, e, i, n, r) {
                    for (var o = 1 - n, a = 0; a !== r; ++a) {
                        var s = e + a;
                        t[s] = t[s] * o + t[i + a] * n
                    }
                }
            }, n.BooleanKeyframeTrack = function(t, e, i) {
                n.KeyframeTrack.call(this, t, e, i)
            }, n.BooleanKeyframeTrack.prototype = Object.assign(Object.create(n.KeyframeTrack.prototype), {
                constructor: n.BooleanKeyframeTrack,
                ValueTypeName: "bool",
                ValueBufferType: Array,
                DefaultInterpolation: n.InterpolateDiscrete,
                InterpolantFactoryMethodLinear: void 0,
                InterpolantFactoryMethodSmooth: void 0
            }), n.ColorKeyframeTrack = function(t, e, i, r) {
                n.KeyframeTrack.call(this, t, e, i, r)
            }, n.ColorKeyframeTrack.prototype = Object.assign(Object.create(n.KeyframeTrack.prototype), {
                constructor: n.ColorKeyframeTrack,
                ValueTypeName: "color"
            }), n.NumberKeyframeTrack = function(t, e, i, r) {
                n.KeyframeTrack.call(this, t, e, i, r)
            }, n.NumberKeyframeTrack.prototype = Object.assign(Object.create(n.KeyframeTrack.prototype), {
                constructor: n.NumberKeyframeTrack,
                ValueTypeName: "number"
            }), n.QuaternionKeyframeTrack = function(t, e, i, r) {
                n.KeyframeTrack.call(this, t, e, i, r)
            }, n.QuaternionKeyframeTrack.prototype = Object.assign(Object.create(n.KeyframeTrack.prototype), {
                constructor: n.QuaternionKeyframeTrack,
                ValueTypeName: "quaternion",
                DefaultInterpolation: n.InterpolateLinear,
                InterpolantFactoryMethodLinear: function(t) {
                    return new n.QuaternionLinearInterpolant(this.times, this.values, this.getValueSize(), t)
                },
                InterpolantFactoryMethodSmooth: void 0
            }), n.StringKeyframeTrack = function(t, e, i, r) {
                n.KeyframeTrack.call(this, t, e, i, r)
            }, n.StringKeyframeTrack.prototype = Object.assign(Object.create(n.KeyframeTrack.prototype), {
                constructor: n.StringKeyframeTrack,
                ValueTypeName: "string",
                ValueBufferType: Array,
                DefaultInterpolation: n.InterpolateDiscrete,
                InterpolantFactoryMethodLinear: void 0,
                InterpolantFactoryMethodSmooth: void 0
            }), n.VectorKeyframeTrack = function(t, e, i, r) {
                n.KeyframeTrack.call(this, t, e, i, r)
            }, n.VectorKeyframeTrack.prototype = Object.assign(Object.create(n.KeyframeTrack.prototype), {
                constructor: n.VectorKeyframeTrack,
                ValueTypeName: "vector"
            }), n.Audio = function(t) {
                n.Object3D.call(this), this.type = "Audio", this.context = t.context, this.source = this.context.createBufferSource(), this.source.onended = this.onEnded.bind(this), this.gain = this.context.createGain(), this.gain.connect(t.getInput()), this.autoplay = !1, this.startTime = 0, this.playbackRate = 1, this.isPlaying = !1, this.hasPlaybackControl = !0, this.sourceType = "empty", this.filters = []
            }, n.Audio.prototype = Object.assign(Object.create(n.Object3D.prototype), {
                constructor: n.Audio,
                getOutput: function() {
                    return this.gain
                },
                setNodeSource: function(t) {
                    return this.hasPlaybackControl = !1, this.sourceType = "audioNode", this.source = t, this.connect(), this
                },
                setBuffer: function(t) {
                    return this.source.buffer = t, this.sourceType = "buffer", this.autoplay && this.play(), this
                },
                play: function() {
                    if (this.isPlaying === !0) return void console.warn("THREE.Audio: Audio is already playing.");
                    if (this.hasPlaybackControl === !1) return void console.warn("THREE.Audio: this Audio has no playback control.");
                    var t = this.context.createBufferSource();
                    return t.buffer = this.source.buffer, t.loop = this.source.loop, t.onended = this.source.onended, t.start(0, this.startTime), t.playbackRate.value = this.playbackRate, this.isPlaying = !0, this.source = t, this.connect()
                },
                pause: function() {
                    return this.hasPlaybackControl === !1 ? void console.warn("THREE.Audio: this Audio has no playback control.") : (this.source.stop(), this.startTime = this.context.currentTime, this)
                },
                stop: function() {
                    return this.hasPlaybackControl === !1 ? void console.warn("THREE.Audio: this Audio has no playback control.") : (this.source.stop(), this.startTime = 0, this)
                },
                connect: function() {
                    if (this.filters.length > 0) {
                        this.source.connect(this.filters[0]);
                        for (var t = 1, e = this.filters.length; t < e; t++) this.filters[t - 1].connect(this.filters[t]);
                        this.filters[this.filters.length - 1].connect(this.getOutput())
                    } else this.source.connect(this.getOutput());
                    return this
                },
                disconnect: function() {
                    if (this.filters.length > 0) {
                        this.source.disconnect(this.filters[0]);
                        for (var t = 1, e = this.filters.length; t < e; t++) this.filters[t - 1].disconnect(this.filters[t]);
                        this.filters[this.filters.length - 1].disconnect(this.getOutput())
                    } else this.source.disconnect(this.getOutput());
                    return this
                },
                getFilters: function() {
                    return this.filters
                },
                setFilters: function(t) {
                    return t || (t = []), this.isPlaying === !0 ? (this.disconnect(), this.filters = t, this.connect()) : this.filters = t, this
                },
                getFilter: function() {
                    return this.getFilters()[0]
                },
                setFilter: function(t) {
                    return this.setFilters(t ? [t] : [])
                },
                setPlaybackRate: function(t) {
                    return this.hasPlaybackControl === !1 ? void console.warn("THREE.Audio: this Audio has no playback control.") : (this.playbackRate = t, this.isPlaying === !0 && (this.source.playbackRate.value = this.playbackRate), this)
                },
                getPlaybackRate: function() {
                    return this.playbackRate
                },
                onEnded: function() {
                    this.isPlaying = !1
                },
                getLoop: function() {
                    return this.hasPlaybackControl === !1 ? (console.warn("THREE.Audio: this Audio has no playback control."), !1) : this.source.loop
                },
                setLoop: function(t) {
                    if (this.hasPlaybackControl === !1) return void console.warn("THREE.Audio: this Audio has no playback control.");
                    this.source.loop = t
                },
                getVolume: function() {
                    return this.gain.gain.value
                },
                setVolume: function(t) {
                    return this.gain.gain.value = t, this
                }
            }), n.AudioAnalyser = function(t, e) {
                this.analyser = t.context.createAnalyser(), this.analyser.fftSize = void 0 !== e ? e : 2048, this.data = new Uint8Array(this.analyser.frequencyBinCount), t.getOutput().connect(this.analyser)
            }, Object.assign(n.AudioAnalyser.prototype, {
                getFrequencyData: function() {
                    return this.analyser.getByteFrequencyData(this.data), this.data
                },
                getAverageFrequency: function() {
                    for (var t = 0, e = this.getFrequencyData(), i = 0; i < e.length; i++) t += e[i];
                    return t / e.length
                }
            }), Object.defineProperty(n, "AudioContext", {
                get: function() {
                    var t;
                    return function() {
                        return void 0 === t && (t = new(window.AudioContext || window.webkitAudioContext)), t
                    }
                }()
            }), n.PositionalAudio = function(t) {
                n.Audio.call(this, t), this.panner = this.context.createPanner(), this.panner.connect(this.gain)
            }, n.PositionalAudio.prototype = Object.assign(Object.create(n.Audio.prototype), {
                constructor: n.PositionalAudio,
                getOutput: function() {
                    return this.panner
                },
                getRefDistance: function() {
                    return this.panner.refDistance
                },
                setRefDistance: function(t) {
                    this.panner.refDistance = t
                },
                getRolloffFactor: function() {
                    return this.panner.rolloffFactor
                },
                setRolloffFactor: function(t) {
                    this.panner.rolloffFactor = t
                },
                getDistanceModel: function() {
                    return this.panner.distanceModel
                },
                setDistanceModel: function(t) {
                    this.panner.distanceModel = t
                },
                getMaxDistance: function() {
                    return this.panner.maxDistance
                },
                setMaxDistance: function(t) {
                    this.panner.maxDistance = t
                },
                updateMatrixWorld: function() {
                    var t = new n.Vector3;
                    return function(e) {
                        n.Object3D.prototype.updateMatrixWorld.call(this, e), t.setFromMatrixPosition(this.matrixWorld), this.panner.setPosition(t.x, t.y, t.z)
                    }
                }()
            }), n.AudioListener = function() {
                n.Object3D.call(this), this.type = "AudioListener", this.context = n.AudioContext, this.gain = this.context.createGain(), this.gain.connect(this.context.destination), this.filter = null
            }, n.AudioListener.prototype = Object.assign(Object.create(n.Object3D.prototype), {
                constructor: n.AudioListener,
                getInput: function() {
                    return this.gain
                },
                removeFilter: function() {
                    null !== this.filter && (this.gain.disconnect(this.filter), this.filter.disconnect(this.context.destination), this.gain.connect(this.context.destination), this.filter = null)
                },
                getFilter: function() {
                    return this.filter
                },
                setFilter: function(t) {
                    null !== this.filter ? (this.gain.disconnect(this.filter), this.filter.disconnect(this.context.destination)) : this.gain.disconnect(this.context.destination), this.filter = t, this.gain.connect(this.filter), this.filter.connect(this.context.destination)
                },
                getMasterVolume: function() {
                    return this.gain.gain.value
                },
                setMasterVolume: function(t) {
                    this.gain.gain.value = t
                },
                updateMatrixWorld: function() {
                    var t = new n.Vector3,
                        e = new n.Quaternion,
                        i = new n.Vector3,
                        r = new n.Vector3;
                    return function(o) {
                        n.Object3D.prototype.updateMatrixWorld.call(this, o);
                        var a = this.context.listener,
                            s = this.up;
                        this.matrixWorld.decompose(t, e, i), r.set(0, 0, -1).applyQuaternion(e), a.setPosition(t.x, t.y, t.z), a.setOrientation(r.x, r.y, r.z, s.x, s.y, s.z)
                    }
                }()
            }), n.Camera = function() {
                n.Object3D.call(this), this.type = "Camera", this.matrixWorldInverse = new n.Matrix4, this.projectionMatrix = new n.Matrix4
            }, n.Camera.prototype = Object.create(n.Object3D.prototype), n.Camera.prototype.constructor = n.Camera, n.Camera.prototype.getWorldDirection = function() {
                var t = new n.Quaternion;
                return function(e) {
                    var i = e || new n.Vector3;
                    return this.getWorldQuaternion(t), i.set(0, 0, -1).applyQuaternion(t)
                }
            }(), n.Camera.prototype.lookAt = function() {
                var t = new n.Matrix4;
                return function(e) {
                    t.lookAt(this.position, e, this.up), this.quaternion.setFromRotationMatrix(t)
                }
            }(), n.Camera.prototype.clone = function() {
                return (new this.constructor).copy(this)
            }, n.Camera.prototype.copy = function(t) {
                return n.Object3D.prototype.copy.call(this, t), this.matrixWorldInverse.copy(t.matrixWorldInverse), this.projectionMatrix.copy(t.projectionMatrix), this
            }, n.CubeCamera = function(t, e, i) {
                n.Object3D.call(this), this.type = "CubeCamera";
                var r = new n.PerspectiveCamera(90, 1, t, e);
                r.up.set(0, -1, 0), r.lookAt(new n.Vector3(1, 0, 0)), this.add(r);
                var o = new n.PerspectiveCamera(90, 1, t, e);
                o.up.set(0, -1, 0), o.lookAt(new n.Vector3(-1, 0, 0)), this.add(o);
                var a = new n.PerspectiveCamera(90, 1, t, e);
                a.up.set(0, 0, 1), a.lookAt(new n.Vector3(0, 1, 0)), this.add(a);
                var s = new n.PerspectiveCamera(90, 1, t, e);
                s.up.set(0, 0, -1), s.lookAt(new n.Vector3(0, -1, 0)), this.add(s);
                var l = new n.PerspectiveCamera(90, 1, t, e);
                l.up.set(0, -1, 0), l.lookAt(new n.Vector3(0, 0, 1)), this.add(l);
                var u = new n.PerspectiveCamera(90, 1, t, e);
                u.up.set(0, -1, 0), u.lookAt(new n.Vector3(0, 0, -1)), this.add(u);
                var c = {
                    format: n.RGBFormat,
                    magFilter: n.LinearFilter,
                    minFilter: n.LinearFilter
                };
                this.renderTarget = new n.WebGLRenderTargetCube(i, i, c), this.updateCubeMap = function(t, e) {
                    null === this.parent && this.updateMatrixWorld();
                    var i = this.renderTarget,
                        n = i.texture.generateMipmaps;
                    i.texture.generateMipmaps = !1, i.activeCubeFace = 0, t.render(e, r, i), i.activeCubeFace = 1, t.render(e, o, i), i.activeCubeFace = 2, t.render(e, a, i), i.activeCubeFace = 3, t.render(e, s, i), i.activeCubeFace = 4, t.render(e, l, i), i.texture.generateMipmaps = n, i.activeCubeFace = 5, t.render(e, u, i), t.setRenderTarget(null)
                }
            }, n.CubeCamera.prototype = Object.create(n.Object3D.prototype), n.CubeCamera.prototype.constructor = n.CubeCamera, n.OrthographicCamera = function(t, e, i, r, o, a) {
                n.Camera.call(this), this.type = "OrthographicCamera", this.zoom = 1, this.left = t, this.right = e, this.top = i, this.bottom = r, this.near = void 0 !== o ? o : .1, this.far = void 0 !== a ? a : 2e3, this.updateProjectionMatrix()
            }, n.OrthographicCamera.prototype = Object.assign(Object.create(n.Camera.prototype), {
                constructor: n.OrthographicCamera,
                copy: function(t) {
                    return n.Camera.prototype.copy.call(this, t), this.left = t.left, this.right = t.right, this.top = t.top, this.bottom = t.bottom, this.near = t.near, this.far = t.far, this.zoom = t.zoom, this
                },
                updateProjectionMatrix: function() {
                    var t = (this.right - this.left) / (2 * this.zoom),
                        e = (this.top - this.bottom) / (2 * this.zoom),
                        i = (this.right + this.left) / 2,
                        n = (this.top + this.bottom) / 2;
                    this.projectionMatrix.makeOrthographic(i - t, i + t, n + e, n - e, this.near, this.far)
                },
                toJSON: function(t) {
                    var e = n.Object3D.prototype.toJSON.call(this, t);
                    return e.object.zoom = this.zoom, e.object.left = this.left, e.object.right = this.right, e.object.top = this.top, e.object.bottom = this.bottom, e.object.near = this.near, e.object.far = this.far, e
                }
            }), n.PerspectiveCamera = function(t, e, i, r) {
                n.Camera.call(this), this.type = "PerspectiveCamera", this.fov = void 0 !== t ? t : 50, this.zoom = 1, this.near = void 0 !== i ? i : .1, this.far = void 0 !== r ? r : 2e3, this.focus = 10, this.aspect = void 0 !== e ? e : 1, this.view = null, this.filmGauge = 35, this.filmOffset = 0, this.updateProjectionMatrix()
            }, n.PerspectiveCamera.prototype = Object.assign(Object.create(n.Camera.prototype), {
                constructor: n.PerspectiveCamera,
                copy: function(t) {
                    return n.Camera.prototype.copy.call(this, t), this.fov = t.fov, this.zoom = t.zoom, this.near = t.near, this.far = t.far, this.focus = t.focus, this.aspect = t.aspect, this.view = null === t.view ? null : Object.assign({}, t.view), this.filmGauge = t.filmGauge, this.filmOffset = t.filmOffset, this
                },
                setFocalLength: function(t) {
                    var e = .5 * this.getFilmHeight() / t;
                    this.fov = 2 * n.Math.RAD2DEG * Math.atan(e), this.updateProjectionMatrix()
                },
                getFocalLength: function() {
                    var t = Math.tan(.5 * n.Math.DEG2RAD * this.fov);
                    return .5 * this.getFilmHeight() / t
                },
                getEffectiveFOV: function() {
                    return 2 * n.Math.RAD2DEG * Math.atan(Math.tan(.5 * n.Math.DEG2RAD * this.fov) / this.zoom)
                },
                getFilmWidth: function() {
                    return this.filmGauge * Math.min(this.aspect, 1)
                },
                getFilmHeight: function() {
                    return this.filmGauge / Math.max(this.aspect, 1)
                },
                setViewOffset: function(t, e, i, n, r, o) {
                    this.aspect = t / e, this.view = {
                        fullWidth: t,
                        fullHeight: e,
                        offsetX: i,
                        offsetY: n,
                        width: r,
                        height: o
                    }, this.updateProjectionMatrix()
                },
                clearViewOffset: function() {
                    this.view = null, this.updateProjectionMatrix()
                },
                updateProjectionMatrix: function() {
                    var t = this.near,
                        e = t * Math.tan(.5 * n.Math.DEG2RAD * this.fov) / this.zoom,
                        i = 2 * e,
                        r = this.aspect * i,
                        o = -.5 * r,
                        a = this.view;
                    if (null !== a) {
                        var s = a.fullWidth,
                            l = a.fullHeight;
                        o += a.offsetX * r / s, e -= a.offsetY * i / l, r *= a.width / s, i *= a.height / l
                    }
                    var u = this.filmOffset;
                    0 !== u && (o += t * u / this.getFilmWidth()), this.projectionMatrix.makeFrustum(o, o + r, e - i, e, t, this.far)
                },
                toJSON: function(t) {
                    var e = n.Object3D.prototype.toJSON.call(this, t);
                    return e.object.fov = this.fov, e.object.zoom = this.zoom, e.object.near = this.near, e.object.far = this.far, e.object.focus = this.focus, e.object.aspect = this.aspect, null !== this.view && (e.object.view = Object.assign({}, this.view)), e.object.filmGauge = this.filmGauge, e.object.filmOffset = this.filmOffset, e
                }
            }), n.StereoCamera = function() {
                this.type = "StereoCamera", this.aspect = 1, this.cameraL = new n.PerspectiveCamera, this.cameraL.layers.enable(1), this.cameraL.matrixAutoUpdate = !1, this.cameraR = new n.PerspectiveCamera, this.cameraR.layers.enable(2), this.cameraR.matrixAutoUpdate = !1
            }, Object.assign(n.StereoCamera.prototype, {
                update: function() {
                    var t, e, i, r, o, a = new n.Matrix4,
                        s = new n.Matrix4;
                    return function(l) {
                        if (t !== l.focus || e !== l.fov || i !== l.aspect * this.aspect || r !== l.near || o !== l.far) {
                            t = l.focus, e = l.fov, i = l.aspect * this.aspect, r = l.near, o = l.far;
                            var u, c, h = l.projectionMatrix.clone(),
                                d = .032 * r / t,
                                p = r * Math.tan(n.Math.DEG2RAD * e * .5);
                            s.elements[12] = -.032, a.elements[12] = .032, u = -p * i + d, c = p * i + d, h.elements[0] = 2 * r / (c - u), h.elements[8] = (c + u) / (c - u), this.cameraL.projectionMatrix.copy(h), u = -p * i - d, c = p * i - d, h.elements[0] = 2 * r / (c - u), h.elements[8] = (c + u) / (c - u), this.cameraR.projectionMatrix.copy(h)
                        }
                        this.cameraL.matrixWorld.copy(l.matrixWorld).multiply(s), this.cameraR.matrixWorld.copy(l.matrixWorld).multiply(a)
                    }
                }()
            }), n.Light = function(t, e) {
                n.Object3D.call(this), this.type = "Light", this.color = new n.Color(t), this.intensity = void 0 !== e ? e : 1, this.receiveShadow = void 0
            }, n.Light.prototype = Object.assign(Object.create(n.Object3D.prototype), {
                constructor: n.Light,
                copy: function(t) {
                    return n.Object3D.prototype.copy.call(this, t), this.color.copy(t.color), this.intensity = t.intensity, this
                },
                toJSON: function(t) {
                    var e = n.Object3D.prototype.toJSON.call(this, t);
                    return e.object.color = this.color.getHex(), e.object.intensity = this.intensity, void 0 !== this.groundColor && (e.object.groundColor = this.groundColor.getHex()), void 0 !== this.distance && (e.object.distance = this.distance), void 0 !== this.angle && (e.object.angle = this.angle), void 0 !== this.decay && (e.object.decay = this.decay), void 0 !== this.penumbra && (e.object.penumbra = this.penumbra), e
                }
            }), n.LightShadow = function(t) {
                this.camera = t, this.bias = 0, this.radius = 1, this.mapSize = new n.Vector2(512, 512), this.map = null, this.matrix = new n.Matrix4
            }, Object.assign(n.LightShadow.prototype, {
                copy: function(t) {
                    return this.camera = t.camera.clone(), this.bias = t.bias, this.radius = t.radius, this.mapSize.copy(t.mapSize), this
                },
                clone: function() {
                    return (new this.constructor).copy(this)
                }
            }), n.AmbientLight = function(t, e) {
                n.Light.call(this, t, e), this.type = "AmbientLight", this.castShadow = void 0
            }, n.AmbientLight.prototype = Object.assign(Object.create(n.Light.prototype), {
                constructor: n.AmbientLight
            }), n.DirectionalLight = function(t, e) {
                n.Light.call(this, t, e), this.type = "DirectionalLight", this.position.set(0, 1, 0), this.updateMatrix(), this.target = new n.Object3D, this.shadow = new n.DirectionalLightShadow
            }, n.DirectionalLight.prototype = Object.assign(Object.create(n.Light.prototype), {
                constructor: n.DirectionalLight,
                copy: function(t) {
                    return n.Light.prototype.copy.call(this, t), this.target = t.target.clone(), this.shadow = t.shadow.clone(), this
                }
            }), n.DirectionalLightShadow = function(t) {
                n.LightShadow.call(this, new n.OrthographicCamera(-5, 5, 5, -5, .5, 500))
            }, n.DirectionalLightShadow.prototype = Object.assign(Object.create(n.LightShadow.prototype), {
                constructor: n.DirectionalLightShadow
            }), n.HemisphereLight = function(t, e, i) {
                n.Light.call(this, t, i), this.type = "HemisphereLight", this.castShadow = void 0, this.position.set(0, 1, 0), this.updateMatrix(), this.groundColor = new n.Color(e)
            }, n.HemisphereLight.prototype = Object.assign(Object.create(n.Light.prototype), {
                constructor: n.HemisphereLight,
                copy: function(t) {
                    return n.Light.prototype.copy.call(this, t), this.groundColor.copy(t.groundColor), this
                }
            }), n.PointLight = function(t, e, i, r) {
                n.Light.call(this, t, e), this.type = "PointLight", Object.defineProperty(this, "power", {
                    get: function() {
                        return 4 * this.intensity * Math.PI
                    },
                    set: function(t) {
                        this.intensity = t / (4 * Math.PI)
                    }
                }), this.distance = void 0 !== i ? i : 0, this.decay = void 0 !== r ? r : 1, this.shadow = new n.LightShadow(new n.PerspectiveCamera(90, 1, .5, 500))
            }, n.PointLight.prototype = Object.assign(Object.create(n.Light.prototype), {
                constructor: n.PointLight,
                copy: function(t) {
                    return n.Light.prototype.copy.call(this, t), this.distance = t.distance, this.decay = t.decay, this.shadow = t.shadow.clone(), this
                }
            }), n.SpotLight = function(t, e, i, r, o, a) {
                n.Light.call(this, t, e), this.type = "SpotLight", this.position.set(0, 1, 0), this.updateMatrix(), this.target = new n.Object3D, Object.defineProperty(this, "power", {
                    get: function() {
                        return this.intensity * Math.PI
                    },
                    set: function(t) {
                        this.intensity = t / Math.PI
                    }
                }), this.distance = void 0 !== i ? i : 0, this.angle = void 0 !== r ? r : Math.PI / 3, this.penumbra = void 0 !== o ? o : 0, this.decay = void 0 !== a ? a : 1, this.shadow = new n.SpotLightShadow
            }, n.SpotLight.prototype = Object.assign(Object.create(n.Light.prototype), {
                constructor: n.SpotLight,
                copy: function(t) {
                    return n.Light.prototype.copy.call(this, t), this.distance = t.distance, this.angle = t.angle, this.penumbra = t.penumbra, this.decay = t.decay, this.target = t.target.clone(), this.shadow = t.shadow.clone(), this
                }
            }), n.SpotLightShadow = function() {
                n.LightShadow.call(this, new n.PerspectiveCamera(50, 1, .5, 500))
            }, n.SpotLightShadow.prototype = Object.assign(Object.create(n.LightShadow.prototype), {
                constructor: n.SpotLightShadow,
                update: function(t) {
                    var e = 2 * n.Math.RAD2DEG * t.angle,
                        i = this.mapSize.width / this.mapSize.height,
                        r = t.distance || 500,
                        o = this.camera;
                    e === o.fov && i === o.aspect && r === o.far || (o.fov = e, o.aspect = i, o.far = r, o.updateProjectionMatrix())
                }
            }), n.AudioLoader = function(t) {
                this.manager = void 0 !== t ? t : n.DefaultLoadingManager
            }, n.AudioLoader.prototype = {
                constructor: n.AudioLoader,
                load: function(t, e, i, r) {
                    var o = new n.XHRLoader(this.manager);
                    o.setResponseType("arraybuffer"), o.load(t, function(t) {
                        n.AudioContext.decodeAudioData(t, function(t) {
                            e(t)
                        })
                    }, i, r)
                }
            }, n.Cache = {
                enabled: !1,
                files: {},
                add: function(t, e) {
                    this.enabled !== !1 && (this.files[t] = e)
                },
                get: function(t) {
                    if (this.enabled !== !1) return this.files[t]
                },
                remove: function(t) {
                    delete this.files[t]
                },
                clear: function() {
                    this.files = {}
                }
            }, n.Loader = function() {
                this.onLoadStart = function() {}, this.onLoadProgress = function() {}, this.onLoadComplete = function() {}
            }, n.Loader.prototype = {
                constructor: n.Loader,
                crossOrigin: void 0,
                extractUrlBase: function(t) {
                    var e = t.split("/");
                    return 1 === e.length ? "./" : (e.pop(), e.join("/") + "/")
                },
                initMaterials: function(t, e, i) {
                    for (var n = [], r = 0; r < t.length; ++r) n[r] = this.createMaterial(t[r], e, i);
                    return n
                },
                createMaterial: function() {
                    var t, e, i;
                    return function(r, o, a) {
                        function s(t, i, r, s, u) {
                            var c, h = o + t,
                                d = n.Loader.Handlers.get(h);
                            null !== d ? c = d.load(h) : (e.setCrossOrigin(a), c = e.load(h)), void 0 !== i && (c.repeat.fromArray(i), 1 !== i[0] && (c.wrapS = n.RepeatWrapping), 1 !== i[1] && (c.wrapT = n.RepeatWrapping)), void 0 !== r && c.offset.fromArray(r), void 0 !== s && ("repeat" === s[0] && (c.wrapS = n.RepeatWrapping), "mirror" === s[0] && (c.wrapS = n.MirroredRepeatWrapping), "repeat" === s[1] && (c.wrapT = n.RepeatWrapping), "mirror" === s[1] && (c.wrapT = n.MirroredRepeatWrapping)), void 0 !== u && (c.anisotropy = u);
                            var p = n.Math.generateUUID();
                            return l[p] = c, p
                        }
                        void 0 === t && (t = new n.Color), void 0 === e && (e = new n.TextureLoader), void 0 === i && (i = new n.MaterialLoader);
                        var l = {},
                            u = {
                                uuid: n.Math.generateUUID(),
                                type: "MeshLambertMaterial"
                            };
                        for (var c in r) {
                            var h = r[c];
                            switch (c) {
                                case "DbgColor":
                                case "DbgIndex":
                                case "opticalDensity":
                                case "illumination":
                                    break;
                                case "DbgName":
                                    u.name = h;
                                    break;
                                case "blending":
                                    u.blending = n[h];
                                    break;
                                case "colorAmbient":
                                case "mapAmbient":
                                    console.warn("THREE.Loader.createMaterial:", c, "is no longer supported.");
                                    break;
                                case "colorDiffuse":
                                    u.color = t.fromArray(h).getHex();
                                    break;
                                case "colorSpecular":
                                    u.specular = t.fromArray(h).getHex();
                                    break;
                                case "colorEmissive":
                                    u.emissive = t.fromArray(h).getHex();
                                    break;
                                case "specularCoef":
                                    u.shininess = h;
                                    break;
                                case "shading":
                                    "basic" === h.toLowerCase() && (u.type = "MeshBasicMaterial"), "phong" === h.toLowerCase() && (u.type = "MeshPhongMaterial");
                                    break;
                                case "mapDiffuse":
                                    u.map = s(h, r.mapDiffuseRepeat, r.mapDiffuseOffset, r.mapDiffuseWrap, r.mapDiffuseAnisotropy);
                                    break;
                                case "mapDiffuseRepeat":
                                case "mapDiffuseOffset":
                                case "mapDiffuseWrap":
                                case "mapDiffuseAnisotropy":
                                    break;
                                case "mapLight":
                                    u.lightMap = s(h, r.mapLightRepeat, r.mapLightOffset, r.mapLightWrap, r.mapLightAnisotropy);
                                    break;
                                case "mapLightRepeat":
                                case "mapLightOffset":
                                case "mapLightWrap":
                                case "mapLightAnisotropy":
                                    break;
                                case "mapAO":
                                    u.aoMap = s(h, r.mapAORepeat, r.mapAOOffset, r.mapAOWrap, r.mapAOAnisotropy);
                                    break;
                                case "mapAORepeat":
                                case "mapAOOffset":
                                case "mapAOWrap":
                                case "mapAOAnisotropy":
                                    break;
                                case "mapBump":
                                    u.bumpMap = s(h, r.mapBumpRepeat, r.mapBumpOffset, r.mapBumpWrap, r.mapBumpAnisotropy);
                                    break;
                                case "mapBumpScale":
                                    u.bumpScale = h;
                                    break;
                                case "mapBumpRepeat":
                                case "mapBumpOffset":
                                case "mapBumpWrap":
                                case "mapBumpAnisotropy":
                                    break;
                                case "mapNormal":
                                    u.normalMap = s(h, r.mapNormalRepeat, r.mapNormalOffset, r.mapNormalWrap, r.mapNormalAnisotropy);
                                    break;
                                case "mapNormalFactor":
                                    u.normalScale = [h, h];
                                    break;
                                case "mapNormalRepeat":
                                case "mapNormalOffset":
                                case "mapNormalWrap":
                                case "mapNormalAnisotropy":
                                    break;
                                case "mapSpecular":
                                    u.specularMap = s(h, r.mapSpecularRepeat, r.mapSpecularOffset, r.mapSpecularWrap, r.mapSpecularAnisotropy);
                                    break;
                                case "mapSpecularRepeat":
                                case "mapSpecularOffset":
                                case "mapSpecularWrap":
                                case "mapSpecularAnisotropy":
                                    break;
                                case "mapAlpha":
                                    u.alphaMap = s(h, r.mapAlphaRepeat, r.mapAlphaOffset, r.mapAlphaWrap, r.mapAlphaAnisotropy);
                                    break;
                                case "mapAlphaRepeat":
                                case "mapAlphaOffset":
                                case "mapAlphaWrap":
                                case "mapAlphaAnisotropy":
                                    break;
                                case "flipSided":
                                    u.side = n.BackSide;
                                    break;
                                case "doubleSided":
                                    u.side = n.DoubleSide;
                                    break;
                                case "transparency":
                                    console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"), u.opacity = h;
                                    break;
                                case "depthTest":
                                case "depthWrite":
                                case "colorWrite":
                                case "opacity":
                                case "reflectivity":
                                case "transparent":
                                case "visible":
                                case "wireframe":
                                    u[c] = h;
                                    break;
                                case "vertexColors":
                                    h === !0 && (u.vertexColors = n.VertexColors), "face" === h && (u.vertexColors = n.FaceColors);
                                    break;
                                default:
                                    console.error("THREE.Loader.createMaterial: Unsupported", c, h)
                            }
                        }
                        return "MeshBasicMaterial" === u.type && delete u.emissive, "MeshPhongMaterial" !== u.type && delete u.specular, u.opacity < 1 && (u.transparent = !0), i.setTextures(l), i.parse(u)
                    }
                }()
            }, n.Loader.Handlers = {
                handlers: [],
                add: function(t, e) {
                    this.handlers.push(t, e)
                },
                get: function(t) {
                    for (var e = this.handlers, i = 0, n = e.length; i < n; i += 2) {
                        var r = e[i],
                            o = e[i + 1];
                        if (r.test(t)) return o
                    }
                    return null
                }
            };
        n.XHRLoader = function(t) {
                this.manager = void 0 !== t ? t : n.DefaultLoadingManager
            }, n.XHRLoader.prototype = {
                constructor: n.XHRLoader,
                load: function(t, e, i, r) {
                    void 0 !== this.path && (t = this.path + t);
                    var o = this,
                        a = n.Cache.get(t);
                    if (void 0 !== a) return e && setTimeout(function() {
                        e(a)
                    }, 0), a;
                    var s = new XMLHttpRequest;
                    return s.overrideMimeType("text/plain"), s.open("GET", t, !0), s.addEventListener("load", function(i) {
                        var a = i.target.response;
                        n.Cache.add(t, a), 200 === this.status ? (e && e(a), o.manager.itemEnd(t)) : 0 === this.status ? (console.warn("THREE.XHRLoader: HTTP Status 0 received."), e && e(a), o.manager.itemEnd(t)) : (r && r(i), o.manager.itemError(t))
                    }, !1), void 0 !== i && s.addEventListener("progress", function(t) {
                        i(t)
                    }, !1), s.addEventListener("error", function(e) {
                        r && r(e), o.manager.itemError(t)
                    }, !1), void 0 !== this.responseType && (s.responseType = this.responseType), void 0 !== this.withCredentials && (s.withCredentials = this.withCredentials), s.send(null), o.manager.itemStart(t), s
                },
                setPath: function(t) {
                    this.path = t
                },
                setResponseType: function(t) {
                    this.responseType = t
                },
                setWithCredentials: function(t) {
                    this.withCredentials = t
                }
            }, n.FontLoader = function(t) {
                this.manager = void 0 !== t ? t : n.DefaultLoadingManager
            }, n.FontLoader.prototype = {
                constructor: n.FontLoader,
                load: function(t, e, i, r) {
                    var o = this;
                    new n.XHRLoader(this.manager).load(t, function(t) {
                        var i;
                        try {
                            i = JSON.parse(t)
                        } catch (e) {
                            console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."), i = JSON.parse(t.substring(65, t.length - 2))
                        }
                        var n = o.parse(i);
                        e && e(n)
                    }, i, r)
                },
                parse: function(t) {
                    return new n.Font(t)
                }
            }, n.ImageLoader = function(t) {
                this.manager = void 0 !== t ? t : n.DefaultLoadingManager
            }, n.ImageLoader.prototype = {
                constructor: n.ImageLoader,
                load: function(t, e, i, r) {
                    void 0 !== this.path && (t = this.path + t);
                    var o = this,
                        a = n.Cache.get(t);
                    if (void 0 !== a) return o.manager.itemStart(t), e ? setTimeout(function() {
                        e(a), o.manager.itemEnd(t)
                    }, 0) : o.manager.itemEnd(t), a;
                    var s = document.createElement("img");
                    return s.addEventListener("load", function(i) {
                        n.Cache.add(t, this), e && e(this), o.manager.itemEnd(t)
                    }, !1), void 0 !== i && s.addEventListener("progress", function(t) {
                        i(t)
                    }, !1), s.addEventListener("error", function(e) {
                        r && r(e), o.manager.itemError(t)
                    }, !1), void 0 !== this.crossOrigin && (s.crossOrigin = this.crossOrigin), o.manager.itemStart(t), s.src = t, s
                },
                setCrossOrigin: function(t) {
                    this.crossOrigin = t
                },
                setPath: function(t) {
                    this.path = t
                }
            }, n.JSONLoader = function(t) {
                "boolean" == typeof t && (console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."), t = void 0), this.manager = void 0 !== t ? t : n.DefaultLoadingManager, this.withCredentials = !1
            }, n.JSONLoader.prototype = {
                constructor: n.JSONLoader,
                get statusDomElement() {
                    return void 0 === this._statusDomElement && (this._statusDomElement = document.createElement("div")), console.warn("THREE.JSONLoader: .statusDomElement has been removed."), this._statusDomElement
                },
                load: function(t, e, i, r) {
                    var o = this,
                        a = this.texturePath && "string" == typeof this.texturePath ? this.texturePath : n.Loader.prototype.extractUrlBase(t),
                        s = new n.XHRLoader(this.manager);
                    s.setWithCredentials(this.withCredentials), s.load(t, function(i) {
                        var n = JSON.parse(i),
                            r = n.metadata;
                        if (void 0 !== r) {
                            var s = r.type;
                            if (void 0 !== s) {
                                if ("object" === s.toLowerCase()) return void console.error("THREE.JSONLoader: " + t + " should be loaded with THREE.ObjectLoader instead.");
                                if ("scene" === s.toLowerCase()) return void console.error("THREE.JSONLoader: " + t + " should be loaded with THREE.SceneLoader instead.")
                            }
                        }
                        var l = o.parse(n, a);
                        e(l.geometry, l.materials)
                    }, i, r)
                },
                setTexturePath: function(t) {
                    this.texturePath = t
                },
                parse: function(t, e) {
                    var i = new n.Geometry,
                        r = void 0 !== t.scale ? 1 / t.scale : 1;
                    return function(e) {
                            function r(t, e) {
                                return t & 1 << e
                            }
                            var o, a, s, l, u, c, h, d, p, f, m, g, v, y, _, b, x, w, T, S, M, E, C, A, P, L, O, k = t.faces,
                                R = t.vertices,
                                I = t.normals,
                                D = t.colors,
                                B = 0;
                            if (void 0 !== t.uvs) {
                                for (o = 0; o < t.uvs.length; o++) t.uvs[o].length && B++;
                                for (o = 0; o < B; o++) i.faceVertexUvs[o] = []
                            }
                            for (l = 0, u = R.length; l < u;) w = new n.Vector3, w.x = R[l++] * e, w.y = R[l++] * e, w.z = R[l++] * e, i.vertices.push(w);
                            for (l = 0, u = k.length; l < u;)
                                if (f = k[l++], m = r(f, 0), g = r(f, 1), v = r(f, 3), y = r(f, 4), _ = r(f, 5), b = r(f, 6), x = r(f, 7), m) {
                                    if (S = new n.Face3, S.a = k[l], S.b = k[l + 1], S.c = k[l + 3], M = new n.Face3, M.a = k[l + 1], M.b = k[l + 2], M.c = k[l + 3], l += 4, g && (p = k[l++], S.materialIndex = p, M.materialIndex = p), s = i.faces.length, v)
                                        for (o = 0; o < B; o++)
                                            for (A = t.uvs[o], i.faceVertexUvs[o][s] = [], i.faceVertexUvs[o][s + 1] = [], a = 0; a < 4; a++) d = k[l++], L = A[2 * d], O = A[2 * d + 1], P = new n.Vector2(L, O), 2 !== a && i.faceVertexUvs[o][s].push(P), 0 !== a && i.faceVertexUvs[o][s + 1].push(P);
                                    if (y && (h = 3 * k[l++], S.normal.set(I[h++], I[h++], I[h]), M.normal.copy(S.normal)), _)
                                        for (o = 0; o < 4; o++) h = 3 * k[l++], C = new n.Vector3(I[h++], I[h++], I[h]), 2 !== o && S.vertexNormals.push(C), 0 !== o && M.vertexNormals.push(C);
                                    if (b && (c = k[l++], E = D[c], S.color.setHex(E), M.color.setHex(E)), x)
                                        for (o = 0; o < 4; o++) c = k[l++], E = D[c], 2 !== o && S.vertexColors.push(new n.Color(E)), 0 !== o && M.vertexColors.push(new n.Color(E));
                                    i.faces.push(S), i.faces.push(M)
                                } else {
                                    if (T = new n.Face3, T.a = k[l++], T.b = k[l++], T.c = k[l++], g && (p = k[l++], T.materialIndex = p), s = i.faces.length, v)
                                        for (o = 0; o < B; o++)
                                            for (A = t.uvs[o], i.faceVertexUvs[o][s] = [], a = 0; a < 3; a++) d = k[l++], L = A[2 * d], O = A[2 * d + 1], P = new n.Vector2(L, O), i.faceVertexUvs[o][s].push(P);
                                    if (y && (h = 3 * k[l++], T.normal.set(I[h++], I[h++], I[h])), _)
                                        for (o = 0; o < 3; o++) h = 3 * k[l++], C = new n.Vector3(I[h++], I[h++], I[h]), T.vertexNormals.push(C);
                                    if (b && (c = k[l++], T.color.setHex(D[c])), x)
                                        for (o = 0; o < 3; o++) c = k[l++], T.vertexColors.push(new n.Color(D[c]));
                                    i.faces.push(T)
                                }
                        }(r),
                        function() {
                            var e = void 0 !== t.influencesPerVertex ? t.influencesPerVertex : 2;
                            if (t.skinWeights)
                                for (var r = 0, o = t.skinWeights.length; r < o; r += e) {
                                    var a = t.skinWeights[r],
                                        s = e > 1 ? t.skinWeights[r + 1] : 0,
                                        l = e > 2 ? t.skinWeights[r + 2] : 0,
                                        u = e > 3 ? t.skinWeights[r + 3] : 0;
                                    i.skinWeights.push(new n.Vector4(a, s, l, u))
                                }
                            if (t.skinIndices)
                                for (var r = 0, o = t.skinIndices.length; r < o; r += e) {
                                    var c = t.skinIndices[r],
                                        h = e > 1 ? t.skinIndices[r + 1] : 0,
                                        d = e > 2 ? t.skinIndices[r + 2] : 0,
                                        p = e > 3 ? t.skinIndices[r + 3] : 0;
                                    i.skinIndices.push(new n.Vector4(c, h, d, p))
                                }
                            i.bones = t.bones, i.bones && i.bones.length > 0 && (i.skinWeights.length !== i.skinIndices.length || i.skinIndices.length !== i.vertices.length) && console.warn("When skinning, number of vertices (" + i.vertices.length + "), skinIndices (" + i.skinIndices.length + "), and skinWeights (" + i.skinWeights.length + ") should match.")
                        }(),
                        function(e) {
                            if (void 0 !== t.morphTargets)
                                for (var r = 0, o = t.morphTargets.length; r < o; r++) {
                                    i.morphTargets[r] = {}, i.morphTargets[r].name = t.morphTargets[r].name, i.morphTargets[r].vertices = [];
                                    for (var a = i.morphTargets[r].vertices, s = t.morphTargets[r].vertices, l = 0, u = s.length; l < u; l += 3) {
                                        var c = new n.Vector3;
                                        c.x = s[l] * e, c.y = s[l + 1] * e, c.z = s[l + 2] * e, a.push(c)
                                    }
                                }
                            if (void 0 !== t.morphColors && t.morphColors.length > 0) {
                                console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');
                                for (var h = i.faces, d = t.morphColors[0].colors, r = 0, o = h.length; r < o; r++) h[r].color.fromArray(d, 3 * r)
                            }
                        }(r),
                        function() {
                            var e = [],
                                r = [];
                            void 0 !== t.animation && r.push(t.animation), void 0 !== t.animations && (t.animations.length ? r = r.concat(t.animations) : r.push(t.animations));
                            for (var o = 0; o < r.length; o++) {
                                var a = n.AnimationClip.parseAnimation(r[o], i.bones);
                                a && e.push(a)
                            }
                            if (i.morphTargets) {
                                var s = n.AnimationClip.CreateClipsFromMorphTargetSequences(i.morphTargets, 10);
                                e = e.concat(s)
                            }
                            e.length > 0 && (i.animations = e)
                        }(), i.computeFaceNormals(), i.computeBoundingSphere(), void 0 === t.materials || 0 === t.materials.length ? {
                            geometry: i
                        } : {
                            geometry: i,
                            materials: n.Loader.prototype.initMaterials(t.materials, e, this.crossOrigin)
                        }
                }
            }, n.LoadingManager = function(t, e, i) {
                var n = this,
                    r = !1,
                    o = 0,
                    a = 0;
                this.onStart = void 0, this.onLoad = t, this.onProgress = e, this.onError = i, this.itemStart = function(t) {
                    a++, r === !1 && void 0 !== n.onStart && n.onStart(t, o, a), r = !0
                }, this.itemEnd = function(t) {
                    o++, void 0 !== n.onProgress && n.onProgress(t, o, a), o === a && (r = !1, void 0 !== n.onLoad && n.onLoad())
                }, this.itemError = function(t) {
                    void 0 !== n.onError && n.onError(t)
                }
            }, n.DefaultLoadingManager = new n.LoadingManager, n.BufferGeometryLoader = function(t) {
                this.manager = void 0 !== t ? t : n.DefaultLoadingManager
            }, n.BufferGeometryLoader.prototype = {
                constructor: n.BufferGeometryLoader,
                load: function(t, e, i, r) {
                    var o = this;
                    new n.XHRLoader(o.manager).load(t, function(t) {
                        e(o.parse(JSON.parse(t)))
                    }, i, r)
                },
                parse: function(t) {
                    var e = new n.BufferGeometry,
                        i = t.data.index,
                        r = {
                            Int8Array: Int8Array,
                            Uint8Array: Uint8Array,
                            Uint8ClampedArray: Uint8ClampedArray,
                            Int16Array: Int16Array,
                            Uint16Array: Uint16Array,
                            Int32Array: Int32Array,
                            Uint32Array: Uint32Array,
                            Float32Array: Float32Array,
                            Float64Array: Float64Array
                        };
                    if (void 0 !== i) {
                        var o = new r[i.type](i.array);
                        e.setIndex(new n.BufferAttribute(o, 1))
                    }
                    var a = t.data.attributes;
                    for (var s in a) {
                        var l = a[s],
                            o = new r[l.type](l.array);
                        e.addAttribute(s, new n.BufferAttribute(o, l.itemSize, l.normalized))
                    }
                    var u = t.data.groups || t.data.drawcalls || t.data.offsets;
                    if (void 0 !== u)
                        for (var c = 0, h = u.length; c !== h; ++c) {
                            var d = u[c];
                            e.addGroup(d.start, d.count, d.materialIndex)
                        }
                    var p = t.data.boundingSphere;
                    if (void 0 !== p) {
                        var f = new n.Vector3;
                        void 0 !== p.center && f.fromArray(p.center), e.boundingSphere = new n.Sphere(f, p.radius)
                    }
                    return e
                }
            }, n.MaterialLoader = function(t) {
                this.manager = void 0 !== t ? t : n.DefaultLoadingManager, this.textures = {}
            }, n.MaterialLoader.prototype = {
                constructor: n.MaterialLoader,
                load: function(t, e, i, r) {
                    var o = this;
                    new n.XHRLoader(o.manager).load(t, function(t) {
                        e(o.parse(JSON.parse(t)))
                    }, i, r)
                },
                setTextures: function(t) {
                    this.textures = t
                },
                getTexture: function(t) {
                    var e = this.textures;
                    return void 0 === e[t] && console.warn("THREE.MaterialLoader: Undefined texture", t), e[t]
                },
                parse: function(t) {
                    var e = new n[t.type];
                    if (void 0 !== t.uuid && (e.uuid = t.uuid), void 0 !== t.name && (e.name = t.name), void 0 !== t.color && e.color.setHex(t.color), void 0 !== t.roughness && (e.roughness = t.roughness), void 0 !== t.metalness && (e.metalness = t.metalness), void 0 !== t.emissive && e.emissive.setHex(t.emissive), void 0 !== t.specular && e.specular.setHex(t.specular), void 0 !== t.shininess && (e.shininess = t.shininess), void 0 !== t.uniforms && (e.uniforms = t.uniforms), void 0 !== t.vertexShader && (e.vertexShader = t.vertexShader), void 0 !== t.fragmentShader && (e.fragmentShader = t.fragmentShader), void 0 !== t.vertexColors && (e.vertexColors = t.vertexColors), void 0 !== t.shading && (e.shading = t.shading), void 0 !== t.blending && (e.blending = t.blending), void 0 !== t.side && (e.side = t.side), void 0 !== t.opacity && (e.opacity = t.opacity), void 0 !== t.transparent && (e.transparent = t.transparent), void 0 !== t.alphaTest && (e.alphaTest = t.alphaTest), void 0 !== t.depthTest && (e.depthTest = t.depthTest), void 0 !== t.depthWrite && (e.depthWrite = t.depthWrite), void 0 !== t.colorWrite && (e.colorWrite = t.colorWrite), void 0 !== t.wireframe && (e.wireframe = t.wireframe), void 0 !== t.wireframeLinewidth && (e.wireframeLinewidth = t.wireframeLinewidth), void 0 !== t.size && (e.size = t.size), void 0 !== t.sizeAttenuation && (e.sizeAttenuation = t.sizeAttenuation), void 0 !== t.map && (e.map = this.getTexture(t.map)), void 0 !== t.alphaMap && (e.alphaMap = this.getTexture(t.alphaMap), e.transparent = !0), void 0 !== t.bumpMap && (e.bumpMap = this.getTexture(t.bumpMap)), void 0 !== t.bumpScale && (e.bumpScale = t.bumpScale), void 0 !== t.normalMap && (e.normalMap = this.getTexture(t.normalMap)), void 0 !== t.normalScale) {
                        var i = t.normalScale;
                        Array.isArray(i) === !1 && (i = [i, i]), e.normalScale = (new n.Vector2).fromArray(i)
                    }
                    if (void 0 !== t.displacementMap && (e.displacementMap = this.getTexture(t.displacementMap)), void 0 !== t.displacementScale && (e.displacementScale = t.displacementScale), void 0 !== t.displacementBias && (e.displacementBias = t.displacementBias), void 0 !== t.roughnessMap && (e.roughnessMap = this.getTexture(t.roughnessMap)), void 0 !== t.metalnessMap && (e.metalnessMap = this.getTexture(t.metalnessMap)), void 0 !== t.emissiveMap && (e.emissiveMap = this.getTexture(t.emissiveMap)), void 0 !== t.emissiveIntensity && (e.emissiveIntensity = t.emissiveIntensity), void 0 !== t.specularMap && (e.specularMap = this.getTexture(t.specularMap)), void 0 !== t.envMap && (e.envMap = this.getTexture(t.envMap), e.combine = n.MultiplyOperation), t.reflectivity && (e.reflectivity = t.reflectivity), void 0 !== t.lightMap && (e.lightMap = this.getTexture(t.lightMap)), void 0 !== t.lightMapIntensity && (e.lightMapIntensity = t.lightMapIntensity), void 0 !== t.aoMap && (e.aoMap = this.getTexture(t.aoMap)), void 0 !== t.aoMapIntensity && (e.aoMapIntensity = t.aoMapIntensity), void 0 !== t.materials)
                        for (var r = 0, o = t.materials.length; r < o; r++) e.materials.push(this.parse(t.materials[r]));
                    return e
                }
            }, n.ObjectLoader = function(t) {
                this.manager = void 0 !== t ? t : n.DefaultLoadingManager, this.texturePath = ""
            }, n.ObjectLoader.prototype = {
                constructor: n.ObjectLoader,
                load: function(t, e, i, r) {
                    "" === this.texturePath && (this.texturePath = t.substring(0, t.lastIndexOf("/") + 1));
                    var o = this;
                    new n.XHRLoader(o.manager).load(t, function(t) {
                        o.parse(JSON.parse(t), e)
                    }, i, r)
                },
                setTexturePath: function(t) {
                    this.texturePath = t
                },
                setCrossOrigin: function(t) {
                    this.crossOrigin = t
                },
                parse: function(t, e) {
                    var i = this.parseGeometries(t.geometries),
                        n = this.parseImages(t.images, function() {
                            void 0 !== e && e(a)
                        }),
                        r = this.parseTextures(t.textures, n),
                        o = this.parseMaterials(t.materials, r),
                        a = this.parseObject(t.object, i, o);
                    return t.animations && (a.animations = this.parseAnimations(t.animations)), void 0 !== t.images && 0 !== t.images.length || void 0 !== e && e(a), a
                },
                parseGeometries: function(t) {
                    var e = {};
                    if (void 0 !== t)
                        for (var i = new n.JSONLoader, r = new n.BufferGeometryLoader, o = 0, a = t.length; o < a; o++) {
                            var s, l = t[o];
                            switch (l.type) {
                                case "PlaneGeometry":
                                case "PlaneBufferGeometry":
                                    s = new n[l.type](l.width, l.height, l.widthSegments, l.heightSegments);
                                    break;
                                case "BoxGeometry":
                                case "BoxBufferGeometry":
                                case "CubeGeometry":
                                    s = new n[l.type](l.width, l.height, l.depth, l.widthSegments, l.heightSegments, l.depthSegments);
                                    break;
                                case "CircleGeometry":
                                case "CircleBufferGeometry":
                                    s = new n[l.type](l.radius, l.segments, l.thetaStart, l.thetaLength);
                                    break;
                                case "CylinderGeometry":
                                case "CylinderBufferGeometry":
                                    s = new n[l.type](l.radiusTop, l.radiusBottom, l.height, l.radialSegments, l.heightSegments, l.openEnded, l.thetaStart, l.thetaLength);
                                    break;
                                case "ConeGeometry":
                                case "ConeBufferGeometry":
                                    s = new n[l.type](l.radius, l.height, l.radialSegments, l.heightSegments, l.openEnded, l.thetaStart, l.thetaLength);
                                    break;
                                case "SphereGeometry":
                                case "SphereBufferGeometry":
                                    s = new n[l.type](l.radius, l.widthSegments, l.heightSegments, l.phiStart, l.phiLength, l.thetaStart, l.thetaLength);
                                    break;
                                case "DodecahedronGeometry":
                                case "IcosahedronGeometry":
                                case "OctahedronGeometry":
                                case "TetrahedronGeometry":
                                    s = new n[l.type](l.radius, l.detail);
                                    break;
                                case "RingGeometry":
                                case "RingBufferGeometry":
                                    s = new n[l.type](l.innerRadius, l.outerRadius, l.thetaSegments, l.phiSegments, l.thetaStart, l.thetaLength);
                                    break;
                                case "TorusGeometry":
                                case "TorusBufferGeometry":
                                    s = new n[l.type](l.radius, l.tube, l.radialSegments, l.tubularSegments, l.arc);
                                    break;
                                case "TorusKnotGeometry":
                                case "TorusKnotBufferGeometry":
                                    s = new n[l.type](l.radius, l.tube, l.tubularSegments, l.radialSegments, l.p, l.q);
                                    break;
                                case "LatheGeometry":
                                case "LatheBufferGeometry":
                                    s = new n[l.type](l.points, l.segments, l.phiStart, l.phiLength);
                                    break;
                                case "BufferGeometry":
                                    s = r.parse(l);
                                    break;
                                case "Geometry":
                                    s = i.parse(l.data, this.texturePath).geometry;
                                    break;
                                default:
                                    console.warn('THREE.ObjectLoader: Unsupported geometry type "' + l.type + '"');
                                    continue
                            }
                            s.uuid = l.uuid, void 0 !== l.name && (s.name = l.name), e[l.uuid] = s
                        }
                    return e
                },
                parseMaterials: function(t, e) {
                    var i = {};
                    if (void 0 !== t) {
                        var r = new n.MaterialLoader;
                        r.setTextures(e);
                        for (var o = 0, a = t.length; o < a; o++) {
                            var s = r.parse(t[o]);
                            i[s.uuid] = s
                        }
                    }
                    return i
                },
                parseAnimations: function(t) {
                    for (var e = [], i = 0; i < t.length; i++) {
                        var r = n.AnimationClip.parse(t[i]);
                        e.push(r)
                    }
                    return e
                },
                parseImages: function(t, e) {
                    var i = this,
                        r = {};
                    if (void 0 !== t && t.length > 0) {
                        var o = new n.LoadingManager(e),
                            a = new n.ImageLoader(o);
                        a.setCrossOrigin(this.crossOrigin);
                        for (var s = 0, l = t.length; s < l; s++) {
                            var u = t[s],
                                c = /^(\/\/)|([a-z]+:(\/\/)?)/i.test(u.url) ? u.url : i.texturePath + u.url;
                            r[u.uuid] = function(t) {
                                return i.manager.itemStart(t), a.load(t, function() {
                                    i.manager.itemEnd(t)
                                })
                            }(c)
                        }
                    }
                    return r
                },
                parseTextures: function(t, e) {
                    function i(t) {
                        return "number" == typeof t ? t : (console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.", t), n[t])
                    }
                    var r = {};
                    if (void 0 !== t)
                        for (var o = 0, a = t.length; o < a; o++) {
                            var s = t[o];
                            void 0 === s.image && console.warn('THREE.ObjectLoader: No "image" specified for', s.uuid), void 0 === e[s.image] && console.warn("THREE.ObjectLoader: Undefined image", s.image);
                            var l = new n.Texture(e[s.image]);
                            l.needsUpdate = !0, l.uuid = s.uuid, void 0 !== s.name && (l.name = s.name), void 0 !== s.mapping && (l.mapping = i(s.mapping)), void 0 !== s.offset && (l.offset = new n.Vector2(s.offset[0], s.offset[1])), void 0 !== s.repeat && (l.repeat = new n.Vector2(s.repeat[0], s.repeat[1])), void 0 !== s.minFilter && (l.minFilter = i(s.minFilter)), void 0 !== s.magFilter && (l.magFilter = i(s.magFilter)), void 0 !== s.anisotropy && (l.anisotropy = s.anisotropy), Array.isArray(s.wrap) && (l.wrapS = i(s.wrap[0]), l.wrapT = i(s.wrap[1])), r[s.uuid] = l
                        }
                    return r
                },
                parseObject: function() {
                    var t = new n.Matrix4;
                    return function(e, i, r) {
                        function o(t) {
                            return void 0 === i[t] && console.warn("THREE.ObjectLoader: Undefined geometry", t), i[t]
                        }

                        function a(t) {
                            if (void 0 !== t) return void 0 === r[t] && console.warn("THREE.ObjectLoader: Undefined material", t), r[t]
                        }
                        var s;
                        switch (e.type) {
                            case "Scene":
                                s = new n.Scene;
                                break;
                            case "PerspectiveCamera":
                                s = new n.PerspectiveCamera(e.fov, e.aspect, e.near, e.far), void 0 !== e.focus && (s.focus = e.focus), void 0 !== e.zoom && (s.zoom = e.zoom), void 0 !== e.filmGauge && (s.filmGauge = e.filmGauge), void 0 !== e.filmOffset && (s.filmOffset = e.filmOffset), void 0 !== e.view && (s.view = Object.assign({}, e.view));
                                break;
                            case "OrthographicCamera":
                                s = new n.OrthographicCamera(e.left, e.right, e.top, e.bottom, e.near, e.far);
                                break;
                            case "AmbientLight":
                                s = new n.AmbientLight(e.color, e.intensity);
                                break;
                            case "DirectionalLight":
                                s = new n.DirectionalLight(e.color, e.intensity);
                                break;
                            case "PointLight":
                                s = new n.PointLight(e.color, e.intensity, e.distance, e.decay);
                                break;
                            case "SpotLight":
                                s = new n.SpotLight(e.color, e.intensity, e.distance, e.angle, e.penumbra, e.decay);
                                break;
                            case "HemisphereLight":
                                s = new n.HemisphereLight(e.color, e.groundColor, e.intensity);
                                break;
                            case "Mesh":
                                var l = o(e.geometry),
                                    u = a(e.material);
                                s = l.bones && l.bones.length > 0 ? new n.SkinnedMesh(l, u) : new n.Mesh(l, u);
                                break;
                            case "LOD":
                                s = new n.LOD;
                                break;
                            case "Line":
                                s = new n.Line(o(e.geometry), a(e.material), e.mode);
                                break;
                            case "PointCloud":
                            case "Points":
                                s = new n.Points(o(e.geometry), a(e.material));
                                break;
                            case "Sprite":
                                s = new n.Sprite(a(e.material));
                                break;
                            case "Group":
                                s = new n.Group;
                                break;
                            default:
                                s = new n.Object3D
                        }
                        if (s.uuid = e.uuid, void 0 !== e.name && (s.name = e.name), void 0 !== e.matrix ? (t.fromArray(e.matrix), t.decompose(s.position, s.quaternion, s.scale)) : (void 0 !== e.position && s.position.fromArray(e.position), void 0 !== e.rotation && s.rotation.fromArray(e.rotation), void 0 !== e.scale && s.scale.fromArray(e.scale)), void 0 !== e.castShadow && (s.castShadow = e.castShadow), void 0 !== e.receiveShadow && (s.receiveShadow = e.receiveShadow), void 0 !== e.visible && (s.visible = e.visible), void 0 !== e.userData && (s.userData = e.userData), void 0 !== e.children)
                            for (var c in e.children) s.add(this.parseObject(e.children[c], i, r));
                        if ("LOD" === e.type)
                            for (var h = e.levels, d = 0; d < h.length; d++) {
                                var p = h[d],
                                    c = s.getObjectByProperty("uuid", p.object);
                                void 0 !== c && s.addLevel(c, p.distance)
                            }
                        return s
                    }
                }()
            }, n.TextureLoader = function(t) {
                this.manager = void 0 !== t ? t : n.DefaultLoadingManager
            }, n.TextureLoader.prototype = {
                constructor: n.TextureLoader,
                load: function(t, e, i, r) {
                    var o = new n.Texture,
                        a = new n.ImageLoader(this.manager);
                    return a.setCrossOrigin(this.crossOrigin), a.setPath(this.path), a.load(t, function(t) {
                        o.image = t, o.needsUpdate = !0, void 0 !== e && e(o)
                    }, i, r), o
                },
                setCrossOrigin: function(t) {
                    this.crossOrigin = t
                },
                setPath: function(t) {
                    this.path = t
                }
            }, n.CubeTextureLoader = function(t) {
                this.manager = void 0 !== t ? t : n.DefaultLoadingManager
            }, n.CubeTextureLoader.prototype = {
                constructor: n.CubeTextureLoader,
                load: function(t, e, i, r) {
                    var o = new n.CubeTexture,
                        a = new n.ImageLoader(this.manager);
                    a.setCrossOrigin(this.crossOrigin), a.setPath(this.path);
                    for (var s = 0, l = 0; l < t.length; ++l) ! function(i) {
                        a.load(t[i], function(t) {
                            o.images[i] = t, 6 == ++s && (o.needsUpdate = !0, e && e(o))
                        }, void 0, r)
                    }(l);
                    return o
                },
                setCrossOrigin: function(t) {
                    this.crossOrigin = t
                },
                setPath: function(t) {
                    this.path = t
                }
            }, n.DataTextureLoader = n.BinaryTextureLoader = function(t) {
                this.manager = void 0 !== t ? t : n.DefaultLoadingManager, this._parser = null
            }, n.BinaryTextureLoader.prototype = {
                constructor: n.BinaryTextureLoader,
                load: function(t, e, i, r) {
                    var o = this,
                        a = new n.DataTexture,
                        s = new n.XHRLoader(this.manager);
                    return s.setResponseType("arraybuffer"), s.load(t, function(t) {
                        var i = o._parser(t);
                        i && (void 0 !== i.image ? a.image = i.image : void 0 !== i.data && (a.image.width = i.width, a.image.height = i.height, a.image.data = i.data), a.wrapS = void 0 !== i.wrapS ? i.wrapS : n.ClampToEdgeWrapping, a.wrapT = void 0 !== i.wrapT ? i.wrapT : n.ClampToEdgeWrapping, a.magFilter = void 0 !== i.magFilter ? i.magFilter : n.LinearFilter, a.minFilter = void 0 !== i.minFilter ? i.minFilter : n.LinearMipMapLinearFilter, a.anisotropy = void 0 !== i.anisotropy ? i.anisotropy : 1, void 0 !== i.format && (a.format = i.format), void 0 !== i.type && (a.type = i.type), void 0 !== i.mipmaps && (a.mipmaps = i.mipmaps), 1 === i.mipmapCount && (a.minFilter = n.LinearFilter), a.needsUpdate = !0, e && e(a, i))
                    }, i, r), a
                }
            }, n.CompressedTextureLoader = function(t) {
                this.manager = void 0 !== t ? t : n.DefaultLoadingManager, this._parser = null
            }, n.CompressedTextureLoader.prototype = {
                constructor: n.CompressedTextureLoader,
                load: function(t, e, i, r) {
                    var o = this,
                        a = [],
                        s = new n.CompressedTexture;
                    s.image = a;
                    var l = new n.XHRLoader(this.manager);
                    if (l.setPath(this.path), l.setResponseType("arraybuffer"), Array.isArray(t))
                        for (var u = 0, c = 0, h = t.length; c < h; ++c) ! function(c) {
                            l.load(t[c], function(t) {
                                var i = o._parser(t, !0);
                                a[c] = {
                                    width: i.width,
                                    height: i.height,
                                    format: i.format,
                                    mipmaps: i.mipmaps
                                }, 6 == (u += 1) && (1 === i.mipmapCount && (s.minFilter = n.LinearFilter), s.format = i.format, s.needsUpdate = !0, e && e(s))
                            }, i, r)
                        }(c);
                    else l.load(t, function(t) {
                        var i = o._parser(t, !0);
                        if (i.isCubemap)
                            for (var r = i.mipmaps.length / i.mipmapCount, l = 0; l < r; l++) {
                                a[l] = {
                                    mipmaps: []
                                };
                                for (var u = 0; u < i.mipmapCount; u++) a[l].mipmaps.push(i.mipmaps[l * i.mipmapCount + u]), a[l].format = i.format, a[l].width = i.width, a[l].height = i.height
                            } else s.image.width = i.width, s.image.height = i.height, s.mipmaps = i.mipmaps;
                        1 === i.mipmapCount && (s.minFilter = n.LinearFilter), s.format = i.format, s.needsUpdate = !0, e && e(s)
                    }, i, r);
                    return s
                },
                setPath: function(t) {
                    this.path = t
                }
            }, n.Material = function() {
                Object.defineProperty(this, "id", {
                    value: n.MaterialIdCount++
                }), this.uuid = n.Math.generateUUID(), this.name = "", this.type = "Material", this.fog = !0, this.lights = !0, this.blending = n.NormalBlending, this.side = n.FrontSide, this.shading = n.SmoothShading, this.vertexColors = n.NoColors, this.opacity = 1, this.transparent = !1, this.blendSrc = n.SrcAlphaFactor, this.blendDst = n.OneMinusSrcAlphaFactor, this.blendEquation = n.AddEquation, this.blendSrcAlpha = null, this.blendDstAlpha = null, this.blendEquationAlpha = null, this.depthFunc = n.LessEqualDepth, this.depthTest = !0, this.depthWrite = !0, this.clippingPlanes = null, this.clipShadows = !1, this.colorWrite = !0, this.precision = null, this.polygonOffset = !1, this.polygonOffsetFactor = 0, this.polygonOffsetUnits = 0, this.alphaTest = 0, this.premultipliedAlpha = !1, this.overdraw = 0, this.visible = !0, this._needsUpdate = !0
            }, n.Material.prototype = {
                constructor: n.Material,
                get needsUpdate() {
                    return this._needsUpdate
                },
                set needsUpdate(t) {
                    t === !0 && this.update(), this._needsUpdate = t
                },
                setValues: function(t) {
                    if (void 0 !== t)
                        for (var e in t) {
                            var i = t[e];
                            if (void 0 !== i) {
                                var r = this[e];
                                void 0 !== r ? r instanceof n.Color ? r.set(i) : r instanceof n.Vector3 && i instanceof n.Vector3 ? r.copy(i) : this[e] = "overdraw" === e ? Number(i) : i : console.warn("THREE." + this.type + ": '" + e + "' is not a property of this material.")
                            } else console.warn("THREE.Material: '" + e + "' parameter is undefined.")
                        }
                },
                toJSON: function(t) {
                    function e(t) {
                        var e = [];
                        for (var i in t) {
                            var n = t[i];
                            delete n.metadata, e.push(n)
                        }
                        return e
                    }
                    var i = void 0 === t;
                    i && (t = {
                        textures: {},
                        images: {}
                    });
                    var r = {
                        metadata: {
                            version: 4.4,
                            type: "Material",
                            generator: "Material.toJSON"
                        }
                    };
                    if (r.uuid = this.uuid, r.type = this.type, "" !== this.name && (r.name = this.name), this.color instanceof n.Color && (r.color = this.color.getHex()), .5 !== this.roughness && (r.roughness = this.roughness), .5 !== this.metalness && (r.metalness = this.metalness), this.emissive instanceof n.Color && (r.emissive = this.emissive.getHex()), this.specular instanceof n.Color && (r.specular = this.specular.getHex()), void 0 !== this.shininess && (r.shininess = this.shininess), this.map instanceof n.Texture && (r.map = this.map.toJSON(t).uuid), this.alphaMap instanceof n.Texture && (r.alphaMap = this.alphaMap.toJSON(t).uuid), this.lightMap instanceof n.Texture && (r.lightMap = this.lightMap.toJSON(t).uuid), this.bumpMap instanceof n.Texture && (r.bumpMap = this.bumpMap.toJSON(t).uuid, r.bumpScale = this.bumpScale), this.normalMap instanceof n.Texture && (r.normalMap = this.normalMap.toJSON(t).uuid, r.normalScale = this.normalScale.toArray()), this.displacementMap instanceof n.Texture && (r.displacementMap = this.displacementMap.toJSON(t).uuid, r.displacementScale = this.displacementScale, r.displacementBias = this.displacementBias), this.roughnessMap instanceof n.Texture && (r.roughnessMap = this.roughnessMap.toJSON(t).uuid), this.metalnessMap instanceof n.Texture && (r.metalnessMap = this.metalnessMap.toJSON(t).uuid), this.emissiveMap instanceof n.Texture && (r.emissiveMap = this.emissiveMap.toJSON(t).uuid), this.specularMap instanceof n.Texture && (r.specularMap = this.specularMap.toJSON(t).uuid), this.envMap instanceof n.Texture && (r.envMap = this.envMap.toJSON(t).uuid, r.reflectivity = this.reflectivity), void 0 !== this.size && (r.size = this.size), void 0 !== this.sizeAttenuation && (r.sizeAttenuation = this.sizeAttenuation), this.blending !== n.NormalBlending && (r.blending = this.blending), this.shading !== n.SmoothShading && (r.shading = this.shading), this.side !== n.FrontSide && (r.side = this.side), this.vertexColors !== n.NoColors && (r.vertexColors = this.vertexColors), this.opacity < 1 && (r.opacity = this.opacity), this.transparent === !0 && (r.transparent = this.transparent), this.alphaTest > 0 && (r.alphaTest = this.alphaTest), this.premultipliedAlpha === !0 && (r.premultipliedAlpha = this.premultipliedAlpha), this.wireframe === !0 && (r.wireframe = this.wireframe), this.wireframeLinewidth > 1 && (r.wireframeLinewidth = this.wireframeLinewidth), i) {
                        var o = e(t.textures),
                            a = e(t.images);
                        o.length > 0 && (r.textures = o), a.length > 0 && (r.images = a)
                    }
                    return r
                },
                clone: function() {
                    return (new this.constructor).copy(this)
                },
                copy: function(t) {
                    this.name = t.name, this.fog = t.fog, this.lights = t.lights, this.blending = t.blending, this.side = t.side, this.vertexColors = t.vertexColors, this.opacity = t.opacity, this.transparent = t.transparent, this.blendSrc = t.blendSrc, this.blendDst = t.blendDst, this.blendEquation = t.blendEquation, this.blendSrcAlpha = t.blendSrcAlpha, this.blendDstAlpha = t.blendDstAlpha, this.blendEquationAlpha = t.blendEquationAlpha, this.depthFunc = t.depthFunc, this.depthTest = t.depthTest, this.depthWrite = t.depthWrite, this.colorWrite = t.colorWrite, this.precision = t.precision, this.polygonOffset = t.polygonOffset, this.polygonOffsetFactor = t.polygonOffsetFactor, this.polygonOffsetUnits = t.polygonOffsetUnits, this.alphaTest = t.alphaTest, this.premultipliedAlpha = t.premultipliedAlpha, this.overdraw = t.overdraw, this.visible = t.visible, this.clipShadows = t.clipShadows;
                    var e = t.clippingPlanes,
                        i = null;
                    if (null !== e) {
                        var n = e.length;
                        i = new Array(n);
                        for (var r = 0; r !== n; ++r) i[r] = e[r].clone()
                    }
                    return this.clippingPlanes = i, this
                },
                update: function() {
                    this.dispatchEvent({
                        type: "update"
                    })
                },
                dispose: function() {
                    this.dispatchEvent({
                        type: "dispose"
                    })
                }
            }, Object.assign(n.Material.prototype, n.EventDispatcher.prototype), n.MaterialIdCount = 0, n.LineBasicMaterial = function(t) {
                n.Material.call(this), this.type = "LineBasicMaterial", this.color = new n.Color(16777215), this.linewidth = 1, this.linecap = "round", this.linejoin = "round", this.lights = !1, this.setValues(t)
            }, n.LineBasicMaterial.prototype = Object.create(n.Material.prototype), n.LineBasicMaterial.prototype.constructor = n.LineBasicMaterial, n.LineBasicMaterial.prototype.copy = function(t) {
                return n.Material.prototype.copy.call(this, t), this.color.copy(t.color), this.linewidth = t.linewidth, this.linecap = t.linecap, this.linejoin = t.linejoin, this
            }, n.LineDashedMaterial = function(t) {
                n.Material.call(this), this.type = "LineDashedMaterial", this.color = new n.Color(16777215), this.linewidth = 1, this.scale = 1, this.dashSize = 3, this.gapSize = 1, this.lights = !1, this.setValues(t)
            }, n.LineDashedMaterial.prototype = Object.create(n.Material.prototype), n.LineDashedMaterial.prototype.constructor = n.LineDashedMaterial, n.LineDashedMaterial.prototype.copy = function(t) {
                return n.Material.prototype.copy.call(this, t), this.color.copy(t.color), this.linewidth = t.linewidth, this.scale = t.scale, this.dashSize = t.dashSize, this.gapSize = t.gapSize, this
            }, n.MeshBasicMaterial = function(t) {
                n.Material.call(this), this.type = "MeshBasicMaterial", this.color = new n.Color(16777215), this.map = null, this.aoMap = null, this.aoMapIntensity = 1, this.specularMap = null, this.alphaMap = null, this.envMap = null, this.combine = n.MultiplyOperation, this.reflectivity = 1, this.refractionRatio = .98, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.skinning = !1, this.morphTargets = !1, this.lights = !1, this.setValues(t)
            }, n.MeshBasicMaterial.prototype = Object.create(n.Material.prototype), n.MeshBasicMaterial.prototype.constructor = n.MeshBasicMaterial, n.MeshBasicMaterial.prototype.copy = function(t) {
                return n.Material.prototype.copy.call(this, t), this.color.copy(t.color), this.map = t.map, this.aoMap = t.aoMap, this.aoMapIntensity = t.aoMapIntensity, this.specularMap = t.specularMap, this.alphaMap = t.alphaMap, this.envMap = t.envMap, this.combine = t.combine, this.reflectivity = t.reflectivity, this.refractionRatio = t.refractionRatio, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this.wireframeLinecap = t.wireframeLinecap, this.wireframeLinejoin = t.wireframeLinejoin, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this
            }, n.MeshDepthMaterial = function(t) {
                n.Material.call(this), this.type = "MeshDepthMaterial", this.depthPacking = n.BasicDepthPacking, this.skinning = !1, this.morphTargets = !1, this.map = null, this.alphaMap = null, this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.wireframe = !1, this.wireframeLinewidth = 1, this.fog = !1, this.lights = !1, this.setValues(t)
            }, n.MeshDepthMaterial.prototype = Object.create(n.Material.prototype), n.MeshDepthMaterial.prototype.constructor = n.MeshDepthMaterial, n.MeshDepthMaterial.prototype.copy = function(t) {
                return n.Material.prototype.copy.call(this, t), this.depthPacking = t.depthPacking, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this.map = t.map, this.alphaMap = t.alphaMap, this.displacementMap = t.displacementMap, this.displacementScale = t.displacementScale, this.displacementBias = t.displacementBias, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this
            }, n.MeshLambertMaterial = function(t) {
                n.Material.call(this), this.type = "MeshLambertMaterial", this.color = new n.Color(16777215), this.map = null, this.lightMap = null, this.lightMapIntensity = 1, this.aoMap = null, this.aoMapIntensity = 1, this.emissive = new n.Color(0), this.emissiveIntensity = 1, this.emissiveMap = null, this.specularMap = null, this.alphaMap = null, this.envMap = null, this.combine = n.MultiplyOperation, this.reflectivity = 1, this.refractionRatio = .98, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.skinning = !1, this.morphTargets = !1, this.morphNormals = !1, this.setValues(t)
            }, n.MeshLambertMaterial.prototype = Object.create(n.Material.prototype), n.MeshLambertMaterial.prototype.constructor = n.MeshLambertMaterial, n.MeshLambertMaterial.prototype.copy = function(t) {
                return n.Material.prototype.copy.call(this, t), this.color.copy(t.color), this.map = t.map, this.lightMap = t.lightMap, this.lightMapIntensity = t.lightMapIntensity, this.aoMap = t.aoMap, this.aoMapIntensity = t.aoMapIntensity, this.emissive.copy(t.emissive), this.emissiveMap = t.emissiveMap, this.emissiveIntensity = t.emissiveIntensity,
                    this.specularMap = t.specularMap, this.alphaMap = t.alphaMap, this.envMap = t.envMap, this.combine = t.combine, this.reflectivity = t.reflectivity, this.refractionRatio = t.refractionRatio, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this.wireframeLinecap = t.wireframeLinecap, this.wireframeLinejoin = t.wireframeLinejoin, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this.morphNormals = t.morphNormals, this
            }, n.MeshNormalMaterial = function(t) {
                n.Material.call(this, t), this.type = "MeshNormalMaterial", this.wireframe = !1, this.wireframeLinewidth = 1, this.fog = !1, this.lights = !1, this.morphTargets = !1, this.setValues(t)
            }, n.MeshNormalMaterial.prototype = Object.create(n.Material.prototype), n.MeshNormalMaterial.prototype.constructor = n.MeshNormalMaterial, n.MeshNormalMaterial.prototype.copy = function(t) {
                return n.Material.prototype.copy.call(this, t), this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this
            }, n.MeshPhongMaterial = function(t) {
                n.Material.call(this), this.type = "MeshPhongMaterial", this.color = new n.Color(16777215), this.specular = new n.Color(1118481), this.shininess = 30, this.map = null, this.lightMap = null, this.lightMapIntensity = 1, this.aoMap = null, this.aoMapIntensity = 1, this.emissive = new n.Color(0), this.emissiveIntensity = 1, this.emissiveMap = null, this.bumpMap = null, this.bumpScale = 1, this.normalMap = null, this.normalScale = new n.Vector2(1, 1), this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.specularMap = null, this.alphaMap = null, this.envMap = null, this.combine = n.MultiplyOperation, this.reflectivity = 1, this.refractionRatio = .98, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.skinning = !1, this.morphTargets = !1, this.morphNormals = !1, this.setValues(t)
            }, n.MeshPhongMaterial.prototype = Object.create(n.Material.prototype), n.MeshPhongMaterial.prototype.constructor = n.MeshPhongMaterial, n.MeshPhongMaterial.prototype.copy = function(t) {
                return n.Material.prototype.copy.call(this, t), this.color.copy(t.color), this.specular.copy(t.specular), this.shininess = t.shininess, this.map = t.map, this.lightMap = t.lightMap, this.lightMapIntensity = t.lightMapIntensity, this.aoMap = t.aoMap, this.aoMapIntensity = t.aoMapIntensity, this.emissive.copy(t.emissive), this.emissiveMap = t.emissiveMap, this.emissiveIntensity = t.emissiveIntensity, this.bumpMap = t.bumpMap, this.bumpScale = t.bumpScale, this.normalMap = t.normalMap, this.normalScale.copy(t.normalScale), this.displacementMap = t.displacementMap, this.displacementScale = t.displacementScale, this.displacementBias = t.displacementBias, this.specularMap = t.specularMap, this.alphaMap = t.alphaMap, this.envMap = t.envMap, this.combine = t.combine, this.reflectivity = t.reflectivity, this.refractionRatio = t.refractionRatio, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this.wireframeLinecap = t.wireframeLinecap, this.wireframeLinejoin = t.wireframeLinejoin, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this.morphNormals = t.morphNormals, this
            }, n.MeshStandardMaterial = function(t) {
                n.Material.call(this), this.defines = {
                    STANDARD: ""
                }, this.type = "MeshStandardMaterial", this.color = new n.Color(16777215), this.roughness = .5, this.metalness = .5, this.map = null, this.lightMap = null, this.lightMapIntensity = 1, this.aoMap = null, this.aoMapIntensity = 1, this.emissive = new n.Color(0), this.emissiveIntensity = 1, this.emissiveMap = null, this.bumpMap = null, this.bumpScale = 1, this.normalMap = null, this.normalScale = new n.Vector2(1, 1), this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.roughnessMap = null, this.metalnessMap = null, this.alphaMap = null, this.envMap = null, this.envMapIntensity = 1, this.refractionRatio = .98, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.skinning = !1, this.morphTargets = !1, this.morphNormals = !1, this.setValues(t)
            }, n.MeshStandardMaterial.prototype = Object.create(n.Material.prototype), n.MeshStandardMaterial.prototype.constructor = n.MeshStandardMaterial, n.MeshStandardMaterial.prototype.copy = function(t) {
                return n.Material.prototype.copy.call(this, t), this.defines = {
                    STANDARD: ""
                }, this.color.copy(t.color), this.roughness = t.roughness, this.metalness = t.metalness, this.map = t.map, this.lightMap = t.lightMap, this.lightMapIntensity = t.lightMapIntensity, this.aoMap = t.aoMap, this.aoMapIntensity = t.aoMapIntensity, this.emissive.copy(t.emissive), this.emissiveMap = t.emissiveMap, this.emissiveIntensity = t.emissiveIntensity, this.bumpMap = t.bumpMap, this.bumpScale = t.bumpScale, this.normalMap = t.normalMap, this.normalScale.copy(t.normalScale), this.displacementMap = t.displacementMap, this.displacementScale = t.displacementScale, this.displacementBias = t.displacementBias, this.roughnessMap = t.roughnessMap, this.metalnessMap = t.metalnessMap, this.alphaMap = t.alphaMap, this.envMap = t.envMap, this.envMapIntensity = t.envMapIntensity, this.refractionRatio = t.refractionRatio, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this.wireframeLinecap = t.wireframeLinecap, this.wireframeLinejoin = t.wireframeLinejoin, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this.morphNormals = t.morphNormals, this
            }, n.MeshPhysicalMaterial = function(t) {
                n.MeshStandardMaterial.call(this), this.defines = {
                    PHYSICAL: ""
                }, this.type = "MeshPhysicalMaterial", this.reflectivity = .5, this.setValues(t)
            }, n.MeshPhysicalMaterial.prototype = Object.create(n.MeshStandardMaterial.prototype), n.MeshPhysicalMaterial.prototype.constructor = n.MeshPhysicalMaterial, n.MeshPhysicalMaterial.prototype.copy = function(t) {
                return n.MeshStandardMaterial.prototype.copy.call(this, t), this.defines = {
                    PHYSICAL: ""
                }, this.reflectivity = t.reflectivity, this
            }, n.MultiMaterial = function(t) {
                this.uuid = n.Math.generateUUID(), this.type = "MultiMaterial", this.materials = t instanceof Array ? t : [], this.visible = !0
            }, n.MultiMaterial.prototype = {
                constructor: n.MultiMaterial,
                toJSON: function(t) {
                    for (var e = {
                            metadata: {
                                version: 4.2,
                                type: "material",
                                generator: "MaterialExporter"
                            },
                            uuid: this.uuid,
                            type: this.type,
                            materials: []
                        }, i = this.materials, n = 0, r = i.length; n < r; n++) {
                        var o = i[n].toJSON(t);
                        delete o.metadata, e.materials.push(o)
                    }
                    return e.visible = this.visible, e
                },
                clone: function() {
                    for (var t = new this.constructor, e = 0; e < this.materials.length; e++) t.materials.push(this.materials[e].clone());
                    return t.visible = this.visible, t
                }
            }, n.PointsMaterial = function(t) {
                n.Material.call(this), this.type = "PointsMaterial", this.color = new n.Color(16777215), this.map = null, this.size = 1, this.sizeAttenuation = !0, this.lights = !1, this.setValues(t)
            }, n.PointsMaterial.prototype = Object.create(n.Material.prototype), n.PointsMaterial.prototype.constructor = n.PointsMaterial, n.PointsMaterial.prototype.copy = function(t) {
                return n.Material.prototype.copy.call(this, t), this.color.copy(t.color), this.map = t.map, this.size = t.size, this.sizeAttenuation = t.sizeAttenuation, this
            }, n.ShaderMaterial = function(t) {
                n.Material.call(this), this.type = "ShaderMaterial", this.defines = {}, this.uniforms = {}, this.vertexShader = "void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}", this.fragmentShader = "void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}", this.linewidth = 1, this.wireframe = !1, this.wireframeLinewidth = 1, this.fog = !1, this.lights = !1, this.clipping = !1, this.skinning = !1, this.morphTargets = !1, this.morphNormals = !1, this.extensions = {
                    derivatives: !1,
                    fragDepth: !1,
                    drawBuffers: !1,
                    shaderTextureLOD: !1
                }, this.defaultAttributeValues = {
                    color: [1, 1, 1],
                    uv: [0, 0],
                    uv2: [0, 0]
                }, this.index0AttributeName = void 0, void 0 !== t && (void 0 !== t.attributes && console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."), this.setValues(t))
            }, n.ShaderMaterial.prototype = Object.create(n.Material.prototype), n.ShaderMaterial.prototype.constructor = n.ShaderMaterial, n.ShaderMaterial.prototype.copy = function(t) {
                return n.Material.prototype.copy.call(this, t), this.fragmentShader = t.fragmentShader, this.vertexShader = t.vertexShader, this.uniforms = n.UniformsUtils.clone(t.uniforms), this.defines = t.defines, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this.lights = t.lights, this.clipping = t.clipping, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this.morphNormals = t.morphNormals, this.extensions = t.extensions, this
            }, n.ShaderMaterial.prototype.toJSON = function(t) {
                var e = n.Material.prototype.toJSON.call(this, t);
                return e.uniforms = this.uniforms, e.vertexShader = this.vertexShader, e.fragmentShader = this.fragmentShader, e
            }, n.RawShaderMaterial = function(t) {
                n.ShaderMaterial.call(this, t), this.type = "RawShaderMaterial"
            }, n.RawShaderMaterial.prototype = Object.create(n.ShaderMaterial.prototype), n.RawShaderMaterial.prototype.constructor = n.RawShaderMaterial, n.SpriteMaterial = function(t) {
                n.Material.call(this), this.type = "SpriteMaterial", this.color = new n.Color(16777215), this.map = null, this.rotation = 0, this.fog = !1, this.lights = !1, this.setValues(t)
            }, n.SpriteMaterial.prototype = Object.create(n.Material.prototype), n.SpriteMaterial.prototype.constructor = n.SpriteMaterial, n.SpriteMaterial.prototype.copy = function(t) {
                return n.Material.prototype.copy.call(this, t), this.color.copy(t.color), this.map = t.map, this.rotation = t.rotation, this
            }, n.ShadowMaterial = function() {
                n.ShaderMaterial.call(this, {
                    uniforms: n.UniformsUtils.merge([n.UniformsLib.lights, {
                        opacity: {
                            value: 1
                        }
                    }]),
                    vertexShader: n.ShaderChunk.shadow_vert,
                    fragmentShader: n.ShaderChunk.shadow_frag
                }), this.lights = !0, this.transparent = !0, Object.defineProperties(this, {
                    opacity: {
                        enumerable: !0,
                        get: function() {
                            return this.uniforms.opacity.value
                        },
                        set: function(t) {
                            this.uniforms.opacity.value = t
                        }
                    }
                })
            }, n.ShadowMaterial.prototype = Object.create(n.ShaderMaterial.prototype), n.ShadowMaterial.prototype.constructor = n.ShadowMaterial, n.Texture = function(t, e, i, r, o, a, s, l, u, c) {
                Object.defineProperty(this, "id", {
                    value: n.TextureIdCount++
                }), this.uuid = n.Math.generateUUID(), this.name = "", this.sourceFile = "", this.image = void 0 !== t ? t : n.Texture.DEFAULT_IMAGE, this.mipmaps = [], this.mapping = void 0 !== e ? e : n.Texture.DEFAULT_MAPPING, this.wrapS = void 0 !== i ? i : n.ClampToEdgeWrapping, this.wrapT = void 0 !== r ? r : n.ClampToEdgeWrapping, this.magFilter = void 0 !== o ? o : n.LinearFilter, this.minFilter = void 0 !== a ? a : n.LinearMipMapLinearFilter, this.anisotropy = void 0 !== u ? u : 1, this.format = void 0 !== s ? s : n.RGBAFormat, this.type = void 0 !== l ? l : n.UnsignedByteType, this.offset = new n.Vector2(0, 0), this.repeat = new n.Vector2(1, 1), this.generateMipmaps = !0, this.premultiplyAlpha = !1, this.flipY = !0, this.unpackAlignment = 4, this.encoding = void 0 !== c ? c : n.LinearEncoding, this.version = 0, this.onUpdate = null
            }, n.Texture.DEFAULT_IMAGE = void 0, n.Texture.DEFAULT_MAPPING = n.UVMapping, n.Texture.prototype = {
                constructor: n.Texture,
                set needsUpdate(t) {
                    t === !0 && this.version++
                },
                clone: function() {
                    return (new this.constructor).copy(this)
                },
                copy: function(t) {
                    return this.image = t.image, this.mipmaps = t.mipmaps.slice(0), this.mapping = t.mapping, this.wrapS = t.wrapS, this.wrapT = t.wrapT, this.magFilter = t.magFilter, this.minFilter = t.minFilter, this.anisotropy = t.anisotropy, this.format = t.format, this.type = t.type, this.offset.copy(t.offset), this.repeat.copy(t.repeat), this.generateMipmaps = t.generateMipmaps, this.premultiplyAlpha = t.premultiplyAlpha, this.flipY = t.flipY, this.unpackAlignment = t.unpackAlignment, this.encoding = t.encoding, this
                },
                toJSON: function(t) {
                    if (void 0 !== t.textures[this.uuid]) return t.textures[this.uuid];
                    var e = {
                        metadata: {
                            version: 4.4,
                            type: "Texture",
                            generator: "Texture.toJSON"
                        },
                        uuid: this.uuid,
                        name: this.name,
                        mapping: this.mapping,
                        repeat: [this.repeat.x, this.repeat.y],
                        offset: [this.offset.x, this.offset.y],
                        wrap: [this.wrapS, this.wrapT],
                        minFilter: this.minFilter,
                        magFilter: this.magFilter,
                        anisotropy: this.anisotropy
                    };
                    if (void 0 !== this.image) {
                        var i = this.image;
                        void 0 === i.uuid && (i.uuid = n.Math.generateUUID()), void 0 === t.images[i.uuid] && (t.images[i.uuid] = {
                            uuid: i.uuid,
                            url: function(t) {
                                var e;
                                return void 0 !== t.toDataURL ? e = t : (e = document.createElement("canvas"), e.width = t.width, e.height = t.height, e.getContext("2d").drawImage(t, 0, 0, t.width, t.height)), e.width > 2048 || e.height > 2048 ? e.toDataURL("image/jpeg", .6) : e.toDataURL("image/png")
                            }(i)
                        }), e.image = i.uuid
                    }
                    return t.textures[this.uuid] = e, e
                },
                dispose: function() {
                    this.dispatchEvent({
                        type: "dispose"
                    })
                },
                transformUv: function(t) {
                    if (this.mapping === n.UVMapping) {
                        if (t.multiply(this.repeat), t.add(this.offset), t.x < 0 || t.x > 1) switch (this.wrapS) {
                            case n.RepeatWrapping:
                                t.x = t.x - Math.floor(t.x);
                                break;
                            case n.ClampToEdgeWrapping:
                                t.x = t.x < 0 ? 0 : 1;
                                break;
                            case n.MirroredRepeatWrapping:
                                1 === Math.abs(Math.floor(t.x) % 2) ? t.x = Math.ceil(t.x) - t.x : t.x = t.x - Math.floor(t.x)
                        }
                        if (t.y < 0 || t.y > 1) switch (this.wrapT) {
                            case n.RepeatWrapping:
                                t.y = t.y - Math.floor(t.y);
                                break;
                            case n.ClampToEdgeWrapping:
                                t.y = t.y < 0 ? 0 : 1;
                                break;
                            case n.MirroredRepeatWrapping:
                                1 === Math.abs(Math.floor(t.y) % 2) ? t.y = Math.ceil(t.y) - t.y : t.y = t.y - Math.floor(t.y)
                        }
                        this.flipY && (t.y = 1 - t.y)
                    }
                }
            }, Object.assign(n.Texture.prototype, n.EventDispatcher.prototype), n.TextureIdCount = 0, n.DepthTexture = function(t, e, i, r, o, a, s, l, u) {
                n.Texture.call(this, null, r, o, a, s, l, n.DepthFormat, i, u), this.image = {
                    width: t,
                    height: e
                }, this.type = void 0 !== i ? i : n.UnsignedShortType, this.magFilter = void 0 !== s ? s : n.NearestFilter, this.minFilter = void 0 !== l ? l : n.NearestFilter, this.flipY = !1, this.generateMipmaps = !1
            }, n.DepthTexture.prototype = Object.create(n.Texture.prototype), n.DepthTexture.prototype.constructor = n.DepthTexture, n.CanvasTexture = function(t, e, i, r, o, a, s, l, u) {
                n.Texture.call(this, t, e, i, r, o, a, s, l, u), this.needsUpdate = !0
            }, n.CanvasTexture.prototype = Object.create(n.Texture.prototype), n.CanvasTexture.prototype.constructor = n.CanvasTexture, n.CubeTexture = function(t, e, i, r, o, a, s, l, u, c) {
                t = void 0 !== t ? t : [], e = void 0 !== e ? e : n.CubeReflectionMapping, n.Texture.call(this, t, e, i, r, o, a, s, l, u, c), this.flipY = !1
            }, n.CubeTexture.prototype = Object.create(n.Texture.prototype), n.CubeTexture.prototype.constructor = n.CubeTexture, Object.defineProperty(n.CubeTexture.prototype, "images", {
                get: function() {
                    return this.image
                },
                set: function(t) {
                    this.image = t
                }
            }), n.CompressedTexture = function(t, e, i, r, o, a, s, l, u, c, h, d) {
                n.Texture.call(this, null, a, s, l, u, c, r, o, h, d), this.image = {
                    width: e,
                    height: i
                }, this.mipmaps = t, this.flipY = !1, this.generateMipmaps = !1
            }, n.CompressedTexture.prototype = Object.create(n.Texture.prototype), n.CompressedTexture.prototype.constructor = n.CompressedTexture, n.DataTexture = function(t, e, i, r, o, a, s, l, u, c, h, d) {
                n.Texture.call(this, null, a, s, l, u, c, r, o, h, d), this.image = {
                    data: t,
                    width: e,
                    height: i
                }, this.magFilter = void 0 !== u ? u : n.NearestFilter, this.minFilter = void 0 !== c ? c : n.NearestFilter, this.flipY = !1, this.generateMipmaps = !1
            }, n.DataTexture.prototype = Object.create(n.Texture.prototype), n.DataTexture.prototype.constructor = n.DataTexture, n.VideoTexture = function(t, e, i, r, o, a, s, l, u) {
                function c() {
                    requestAnimationFrame(c), t.readyState >= t.HAVE_CURRENT_DATA && (h.needsUpdate = !0)
                }
                n.Texture.call(this, t, e, i, r, o, a, s, l, u), this.generateMipmaps = !1;
                var h = this;
                c()
            }, n.VideoTexture.prototype = Object.create(n.Texture.prototype), n.VideoTexture.prototype.constructor = n.VideoTexture, n.Group = function() {
                n.Object3D.call(this), this.type = "Group"
            }, n.Group.prototype = Object.assign(Object.create(n.Object3D.prototype), {
                constructor: n.Group
            }), n.Points = function(t, e) {
                n.Object3D.call(this), this.type = "Points", this.geometry = void 0 !== t ? t : new n.BufferGeometry, this.material = void 0 !== e ? e : new n.PointsMaterial({
                    color: 16777215 * Math.random()
                })
            }, n.Points.prototype = Object.assign(Object.create(n.Object3D.prototype), {
                constructor: n.Points,
                raycast: function() {
                    var t = new n.Matrix4,
                        e = new n.Ray,
                        i = new n.Sphere;
                    return function(r, o) {
                        function a(t, i) {
                            var n = e.distanceSqToPoint(t);
                            if (n < d) {
                                var a = e.closestPointToPoint(t);
                                a.applyMatrix4(u);
                                var l = r.ray.origin.distanceTo(a);
                                if (l < r.near || l > r.far) return;
                                o.push({
                                    distance: l,
                                    distanceToRay: Math.sqrt(n),
                                    point: a.clone(),
                                    index: i,
                                    face: null,
                                    object: s
                                })
                            }
                        }
                        var s = this,
                            l = this.geometry,
                            u = this.matrixWorld,
                            c = r.params.Points.threshold;
                        if (null === l.boundingSphere && l.computeBoundingSphere(), i.copy(l.boundingSphere), i.applyMatrix4(u), r.ray.intersectsSphere(i) !== !1) {
                            t.getInverse(u), e.copy(r.ray).applyMatrix4(t);
                            var h = c / ((this.scale.x + this.scale.y + this.scale.z) / 3),
                                d = h * h,
                                p = new n.Vector3;
                            if (l instanceof n.BufferGeometry) {
                                var f = l.index,
                                    m = l.attributes,
                                    g = m.position.array;
                                if (null !== f)
                                    for (var v = f.array, y = 0, _ = v.length; y < _; y++) {
                                        var b = v[y];
                                        p.fromArray(g, 3 * b), a(p, b)
                                    } else
                                        for (var y = 0, x = g.length / 3; y < x; y++) p.fromArray(g, 3 * y), a(p, y)
                            } else
                                for (var w = l.vertices, y = 0, x = w.length; y < x; y++) a(w[y], y)
                        }
                    }
                }(),
                clone: function() {
                    return new this.constructor(this.geometry, this.material).copy(this)
                }
            }), n.Line = function(t, e, i) {
                if (1 === i) return console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."), new n.LineSegments(t, e);
                n.Object3D.call(this), this.type = "Line", this.geometry = void 0 !== t ? t : new n.BufferGeometry, this.material = void 0 !== e ? e : new n.LineBasicMaterial({
                    color: 16777215 * Math.random()
                })
            }, n.Line.prototype = Object.assign(Object.create(n.Object3D.prototype), {
                constructor: n.Line,
                raycast: function() {
                    var t = new n.Matrix4,
                        e = new n.Ray,
                        i = new n.Sphere;
                    return function(r, o) {
                        var a = r.linePrecision,
                            s = a * a,
                            l = this.geometry,
                            u = this.matrixWorld;
                        if (null === l.boundingSphere && l.computeBoundingSphere(), i.copy(l.boundingSphere), i.applyMatrix4(u), r.ray.intersectsSphere(i) !== !1) {
                            t.getInverse(u), e.copy(r.ray).applyMatrix4(t);
                            var c = new n.Vector3,
                                h = new n.Vector3,
                                d = new n.Vector3,
                                p = new n.Vector3,
                                f = this instanceof n.LineSegments ? 2 : 1;
                            if (l instanceof n.BufferGeometry) {
                                var m = l.index,
                                    g = l.attributes,
                                    v = g.position.array;
                                if (null !== m)
                                    for (var y = m.array, _ = 0, b = y.length - 1; _ < b; _ += f) {
                                        var x = y[_],
                                            w = y[_ + 1];
                                        c.fromArray(v, 3 * x), h.fromArray(v, 3 * w);
                                        var T = e.distanceSqToSegment(c, h, p, d);
                                        if (!(T > s)) {
                                            p.applyMatrix4(this.matrixWorld);
                                            var S = r.ray.origin.distanceTo(p);
                                            S < r.near || S > r.far || o.push({
                                                distance: S,
                                                point: d.clone().applyMatrix4(this.matrixWorld),
                                                index: _,
                                                face: null,
                                                faceIndex: null,
                                                object: this
                                            })
                                        }
                                    } else
                                        for (var _ = 0, b = v.length / 3 - 1; _ < b; _ += f) {
                                            c.fromArray(v, 3 * _), h.fromArray(v, 3 * _ + 3);
                                            var T = e.distanceSqToSegment(c, h, p, d);
                                            if (!(T > s)) {
                                                p.applyMatrix4(this.matrixWorld);
                                                var S = r.ray.origin.distanceTo(p);
                                                S < r.near || S > r.far || o.push({
                                                    distance: S,
                                                    point: d.clone().applyMatrix4(this.matrixWorld),
                                                    index: _,
                                                    face: null,
                                                    faceIndex: null,
                                                    object: this
                                                })
                                            }
                                        }
                            } else if (l instanceof n.Geometry)
                                for (var M = l.vertices, E = M.length, _ = 0; _ < E - 1; _ += f) {
                                    var T = e.distanceSqToSegment(M[_], M[_ + 1], p, d);
                                    if (!(T > s)) {
                                        p.applyMatrix4(this.matrixWorld);
                                        var S = r.ray.origin.distanceTo(p);
                                        S < r.near || S > r.far || o.push({
                                            distance: S,
                                            point: d.clone().applyMatrix4(this.matrixWorld),
                                            index: _,
                                            face: null,
                                            faceIndex: null,
                                            object: this
                                        })
                                    }
                                }
                        }
                    }
                }(),
                clone: function() {
                    return new this.constructor(this.geometry, this.material).copy(this)
                }
            }), n.LineSegments = function(t, e) {
                n.Line.call(this, t, e), this.type = "LineSegments"
            }, n.LineSegments.prototype = Object.assign(Object.create(n.Line.prototype), {
                constructor: n.LineSegments
            }), n.Mesh = function(t, e) {
                n.Object3D.call(this), this.type = "Mesh", this.geometry = void 0 !== t ? t : new n.BufferGeometry, this.material = void 0 !== e ? e : new n.MeshBasicMaterial({
                    color: 16777215 * Math.random()
                }), this.drawMode = n.TrianglesDrawMode, this.updateMorphTargets()
            }, n.Mesh.prototype = Object.assign(Object.create(n.Object3D.prototype), {
                constructor: n.Mesh,
                setDrawMode: function(t) {
                    this.drawMode = t
                },
                updateMorphTargets: function() {
                    if (void 0 !== this.geometry.morphTargets && this.geometry.morphTargets.length > 0) {
                        this.morphTargetBase = -1, this.morphTargetInfluences = [], this.morphTargetDictionary = {};
                        for (var t = 0, e = this.geometry.morphTargets.length; t < e; t++) this.morphTargetInfluences.push(0), this.morphTargetDictionary[this.geometry.morphTargets[t].name] = t
                    }
                },
                getMorphTargetIndexByName: function(t) {
                    return void 0 !== this.morphTargetDictionary[t] ? this.morphTargetDictionary[t] : (console.warn("THREE.Mesh.getMorphTargetIndexByName: morph target " + t + " does not exist. Returning 0."), 0)
                },
                raycast: function() {
                    function t(t, e, i, r, o, a, s) {
                        return n.Triangle.barycoordFromPoint(t, e, i, r, g), o.multiplyScalar(g.x), a.multiplyScalar(g.y), s.multiplyScalar(g.z), o.add(a).add(s), o.clone()
                    }

                    function e(t, e, i, r, o, a, s) {
                        var l = t.material;
                        if (null === (l.side === n.BackSide ? i.intersectTriangle(a, o, r, !0, s) : i.intersectTriangle(r, o, a, l.side !== n.DoubleSide, s))) return null;
                        y.copy(s), y.applyMatrix4(t.matrixWorld);
                        var u = e.ray.origin.distanceTo(y);
                        return u < e.near || u > e.far ? null : {
                            distance: u,
                            point: y.clone(),
                            object: t
                        }
                    }

                    function i(i, r, o, a, c, h, d, g) {
                        s.fromArray(a, 3 * h), l.fromArray(a, 3 * d), u.fromArray(a, 3 * g);
                        var y = e(i, r, o, s, l, u, v);
                        return y && (c && (p.fromArray(c, 2 * h), f.fromArray(c, 2 * d), m.fromArray(c, 2 * g), y.uv = t(v, s, l, u, p, f, m)), y.face = new n.Face3(h, d, g, n.Triangle.normal(s, l, u)), y.faceIndex = h), y
                    }
                    var r = new n.Matrix4,
                        o = new n.Ray,
                        a = new n.Sphere,
                        s = new n.Vector3,
                        l = new n.Vector3,
                        u = new n.Vector3,
                        c = new n.Vector3,
                        h = new n.Vector3,
                        d = new n.Vector3,
                        p = new n.Vector2,
                        f = new n.Vector2,
                        m = new n.Vector2,
                        g = new n.Vector3,
                        v = new n.Vector3,
                        y = new n.Vector3;
                    return function(g, y) {
                        var _ = this.geometry,
                            b = this.material,
                            x = this.matrixWorld;
                        if (void 0 !== b && (null === _.boundingSphere && _.computeBoundingSphere(), a.copy(_.boundingSphere), a.applyMatrix4(x), g.ray.intersectsSphere(a) !== !1 && (r.getInverse(x), o.copy(g.ray).applyMatrix4(r), null === _.boundingBox || o.intersectsBox(_.boundingBox) !== !1))) {
                            var w, T;
                            if (_ instanceof n.BufferGeometry) {
                                var S, M, E, C = _.index,
                                    A = _.attributes,
                                    P = A.position.array;
                                if (void 0 !== A.uv && (w = A.uv.array), null !== C)
                                    for (var L = C.array, O = 0, k = L.length; O < k; O += 3) S = L[O], M = L[O + 1], E = L[O + 2], (T = i(this, g, o, P, w, S, M, E)) && (T.faceIndex = Math.floor(O / 3), y.push(T));
                                else
                                    for (var O = 0, k = P.length; O < k; O += 9) S = O / 3, M = S + 1, E = S + 2, (T = i(this, g, o, P, w, S, M, E)) && (T.index = S, y.push(T))
                            } else if (_ instanceof n.Geometry) {
                                var R, I, D, B = b instanceof n.MultiMaterial,
                                    z = B === !0 ? b.materials : null,
                                    F = _.vertices,
                                    N = _.faces,
                                    U = _.faceVertexUvs[0];
                                U.length > 0 && (w = U);
                                for (var G = 0, V = N.length; G < V; G++) {
                                    var j = N[G],
                                        H = B === !0 ? z[j.materialIndex] : b;
                                    if (void 0 !== H) {
                                        if (R = F[j.a], I = F[j.b], D = F[j.c], H.morphTargets === !0) {
                                            var W = _.morphTargets,
                                                X = this.morphTargetInfluences;
                                            s.set(0, 0, 0), l.set(0, 0, 0), u.set(0, 0, 0);
                                            for (var q = 0, Y = W.length; q < Y; q++) {
                                                var Z = X[q];
                                                if (0 !== Z) {
                                                    var K = W[q].vertices;
                                                    s.addScaledVector(c.subVectors(K[j.a], R), Z), l.addScaledVector(h.subVectors(K[j.b], I), Z), u.addScaledVector(d.subVectors(K[j.c], D), Z)
                                                }
                                            }
                                            s.add(R), l.add(I), u.add(D), R = s, I = l, D = u
                                        }
                                        if (T = e(this, g, o, R, I, D, v)) {
                                            if (w) {
                                                var Q = w[G];
                                                p.copy(Q[0]), f.copy(Q[1]), m.copy(Q[2]), T.uv = t(v, R, I, D, p, f, m)
                                            }
                                            T.face = j, T.faceIndex = G, y.push(T)
                                        }
                                    }
                                }
                            }
                        }
                    }
                }(),
                clone: function() {
                    return new this.constructor(this.geometry, this.material).copy(this)
                }
            }), n.Bone = function(t) {
                n.Object3D.call(this), this.type = "Bone", this.skin = t
            }, n.Bone.prototype = Object.assign(Object.create(n.Object3D.prototype), {
                constructor: n.Bone,
                copy: function(t) {
                    return n.Object3D.prototype.copy.call(this, t), this.skin = t.skin, this
                }
            }), n.Skeleton = function(t, e, i) {
                if (this.useVertexTexture = void 0 === i || i, this.identityMatrix = new n.Matrix4, t = t || [], this.bones = t.slice(0), this.useVertexTexture) {
                    var r = Math.sqrt(4 * this.bones.length);
                    r = n.Math.nextPowerOfTwo(Math.ceil(r)), r = Math.max(r, 4), this.boneTextureWidth = r, this.boneTextureHeight = r, this.boneMatrices = new Float32Array(this.boneTextureWidth * this.boneTextureHeight * 4), this.boneTexture = new n.DataTexture(this.boneMatrices, this.boneTextureWidth, this.boneTextureHeight, n.RGBAFormat, n.FloatType)
                } else this.boneMatrices = new Float32Array(16 * this.bones.length);
                if (void 0 === e) this.calculateInverses();
                else if (this.bones.length === e.length) this.boneInverses = e.slice(0);
                else {
                    console.warn("THREE.Skeleton bonInverses is the wrong length."), this.boneInverses = [];
                    for (var o = 0, a = this.bones.length; o < a; o++) this.boneInverses.push(new n.Matrix4)
                }
            }, Object.assign(n.Skeleton.prototype, {
                calculateInverses: function() {
                    this.boneInverses = [];
                    for (var t = 0, e = this.bones.length; t < e; t++) {
                        var i = new n.Matrix4;
                        this.bones[t] && i.getInverse(this.bones[t].matrixWorld), this.boneInverses.push(i)
                    }
                },
                pose: function() {
                    for (var t, e = 0, i = this.bones.length; e < i; e++)(t = this.bones[e]) && t.matrixWorld.getInverse(this.boneInverses[e]);
                    for (var e = 0, i = this.bones.length; e < i; e++)(t = this.bones[e]) && (t.parent ? (t.matrix.getInverse(t.parent.matrixWorld), t.matrix.multiply(t.matrixWorld)) : t.matrix.copy(t.matrixWorld), t.matrix.decompose(t.position, t.quaternion, t.scale))
                },
                update: function() {
                    var t = new n.Matrix4;
                    return function() {
                        for (var e = 0, i = this.bones.length; e < i; e++) {
                            var n = this.bones[e] ? this.bones[e].matrixWorld : this.identityMatrix;
                            t.multiplyMatrices(n, this.boneInverses[e]), t.toArray(this.boneMatrices, 16 * e)
                        }
                        this.useVertexTexture && (this.boneTexture.needsUpdate = !0)
                    }
                }(),
                clone: function() {
                    return new n.Skeleton(this.bones, this.boneInverses, this.useVertexTexture)
                }
            }), n.SkinnedMesh = function(t, e, i) {
                n.Mesh.call(this, t, e), this.type = "SkinnedMesh", this.bindMode = "attached", this.bindMatrix = new n.Matrix4, this.bindMatrixInverse = new n.Matrix4;
                var r = [];
                if (this.geometry && void 0 !== this.geometry.bones) {
                    for (var o, a, s = 0, l = this.geometry.bones.length; s < l; ++s) a = this.geometry.bones[s], o = new n.Bone(this), r.push(o), o.name = a.name, o.position.fromArray(a.pos), o.quaternion.fromArray(a.rotq), void 0 !== a.scl && o.scale.fromArray(a.scl);
                    for (var s = 0, l = this.geometry.bones.length; s < l; ++s) a = this.geometry.bones[s], a.parent !== -1 && null !== a.parent && void 0 !== r[a.parent] ? r[a.parent].add(r[s]) : this.add(r[s])
                }
                this.normalizeSkinWeights(), this.updateMatrixWorld(!0), this.bind(new n.Skeleton(r, void 0, i), this.matrixWorld)
            }, n.SkinnedMesh.prototype = Object.assign(Object.create(n.Mesh.prototype), {
                constructor: n.SkinnedMesh,
                bind: function(t, e) {
                    this.skeleton = t, void 0 === e && (this.updateMatrixWorld(!0), this.skeleton.calculateInverses(), e = this.matrixWorld), this.bindMatrix.copy(e), this.bindMatrixInverse.getInverse(e)
                },
                pose: function() {
                    this.skeleton.pose()
                },
                normalizeSkinWeights: function() {
                    if (this.geometry instanceof n.Geometry)
                        for (var t = 0; t < this.geometry.skinWeights.length; t++) {
                            var e = this.geometry.skinWeights[t],
                                i = 1 / e.lengthManhattan();
                            i !== 1 / 0 ? e.multiplyScalar(i) : e.set(1, 0, 0, 0)
                        } else if (this.geometry instanceof n.BufferGeometry)
                            for (var r = new n.Vector4, o = this.geometry.attributes.skinWeight, t = 0; t < o.count; t++) {
                                r.x = o.getX(t), r.y = o.getY(t), r.z = o.getZ(t), r.w = o.getW(t);
                                var i = 1 / r.lengthManhattan();
                                i !== 1 / 0 ? r.multiplyScalar(i) : r.set(1, 0, 0, 0), o.setXYZW(t, r.x, r.y, r.z, r.w)
                            }
                },
                updateMatrixWorld: function(t) {
                    n.Mesh.prototype.updateMatrixWorld.call(this, !0), "attached" === this.bindMode ? this.bindMatrixInverse.getInverse(this.matrixWorld) : "detached" === this.bindMode ? this.bindMatrixInverse.getInverse(this.bindMatrix) : console.warn("THREE.SkinnedMesh unrecognized bindMode: " + this.bindMode)
                },
                clone: function() {
                    return new this.constructor(this.geometry, this.material, this.useVertexTexture).copy(this)
                }
            }), n.LOD = function() {
                n.Object3D.call(this), this.type = "LOD", Object.defineProperties(this, {
                    levels: {
                        enumerable: !0,
                        value: []
                    }
                })
            }, n.LOD.prototype = Object.assign(Object.create(n.Object3D.prototype), {
                constructor: n.LOD,
                copy: function(t) {
                    n.Object3D.prototype.copy.call(this, t, !1);
                    for (var e = t.levels, i = 0, r = e.length; i < r; i++) {
                        var o = e[i];
                        this.addLevel(o.object.clone(), o.distance)
                    }
                    return this
                },
                addLevel: function(t, e) {
                    void 0 === e && (e = 0), e = Math.abs(e);
                    for (var i = this.levels, n = 0; n < i.length && !(e < i[n].distance); n++);
                    i.splice(n, 0, {
                        distance: e,
                        object: t
                    }), this.add(t)
                },
                getObjectForDistance: function(t) {
                    for (var e = this.levels, i = 1, n = e.length; i < n && !(t < e[i].distance); i++);
                    return e[i - 1].object
                },
                raycast: function() {
                    var t = new n.Vector3;
                    return function(e, i) {
                        t.setFromMatrixPosition(this.matrixWorld);
                        var n = e.ray.origin.distanceTo(t);
                        this.getObjectForDistance(n).raycast(e, i)
                    }
                }(),
                update: function() {
                    var t = new n.Vector3,
                        e = new n.Vector3;
                    return function(i) {
                        var n = this.levels;
                        if (n.length > 1) {
                            t.setFromMatrixPosition(i.matrixWorld), e.setFromMatrixPosition(this.matrixWorld);
                            var r = t.distanceTo(e);
                            n[0].object.visible = !0;
                            for (var o = 1, a = n.length; o < a && r >= n[o].distance; o++) n[o - 1].object.visible = !1, n[o].object.visible = !0;
                            for (; o < a; o++) n[o].object.visible = !1
                        }
                    }
                }(),
                toJSON: function(t) {
                    var e = n.Object3D.prototype.toJSON.call(this, t);
                    e.object.levels = [];
                    for (var i = this.levels, r = 0, o = i.length; r < o; r++) {
                        var a = i[r];
                        e.object.levels.push({
                            object: a.object.uuid,
                            distance: a.distance
                        })
                    }
                    return e
                }
            }), n.Sprite = function(t) {
                n.Object3D.call(this), this.type = "Sprite", this.material = void 0 !== t ? t : new n.SpriteMaterial
            }, n.Sprite.prototype = Object.assign(Object.create(n.Object3D.prototype), {
                constructor: n.Sprite,
                raycast: function() {
                    var t = new n.Vector3;
                    return function(e, i) {
                        t.setFromMatrixPosition(this.matrixWorld);
                        var n = e.ray.distanceSqToPoint(t);
                        n > this.scale.x * this.scale.y / 4 || i.push({
                            distance: Math.sqrt(n),
                            point: this.position,
                            face: null,
                            object: this
                        })
                    }
                }(),
                clone: function() {
                    return new this.constructor(this.material).copy(this)
                }
            }), n.LensFlare = function(t, e, i, r, o) {
                n.Object3D.call(this), this.lensFlares = [], this.positionScreen = new n.Vector3, this.customUpdateCallback = void 0, void 0 !== t && this.add(t, e, i, r, o)
            }, n.LensFlare.prototype = Object.assign(Object.create(n.Object3D.prototype), {
                constructor: n.LensFlare,
                copy: function(t) {
                    n.Object3D.prototype.copy.call(this, t), this.positionScreen.copy(t.positionScreen), this.customUpdateCallback = t.customUpdateCallback;
                    for (var e = 0, i = t.lensFlares.length; e < i; e++) this.lensFlares.push(t.lensFlares[e]);
                    return this
                },
                add: function(t, e, i, r, o, a) {
                    void 0 === e && (e = -1), void 0 === i && (i = 0), void 0 === a && (a = 1), void 0 === o && (o = new n.Color(16777215)), void 0 === r && (r = n.NormalBlending), i = Math.min(i, Math.max(0, i)), this.lensFlares.push({
                        texture: t,
                        size: e,
                        distance: i,
                        x: 0,
                        y: 0,
                        z: 0,
                        scale: 1,
                        rotation: 0,
                        opacity: a,
                        color: o,
                        blending: r
                    })
                },
                updateLensFlares: function() {
                    var t, e, i = this.lensFlares.length,
                        n = 2 * -this.positionScreen.x,
                        r = 2 * -this.positionScreen.y;
                    for (t = 0; t < i; t++) e = this.lensFlares[t], e.x = this.positionScreen.x + n * e.distance, e.y = this.positionScreen.y + r * e.distance, e.wantedRotation = e.x * Math.PI * .25, e.rotation += .25 * (e.wantedRotation - e.rotation)
                }
            }), n.Scene = function() {
                n.Object3D.call(this), this.type = "Scene", this.fog = null, this.overrideMaterial = null, this.autoUpdate = !0
            }, n.Scene.prototype = Object.create(n.Object3D.prototype), n.Scene.prototype.constructor = n.Scene, n.Scene.prototype.copy = function(t, e) {
                return n.Object3D.prototype.copy.call(this, t, e), null !== t.fog && (this.fog = t.fog.clone()), null !== t.overrideMaterial && (this.overrideMaterial = t.overrideMaterial.clone()), this.autoUpdate = t.autoUpdate, this.matrixAutoUpdate = t.matrixAutoUpdate, this
            }, n.Fog = function(t, e, i) {
                this.name = "", this.color = new n.Color(t), this.near = void 0 !== e ? e : 1, this.far = void 0 !== i ? i : 1e3
            }, n.Fog.prototype.clone = function() {
                return new n.Fog(this.color.getHex(), this.near, this.far)
            }, n.FogExp2 = function(t, e) {
                this.name = "", this.color = new n.Color(t), this.density = void 0 !== e ? e : 25e-5
            }, n.FogExp2.prototype.clone = function() {
                return new n.FogExp2(this.color.getHex(), this.density)
            }, n.ShaderChunk = {}, n.ShaderChunk.alphamap_fragment = "#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n", n.ShaderChunk.alphamap_pars_fragment = "#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n", n.ShaderChunk.alphatest_fragment = "#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n", n.ShaderChunk.aomap_fragment = "#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n", n.ShaderChunk.aomap_pars_fragment = "#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif", n.ShaderChunk.begin_vertex = "\nvec3 transformed = vec3( position );\n", n.ShaderChunk.beginnormal_vertex = "\nvec3 objectNormal = vec3( normal );\n",
            n.ShaderChunk.bsdfs = "bool testLightInRange( const in float lightDistance, const in float cutoffDistance ) {\n\treturn any( bvec2( cutoffDistance == 0.0, lightDistance < cutoffDistance ) );\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t\t}\n\t\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n", n.ShaderChunk.bumpmap_pars_fragment = "#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos );\n\t\tvec3 vSigmaY = dFdy( surf_pos );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n", n.ShaderChunk.clipping_planes_fragment = "#if NUM_CLIPPING_PLANES > 0\n\tfor ( int i = 0; i < NUM_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n#endif\n", n.ShaderChunk.clipping_planes_pars_fragment = "#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n", n.ShaderChunk.clipping_planes_pars_vertex = "#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n", n.ShaderChunk.clipping_planes_vertex = "#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n", n.ShaderChunk.color_fragment = "#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif", n.ShaderChunk.color_pars_fragment = "#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n", n.ShaderChunk.color_pars_vertex = "#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif", n.ShaderChunk.color_vertex = "#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif", n.ShaderChunk.common = "#define PI 3.14159265359\n#define PI2 6.28318530718\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\n", n.ShaderChunk.cube_uv_reflection_fragment = "#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n", n.ShaderChunk.defaultnormal_vertex = "#ifdef FLIP_SIDED\n\tobjectNormal = -objectNormal;\n#endif\nvec3 transformedNormal = normalMatrix * objectNormal;\n", n.ShaderChunk.displacementmap_vertex = "#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n", n.ShaderChunk.displacementmap_pars_vertex = "#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n", n.ShaderChunk.emissivemap_fragment = "#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n", n.ShaderChunk.emissivemap_pars_fragment = "#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n", n.ShaderChunk.encodings_pars_fragment = "\nvec4 LinearToLinear( in vec4 value ) {\n  return value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n  return vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n  return vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n  return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n  return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n  return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n  float maxComponent = max( max( value.r, value.g ), value.b );\n  float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n  return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n  return vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n  float maxRGB = max( value.x, max( value.g, value.b ) );\n  float M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n  M            = ceil( M * 255.0 ) / 255.0;\n  return vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n    return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n    float maxRGB = max( value.x, max( value.g, value.b ) );\n    float D      = max( maxRange / maxRGB, 1.0 );\n    D            = min( floor( D ) / 255.0, 1.0 );\n    return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n  vec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n  Xp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n  vec4 vResult;\n  vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n  float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n  vResult.w = fract(Le);\n  vResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n  return vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n  float Le = value.z * 255.0 + value.w;\n  vec3 Xp_Y_XYZp;\n  Xp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n  Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n  Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n  vec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n  return vec4( max(vRGB, 0.0), 1.0 );\n}\n", n.ShaderChunk.encodings_fragment = "  gl_FragColor = linearToOutputTexel( gl_FragColor );\n", n.ShaderChunk.envmap_fragment = "#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#else\n\t\tfloat flipNormal = 1.0;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\tvec3 reflectView = flipNormal * normalize((viewMatrix * vec4( reflectVec, 0.0 )).xyz + vec3(0.0,0.0,1.0));\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n", n.ShaderChunk.envmap_pars_fragment = "#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntenstiy;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n", n.ShaderChunk.envmap_pars_vertex = "#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n", n.ShaderChunk.envmap_vertex = "#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n", n.ShaderChunk.fog_fragment = "#ifdef USE_FOG\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;\n\t#else\n\t\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\n\t#endif\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * depth * depth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, depth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n", n.ShaderChunk.fog_pars_fragment = "#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif", n.ShaderChunk.lightmap_fragment = "#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n", n.ShaderChunk.lightmap_pars_fragment = "#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif", n.ShaderChunk.lights_lambert_vertex = "vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n", n.ShaderChunk.lights_pars = "uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tif ( testLightInRange( lightDistance, pointLight.distance ) ) {\n\t\t\tdirectLight.color = pointLight.color;\n\t\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( all( bvec2( angleCos > spotLight.coneCos, testLightInRange( lightDistance, spotLight.distance ) ) ) ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#else\n\t\t\tfloat flipNormal = 1.0;\n\t\t#endif\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#else\n\t\t\tfloat flipNormal = 1.0;\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = flipNormal * normalize((viewMatrix * vec4( reflectVec, 0.0 )).xyz + vec3(0.0,0.0,1.0));\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n", n.ShaderChunk.lights_phong_fragment = "BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n", n.ShaderChunk.lights_phong_pars_fragment = "varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n", n.ShaderChunk.lights_physical_fragment = "PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.16 * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#endif\n",
            n.ShaderChunk.lights_physical_pars_fragment = "struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t#endif\n};\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectSpecular += radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n", n.ShaderChunk.lights_template = "\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t \tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\tRE_IndirectSpecular( radiance, geometry, material, reflectedLight );\n#endif\n", n.ShaderChunk.logdepthbuf_fragment = "#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n#endif", n.ShaderChunk.logdepthbuf_pars_fragment = "#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n", n.ShaderChunk.logdepthbuf_pars_vertex = "#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif", n.ShaderChunk.logdepthbuf_vertex = "#ifdef USE_LOGDEPTHBUF\n\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\t#endif\n#endif\n", n.ShaderChunk.map_fragment = "#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n", n.ShaderChunk.map_pars_fragment = "#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n", n.ShaderChunk.map_particle_fragment = "#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n", n.ShaderChunk.map_particle_pars_fragment = "#ifdef USE_MAP\n\tuniform vec4 offsetRepeat;\n\tuniform sampler2D map;\n#endif\n", n.ShaderChunk.metalnessmap_fragment = "float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.r;\n#endif\n", n.ShaderChunk.metalnessmap_pars_fragment = "#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif", n.ShaderChunk.morphnormal_vertex = "#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n", n.ShaderChunk.morphtarget_pars_vertex = "#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif", n.ShaderChunk.morphtarget_vertex = "#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n", n.ShaderChunk.normal_fragment = "#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );\n\t#endif\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n", n.ShaderChunk.normalmap_pars_fragment = "#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n", n.ShaderChunk.packing = "vec3 packNormalToRGB( const in vec3 normal ) {\n  return normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n  return 1.0 - 2.0 * rgb.xyz;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthoDepth( const in float viewZ, const in float near, const in float far ) {\n  return ( viewZ + near ) / ( near - far );\n}\nfloat OrthoDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n  return linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n  return (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n  return ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n", n.ShaderChunk.premultiplied_alpha_fragment = "#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n", n.ShaderChunk.project_vertex = "#ifdef USE_SKINNING\n\tvec4 mvPosition = modelViewMatrix * skinned;\n#else\n\tvec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n#endif\ngl_Position = projectionMatrix * mvPosition;\n";
        n.ShaderChunk.roughnessmap_fragment = "float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.r;\n#endif\n", n.ShaderChunk.roughnessmap_pars_fragment = "#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif", n.ShaderChunk.shadowmap_pars_fragment = "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn 1.0;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\tfloat dp = ( length( lightToPosition ) - shadowBias ) / 1000.0;\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n", n.ShaderChunk.shadowmap_pars_vertex = "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n", n.ShaderChunk.shadowmap_vertex = "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n", n.ShaderChunk.shadowmask_pars_fragment = "float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n", n.ShaderChunk.skinbase_vertex = "#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif", n.ShaderChunk.skinning_pars_vertex = "#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureWidth;\n\t\tuniform int boneTextureHeight;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureWidth ) );\n\t\t\tfloat y = floor( j / float( boneTextureWidth ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureWidth );\n\t\t\tfloat dy = 1.0 / float( boneTextureHeight );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n", n.ShaderChunk.skinning_vertex = "#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\tskinned  = bindMatrixInverse * skinned;\n#endif\n", n.ShaderChunk.skinnormal_vertex = "#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n", n.ShaderChunk.specularmap_fragment = "float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif", n.ShaderChunk.specularmap_pars_fragment = "#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif", n.ShaderChunk.tonemapping_fragment = "#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n", n.ShaderChunk.tonemapping_pars_fragment = "#define saturate(a) clamp( a, 0.0, 1.0 )\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n  return toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  return saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  return saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  color = max( vec3( 0.0 ), color - 0.004 );\n  return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n", n.ShaderChunk.uv2_pars_fragment = "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif", n.ShaderChunk.uv2_pars_vertex = "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif", n.ShaderChunk.uv2_vertex = "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif", n.ShaderChunk.uv_pars_fragment = "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif", n.ShaderChunk.uv_pars_vertex = "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n#endif\n", n.ShaderChunk.uv_vertex = "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif", n.ShaderChunk.worldpos_vertex = "#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\t#ifdef USE_SKINNING\n\t\tvec4 worldPosition = modelMatrix * skinned;\n\t#else\n\t\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n\t#endif\n#endif\n", n.UniformsUtils = {
                merge: function(t) {
                    for (var e = {}, i = 0; i < t.length; i++) {
                        var n = this.clone(t[i]);
                        for (var r in n) e[r] = n[r]
                    }
                    return e
                },
                clone: function(t) {
                    var e = {};
                    for (var i in t) {
                        e[i] = {};
                        for (var r in t[i]) {
                            var o = t[i][r];
                            o instanceof n.Color || o instanceof n.Vector2 || o instanceof n.Vector3 || o instanceof n.Vector4 || o instanceof n.Matrix3 || o instanceof n.Matrix4 || o instanceof n.Texture ? e[i][r] = o.clone() : Array.isArray(o) ? e[i][r] = o.slice() : e[i][r] = o
                        }
                    }
                    return e
                }
            }, n.UniformsLib = {
                common: {
                    diffuse: {
                        type: "c",
                        value: new n.Color(15658734)
                    },
                    opacity: {
                        type: "1f",
                        value: 1
                    },
                    map: {
                        type: "t",
                        value: null
                    },
                    offsetRepeat: {
                        type: "v4",
                        value: new n.Vector4(0, 0, 1, 1)
                    },
                    specularMap: {
                        type: "t",
                        value: null
                    },
                    alphaMap: {
                        type: "t",
                        value: null
                    },
                    envMap: {
                        type: "t",
                        value: null
                    },
                    flipEnvMap: {
                        type: "1f",
                        value: -1
                    },
                    reflectivity: {
                        type: "1f",
                        value: 1
                    },
                    refractionRatio: {
                        type: "1f",
                        value: .98
                    }
                },
                aomap: {
                    aoMap: {
                        type: "t",
                        value: null
                    },
                    aoMapIntensity: {
                        type: "1f",
                        value: 1
                    }
                },
                lightmap: {
                    lightMap: {
                        type: "t",
                        value: null
                    },
                    lightMapIntensity: {
                        type: "1f",
                        value: 1
                    }
                },
                emissivemap: {
                    emissiveMap: {
                        type: "t",
                        value: null
                    }
                },
                bumpmap: {
                    bumpMap: {
                        type: "t",
                        value: null
                    },
                    bumpScale: {
                        type: "1f",
                        value: 1
                    }
                },
                normalmap: {
                    normalMap: {
                        type: "t",
                        value: null
                    },
                    normalScale: {
                        type: "v2",
                        value: new n.Vector2(1, 1)
                    }
                },
                displacementmap: {
                    displacementMap: {
                        type: "t",
                        value: null
                    },
                    displacementScale: {
                        type: "1f",
                        value: 1
                    },
                    displacementBias: {
                        type: "1f",
                        value: 0
                    }
                },
                roughnessmap: {
                    roughnessMap: {
                        type: "t",
                        value: null
                    }
                },
                metalnessmap: {
                    metalnessMap: {
                        type: "t",
                        value: null
                    }
                },
                fog: {
                    fogDensity: {
                        type: "1f",
                        value: 25e-5
                    },
                    fogNear: {
                        type: "1f",
                        value: 1
                    },
                    fogFar: {
                        type: "1f",
                        value: 2e3
                    },
                    fogColor: {
                        type: "c",
                        value: new n.Color(16777215)
                    }
                },
                lights: {
                    ambientLightColor: {
                        type: "3fv",
                        value: []
                    },
                    directionalLights: {
                        type: "sa",
                        value: [],
                        properties: {
                            direction: {
                                type: "v3"
                            },
                            color: {
                                type: "c"
                            },
                            shadow: {
                                type: "1i"
                            },
                            shadowBias: {
                                type: "1f"
                            },
                            shadowRadius: {
                                type: "1f"
                            },
                            shadowMapSize: {
                                type: "v2"
                            }
                        }
                    },
                    directionalShadowMap: {
                        type: "tv",
                        value: []
                    },
                    directionalShadowMatrix: {
                        type: "m4v",
                        value: []
                    },
                    spotLights: {
                        type: "sa",
                        value: [],
                        properties: {
                            color: {
                                type: "c"
                            },
                            position: {
                                type: "v3"
                            },
                            direction: {
                                type: "v3"
                            },
                            distance: {
                                type: "1f"
                            },
                            coneCos: {
                                type: "1f"
                            },
                            penumbraCos: {
                                type: "1f"
                            },
                            decay: {
                                type: "1f"
                            },
                            shadow: {
                                type: "1i"
                            },
                            shadowBias: {
                                type: "1f"
                            },
                            shadowRadius: {
                                type: "1f"
                            },
                            shadowMapSize: {
                                type: "v2"
                            }
                        }
                    },
                    spotShadowMap: {
                        type: "tv",
                        value: []
                    },
                    spotShadowMatrix: {
                        type: "m4v",
                        value: []
                    },
                    pointLights: {
                        type: "sa",
                        value: [],
                        properties: {
                            color: {
                                type: "c"
                            },
                            position: {
                                type: "v3"
                            },
                            decay: {
                                type: "1f"
                            },
                            distance: {
                                type: "1f"
                            },
                            shadow: {
                                type: "1i"
                            },
                            shadowBias: {
                                type: "1f"
                            },
                            shadowRadius: {
                                type: "1f"
                            },
                            shadowMapSize: {
                                type: "v2"
                            }
                        }
                    },
                    pointShadowMap: {
                        type: "tv",
                        value: []
                    },
                    pointShadowMatrix: {
                        type: "m4v",
                        value: []
                    },
                    hemisphereLights: {
                        type: "sa",
                        value: [],
                        properties: {
                            direction: {
                                type: "v3"
                            },
                            skyColor: {
                                type: "c"
                            },
                            groundColor: {
                                type: "c"
                            }
                        }
                    }
                },
                points: {
                    diffuse: {
                        type: "c",
                        value: new n.Color(15658734)
                    },
                    opacity: {
                        type: "1f",
                        value: 1
                    },
                    size: {
                        type: "1f",
                        value: 1
                    },
                    scale: {
                        type: "1f",
                        value: 1
                    },
                    map: {
                        type: "t",
                        value: null
                    },
                    offsetRepeat: {
                        type: "v4",
                        value: new n.Vector4(0, 0, 1, 1)
                    }
                }
            }, n.ShaderChunk.cube_frag = "uniform samplerCube tCube;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\t#include <logdepthbuf_fragment>\n}\n", n.ShaderChunk.cube_vert = "varying vec3 vWorldPosition;\n#include <common>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n", n.ShaderChunk.depth_frag = "#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n", n.ShaderChunk.depth_vert = "#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n", n.ShaderChunk.distanceRGBA_frag = "uniform vec3 lightPos;\nvarying vec4 vWorldPosition;\n#include <common>\n#include <packing>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = packDepthToRGBA( length( vWorldPosition.xyz - lightPos.xyz ) / 1000.0 );\n}\n", n.ShaderChunk.distanceRGBA_vert = "varying vec4 vWorldPosition;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition;\n}\n", n.ShaderChunk.equirect_frag = "uniform sampler2D tEquirect;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <logdepthbuf_fragment>\n}\n",
            n.ShaderChunk.equirect_vert = "varying vec3 vWorldPosition;\n#include <common>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n", n.ShaderChunk.linedashed_frag = "uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n", n.ShaderChunk.linedashed_vert = "uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n", n.ShaderChunk.meshbasic_frag = "uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight;\n\treflectedLight.directDiffuse = vec3( 0.0 );\n\treflectedLight.directSpecular = vec3( 0.0 );\n\treflectedLight.indirectDiffuse = diffuseColor.rgb;\n\treflectedLight.indirectSpecular = vec3( 0.0 );\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n", n.ShaderChunk.meshbasic_vert = "#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n}\n", n.ShaderChunk.meshlambert_frag = "uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n", n.ShaderChunk.meshlambert_vert = "#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n}\n", n.ShaderChunk.meshphong_frag = "#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n", n.ShaderChunk.meshphong_vert = "#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n}\n", n.ShaderChunk.meshphysical_frag = "#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\nuniform float envMapIntensity;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n", n.ShaderChunk.meshphysical_vert = "#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n", n.ShaderChunk.normal_frag = "uniform float opacity;\nvarying vec3 vNormal;\n#include <common>\n#include <packing>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = vec4( packNormalToRGB( vNormal ), opacity );\n\t#include <logdepthbuf_fragment>\n}\n", n.ShaderChunk.normal_vert = "varying vec3 vNormal;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvNormal = normalize( normalMatrix * normal );\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n", n.ShaderChunk.points_frag = "uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n", n.ShaderChunk.points_vert = "uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n", n.ShaderChunk.shadow_frag = "uniform float opacity;\n#include <common>\n#include <packing>\n#include <bsdfs>\n#include <lights_pars>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( 0.0, 0.0, 0.0, opacity * ( 1.0  - getShadowMask() ) );\n}\n", n.ShaderChunk.shadow_vert = "#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n", n.ShaderLib = {
                basic: {
                    uniforms: n.UniformsUtils.merge([n.UniformsLib.common, n.UniformsLib.aomap, n.UniformsLib.fog]),
                    vertexShader: n.ShaderChunk.meshbasic_vert,
                    fragmentShader: n.ShaderChunk.meshbasic_frag
                },
                lambert: {
                    uniforms: n.UniformsUtils.merge([n.UniformsLib.common, n.UniformsLib.aomap, n.UniformsLib.lightmap, n.UniformsLib.emissivemap, n.UniformsLib.fog, n.UniformsLib.lights, {
                        emissive: {
                            type: "c",
                            value: new n.Color(0)
                        }
                    }]),
                    vertexShader: n.ShaderChunk.meshlambert_vert,
                    fragmentShader: n.ShaderChunk.meshlambert_frag
                },
                phong: {
                    uniforms: n.UniformsUtils.merge([n.UniformsLib.common, n.UniformsLib.aomap, n.UniformsLib.lightmap, n.UniformsLib.emissivemap, n.UniformsLib.bumpmap, n.UniformsLib.normalmap, n.UniformsLib.displacementmap, n.UniformsLib.fog, n.UniformsLib.lights, {
                        emissive: {
                            type: "c",
                            value: new n.Color(0)
                        },
                        specular: {
                            type: "c",
                            value: new n.Color(1118481)
                        },
                        shininess: {
                            type: "1f",
                            value: 30
                        }
                    }]),
                    vertexShader: n.ShaderChunk.meshphong_vert,
                    fragmentShader: n.ShaderChunk.meshphong_frag
                },
                standard: {
                    uniforms: n.UniformsUtils.merge([n.UniformsLib.common, n.UniformsLib.aomap, n.UniformsLib.lightmap, n.UniformsLib.emissivemap, n.UniformsLib.bumpmap, n.UniformsLib.normalmap, n.UniformsLib.displacementmap, n.UniformsLib.roughnessmap, n.UniformsLib.metalnessmap, n.UniformsLib.fog, n.UniformsLib.lights, {
                        emissive: {
                            type: "c",
                            value: new n.Color(0)
                        },
                        roughness: {
                            type: "1f",
                            value: .5
                        },
                        metalness: {
                            type: "1f",
                            value: 0
                        },
                        envMapIntensity: {
                            type: "1f",
                            value: 1
                        }
                    }]),
                    vertexShader: n.ShaderChunk.meshphysical_vert,
                    fragmentShader: n.ShaderChunk.meshphysical_frag
                },
                points: {
                    uniforms: n.UniformsUtils.merge([n.UniformsLib.points, n.UniformsLib.fog]),
                    vertexShader: n.ShaderChunk.points_vert,
                    fragmentShader: n.ShaderChunk.points_frag
                },
                dashed: {
                    uniforms: n.UniformsUtils.merge([n.UniformsLib.common, n.UniformsLib.fog, {
                        scale: {
                            type: "1f",
                            value: 1
                        },
                        dashSize: {
                            type: "1f",
                            value: 1
                        },
                        totalSize: {
                            type: "1f",
                            value: 2
                        }
                    }]),
                    vertexShader: n.ShaderChunk.linedashed_vert,
                    fragmentShader: n.ShaderChunk.linedashed_frag
                },
                depth: {
                    uniforms: n.UniformsUtils.merge([n.UniformsLib.common, n.UniformsLib.displacementmap]),
                    vertexShader: n.ShaderChunk.depth_vert,
                    fragmentShader: n.ShaderChunk.depth_frag
                },
                normal: {
                    uniforms: {
                        opacity: {
                            type: "1f",
                            value: 1
                        }
                    },
                    vertexShader: n.ShaderChunk.normal_vert,
                    fragmentShader: n.ShaderChunk.normal_frag
                },
                cube: {
                    uniforms: {
                        tCube: {
                            type: "t",
                            value: null
                        },
                        tFlip: {
                            type: "1f",
                            value: -1
                        }
                    },
                    vertexShader: n.ShaderChunk.cube_vert,
                    fragmentShader: n.ShaderChunk.cube_frag
                },
                equirect: {
                    uniforms: {
                        tEquirect: {
                            type: "t",
                            value: null
                        },
                        tFlip: {
                            type: "1f",
                            value: -1
                        }
                    },
                    vertexShader: n.ShaderChunk.equirect_vert,
                    fragmentShader: n.ShaderChunk.equirect_frag
                },
                distanceRGBA: {
                    uniforms: {
                        lightPos: {
                            type: "v3",
                            value: new n.Vector3
                        }
                    },
                    vertexShader: n.ShaderChunk.distanceRGBA_vert,
                    fragmentShader: n.ShaderChunk.distanceRGBA_frag
                }
            }, n.ShaderLib.physical = {
                uniforms: n.UniformsUtils.merge([n.ShaderLib.standard.uniforms, {}]),
                vertexShader: n.ShaderChunk.meshphysical_vert,
                fragmentShader: n.ShaderChunk.meshphysical_frag
            }, n.WebGLRenderer = function(t) {
                function e() {
                    return null === xt ? It : 1
                }

                function i(t, e, i, n) {
                    ut === !0 && (t *= n, e *= n, i *= n), $t.clearColor(t, e, i, n)
                }

                function r() {
                    $t.init(), $t.scissor(Et.copy(Dt).multiplyScalar(It)), $t.viewport(At.copy(zt).multiplyScalar(It)), i(Lt.r, Lt.g, Lt.b, Ot)
                }

                function o() {
                    bt = null, Mt = null, St = "", Tt = -1, $t.reset()
                }

                function a(t) {
                    t.preventDefault(), o(), r(), te.clear()
                }

                function s(t) {
                    var e = t.target;
                    e.removeEventListener("dispose", s), c(e), Xt.textures--
                }

                function l(t) {
                    var e = t.target;
                    e.removeEventListener("dispose", l), h(e), Xt.textures--
                }

                function u(t) {
                    var e = t.target;
                    e.removeEventListener("dispose", u), d(e)
                }

                function c(t) {
                    var e = te.get(t);
                    if (t.image && e.__image__webglTextureCube) Yt.deleteTexture(e.__image__webglTextureCube);
                    else {
                        if (void 0 === e.__webglInit) return;
                        Yt.deleteTexture(e.__webglTexture)
                    }
                    te.delete(t)
                }

                function h(t) {
                    var e = te.get(t),
                        i = te.get(t.texture);
                    if (t) {
                        if (void 0 !== i.__webglTexture && Yt.deleteTexture(i.__webglTexture), t.depthTexture && t.depthTexture.dispose(), t instanceof n.WebGLRenderTargetCube)
                            for (var r = 0; r < 6; r++) Yt.deleteFramebuffer(e.__webglFramebuffer[r]), e.__webglDepthbuffer && Yt.deleteRenderbuffer(e.__webglDepthbuffer[r]);
                        else Yt.deleteFramebuffer(e.__webglFramebuffer), e.__webglDepthbuffer && Yt.deleteRenderbuffer(e.__webglDepthbuffer);
                        te.delete(t.texture), te.delete(t)
                    }
                }

                function d(t) {
                    p(t), te.delete(t)
                }

                function p(t) {
                    var e = te.get(t).program;
                    t.program = void 0, void 0 !== e && ie.releaseProgram(e)
                }

                function f(t, e, i, r) {
                    var o;
                    if (i instanceof n.InstancedBufferGeometry && null === (o = Qt.get("ANGLE_instanced_arrays"))) return void console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");
                    void 0 === r && (r = 0), $t.initAttributes();
                    var a = i.attributes,
                        s = e.getAttributes(),
                        l = t.defaultAttributeValues;
                    for (var u in s) {
                        var c = s[u];
                        if (c >= 0) {
                            var h = a[u];
                            if (void 0 !== h) {
                                var d = Yt.FLOAT,
                                    p = h.array,
                                    f = h.normalized;
                                p instanceof Float32Array ? d = Yt.FLOAT : p instanceof Float64Array ? console.warn("Unsupported data buffer format: Float64Array") : p instanceof Uint16Array ? d = Yt.UNSIGNED_SHORT : p instanceof Int16Array ? d = Yt.SHORT : p instanceof Uint32Array ? d = Yt.UNSIGNED_INT : p instanceof Int32Array ? d = Yt.INT : p instanceof Int8Array ? d = Yt.BYTE : p instanceof Uint8Array && (d = Yt.UNSIGNED_BYTE);
                                var m = h.itemSize,
                                    g = ee.getAttributeBuffer(h);
                                if (h instanceof n.InterleavedBufferAttribute) {
                                    var v = h.data,
                                        y = v.stride,
                                        _ = h.offset;
                                    v instanceof n.InstancedInterleavedBuffer ? ($t.enableAttributeAndDivisor(c, v.meshPerAttribute, o), void 0 === i.maxInstancedCount && (i.maxInstancedCount = v.meshPerAttribute * v.count)) : $t.enableAttribute(c), Yt.bindBuffer(Yt.ARRAY_BUFFER, g), Yt.vertexAttribPointer(c, m, d, f, y * v.array.BYTES_PER_ELEMENT, (r * y + _) * v.array.BYTES_PER_ELEMENT)
                                } else h instanceof n.InstancedBufferAttribute ? ($t.enableAttributeAndDivisor(c, h.meshPerAttribute, o), void 0 === i.maxInstancedCount && (i.maxInstancedCount = h.meshPerAttribute * h.count)) : $t.enableAttribute(c), Yt.bindBuffer(Yt.ARRAY_BUFFER, g), Yt.vertexAttribPointer(c, m, d, f, 0, r * m * h.array.BYTES_PER_ELEMENT)
                            } else if (void 0 !== l) {
                                var b = l[u];
                                if (void 0 !== b) switch (b.length) {
                                    case 2:
                                        Yt.vertexAttrib2fv(c, b);
                                        break;
                                    case 3:
                                        Yt.vertexAttrib3fv(c, b);
                                        break;
                                    case 4:
                                        Yt.vertexAttrib4fv(c, b);
                                        break;
                                    default:
                                        Yt.vertexAttrib1fv(c, b)
                                }
                            }
                        }
                    }
                    $t.disableUnusedAttributes()
                }

                function m(t, e) {
                    return Math.abs(e[0]) - Math.abs(t[0])
                }

                function g(t, e) {
                    return t.object.renderOrder !== e.object.renderOrder ? t.object.renderOrder - e.object.renderOrder : t.material.id !== e.material.id ? t.material.id - e.material.id : t.z !== e.z ? t.z - e.z : t.id - e.id
                }

                function v(t, e) {
                    return t.object.renderOrder !== e.object.renderOrder ? t.object.renderOrder - e.object.renderOrder : t.z !== e.z ? e.z - t.z : t.id - e.id
                }

                function y(t, e, i, n, r) {
                    var o, a;
                    i.transparent ? (o = ft, a = ++mt) : (o = dt, a = ++pt);
                    var s = o[a];
                    void 0 !== s ? (s.id = t.id, s.object = t, s.geometry = e, s.material = i, s.z = Ht.z, s.group = r) : (s = {
                        id: t.id,
                        object: t,
                        geometry: e,
                        material: i,
                        z: Ht.z,
                        group: r
                    }, o.push(s))
                }

                function _(t) {
                    var e = t.geometry;
                    return null === e.boundingSphere && e.computeBoundingSphere(), Vt.copy(e.boundingSphere).applyMatrix4(t.matrixWorld), x(Vt)
                }

                function b(t) {
                    return Vt.center.set(0, 0, 0), Vt.radius = .7071067811865476, Vt.applyMatrix4(t.matrixWorld), x(Vt)
                }

                function x(t) {
                    if (!Ft.intersectsSphere(t)) return !1;
                    var e = Nt.numPlanes;
                    if (0 === e) return !0;
                    var i = _t.clippingPlanes,
                        n = t.center,
                        r = -t.radius,
                        o = 0;
                    do {
                        if (i[o].distanceToPoint(n) < r) return !1
                    } while (++o !== e);
                    return !0
                }

                function w(t, e) {
                    if (t.visible !== !1) {
                        if (t.layers.test(e.layers))
                            if (t instanceof n.Light) ht.push(t);
                            else if (t instanceof n.Sprite) t.frustumCulled !== !1 && b(t) !== !0 || vt.push(t);
                        else if (t instanceof n.LensFlare) yt.push(t);
                        else if (t instanceof n.ImmediateRenderObject) _t.sortObjects === !0 && (Ht.setFromMatrixPosition(t.matrixWorld), Ht.applyProjection(jt)), y(t, null, t.material, Ht.z, null);
                        else if ((t instanceof n.Mesh || t instanceof n.Line || t instanceof n.Points) && (t instanceof n.SkinnedMesh && t.skeleton.update(), t.frustumCulled === !1 || _(t) === !0)) {
                            var i = t.material;
                            if (i.visible === !0) {
                                _t.sortObjects === !0 && (Ht.setFromMatrixPosition(t.matrixWorld), Ht.applyProjection(jt));
                                var r = ee.update(t);
                                if (i instanceof n.MultiMaterial)
                                    for (var o = r.groups, a = i.materials, s = 0, l = o.length; s < l; s++) {
                                        var u = o[s],
                                            c = a[u.materialIndex];
                                        c.visible === !0 && y(t, r, c, Ht.z, u)
                                    } else y(t, r, i, Ht.z, null)
                            }
                        }
                        for (var h = t.children, s = 0, l = h.length; s < l; s++) w(h[s], e)
                    }
                }

                function T(t, e, i, r) {
                    for (var o = 0, a = t.length; o < a; o++) {
                        var s = t[o],
                            l = s.object,
                            u = s.geometry,
                            c = void 0 === r ? s.material : r,
                            h = s.group;
                        if (l.modelViewMatrix.multiplyMatrices(e.matrixWorldInverse, l.matrixWorld), l.normalMatrix.getNormalMatrix(l.modelViewMatrix), l instanceof n.ImmediateRenderObject) {
                            M(c);
                            var d = E(e, i, c, l);
                            St = "", l.render(function(t) {
                                _t.renderBufferImmediate(t, d, c)
                            })
                        } else _t.renderBufferDirect(e, i, u, c, l, h)
                    }
                }

                function S(t, e, i) {
                    var r = te.get(t),
                        o = ie.getParameters(t, Wt, e, Nt.numPlanes, i),
                        a = ie.getProgramCode(t, o),
                        s = r.program,
                        l = !0;
                    if (void 0 === s) t.addEventListener("dispose", u);
                    else if (s.code !== a) p(t);
                    else {
                        if (void 0 !== o.shaderID) return;
                        l = !1
                    }
                    if (l) {
                        if (o.shaderID) {
                            var c = n.ShaderLib[o.shaderID];
                            r.__webglShader = {
                                name: t.type,
                                uniforms: n.UniformsUtils.clone(c.uniforms),
                                vertexShader: c.vertexShader,
                                fragmentShader: c.fragmentShader
                            }
                        } else r.__webglShader = {
                            name: t.type,
                            uniforms: t.uniforms,
                            vertexShader: t.vertexShader,
                            fragmentShader: t.fragmentShader
                        };
                        t.__webglShader = r.__webglShader, s = ie.acquireProgram(t, o, a), r.program = s, t.program = s
                    }
                    var h = s.getAttributes();
                    if (t.morphTargets) {
                        t.numSupportedMorphTargets = 0;
                        for (var d = 0; d < _t.maxMorphTargets; d++) h["morphTarget" + d] >= 0 && t.numSupportedMorphTargets++
                    }
                    if (t.morphNormals) {
                        t.numSupportedMorphNormals = 0;
                        for (var d = 0; d < _t.maxMorphNormals; d++) h["morphNormal" + d] >= 0 && t.numSupportedMorphNormals++
                    }
                    var f = r.__webglShader.uniforms;
                    (t instanceof n.ShaderMaterial || t instanceof n.RawShaderMaterial) && t.clipping !== !0 || (r.numClippingPlanes = Nt.numPlanes, f.clippingPlanes = Nt.uniform), t.lights && (r.lightsHash = Wt.hash, f.ambientLightColor.value = Wt.ambient, f.directionalLights.value = Wt.directional, f.spotLights.value = Wt.spot, f.pointLights.value = Wt.point, f.hemisphereLights.value = Wt.hemi, f.directionalShadowMap.value = Wt.directionalShadowMap, f.directionalShadowMatrix.value = Wt.directionalShadowMatrix, f.spotShadowMap.value = Wt.spotShadowMap, f.spotShadowMatrix.value = Wt.spotShadowMatrix, f.pointShadowMap.value = Wt.pointShadowMap, f.pointShadowMatrix.value = Wt.pointShadowMatrix);
                    var m = r.program.getUniforms(),
                        g = n.WebGLUniforms.seqWithValue(m.seq, f);
                    r.uniformsList = g, r.dynamicUniforms = n.WebGLUniforms.splitDynamic(g, f)
                }

                function M(t) {
                    t.side !== n.DoubleSide ? $t.enable(Yt.CULL_FACE) : $t.disable(Yt.CULL_FACE), $t.setFlipSided(t.side === n.BackSide), t.transparent === !0 ? $t.setBlending(t.blending, t.blendEquation, t.blendSrc, t.blendDst, t.blendEquationAlpha, t.blendSrcAlpha, t.blendDstAlpha, t.premultipliedAlpha) : $t.setBlending(n.NoBlending), $t.setDepthFunc(t.depthFunc), $t.setDepthTest(t.depthTest), $t.setDepthWrite(t.depthWrite), $t.setColorWrite(t.colorWrite), $t.setPolygonOffset(t.polygonOffset, t.polygonOffsetFactor, t.polygonOffsetUnits)
                }

                function E(t, e, i, r) {
                    Pt = 0;
                    var o = te.get(i);
                    if (Ut) {
                        if (Gt || t !== Mt) {
                            var a = t === Mt && i.id === Tt;
                            Nt.setState(i.clippingPlanes, i.clipShadows, t, o, a)
                        }
                        void 0 !== o.numClippingPlanes && o.numClippingPlanes !== Nt.numPlanes && (i.needsUpdate = !0)
                    }
                    void 0 === o.program && (i.needsUpdate = !0), void 0 !== o.lightsHash && o.lightsHash !== Wt.hash && (i.needsUpdate = !0), i.needsUpdate && (S(i, e, r), i.needsUpdate = !1);
                    var s = !1,
                        l = !1,
                        u = !1,
                        c = o.program,
                        h = c.getUniforms(),
                        d = o.__webglShader.uniforms;
                    if (c.id !== bt && (Yt.useProgram(c.program), bt = c.id, s = !0, l = !0, u = !0), i.id !== Tt && (Tt = i.id, l = !0), s || t !== Mt) {
                        if (h.set(Yt, t, "projectionMatrix"), Jt.logarithmicDepthBuffer && h.setValue(Yt, "logDepthBufFC", 2 / (Math.log(t.far + 1) / Math.LN2)), t !== Mt && (Mt = t, l = !0, u = !0), i instanceof n.ShaderMaterial || i instanceof n.MeshPhongMaterial || i instanceof n.MeshStandardMaterial || i.envMap) {
                            var p = h.map.cameraPosition;
                            void 0 !== p && p.setValue(Yt, Ht.setFromMatrixPosition(t.matrixWorld))
                        }(i instanceof n.MeshPhongMaterial || i instanceof n.MeshLambertMaterial || i instanceof n.MeshBasicMaterial || i instanceof n.MeshStandardMaterial || i instanceof n.ShaderMaterial || i.skinning) && h.setValue(Yt, "viewMatrix", t.matrixWorldInverse), h.set(Yt, _t, "toneMappingExposure"), h.set(Yt, _t, "toneMappingWhitePoint")
                    }
                    if (i.skinning) {
                        h.setOptional(Yt, r, "bindMatrix"), h.setOptional(Yt, r, "bindMatrixInverse");
                        var f = r.skeleton;
                        f && (Jt.floatVertexTextures && f.useVertexTexture ? (h.set(Yt, f, "boneTexture"), h.set(Yt, f, "boneTextureWidth"), h.set(Yt, f, "boneTextureHeight")) : h.setOptional(Yt, f, "boneMatrices"))
                    }
                    l && (i.lights && B(d, u), e && i.fog && O(d, e), (i instanceof n.MeshBasicMaterial || i instanceof n.MeshLambertMaterial || i instanceof n.MeshPhongMaterial || i instanceof n.MeshStandardMaterial || i instanceof n.MeshDepthMaterial) && C(d, i), i instanceof n.LineBasicMaterial ? A(d, i) : i instanceof n.LineDashedMaterial ? (A(d, i), P(d, i)) : i instanceof n.PointsMaterial ? L(d, i) : i instanceof n.MeshLambertMaterial ? k(d, i) : i instanceof n.MeshPhongMaterial ? R(d, i) : i instanceof n.MeshPhysicalMaterial ? D(d, i) : i instanceof n.MeshStandardMaterial ? I(d, i) : i instanceof n.MeshDepthMaterial ? i.displacementMap && (d.displacementMap.value = i.displacementMap, d.displacementScale.value = i.displacementScale, d.displacementBias.value = i.displacementBias) : i instanceof n.MeshNormalMaterial && (d.opacity.value = i.opacity), n.WebGLUniforms.upload(Yt, o.uniformsList, d, _t)), h.set(Yt, r, "modelViewMatrix"), h.set(Yt, r, "normalMatrix"), h.setValue(Yt, "modelMatrix", r.matrixWorld);
                    var m = o.dynamicUniforms;
                    return null !== m && (n.WebGLUniforms.evalDynamic(m, d, r, t), n.WebGLUniforms.upload(Yt, m, d, _t)), c
                }

                function C(t, e) {
                    t.opacity.value = e.opacity, t.diffuse.value = e.color, e.emissive && t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity), t.map.value = e.map, t.specularMap.value = e.specularMap, t.alphaMap.value = e.alphaMap, e.aoMap && (t.aoMap.value = e.aoMap, t.aoMapIntensity.value = e.aoMapIntensity);
                    var i;
                    if (e.map ? i = e.map : e.specularMap ? i = e.specularMap : e.displacementMap ? i = e.displacementMap : e.normalMap ? i = e.normalMap : e.bumpMap ? i = e.bumpMap : e.roughnessMap ? i = e.roughnessMap : e.metalnessMap ? i = e.metalnessMap : e.alphaMap ? i = e.alphaMap : e.emissiveMap && (i = e.emissiveMap), void 0 !== i) {
                        i instanceof n.WebGLRenderTarget && (i = i.texture);
                        var r = i.offset,
                            o = i.repeat;
                        t.offsetRepeat.value.set(r.x, r.y, o.x, o.y)
                    }
                    t.envMap.value = e.envMap, t.flipEnvMap.value = e.envMap instanceof n.CubeTexture ? -1 : 1, t.reflectivity.value = e.reflectivity, t.refractionRatio.value = e.refractionRatio
                }

                function A(t, e) {
                    t.diffuse.value = e.color, t.opacity.value = e.opacity
                }

                function P(t, e) {
                    t.dashSize.value = e.dashSize, t.totalSize.value = e.dashSize + e.gapSize, t.scale.value = e.scale
                }

                function L(t, e) {
                    if (t.diffuse.value = e.color, t.opacity.value = e.opacity, t.size.value = e.size * It, t.scale.value = .5 * nt.clientHeight, t.map.value = e.map, null !== e.map) {
                        var i = e.map.offset,
                            n = e.map.repeat;
                        t.offsetRepeat.value.set(i.x, i.y, n.x, n.y)
                    }
                }

                function O(t, e) {
                    t.fogColor.value = e.color, e instanceof n.Fog ? (t.fogNear.value = e.near, t.fogFar.value = e.far) : e instanceof n.FogExp2 && (t.fogDensity.value = e.density)
                }

                function k(t, e) {
                    e.lightMap && (t.lightMap.value = e.lightMap, t.lightMapIntensity.value = e.lightMapIntensity), e.emissiveMap && (t.emissiveMap.value = e.emissiveMap)
                }

                function R(t, e) {
                    t.specular.value = e.specular, t.shininess.value = Math.max(e.shininess, 1e-4), e.lightMap && (t.lightMap.value = e.lightMap, t.lightMapIntensity.value = e.lightMapIntensity), e.emissiveMap && (t.emissiveMap.value = e.emissiveMap), e.bumpMap && (t.bumpMap.value = e.bumpMap, t.bumpScale.value = e.bumpScale), e.normalMap && (t.normalMap.value = e.normalMap, t.normalScale.value.copy(e.normalScale)), e.displacementMap && (t.displacementMap.value = e.displacementMap, t.displacementScale.value = e.displacementScale, t.displacementBias.value = e.displacementBias)
                }

                function I(t, e) {
                    t.roughness.value = e.roughness, t.metalness.value = e.metalness, e.roughnessMap && (t.roughnessMap.value = e.roughnessMap), e.metalnessMap && (t.metalnessMap.value = e.metalnessMap), e.lightMap && (t.lightMap.value = e.lightMap, t.lightMapIntensity.value = e.lightMapIntensity), e.emissiveMap && (t.emissiveMap.value = e.emissiveMap), e.bumpMap && (t.bumpMap.value = e.bumpMap, t.bumpScale.value = e.bumpScale), e.normalMap && (t.normalMap.value = e.normalMap, t.normalScale.value.copy(e.normalScale)), e.displacementMap && (t.displacementMap.value = e.displacementMap, t.displacementScale.value = e.displacementScale, t.displacementBias.value = e.displacementBias),
                        e.envMap && (t.envMapIntensity.value = e.envMapIntensity)
                }

                function D(t, e) {
                    I(t, e)
                }

                function B(t, e) {
                    t.ambientLightColor.needsUpdate = e, t.directionalLights.needsUpdate = e, t.pointLights.needsUpdate = e, t.spotLights.needsUpdate = e, t.hemisphereLights.needsUpdate = e
                }

                function z(t) {
                    for (var e = 0, i = 0, n = t.length; i < n; i++) {
                        var r = t[i];
                        r.castShadow && (Wt.shadows[e++] = r)
                    }
                    Wt.shadows.length = e
                }

                function F(t, e) {
                    var i, r, o, a, s, l, u, c = 0,
                        h = 0,
                        d = 0,
                        p = e.matrixWorldInverse,
                        f = 0,
                        m = 0,
                        g = 0,
                        v = 0;
                    for (i = 0, r = t.length; i < r; i++)
                        if (o = t[i], a = o.color, s = o.intensity, l = o.distance, u = o.shadow && o.shadow.map ? o.shadow.map.texture : null, o instanceof n.AmbientLight) c += a.r * s, h += a.g * s, d += a.b * s;
                        else if (o instanceof n.DirectionalLight) {
                        var y = ne.get(o);
                        y.color.copy(o.color).multiplyScalar(o.intensity), y.direction.setFromMatrixPosition(o.matrixWorld), Ht.setFromMatrixPosition(o.target.matrixWorld), y.direction.sub(Ht), y.direction.transformDirection(p), y.shadow = o.castShadow, o.castShadow && (y.shadowBias = o.shadow.bias, y.shadowRadius = o.shadow.radius, y.shadowMapSize = o.shadow.mapSize), Wt.directionalShadowMap[f] = u, Wt.directionalShadowMatrix[f] = o.shadow.matrix, Wt.directional[f++] = y
                    } else if (o instanceof n.SpotLight) {
                        var y = ne.get(o);
                        y.position.setFromMatrixPosition(o.matrixWorld), y.position.applyMatrix4(p), y.color.copy(a).multiplyScalar(s), y.distance = l, y.direction.setFromMatrixPosition(o.matrixWorld), Ht.setFromMatrixPosition(o.target.matrixWorld), y.direction.sub(Ht), y.direction.transformDirection(p), y.coneCos = Math.cos(o.angle), y.penumbraCos = Math.cos(o.angle * (1 - o.penumbra)), y.decay = 0 === o.distance ? 0 : o.decay, y.shadow = o.castShadow, o.castShadow && (y.shadowBias = o.shadow.bias, y.shadowRadius = o.shadow.radius, y.shadowMapSize = o.shadow.mapSize), Wt.spotShadowMap[g] = u, Wt.spotShadowMatrix[g] = o.shadow.matrix, Wt.spot[g++] = y
                    } else if (o instanceof n.PointLight) {
                        var y = ne.get(o);
                        y.position.setFromMatrixPosition(o.matrixWorld), y.position.applyMatrix4(p), y.color.copy(o.color).multiplyScalar(o.intensity), y.distance = o.distance, y.decay = 0 === o.distance ? 0 : o.decay, y.shadow = o.castShadow, o.castShadow && (y.shadowBias = o.shadow.bias, y.shadowRadius = o.shadow.radius, y.shadowMapSize = o.shadow.mapSize), Wt.pointShadowMap[m] = u, void 0 === Wt.pointShadowMatrix[m] && (Wt.pointShadowMatrix[m] = new n.Matrix4), Ht.setFromMatrixPosition(o.matrixWorld).negate(), Wt.pointShadowMatrix[m].identity().setPosition(Ht), Wt.point[m++] = y
                    } else if (o instanceof n.HemisphereLight) {
                        var y = ne.get(o);
                        y.direction.setFromMatrixPosition(o.matrixWorld), y.direction.transformDirection(p), y.direction.normalize(), y.skyColor.copy(o.color).multiplyScalar(s), y.groundColor.copy(o.groundColor).multiplyScalar(s), Wt.hemi[v++] = y
                    }
                    Wt.ambient[0] = c, Wt.ambient[1] = h, Wt.ambient[2] = d, Wt.directional.length = f, Wt.spot.length = g, Wt.point.length = m, Wt.hemi.length = v, Wt.hash = f + "," + m + "," + g + "," + v + "," + Wt.shadows.length
                }

                function N() {
                    var t = Pt;
                    return t >= Jt.maxTextures && console.warn("WebGLRenderer: trying to use " + t + " texture units while this GPU supports only " + Jt.maxTextures), Pt += 1, t
                }

                function U(t, e, i) {
                    var r;
                    if (i ? (Yt.texParameteri(t, Yt.TEXTURE_WRAP_S, it(e.wrapS)), Yt.texParameteri(t, Yt.TEXTURE_WRAP_T, it(e.wrapT)), Yt.texParameteri(t, Yt.TEXTURE_MAG_FILTER, it(e.magFilter)), Yt.texParameteri(t, Yt.TEXTURE_MIN_FILTER, it(e.minFilter))) : (Yt.texParameteri(t, Yt.TEXTURE_WRAP_S, Yt.CLAMP_TO_EDGE), Yt.texParameteri(t, Yt.TEXTURE_WRAP_T, Yt.CLAMP_TO_EDGE), e.wrapS === n.ClampToEdgeWrapping && e.wrapT === n.ClampToEdgeWrapping || console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.", e), Yt.texParameteri(t, Yt.TEXTURE_MAG_FILTER, et(e.magFilter)), Yt.texParameteri(t, Yt.TEXTURE_MIN_FILTER, et(e.minFilter)), e.minFilter !== n.NearestFilter && e.minFilter !== n.LinearFilter && console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.", e)), r = Qt.get("EXT_texture_filter_anisotropic")) {
                        if (e.type === n.FloatType && null === Qt.get("OES_texture_float_linear")) return;
                        if (e.type === n.HalfFloatType && null === Qt.get("OES_texture_half_float_linear")) return;
                        (e.anisotropy > 1 || te.get(e).__currentAnisotropy) && (Yt.texParameterf(t, r.TEXTURE_MAX_ANISOTROPY_EXT, Math.min(e.anisotropy, _t.getMaxAnisotropy())), te.get(e).__currentAnisotropy = e.anisotropy)
                    }
                }

                function G(t, e, i) {
                    void 0 === t.__webglInit && (t.__webglInit = !0, e.addEventListener("dispose", s), t.__webglTexture = Yt.createTexture(), Xt.textures++), $t.activeTexture(Yt.TEXTURE0 + i), $t.bindTexture(Yt.TEXTURE_2D, t.__webglTexture), Yt.pixelStorei(Yt.UNPACK_FLIP_Y_WEBGL, e.flipY), Yt.pixelStorei(Yt.UNPACK_PREMULTIPLY_ALPHA_WEBGL, e.premultiplyAlpha), Yt.pixelStorei(Yt.UNPACK_ALIGNMENT, e.unpackAlignment);
                    var r = j(e.image, Jt.maxTextureSize);
                    W(e) && H(r) === !1 && (r = X(r));
                    var o = H(r),
                        a = it(e.format),
                        l = it(e.type);
                    U(Yt.TEXTURE_2D, e, o);
                    var u, c = e.mipmaps;
                    if (e instanceof n.DepthTexture) {
                        var h = Yt.DEPTH_COMPONENT;
                        if (e.type === n.FloatType) {
                            if (!Kt) throw new Error("Float Depth Texture only supported in WebGL2.0");
                            h = Yt.DEPTH_COMPONENT32F
                        } else Kt && (h = Yt.DEPTH_COMPONENT16);
                        $t.texImage2D(Yt.TEXTURE_2D, 0, h, r.width, r.height, 0, a, l, null)
                    } else if (e instanceof n.DataTexture)
                        if (c.length > 0 && o) {
                            for (var d = 0, p = c.length; d < p; d++) u = c[d], $t.texImage2D(Yt.TEXTURE_2D, d, a, u.width, u.height, 0, a, l, u.data);
                            e.generateMipmaps = !1
                        } else $t.texImage2D(Yt.TEXTURE_2D, 0, a, r.width, r.height, 0, a, l, r.data);
                    else if (e instanceof n.CompressedTexture)
                        for (var d = 0, p = c.length; d < p; d++) u = c[d], e.format !== n.RGBAFormat && e.format !== n.RGBFormat ? $t.getCompressedTextureFormats().indexOf(a) > -1 ? $t.compressedTexImage2D(Yt.TEXTURE_2D, d, a, u.width, u.height, 0, u.data) : console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()") : $t.texImage2D(Yt.TEXTURE_2D, d, a, u.width, u.height, 0, a, l, u.data);
                    else if (c.length > 0 && o) {
                        for (var d = 0, p = c.length; d < p; d++) u = c[d], $t.texImage2D(Yt.TEXTURE_2D, d, a, a, l, u);
                        e.generateMipmaps = !1
                    } else $t.texImage2D(Yt.TEXTURE_2D, 0, a, a, l, r);
                    e.generateMipmaps && o && Yt.generateMipmap(Yt.TEXTURE_2D), t.__version = e.version, e.onUpdate && e.onUpdate(e)
                }

                function V(t, e) {
                    var i = te.get(t);
                    if (t.version > 0 && i.__version !== t.version) {
                        var n = t.image;
                        return void 0 === n ? void console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined", t) : n.complete === !1 ? void console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete", t) : void G(i, t, e)
                    }
                    $t.activeTexture(Yt.TEXTURE0 + e), $t.bindTexture(Yt.TEXTURE_2D, i.__webglTexture)
                }

                function j(t, e) {
                    if (t.width > e || t.height > e) {
                        var i = e / Math.max(t.width, t.height),
                            n = document.createElement("canvas");
                        n.width = Math.floor(t.width * i), n.height = Math.floor(t.height * i);
                        return n.getContext("2d").drawImage(t, 0, 0, t.width, t.height, 0, 0, n.width, n.height), console.warn("THREE.WebGLRenderer: image is too big (" + t.width + "x" + t.height + "). Resized to " + n.width + "x" + n.height, t), n
                    }
                    return t
                }

                function H(t) {
                    return n.Math.isPowerOfTwo(t.width) && n.Math.isPowerOfTwo(t.height)
                }

                function W(t) {
                    return t.wrapS !== n.ClampToEdgeWrapping || t.wrapT !== n.ClampToEdgeWrapping || t.minFilter !== n.NearestFilter && t.minFilter !== n.LinearFilter
                }

                function X(t) {
                    if (t instanceof HTMLImageElement || t instanceof HTMLCanvasElement) {
                        var e = document.createElement("canvas");
                        e.width = n.Math.nearestPowerOfTwo(t.width), e.height = n.Math.nearestPowerOfTwo(t.height);
                        return e.getContext("2d").drawImage(t, 0, 0, e.width, e.height), e
                    }
                    return t
                }

                function q(t, e) {
                    var i = te.get(t);
                    if (6 === t.image.length)
                        if (t.version > 0 && i.__version !== t.version) {
                            i.__image__webglTextureCube || (t.addEventListener("dispose", s), i.__image__webglTextureCube = Yt.createTexture(), Xt.textures++), $t.activeTexture(Yt.TEXTURE0 + e), $t.bindTexture(Yt.TEXTURE_CUBE_MAP, i.__image__webglTextureCube), Yt.pixelStorei(Yt.UNPACK_FLIP_Y_WEBGL, t.flipY);
                            for (var r = t instanceof n.CompressedTexture, o = t.image[0] instanceof n.DataTexture, a = [], l = 0; l < 6; l++) !_t.autoScaleCubemaps || r || o ? a[l] = o ? t.image[l].image : t.image[l] : a[l] = j(t.image[l], Jt.maxCubemapSize);
                            var u = a[0],
                                c = H(u),
                                h = it(t.format),
                                d = it(t.type);
                            U(Yt.TEXTURE_CUBE_MAP, t, c);
                            for (var l = 0; l < 6; l++)
                                if (r)
                                    for (var p, f = a[l].mipmaps, m = 0, g = f.length; m < g; m++) p = f[m], t.format !== n.RGBAFormat && t.format !== n.RGBFormat ? $t.getCompressedTextureFormats().indexOf(h) > -1 ? $t.compressedTexImage2D(Yt.TEXTURE_CUBE_MAP_POSITIVE_X + l, m, h, p.width, p.height, 0, p.data) : console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()") : $t.texImage2D(Yt.TEXTURE_CUBE_MAP_POSITIVE_X + l, m, h, p.width, p.height, 0, h, d, p.data);
                                else o ? $t.texImage2D(Yt.TEXTURE_CUBE_MAP_POSITIVE_X + l, 0, h, a[l].width, a[l].height, 0, h, d, a[l].data) : $t.texImage2D(Yt.TEXTURE_CUBE_MAP_POSITIVE_X + l, 0, h, h, d, a[l]);
                            t.generateMipmaps && c && Yt.generateMipmap(Yt.TEXTURE_CUBE_MAP), i.__version = t.version, t.onUpdate && t.onUpdate(t)
                        } else $t.activeTexture(Yt.TEXTURE0 + e), $t.bindTexture(Yt.TEXTURE_CUBE_MAP, i.__image__webglTextureCube)
                }

                function Y(t, e) {
                    $t.activeTexture(Yt.TEXTURE0 + e), $t.bindTexture(Yt.TEXTURE_CUBE_MAP, te.get(t).__webglTexture)
                }

                function Z(t, e, i, n) {
                    var r = it(e.texture.format),
                        o = it(e.texture.type);
                    $t.texImage2D(n, 0, r, e.width, e.height, 0, r, o, null), Yt.bindFramebuffer(Yt.FRAMEBUFFER, t), Yt.framebufferTexture2D(Yt.FRAMEBUFFER, i, n, te.get(e.texture).__webglTexture, 0), Yt.bindFramebuffer(Yt.FRAMEBUFFER, null)
                }

                function K(t, e) {
                    Yt.bindRenderbuffer(Yt.RENDERBUFFER, t), e.depthBuffer && !e.stencilBuffer ? (Yt.renderbufferStorage(Yt.RENDERBUFFER, Yt.DEPTH_COMPONENT16, e.width, e.height), Yt.framebufferRenderbuffer(Yt.FRAMEBUFFER, Yt.DEPTH_ATTACHMENT, Yt.RENDERBUFFER, t)) : e.depthBuffer && e.stencilBuffer ? (Yt.renderbufferStorage(Yt.RENDERBUFFER, Yt.DEPTH_STENCIL, e.width, e.height), Yt.framebufferRenderbuffer(Yt.FRAMEBUFFER, Yt.DEPTH_STENCIL_ATTACHMENT, Yt.RENDERBUFFER, t)) : Yt.renderbufferStorage(Yt.RENDERBUFFER, Yt.RGBA4, e.width, e.height), Yt.bindRenderbuffer(Yt.RENDERBUFFER, null)
                }

                function Q(t, e) {
                    if (e instanceof n.WebGLRenderTargetCube) throw new Error("Depth Texture with cube render targets is not supported!");
                    if (Yt.bindFramebuffer(Yt.FRAMEBUFFER, t), !(e.depthTexture instanceof n.DepthTexture)) throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");
                    te.get(e.depthTexture).__webglTexture && e.depthTexture.image.width === e.width && e.depthTexture.image.height === e.height || (e.depthTexture.image.width = e.width, e.depthTexture.image.height = e.height, e.depthTexture.needsUpdate = !0), _t.setTexture2D(e.depthTexture, 0);
                    var i = te.get(e.depthTexture).__webglTexture;
                    Yt.framebufferTexture2D(Yt.FRAMEBUFFER, Yt.DEPTH_ATTACHMENT, Yt.TEXTURE_2D, i, 0)
                }

                function J(t) {
                    var e = te.get(t),
                        i = t instanceof n.WebGLRenderTargetCube;
                    if (t.depthTexture) {
                        if (i) throw new Error("target.depthTexture not supported in Cube render targets");
                        Q(e.__webglFramebuffer, t)
                    } else if (i) {
                        e.__webglDepthbuffer = [];
                        for (var r = 0; r < 6; r++) Yt.bindFramebuffer(Yt.FRAMEBUFFER, e.__webglFramebuffer[r]), e.__webglDepthbuffer[r] = Yt.createRenderbuffer(), K(e.__webglDepthbuffer[r], t)
                    } else Yt.bindFramebuffer(Yt.FRAMEBUFFER, e.__webglFramebuffer), e.__webglDepthbuffer = Yt.createRenderbuffer(), K(e.__webglDepthbuffer, t);
                    Yt.bindFramebuffer(Yt.FRAMEBUFFER, null)
                }

                function $(t) {
                    var e = te.get(t),
                        i = te.get(t.texture);
                    t.addEventListener("dispose", l), i.__webglTexture = Yt.createTexture(), Xt.textures++;
                    var r = t instanceof n.WebGLRenderTargetCube,
                        o = n.Math.isPowerOfTwo(t.width) && n.Math.isPowerOfTwo(t.height);
                    if (r) {
                        e.__webglFramebuffer = [];
                        for (var a = 0; a < 6; a++) e.__webglFramebuffer[a] = Yt.createFramebuffer()
                    } else e.__webglFramebuffer = Yt.createFramebuffer();
                    if (r) {
                        $t.bindTexture(Yt.TEXTURE_CUBE_MAP, i.__webglTexture), U(Yt.TEXTURE_CUBE_MAP, t.texture, o);
                        for (var a = 0; a < 6; a++) Z(e.__webglFramebuffer[a], t, Yt.COLOR_ATTACHMENT0, Yt.TEXTURE_CUBE_MAP_POSITIVE_X + a);
                        t.texture.generateMipmaps && o && Yt.generateMipmap(Yt.TEXTURE_CUBE_MAP), $t.bindTexture(Yt.TEXTURE_CUBE_MAP, null)
                    } else $t.bindTexture(Yt.TEXTURE_2D, i.__webglTexture), U(Yt.TEXTURE_2D, t.texture, o), Z(e.__webglFramebuffer, t, Yt.COLOR_ATTACHMENT0, Yt.TEXTURE_2D), t.texture.generateMipmaps && o && Yt.generateMipmap(Yt.TEXTURE_2D), $t.bindTexture(Yt.TEXTURE_2D, null);
                    t.depthBuffer && J(t)
                }

                function tt(t) {
                    var e = t instanceof n.WebGLRenderTargetCube ? Yt.TEXTURE_CUBE_MAP : Yt.TEXTURE_2D,
                        i = te.get(t.texture).__webglTexture;
                    $t.bindTexture(e, i), Yt.generateMipmap(e), $t.bindTexture(e, null)
                }

                function et(t) {
                    return t === n.NearestFilter || t === n.NearestMipMapNearestFilter || t === n.NearestMipMapLinearFilter ? Yt.NEAREST : Yt.LINEAR
                }

                function it(t) {
                    var e;
                    if (t === n.RepeatWrapping) return Yt.REPEAT;
                    if (t === n.ClampToEdgeWrapping) return Yt.CLAMP_TO_EDGE;
                    if (t === n.MirroredRepeatWrapping) return Yt.MIRRORED_REPEAT;
                    if (t === n.NearestFilter) return Yt.NEAREST;
                    if (t === n.NearestMipMapNearestFilter) return Yt.NEAREST_MIPMAP_NEAREST;
                    if (t === n.NearestMipMapLinearFilter) return Yt.NEAREST_MIPMAP_LINEAR;
                    if (t === n.LinearFilter) return Yt.LINEAR;
                    if (t === n.LinearMipMapNearestFilter) return Yt.LINEAR_MIPMAP_NEAREST;
                    if (t === n.LinearMipMapLinearFilter) return Yt.LINEAR_MIPMAP_LINEAR;
                    if (t === n.UnsignedByteType) return Yt.UNSIGNED_BYTE;
                    if (t === n.UnsignedShort4444Type) return Yt.UNSIGNED_SHORT_4_4_4_4;
                    if (t === n.UnsignedShort5551Type) return Yt.UNSIGNED_SHORT_5_5_5_1;
                    if (t === n.UnsignedShort565Type) return Yt.UNSIGNED_SHORT_5_6_5;
                    if (t === n.ByteType) return Yt.BYTE;
                    if (t === n.ShortType) return Yt.SHORT;
                    if (t === n.UnsignedShortType) return Yt.UNSIGNED_SHORT;
                    if (t === n.IntType) return Yt.INT;
                    if (t === n.UnsignedIntType) return Yt.UNSIGNED_INT;
                    if (t === n.FloatType) return Yt.FLOAT;
                    if (null !== (e = Qt.get("OES_texture_half_float")) && t === n.HalfFloatType) return e.HALF_FLOAT_OES;
                    if (t === n.AlphaFormat) return Yt.ALPHA;
                    if (t === n.RGBFormat) return Yt.RGB;
                    if (t === n.RGBAFormat) return Yt.RGBA;
                    if (t === n.LuminanceFormat) return Yt.LUMINANCE;
                    if (t === n.LuminanceAlphaFormat) return Yt.LUMINANCE_ALPHA;
                    if (t === n.DepthFormat) return Yt.DEPTH_COMPONENT;
                    if (t === n.AddEquation) return Yt.FUNC_ADD;
                    if (t === n.SubtractEquation) return Yt.FUNC_SUBTRACT;
                    if (t === n.ReverseSubtractEquation) return Yt.FUNC_REVERSE_SUBTRACT;
                    if (t === n.ZeroFactor) return Yt.ZERO;
                    if (t === n.OneFactor) return Yt.ONE;
                    if (t === n.SrcColorFactor) return Yt.SRC_COLOR;
                    if (t === n.OneMinusSrcColorFactor) return Yt.ONE_MINUS_SRC_COLOR;
                    if (t === n.SrcAlphaFactor) return Yt.SRC_ALPHA;
                    if (t === n.OneMinusSrcAlphaFactor) return Yt.ONE_MINUS_SRC_ALPHA;
                    if (t === n.DstAlphaFactor) return Yt.DST_ALPHA;
                    if (t === n.OneMinusDstAlphaFactor) return Yt.ONE_MINUS_DST_ALPHA;
                    if (t === n.DstColorFactor) return Yt.DST_COLOR;
                    if (t === n.OneMinusDstColorFactor) return Yt.ONE_MINUS_DST_COLOR;
                    if (t === n.SrcAlphaSaturateFactor) return Yt.SRC_ALPHA_SATURATE;
                    if (null !== (e = Qt.get("WEBGL_compressed_texture_s3tc"))) {
                        if (t === n.RGB_S3TC_DXT1_Format) return e.COMPRESSED_RGB_S3TC_DXT1_EXT;
                        if (t === n.RGBA_S3TC_DXT1_Format) return e.COMPRESSED_RGBA_S3TC_DXT1_EXT;
                        if (t === n.RGBA_S3TC_DXT3_Format) return e.COMPRESSED_RGBA_S3TC_DXT3_EXT;
                        if (t === n.RGBA_S3TC_DXT5_Format) return e.COMPRESSED_RGBA_S3TC_DXT5_EXT
                    }
                    if (null !== (e = Qt.get("WEBGL_compressed_texture_pvrtc"))) {
                        if (t === n.RGB_PVRTC_4BPPV1_Format) return e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;
                        if (t === n.RGB_PVRTC_2BPPV1_Format) return e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;
                        if (t === n.RGBA_PVRTC_4BPPV1_Format) return e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;
                        if (t === n.RGBA_PVRTC_2BPPV1_Format) return e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG
                    }
                    if (null !== (e = Qt.get("WEBGL_compressed_texture_etc1")) && t === n.RGB_ETC1_Format) return e.COMPRESSED_RGB_ETC1_WEBGL;
                    if (null !== (e = Qt.get("EXT_blend_minmax"))) {
                        if (t === n.MinEquation) return e.MIN_EXT;
                        if (t === n.MaxEquation) return e.MAX_EXT
                    }
                    return 0
                }
                t = t || {};
                var nt = void 0 !== t.canvas ? t.canvas : document.createElement("canvas"),
                    rt = void 0 !== t.context ? t.context : null,
                    ot = void 0 !== t.alpha && t.alpha,
                    at = void 0 === t.depth || t.depth,
                    st = void 0 === t.stencil || t.stencil,
                    lt = void 0 !== t.antialias && t.antialias,
                    ut = void 0 === t.premultipliedAlpha || t.premultipliedAlpha,
                    ct = void 0 !== t.preserveDrawingBuffer && t.preserveDrawingBuffer,
                    ht = [],
                    dt = [],
                    pt = -1,
                    ft = [],
                    mt = -1,
                    gt = new Float32Array(8),
                    vt = [],
                    yt = [];
                this.domElement = nt, this.context = null, this.autoClear = !0, this.autoClearColor = !0, this.autoClearDepth = !0, this.autoClearStencil = !0, this.sortObjects = !0, this.clippingPlanes = [], this.localClippingEnabled = !1, this.gammaFactor = 2, this.gammaInput = !1, this.gammaOutput = !1, this.physicallyCorrectLights = !1, this.toneMapping = n.LinearToneMapping, this.toneMappingExposure = 1, this.toneMappingWhitePoint = 1, this.maxMorphTargets = 8, this.maxMorphNormals = 4, this.autoScaleCubemaps = !0;
                var _t = this,
                    bt = null,
                    xt = null,
                    wt = null,
                    Tt = -1,
                    St = "",
                    Mt = null,
                    Et = new n.Vector4,
                    Ct = null,
                    At = new n.Vector4,
                    Pt = 0,
                    Lt = new n.Color(0),
                    Ot = 0,
                    kt = nt.width,
                    Rt = nt.height,
                    It = 1,
                    Dt = new n.Vector4(0, 0, kt, Rt),
                    Bt = !1,
                    zt = new n.Vector4(0, 0, kt, Rt),
                    Ft = new n.Frustum,
                    Nt = new n.WebGLClipping,
                    Ut = !1,
                    Gt = !1,
                    Vt = new n.Sphere,
                    jt = new n.Matrix4,
                    Ht = new n.Vector3,
                    Wt = {
                        hash: "",
                        ambient: [0, 0, 0],
                        directional: [],
                        directionalShadowMap: [],
                        directionalShadowMatrix: [],
                        spot: [],
                        spotShadowMap: [],
                        spotShadowMatrix: [],
                        point: [],
                        pointShadowMap: [],
                        pointShadowMatrix: [],
                        hemi: [],
                        shadows: []
                    },
                    Xt = {
                        geometries: 0,
                        textures: 0
                    },
                    qt = {
                        calls: 0,
                        vertices: 0,
                        faces: 0,
                        points: 0
                    };
                this.info = {
                    render: qt,
                    memory: Xt,
                    programs: null
                };
                var Yt;
                try {
                    var Zt = {
                        alpha: ot,
                        depth: at,
                        stencil: st,
                        antialias: lt,
                        premultipliedAlpha: ut,
                        preserveDrawingBuffer: ct
                    };
                    if (null === (Yt = rt || nt.getContext("webgl", Zt) || nt.getContext("experimental-webgl", Zt))) throw null !== nt.getContext("webgl") ? "Error creating WebGL context with your selected attributes." : "Error creating WebGL context.";
                    void 0 === Yt.getShaderPrecisionFormat && (Yt.getShaderPrecisionFormat = function() {
                        return {
                            rangeMin: 1,
                            rangeMax: 1,
                            precision: 1
                        }
                    }), nt.addEventListener("webglcontextlost", a, !1)
                } catch (t) {
                    console.error("THREE.WebGLRenderer: " + t)
                }
                var Kt = "undefined" != typeof WebGL2RenderingContext && Yt instanceof WebGL2RenderingContext,
                    Qt = new n.WebGLExtensions(Yt);
                Qt.get("WEBGL_depth_texture"), Qt.get("OES_texture_float"), Qt.get("OES_texture_float_linear"), Qt.get("OES_texture_half_float"), Qt.get("OES_texture_half_float_linear"), Qt.get("OES_standard_derivatives"), Qt.get("ANGLE_instanced_arrays"), Qt.get("OES_element_index_uint") && (n.BufferGeometry.MaxIndex = 4294967296);
                var Jt = new n.WebGLCapabilities(Yt, Qt, t),
                    $t = new n.WebGLState(Yt, Qt, it),
                    te = new n.WebGLProperties,
                    ee = new n.WebGLObjects(Yt, te, this.info),
                    ie = new n.WebGLPrograms(this, Jt),
                    ne = new n.WebGLLights;
                this.info.programs = ie.programs;
                var re = new n.WebGLBufferRenderer(Yt, Qt, qt),
                    oe = new n.WebGLIndexedBufferRenderer(Yt, Qt, qt);
                r(), this.context = Yt, this.capabilities = Jt, this.extensions = Qt, this.properties = te, this.state = $t;
                var ae = new n.WebGLShadowMap(this, Wt, ee);
                this.shadowMap = ae;
                var se = new n.SpritePlugin(this, vt),
                    le = new n.LensFlarePlugin(this, yt);
                this.getContext = function() {
                    return Yt
                }, this.getContextAttributes = function() {
                    return Yt.getContextAttributes()
                }, this.forceContextLoss = function() {
                    Qt.get("WEBGL_lose_context").loseContext()
                }, this.getMaxAnisotropy = function() {
                    var t;
                    return function() {
                        if (void 0 !== t) return t;
                        var e = Qt.get("EXT_texture_filter_anisotropic");
                        return t = null !== e ? Yt.getParameter(e.MAX_TEXTURE_MAX_ANISOTROPY_EXT) : 0
                    }
                }(), this.getPrecision = function() {
                    return Jt.precision
                }, this.getPixelRatio = function() {
                    return It
                }, this.setPixelRatio = function(t) {
                    void 0 !== t && (It = t, this.setSize(zt.z, zt.w, !1))
                }, this.getSize = function() {
                    return {
                        width: kt,
                        height: Rt
                    }
                }, this.setSize = function(t, e, i) {
                    kt = t, Rt = e, nt.width = t * It, nt.height = e * It, i !== !1 && (nt.style.width = t + "px", nt.style.height = e + "px"), this.setViewport(0, 0, t, e)
                }, this.setViewport = function(t, e, i, n) {
                    $t.viewport(zt.set(t, e, i, n))
                }, this.setScissor = function(t, e, i, n) {
                    $t.scissor(Dt.set(t, e, i, n))
                }, this.setScissorTest = function(t) {
                    $t.setScissorTest(Bt = t)
                }, this.getClearColor = function() {
                    return Lt
                }, this.setClearColor = function(t, e) {
                    Lt.set(t), Ot = void 0 !== e ? e : 1, i(Lt.r, Lt.g, Lt.b, Ot)
                }, this.getClearAlpha = function() {
                    return Ot
                }, this.setClearAlpha = function(t) {
                    Ot = t, i(Lt.r, Lt.g, Lt.b, Ot)
                }, this.clear = function(t, e, i) {
                    var n = 0;
                    (void 0 === t || t) && (n |= Yt.COLOR_BUFFER_BIT), (void 0 === e || e) && (n |= Yt.DEPTH_BUFFER_BIT), (void 0 === i || i) && (n |= Yt.STENCIL_BUFFER_BIT), Yt.clear(n)
                }, this.clearColor = function() {
                    this.clear(!0, !1, !1)
                }, this.clearDepth = function() {
                    this.clear(!1, !0, !1)
                }, this.clearStencil = function() {
                    this.clear(!1, !1, !0)
                }, this.clearTarget = function(t, e, i, n) {
                    this.setRenderTarget(t), this.clear(e, i, n)
                }, this.resetGLState = o, this.dispose = function() {
                    nt.removeEventListener("webglcontextlost", a, !1)
                }, this.renderBufferImmediate = function(t, e, i) {
                    $t.initAttributes();
                    var r = te.get(t);
                    t.hasPositions && !r.position && (r.position = Yt.createBuffer()), t.hasNormals && !r.normal && (r.normal = Yt.createBuffer()), t.hasUvs && !r.uv && (r.uv = Yt.createBuffer()), t.hasColors && !r.color && (r.color = Yt.createBuffer());
                    var o = e.getAttributes();
                    if (t.hasPositions && (Yt.bindBuffer(Yt.ARRAY_BUFFER, r.position), Yt.bufferData(Yt.ARRAY_BUFFER, t.positionArray, Yt.DYNAMIC_DRAW), $t.enableAttribute(o.position), Yt.vertexAttribPointer(o.position, 3, Yt.FLOAT, !1, 0, 0)), t.hasNormals) {
                        if (Yt.bindBuffer(Yt.ARRAY_BUFFER, r.normal), "MeshPhongMaterial" !== i.type && "MeshStandardMaterial" !== i.type && "MeshPhysicalMaterial" !== i.type && i.shading === n.FlatShading)
                            for (var a = 0, s = 3 * t.count; a < s; a += 9) {
                                var l = t.normalArray,
                                    u = (l[a + 0] + l[a + 3] + l[a + 6]) / 3,
                                    c = (l[a + 1] + l[a + 4] + l[a + 7]) / 3,
                                    h = (l[a + 2] + l[a + 5] + l[a + 8]) / 3;
                                l[a + 0] = u, l[a + 1] = c, l[a + 2] = h, l[a + 3] = u, l[a + 4] = c, l[a + 5] = h, l[a + 6] = u, l[a + 7] = c, l[a + 8] = h
                            }
                        Yt.bufferData(Yt.ARRAY_BUFFER, t.normalArray, Yt.DYNAMIC_DRAW), $t.enableAttribute(o.normal), Yt.vertexAttribPointer(o.normal, 3, Yt.FLOAT, !1, 0, 0)
                    }
                    t.hasUvs && i.map && (Yt.bindBuffer(Yt.ARRAY_BUFFER, r.uv), Yt.bufferData(Yt.ARRAY_BUFFER, t.uvArray, Yt.DYNAMIC_DRAW), $t.enableAttribute(o.uv), Yt.vertexAttribPointer(o.uv, 2, Yt.FLOAT, !1, 0, 0)), t.hasColors && i.vertexColors !== n.NoColors && (Yt.bindBuffer(Yt.ARRAY_BUFFER, r.color), Yt.bufferData(Yt.ARRAY_BUFFER, t.colorArray, Yt.DYNAMIC_DRAW), $t.enableAttribute(o.color), Yt.vertexAttribPointer(o.color, 3, Yt.FLOAT, !1, 0, 0)), $t.disableUnusedAttributes(), Yt.drawArrays(Yt.TRIANGLES, 0, t.count), t.count = 0
                }, this.renderBufferDirect = function(t, i, r, o, a, s) {
                    M(o);
                    var l = E(t, i, o, a),
                        u = !1,
                        c = r.id + "_" + l.id + "_" + o.wireframe;
                    c !== St && (St = c, u = !0);
                    var h = a.morphTargetInfluences;
                    if (void 0 !== h) {
                        for (var d = [], p = 0, g = h.length; p < g; p++) {
                            var v = h[p];
                            d.push([v, p])
                        }
                        d.sort(m), d.length > 8 && (d.length = 8);
                        for (var y = r.morphAttributes, p = 0, g = d.length; p < g; p++) {
                            var v = d[p];
                            if (gt[p] = v[0], 0 !== v[0]) {
                                var _ = v[1];
                                o.morphTargets === !0 && y.position && r.addAttribute("morphTarget" + p, y.position[_]), o.morphNormals === !0 && y.normal && r.addAttribute("morphNormal" + p, y.normal[_])
                            } else o.morphTargets === !0 && r.removeAttribute("morphTarget" + p), o.morphNormals === !0 && r.removeAttribute("morphNormal" + p)
                        }
                        l.getUniforms().setValue(Yt, "morphTargetInfluences", gt), u = !0
                    }
                    var _ = r.index,
                        b = r.attributes.position;
                    o.wireframe === !0 && (_ = ee.getWireframeAttribute(r));
                    var x;
                    null !== _ ? (x = oe, x.setIndex(_)) : x = re, u && (f(o, l, r), null !== _ && Yt.bindBuffer(Yt.ELEMENT_ARRAY_BUFFER, ee.getAttributeBuffer(_)));
                    var w = 1 / 0;
                    null !== _ ? w = _.count : void 0 !== b && (w = b.count);
                    var T = r.drawRange.start,
                        S = r.drawRange.count,
                        C = null !== s ? s.start : 0,
                        A = null !== s ? s.count : 1 / 0,
                        P = Math.max(0, T, C),
                        L = Math.min(0 + w, T + S, C + A) - 1,
                        O = Math.max(0, L - P + 1);
                    if (a instanceof n.Mesh)
                        if (o.wireframe === !0) $t.setLineWidth(o.wireframeLinewidth * e()), x.setMode(Yt.LINES);
                        else switch (a.drawMode) {
                            case n.TrianglesDrawMode:
                                x.setMode(Yt.TRIANGLES);
                                break;
                            case n.TriangleStripDrawMode:
                                x.setMode(Yt.TRIANGLE_STRIP);
                                break;
                            case n.TriangleFanDrawMode:
                                x.setMode(Yt.TRIANGLE_FAN)
                        } else if (a instanceof n.Line) {
                            var k = o.linewidth;
                            void 0 === k && (k = 1), $t.setLineWidth(k * e()), a instanceof n.LineSegments ? x.setMode(Yt.LINES) : x.setMode(Yt.LINE_STRIP)
                        } else a instanceof n.Points && x.setMode(Yt.POINTS);
                    r instanceof n.InstancedBufferGeometry ? r.maxInstancedCount > 0 && x.renderInstances(r, P, O) : x.render(P, O)
                }, this.render = function(t, e, i, r) {
                    if (e instanceof n.Camera == !1) return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");
                    var o = t.fog;
                    if (St = "", Tt = -1, Mt = null, t.autoUpdate === !0 && t.updateMatrixWorld(), null === e.parent && e.updateMatrixWorld(), e.matrixWorldInverse.getInverse(e.matrixWorld), jt.multiplyMatrices(e.projectionMatrix, e.matrixWorldInverse), Ft.setFromMatrix(jt), ht.length = 0, pt = -1, mt = -1, vt.length = 0, yt.length = 0, Gt = this.localClippingEnabled, Ut = Nt.init(this.clippingPlanes, Gt, e), w(t, e), dt.length = pt + 1, ft.length = mt + 1, _t.sortObjects === !0 && (dt.sort(g), ft.sort(v)), Ut && Nt.beginShadows(), z(ht), ae.render(t, e), F(ht, e), Ut && Nt.endShadows(), qt.calls = 0, qt.vertices = 0, qt.faces = 0, qt.points = 0, void 0 === i && (i = null), this.setRenderTarget(i), (this.autoClear || r) && this.clear(this.autoClearColor, this.autoClearDepth, this.autoClearStencil), t.overrideMaterial) {
                        var a = t.overrideMaterial;
                        T(dt, e, o, a), T(ft, e, o, a)
                    } else $t.setBlending(n.NoBlending), T(dt, e, o), T(ft, e, o);
                    if (se.render(t, e), le.render(t, e, At), i) {
                        var s = i.texture;
                        s.generateMipmaps && H(i) && s.minFilter !== n.NearestFilter && s.minFilter !== n.LinearFilter && tt(i)
                    }
                    $t.setDepthTest(!0), $t.setDepthWrite(!0), $t.setColorWrite(!0)
                }, this.setFaceCulling = function(t, e) {
                    $t.setCullFace(t), $t.setFlipSided(e === n.FrontFaceDirectionCW)
                }, this.allocTextureUnit = N, this.setTexture2D = function() {
                    var t = !1;
                    return function(e, i) {
                        e instanceof n.WebGLRenderTarget && (t || (console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."), t = !0), e = e.texture), V(e, i)
                    }
                }(), this.setTexture = function() {
                    var t = !1;
                    return function(e, i) {
                        t || (console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."), t = !0), _t.setTexture2D(e, i)
                    }
                }(), this.setTextureCube = function() {
                    var t = !1;
                    return function(e, i) {
                        e instanceof n.WebGLRenderTargetCube && (t || (console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."), t = !0), e = e.texture), e instanceof n.CubeTexture || Array.isArray(e.image) && 6 === e.image.length ? q(e, i) : Y(e, i)
                    }
                }(), this.getCurrentRenderTarget = function() {
                    return xt
                }, this.setRenderTarget = function(t) {
                    xt = t, t && void 0 === te.get(t).__webglFramebuffer && $(t);
                    var e, i = t instanceof n.WebGLRenderTargetCube;
                    if (t) {
                        var r = te.get(t);
                        e = i ? r.__webglFramebuffer[t.activeCubeFace] : r.__webglFramebuffer, Et.copy(t.scissor), Ct = t.scissorTest, At.copy(t.viewport)
                    } else e = null, Et.copy(Dt).multiplyScalar(It), Ct = Bt, At.copy(zt).multiplyScalar(It);
                    if (wt !== e && (Yt.bindFramebuffer(Yt.FRAMEBUFFER, e), wt = e), $t.scissor(Et), $t.setScissorTest(Ct), $t.viewport(At), i) {
                        var o = te.get(t.texture);
                        Yt.framebufferTexture2D(Yt.FRAMEBUFFER, Yt.COLOR_ATTACHMENT0, Yt.TEXTURE_CUBE_MAP_POSITIVE_X + t.activeCubeFace, o.__webglTexture, t.activeMipMapLevel)
                    }
                }, this.readRenderTargetPixels = function(t, e, i, r, o, a) {
                    if (t instanceof n.WebGLRenderTarget == !1) return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");
                    var s = te.get(t).__webglFramebuffer;
                    if (s) {
                        var l = !1;
                        s !== wt && (Yt.bindFramebuffer(Yt.FRAMEBUFFER, s), l = !0);
                        try {
                            var u = t.texture;
                            if (u.format !== n.RGBAFormat && it(u.format) !== Yt.getParameter(Yt.IMPLEMENTATION_COLOR_READ_FORMAT)) return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");
                            if (!(u.type === n.UnsignedByteType || it(u.type) === Yt.getParameter(Yt.IMPLEMENTATION_COLOR_READ_TYPE) || u.type === n.FloatType && Qt.get("WEBGL_color_buffer_float") || u.type === n.HalfFloatType && Qt.get("EXT_color_buffer_half_float"))) return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");
                            Yt.checkFramebufferStatus(Yt.FRAMEBUFFER) === Yt.FRAMEBUFFER_COMPLETE ? e >= 0 && e <= t.width - r && i >= 0 && i <= t.height - o && Yt.readPixels(e, i, r, o, it(u.format), it(u.type), a) : console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")
                        } finally {
                            l && Yt.bindFramebuffer(Yt.FRAMEBUFFER, wt)
                        }
                    }
                }
            }, n.WebGLRenderTarget = function(t, e, i) {
                this.uuid = n.Math.generateUUID(), this.width = t, this.height = e, this.scissor = new n.Vector4(0, 0, t, e), this.scissorTest = !1, this.viewport = new n.Vector4(0, 0, t, e), i = i || {}, void 0 === i.minFilter && (i.minFilter = n.LinearFilter), this.texture = new n.Texture(void 0, void 0, i.wrapS, i.wrapT, i.magFilter, i.minFilter, i.format, i.type, i.anisotropy, i.encoding), this.depthBuffer = void 0 === i.depthBuffer || i.depthBuffer, this.stencilBuffer = void 0 === i.stencilBuffer || i.stencilBuffer, this.depthTexture = null
            }, Object.assign(n.WebGLRenderTarget.prototype, n.EventDispatcher.prototype, {
                setSize: function(t, e) {
                    this.width === t && this.height === e || (this.width = t, this.height = e, this.dispose()), this.viewport.set(0, 0, t, e), this.scissor.set(0, 0, t, e)
                },
                clone: function() {
                    return (new this.constructor).copy(this)
                },
                copy: function(t) {
                    return this.width = t.width, this.height = t.height, this.viewport.copy(t.viewport), this.texture = t.texture.clone(), this.depthBuffer = t.depthBuffer, this.stencilBuffer = t.stencilBuffer, this.depthTexture = t.depthTexture, this
                },
                dispose: function() {
                    this.dispatchEvent({
                        type: "dispose"
                    })
                }
            }), n.WebGLRenderTargetCube = function(t, e, i) {
                n.WebGLRenderTarget.call(this, t, e, i), this.activeCubeFace = 0, this.activeMipMapLevel = 0
            }, n.WebGLRenderTargetCube.prototype = Object.create(n.WebGLRenderTarget.prototype), n.WebGLRenderTargetCube.prototype.constructor = n.WebGLRenderTargetCube, n.WebGLBufferRenderer = function(t, e, i) {
                function r(t) {
                    s = t
                }

                function o(e, n) {
                    t.drawArrays(s, e, n), i.calls++, i.vertices += n, s === t.TRIANGLES && (i.faces += n / 3)
                }

                function a(r) {
                    var o = e.get("ANGLE_instanced_arrays");
                    if (null === o) return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");
                    var a = r.attributes.position,
                        l = 0;
                    a instanceof n.InterleavedBufferAttribute ? (l = a.data.count, o.drawArraysInstancedANGLE(s, 0, l, r.maxInstancedCount)) : (l = a.count, o.drawArraysInstancedANGLE(s, 0, l, r.maxInstancedCount)), i.calls++, i.vertices += l * r.maxInstancedCount, s === t.TRIANGLES && (i.faces += r.maxInstancedCount * l / 3)
                }
                var s;
                this.setMode = r, this.render = o, this.renderInstances = a
            }, n.WebGLClipping = function() {
                function t() {
                    c.value !== r && (c.value = r, c.needsUpdate = o > 0), i.numPlanes = o
                }

                function e(t, e, n, r) {
                    var o = null !== t ? t.length : 0,
                        a = null;
                    if (0 !== o) {
                        if (a = c.value, r !== !0 || null === a) {
                            var s = n + 4 * o,
                                h = e.matrixWorldInverse;
                            u.getNormalMatrix(h), (null === a || a.length < s) && (a = new Float32Array(s));
                            for (var d = 0, p = n; d !== o; ++d, p += 4) l.copy(t[d]).applyMatrix4(h, u), l.normal.toArray(a, p), a[p + 3] = l.constant
                        }
                        c.value = a, c.needsUpdate = !0
                    }
                    return i.numPlanes = o, a
                }
                var i = this,
                    r = null,
                    o = 0,
                    a = !1,
                    s = !1,
                    l = new n.Plane,
                    u = new n.Matrix3,
                    c = {
                        value: null,
                        needsUpdate: !1
                    };
                this.uniform = c, this.numPlanes = 0, this.init = function(t, i, n) {
                    var s = 0 !== t.length || i || 0 !== o || a;
                    return a = i, r = e(t, n, 0), o = t.length, s
                }, this.beginShadows = function() {
                    s = !0, e(null)
                }, this.endShadows = function() {
                    s = !1, t()
                }, this.setState = function(i, n, l, u, h) {
                    if (!a || null === i || 0 === i.length || s && !n) s ? e(null) : t();
                    else {
                        var d = s ? 0 : o,
                            p = 4 * d,
                            f = u.clippingState || null;
                        c.value = f, f = e(i, l, p, h);
                        for (var m = 0; m !== p; ++m) f[m] = r[m];
                        u.clippingState = f, this.numPlanes += d
                    }
                }
            }, n.WebGLIndexedBufferRenderer = function(t, e, i) {
                function n(t) {
                    s = t
                }

                function r(i) {
                    i.array instanceof Uint32Array && e.get("OES_element_index_uint") ? (l = t.UNSIGNED_INT, u = 4) : (l = t.UNSIGNED_SHORT, u = 2)
                }

                function o(e, n) {
                    t.drawElements(s, n, l, e * u), i.calls++, i.vertices += n, s === t.TRIANGLES && (i.faces += n / 3)
                }

                function a(n, r, o) {
                    var a = e.get("ANGLE_instanced_arrays");
                    if (null === a) return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");
                    a.drawElementsInstancedANGLE(s, o, l, r * u, n.maxInstancedCount), i.calls++, i.vertices += o * n.maxInstancedCount, s === t.TRIANGLES && (i.faces += n.maxInstancedCount * o / 3)
                }
                var s, l, u;
                this.setMode = n, this.setIndex = r, this.render = o, this.renderInstances = a
            }, n.WebGLExtensions = function(t) {
                var e = {};
                this.get = function(i) {
                    if (void 0 !== e[i]) return e[i];
                    var n;
                    switch (i) {
                        case "WEBGL_depth_texture":
                            n = t.getExtension("WEBGL_depth_texture") || t.getExtension("MOZ_WEBGL_depth_texture") || t.getExtension("WEBKIT_WEBGL_depth_texture");
                            break;
                        case "EXT_texture_filter_anisotropic":
                            n = t.getExtension("EXT_texture_filter_anisotropic") || t.getExtension("MOZ_EXT_texture_filter_anisotropic") || t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");
                            break;
                        case "WEBGL_compressed_texture_s3tc":
                            n = t.getExtension("WEBGL_compressed_texture_s3tc") || t.getExtension("MOZ_WEBGL_compressed_texture_s3tc") || t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");
                            break;
                        case "WEBGL_compressed_texture_pvrtc":
                            n = t.getExtension("WEBGL_compressed_texture_pvrtc") || t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");
                            break;
                        case "WEBGL_compressed_texture_etc1":
                            n = t.getExtension("WEBGL_compressed_texture_etc1");
                            break;
                        default:
                            n = t.getExtension(i)
                    }
                    return null === n && console.warn("THREE.WebGLRenderer: " + i + " extension not supported."), e[i] = n, n
                }
            }, n.WebGLCapabilities = function(t, e, i) {
                function n(e) {
                    if ("highp" === e) {
                        if (t.getShaderPrecisionFormat(t.VERTEX_SHADER, t.HIGH_FLOAT).precision > 0 && t.getShaderPrecisionFormat(t.FRAGMENT_SHADER, t.HIGH_FLOAT).precision > 0) return "highp";
                        e = "mediump"
                    }
                    return "mediump" === e && t.getShaderPrecisionFormat(t.VERTEX_SHADER, t.MEDIUM_FLOAT).precision > 0 && t.getShaderPrecisionFormat(t.FRAGMENT_SHADER, t.MEDIUM_FLOAT).precision > 0 ? "mediump" : "lowp"
                }
                this.getMaxPrecision = n, this.precision = void 0 !== i.precision ? i.precision : "highp", this.logarithmicDepthBuffer = void 0 !== i.logarithmicDepthBuffer && i.logarithmicDepthBuffer, this.maxTextures = t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS), this.maxVertexTextures = t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS), this.maxTextureSize = t.getParameter(t.MAX_TEXTURE_SIZE), this.maxCubemapSize = t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE), this.maxAttributes = t.getParameter(t.MAX_VERTEX_ATTRIBS), this.maxVertexUniforms = t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS), this.maxVaryings = t.getParameter(t.MAX_VARYING_VECTORS), this.maxFragmentUniforms = t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS), this.vertexTextures = this.maxVertexTextures > 0, this.floatFragmentTextures = !!e.get("OES_texture_float"), this.floatVertexTextures = this.vertexTextures && this.floatFragmentTextures;
                var r = n(this.precision);
                r !== this.precision && (console.warn("THREE.WebGLRenderer:", this.precision, "not supported, using", r, "instead."), this.precision = r), this.logarithmicDepthBuffer && (this.logarithmicDepthBuffer = !!e.get("EXT_frag_depth"))
            }, n.WebGLGeometries = function(t, e, i) {
                function r(t) {
                    var e = t.geometry;
                    if (void 0 !== c[e.id]) return c[e.id];
                    e.addEventListener("dispose", o);
                    var r;
                    return e instanceof n.BufferGeometry ? r = e : e instanceof n.Geometry && (void 0 === e._bufferGeometry && (e._bufferGeometry = (new n.BufferGeometry).setFromObject(t)), r = e._bufferGeometry), c[e.id] = r, i.memory.geometries++, r
                }

                function o(t) {
                    var n = t.target,
                        r = c[n.id];
                    null !== r.index && s(r.index), l(r.attributes), n.removeEventListener("dispose", o), delete c[n.id];
                    var a = e.get(n);
                    a.wireframe && s(a.wireframe), e.delete(n);
                    var u = e.get(r);
                    u.wireframe && s(u.wireframe), e.delete(r), i.memory.geometries--
                }

                function a(t) {
                    return t instanceof n.InterleavedBufferAttribute ? e.get(t.data).__webglBuffer : e.get(t).__webglBuffer
                }

                function s(e) {
                    var i = a(e);
                    void 0 !== i && (t.deleteBuffer(i), u(e))
                }

                function l(t) {
                    for (var e in t) s(t[e])
                }

                function u(t) {
                    t instanceof n.InterleavedBufferAttribute ? e.delete(t.data) : e.delete(t)
                }
                var c = {};
                this.get = r
            }, n.WebGLLights = function() {
                var t = {};
                this.get = function(e) {
                    if (void 0 !== t[e.id]) return t[e.id];
                    var i;
                    switch (e.type) {
                        case "DirectionalLight":
                            i = {
                                direction: new n.Vector3,
                                color: new n.Color,
                                shadow: !1,
                                shadowBias: 0,
                                shadowRadius: 1,
                                shadowMapSize: new n.Vector2
                            };
                            break;
                        case "SpotLight":
                            i = {
                                position: new n.Vector3,
                                direction: new n.Vector3,
                                color: new n.Color,
                                distance: 0,
                                coneCos: 0,
                                penumbraCos: 0,
                                decay: 0,
                                shadow: !1,
                                shadowBias: 0,
                                shadowRadius: 1,
                                shadowMapSize: new n.Vector2
                            };
                            break;
                        case "PointLight":
                            i = {
                                position: new n.Vector3,
                                color: new n.Color,
                                distance: 0,
                                decay: 0,
                                shadow: !1,
                                shadowBias: 0,
                                shadowRadius: 1,
                                shadowMapSize: new n.Vector2
                            };
                            break;
                        case "HemisphereLight":
                            i = {
                                direction: new n.Vector3,
                                skyColor: new n.Color,
                                groundColor: new n.Color
                            }
                    }
                    return t[e.id] = i, i
                }
            }, n.WebGLObjects = function(t, e, i) {
                function r(e) {
                    var i = h.get(e);
                    e.geometry instanceof n.Geometry && i.updateFromObject(e);
                    var r = i.index,
                        a = i.attributes;
                    null !== r && o(r, t.ELEMENT_ARRAY_BUFFER);
                    for (var s in a) o(a[s], t.ARRAY_BUFFER);
                    var l = i.morphAttributes;
                    for (var s in l)
                        for (var u = l[s], c = 0, d = u.length; c < d; c++) o(u[c], t.ARRAY_BUFFER);
                    return i
                }

                function o(t, i) {
                    var r = t instanceof n.InterleavedBufferAttribute ? t.data : t,
                        o = e.get(r);
                    void 0 === o.__webglBuffer ? a(o, r, i) : o.version !== r.version && s(o, r, i)
                }

                function a(e, i, n) {
                    e.__webglBuffer = t.createBuffer(), t.bindBuffer(n, e.__webglBuffer);
                    var r = i.dynamic ? t.DYNAMIC_DRAW : t.STATIC_DRAW;
                    t.bufferData(n, i.array, r), e.version = i.version
                }

                function s(e, i, n) {
                    t.bindBuffer(n, e.__webglBuffer), i.dynamic === !1 || i.updateRange.count === -1 ? t.bufferSubData(n, 0, i.array) : 0 === i.updateRange.count ? console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually.") : (t.bufferSubData(n, i.updateRange.offset * i.array.BYTES_PER_ELEMENT, i.array.subarray(i.updateRange.offset, i.updateRange.offset + i.updateRange.count)), i.updateRange.count = 0), e.version = i.version
                }

                function l(t) {
                    return t instanceof n.InterleavedBufferAttribute ? e.get(t.data).__webglBuffer : e.get(t).__webglBuffer
                }

                function u(i) {
                    var r = e.get(i);
                    if (void 0 !== r.wireframe) return r.wireframe;
                    var a = [],
                        s = i.index,
                        l = i.attributes,
                        u = l.position;
                    if (null !== s)
                        for (var h = {}, d = s.array, p = 0, f = d.length; p < f; p += 3) {
                            var m = d[p + 0],
                                g = d[p + 1],
                                v = d[p + 2];
                            c(h, m, g) && a.push(m, g), c(h, g, v) && a.push(g, v), c(h, v, m) && a.push(v, m)
                        } else
                            for (var d = l.position.array, p = 0, f = d.length / 3 - 1; p < f; p += 3) {
                                var m = p + 0,
                                    g = p + 1,
                                    v = p + 2;
                                a.push(m, g, g, v, v, m)
                            }
                    var y = u.count > 65535 ? Uint32Array : Uint16Array,
                        _ = new n.BufferAttribute(new y(a), 1);
                    return o(_, t.ELEMENT_ARRAY_BUFFER), r.wireframe = _, _
                }

                function c(t, e, i) {
                    if (e > i) {
                        var n = e;
                        e = i, i = n
                    }
                    var r = t[e];
                    return void 0 === r ? (t[e] = [i], !0) : r.indexOf(i) === -1 && (r.push(i), !0)
                }
                var h = new n.WebGLGeometries(t, e, i);
                this.getAttributeBuffer = l, this.getWireframeAttribute = u, this.update = r
            }, n.WebGLProgram = function() {
                function t(t) {
                    switch (t) {
                        case n.LinearEncoding:
                            return ["Linear", "( value )"];
                        case n.sRGBEncoding:
                            return ["sRGB", "( value )"];
                        case n.RGBEEncoding:
                            return ["RGBE", "( value )"];
                        case n.RGBM7Encoding:
                            return ["RGBM", "( value, 7.0 )"];
                        case n.RGBM16Encoding:
                            return ["RGBM", "( value, 16.0 )"];
                        case n.RGBDEncoding:
                            return ["RGBD", "( value, 256.0 )"];
                        case n.GammaEncoding:
                            return ["Gamma", "( value, float( GAMMA_FACTOR ) )"];
                        default:
                            throw new Error("unsupported encoding: " + t)
                    }
                }

                function e(e, i) {
                    var n = t(i);
                    return "vec4 " + e + "( vec4 value ) { return " + n[0] + "ToLinear" + n[1] + "; }"
                }

                function i(e, i) {
                    var n = t(i);
                    return "vec4 " + e + "( vec4 value ) { return LinearTo" + n[0] + n[1] + "; }"
                }

                function r(t, e) {
                    var i;
                    switch (e) {
                        case n.LinearToneMapping:
                            i = "Linear";
                            break;
                        case n.ReinhardToneMapping:
                            i = "Reinhard";
                            break;
                        case n.Uncharted2ToneMapping:
                            i = "Uncharted2";
                            break;
                        case n.CineonToneMapping:
                            i = "OptimizedCineon";
                            break;
                        default:
                            throw new Error("unsupported toneMapping: " + e)
                    }
                    return "vec3 " + t + "( vec3 color ) { return " + i + "ToneMapping( color ); }"
                }

                function o(t, e, i) {
                    return t = t || {}, [t.derivatives || e.envMapCubeUV || e.bumpMap || e.normalMap || e.flatShading ? "#extension GL_OES_standard_derivatives : enable" : "", (t.fragDepth || e.logarithmicDepthBuffer) && i.get("EXT_frag_depth") ? "#extension GL_EXT_frag_depth : enable" : "", t.drawBuffers && i.get("WEBGL_draw_buffers") ? "#extension GL_EXT_draw_buffers : require" : "", (t.shaderTextureLOD || e.envMap) && i.get("EXT_shader_texture_lod") ? "#extension GL_EXT_shader_texture_lod : enable" : ""].filter(l).join("\n")
                }

                function a(t) {
                    var e = [];
                    for (var i in t) {
                        var n = t[i];
                        n !== !1 && e.push("#define " + i + " " + n)
                    }
                    return e.join("\n")
                }

                function s(t, e, i) {
                    for (var n = {}, r = t.getProgramParameter(e, t.ACTIVE_ATTRIBUTES), o = 0; o < r; o++) {
                        var a = t.getActiveAttrib(e, o),
                            s = a.name;
                        n[s] = t.getAttribLocation(e, s)
                    }
                    return n
                }

                function l(t) {
                    return "" !== t
                }

                function u(t, e) {
                    return t.replace(/NUM_DIR_LIGHTS/g, e.numDirLights).replace(/NUM_SPOT_LIGHTS/g, e.numSpotLights).replace(/NUM_POINT_LIGHTS/g, e.numPointLights).replace(/NUM_HEMI_LIGHTS/g, e.numHemiLights)
                }

                function c(t) {
                    function e(t, e) {
                        var i = n.ShaderChunk[e];
                        if (void 0 === i) throw new Error("Can not resolve #include <" + e + ">");
                        return c(i)
                    }
                    return t.replace(/#include +<([\w\d.]+)>/g, e)
                }

                function h(t) {
                    function e(t, e, i, n) {
                        for (var r = "", o = parseInt(e); o < parseInt(i); o++) r += n.replace(/\[ i \]/g, "[ " + o + " ]");
                        return r
                    }
                    return t.replace(/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g, e)
                }
                var d = 0;
                return function(t, p, f, m) {
                    var g = t.context,
                        v = f.extensions,
                        y = f.defines,
                        _ = f.__webglShader.vertexShader,
                        b = f.__webglShader.fragmentShader,
                        x = "SHADOWMAP_TYPE_BASIC";
                    m.shadowMapType === n.PCFShadowMap ? x = "SHADOWMAP_TYPE_PCF" : m.shadowMapType === n.PCFSoftShadowMap && (x = "SHADOWMAP_TYPE_PCF_SOFT");
                    var w = "ENVMAP_TYPE_CUBE",
                        T = "ENVMAP_MODE_REFLECTION",
                        S = "ENVMAP_BLENDING_MULTIPLY";
                    if (m.envMap) {
                        switch (f.envMap.mapping) {
                            case n.CubeReflectionMapping:
                            case n.CubeRefractionMapping:
                                w = "ENVMAP_TYPE_CUBE";
                                break;
                            case n.CubeUVReflectionMapping:
                            case n.CubeUVRefractionMapping:
                                w = "ENVMAP_TYPE_CUBE_UV";
                                break;
                            case n.EquirectangularReflectionMapping:
                            case n.EquirectangularRefractionMapping:
                                w = "ENVMAP_TYPE_EQUIREC";
                                break;
                            case n.SphericalReflectionMapping:
                                w = "ENVMAP_TYPE_SPHERE"
                        }
                        switch (f.envMap.mapping) {
                            case n.CubeRefractionMapping:
                            case n.EquirectangularRefractionMapping:
                                T = "ENVMAP_MODE_REFRACTION"
                        }
                        switch (f.combine) {
                            case n.MultiplyOperation:
                                S = "ENVMAP_BLENDING_MULTIPLY";
                                break;
                            case n.MixOperation:
                                S = "ENVMAP_BLENDING_MIX";
                                break;
                            case n.AddOperation:
                                S = "ENVMAP_BLENDING_ADD"
                        }
                    }
                    var M, E, C = t.gammaFactor > 0 ? t.gammaFactor : 1,
                        A = o(v, m, t.extensions),
                        P = a(y),
                        L = g.createProgram();
                    f instanceof n.RawShaderMaterial ? (M = "", E = "") : (M = ["precision " + m.precision + " float;", "precision " + m.precision + " int;", "#define SHADER_NAME " + f.__webglShader.name, P, m.supportsVertexTextures ? "#define VERTEX_TEXTURES" : "", "#define GAMMA_FACTOR " + C, "#define MAX_BONES " + m.maxBones, m.map ? "#define USE_MAP" : "", m.envMap ? "#define USE_ENVMAP" : "", m.envMap ? "#define " + T : "", m.lightMap ? "#define USE_LIGHTMAP" : "", m.aoMap ? "#define USE_AOMAP" : "", m.emissiveMap ? "#define USE_EMISSIVEMAP" : "", m.bumpMap ? "#define USE_BUMPMAP" : "", m.normalMap ? "#define USE_NORMALMAP" : "", m.displacementMap && m.supportsVertexTextures ? "#define USE_DISPLACEMENTMAP" : "", m.specularMap ? "#define USE_SPECULARMAP" : "", m.roughnessMap ? "#define USE_ROUGHNESSMAP" : "", m.metalnessMap ? "#define USE_METALNESSMAP" : "", m.alphaMap ? "#define USE_ALPHAMAP" : "", m.vertexColors ? "#define USE_COLOR" : "", m.flatShading ? "#define FLAT_SHADED" : "", m.skinning ? "#define USE_SKINNING" : "", m.useVertexTexture ? "#define BONE_TEXTURE" : "", m.morphTargets ? "#define USE_MORPHTARGETS" : "", m.morphNormals && m.flatShading === !1 ? "#define USE_MORPHNORMALS" : "", m.doubleSided ? "#define DOUBLE_SIDED" : "", m.flipSided ? "#define FLIP_SIDED" : "", "#define NUM_CLIPPING_PLANES " + m.numClippingPlanes, m.shadowMapEnabled ? "#define USE_SHADOWMAP" : "", m.shadowMapEnabled ? "#define " + x : "", m.sizeAttenuation ? "#define USE_SIZEATTENUATION" : "", m.logarithmicDepthBuffer ? "#define USE_LOGDEPTHBUF" : "", m.logarithmicDepthBuffer && t.extensions.get("EXT_frag_depth") ? "#define USE_LOGDEPTHBUF_EXT" : "", "uniform mat4 modelMatrix;", "uniform mat4 modelViewMatrix;", "uniform mat4 projectionMatrix;", "uniform mat4 viewMatrix;", "uniform mat3 normalMatrix;", "uniform vec3 cameraPosition;", "attribute vec3 position;", "attribute vec3 normal;", "attribute vec2 uv;", "#ifdef USE_COLOR", "\tattribute vec3 color;", "#endif", "#ifdef USE_MORPHTARGETS", "\tattribute vec3 morphTarget0;", "\tattribute vec3 morphTarget1;", "\tattribute vec3 morphTarget2;", "\tattribute vec3 morphTarget3;", "\t#ifdef USE_MORPHNORMALS", "\t\tattribute vec3 morphNormal0;", "\t\tattribute vec3 morphNormal1;", "\t\tattribute vec3 morphNormal2;", "\t\tattribute vec3 morphNormal3;", "\t#else", "\t\tattribute vec3 morphTarget4;", "\t\tattribute vec3 morphTarget5;", "\t\tattribute vec3 morphTarget6;", "\t\tattribute vec3 morphTarget7;", "\t#endif", "#endif", "#ifdef USE_SKINNING", "\tattribute vec4 skinIndex;", "\tattribute vec4 skinWeight;", "#endif", "\n"].filter(l).join("\n"), E = [A, "precision " + m.precision + " float;", "precision " + m.precision + " int;", "#define SHADER_NAME " + f.__webglShader.name, P, m.alphaTest ? "#define ALPHATEST " + m.alphaTest : "", "#define GAMMA_FACTOR " + C, m.useFog && m.fog ? "#define USE_FOG" : "", m.useFog && m.fogExp ? "#define FOG_EXP2" : "", m.map ? "#define USE_MAP" : "", m.envMap ? "#define USE_ENVMAP" : "", m.envMap ? "#define " + w : "", m.envMap ? "#define " + T : "", m.envMap ? "#define " + S : "", m.lightMap ? "#define USE_LIGHTMAP" : "", m.aoMap ? "#define USE_AOMAP" : "", m.emissiveMap ? "#define USE_EMISSIVEMAP" : "", m.bumpMap ? "#define USE_BUMPMAP" : "", m.normalMap ? "#define USE_NORMALMAP" : "", m.specularMap ? "#define USE_SPECULARMAP" : "", m.roughnessMap ? "#define USE_ROUGHNESSMAP" : "", m.metalnessMap ? "#define USE_METALNESSMAP" : "", m.alphaMap ? "#define USE_ALPHAMAP" : "", m.vertexColors ? "#define USE_COLOR" : "", m.flatShading ? "#define FLAT_SHADED" : "", m.doubleSided ? "#define DOUBLE_SIDED" : "", m.flipSided ? "#define FLIP_SIDED" : "", "#define NUM_CLIPPING_PLANES " + m.numClippingPlanes, m.shadowMapEnabled ? "#define USE_SHADOWMAP" : "", m.shadowMapEnabled ? "#define " + x : "", m.premultipliedAlpha ? "#define PREMULTIPLIED_ALPHA" : "", m.physicallyCorrectLights ? "#define PHYSICALLY_CORRECT_LIGHTS" : "", m.logarithmicDepthBuffer ? "#define USE_LOGDEPTHBUF" : "", m.logarithmicDepthBuffer && t.extensions.get("EXT_frag_depth") ? "#define USE_LOGDEPTHBUF_EXT" : "", m.envMap && t.extensions.get("EXT_shader_texture_lod") ? "#define TEXTURE_LOD_EXT" : "", "uniform mat4 viewMatrix;", "uniform vec3 cameraPosition;", m.toneMapping !== n.NoToneMapping ? "#define TONE_MAPPING" : "", m.toneMapping !== n.NoToneMapping ? n.ShaderChunk.tonemapping_pars_fragment : "", m.toneMapping !== n.NoToneMapping ? r("toneMapping", m.toneMapping) : "", m.outputEncoding || m.mapEncoding || m.envMapEncoding || m.emissiveMapEncoding ? n.ShaderChunk.encodings_pars_fragment : "", m.mapEncoding ? e("mapTexelToLinear", m.mapEncoding) : "", m.envMapEncoding ? e("envMapTexelToLinear", m.envMapEncoding) : "", m.emissiveMapEncoding ? e("emissiveMapTexelToLinear", m.emissiveMapEncoding) : "", m.outputEncoding ? i("linearToOutputTexel", m.outputEncoding) : "", m.depthPacking ? "#define DEPTH_PACKING " + f.depthPacking : "", "\n"].filter(l).join("\n")), _ = c(_, m), _ = u(_, m), b = c(b, m), b = u(b, m), f instanceof n.ShaderMaterial == !1 && (_ = h(_), b = h(b));
                    var O = M + _,
                        k = E + b,
                        R = n.WebGLShader(g, g.VERTEX_SHADER, O),
                        I = n.WebGLShader(g, g.FRAGMENT_SHADER, k);
                    g.attachShader(L, R), g.attachShader(L, I), void 0 !== f.index0AttributeName ? g.bindAttribLocation(L, 0, f.index0AttributeName) : m.morphTargets === !0 && g.bindAttribLocation(L, 0, "position"), g.linkProgram(L);
                    var D = g.getProgramInfoLog(L),
                        B = g.getShaderInfoLog(R),
                        z = g.getShaderInfoLog(I),
                        F = !0,
                        N = !0;
                    g.getProgramParameter(L, g.LINK_STATUS) === !1 ? (F = !1, console.error("THREE.WebGLProgram: shader error: ", g.getError(), "gl.VALIDATE_STATUS", g.getProgramParameter(L, g.VALIDATE_STATUS), "gl.getProgramInfoLog", D, B, z)) : "" !== D ? console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()", D) : "" !== B && "" !== z || (N = !1), N && (this.diagnostics = {
                        runnable: F,
                        material: f,
                        programLog: D,
                        vertexShader: {
                            log: B,
                            prefix: M
                        },
                        fragmentShader: {
                            log: z,
                            prefix: E
                        }
                    }), g.deleteShader(R), g.deleteShader(I);
                    var U;
                    this.getUniforms = function() {
                        return void 0 === U && (U = new n.WebGLUniforms(g, L, t)), U
                    };
                    var G;
                    return this.getAttributes = function() {
                        return void 0 === G && (G = s(g, L)), G
                    }, this.destroy = function() {
                        g.deleteProgram(L), this.program = void 0
                    }, Object.defineProperties(this, {
                        uniforms: {
                            get: function() {
                                return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."), this.getUniforms()
                            }
                        },
                        attributes: {
                            get: function() {
                                return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."), this.getAttributes()
                            }
                        }
                    }), this.id = d++, this.code = p, this.usedTimes = 1, this.program = L, this.vertexShader = R, this.fragmentShader = I, this
                }
            }(), n.WebGLPrograms = function(t, e) {
                function i(t) {
                    if (e.floatVertexTextures && t && t.skeleton && t.skeleton.useVertexTexture) return 1024;
                    var i = e.maxVertexUniforms,
                        r = Math.floor((i - 20) / 4),
                        o = r;
                    return void 0 !== t && t instanceof n.SkinnedMesh && (o = Math.min(t.skeleton.bones.length, o)) < t.skeleton.bones.length && console.warn("WebGLRenderer: too many bones - " + t.skeleton.bones.length + ", this GPU supports just " + o + " (try OpenGL instead of ANGLE)"), o
                }

                function r(t, e) {
                    var i;
                    return t ? t instanceof n.Texture ? i = t.encoding : t instanceof n.WebGLRenderTarget && (console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."), i = t.texture.encoding) : i = n.LinearEncoding, i === n.LinearEncoding && e && (i = n.GammaEncoding), i
                }
                var o = [],
                    a = {
                        MeshDepthMaterial: "depth",
                        MeshNormalMaterial: "normal",
                        MeshBasicMaterial: "basic",
                        MeshLambertMaterial: "lambert",
                        MeshPhongMaterial: "phong",
                        MeshStandardMaterial: "physical",
                        MeshPhysicalMaterial: "physical",
                        LineBasicMaterial: "basic",
                        LineDashedMaterial: "dashed",
                        PointsMaterial: "points"
                    },
                    s = ["precision", "supportsVertexTextures", "map", "mapEncoding", "envMap", "envMapMode", "envMapEncoding", "lightMap", "aoMap", "emissiveMap", "emissiveMapEncoding", "bumpMap", "normalMap", "displacementMap", "specularMap", "roughnessMap", "metalnessMap", "alphaMap", "combine", "vertexColors", "fog", "useFog", "fogExp", "flatShading", "sizeAttenuation", "logarithmicDepthBuffer", "skinning", "maxBones", "useVertexTexture", "morphTargets", "morphNormals", "maxMorphTargets", "maxMorphNormals", "premultipliedAlpha", "numDirLights", "numPointLights", "numSpotLights", "numHemiLights", "shadowMapEnabled", "shadowMapType", "toneMapping", "physicallyCorrectLights", "alphaTest", "doubleSided", "flipSided", "numClippingPlanes", "depthPacking"];
                this.getParameters = function(o, s, l, u, c) {
                    var h = a[o.type],
                        d = i(c),
                        p = t.getPrecision();
                    null !== o.precision && (p = e.getMaxPrecision(o.precision)) !== o.precision && console.warn("THREE.WebGLProgram.getParameters:", o.precision, "not supported, using", p, "instead.");
                    var f = t.getCurrentRenderTarget();
                    return {
                        shaderID: h,
                        precision: p,
                        supportsVertexTextures: e.vertexTextures,
                        outputEncoding: r(f ? f.texture : null, t.gammaOutput),
                        map: !!o.map,
                        mapEncoding: r(o.map, t.gammaInput),
                        envMap: !!o.envMap,
                        envMapMode: o.envMap && o.envMap.mapping,
                        envMapEncoding: r(o.envMap, t.gammaInput),
                        envMapCubeUV: !!o.envMap && (o.envMap.mapping === n.CubeUVReflectionMapping || o.envMap.mapping === n.CubeUVRefractionMapping),
                        lightMap: !!o.lightMap,
                        aoMap: !!o.aoMap,
                        emissiveMap: !!o.emissiveMap,
                        emissiveMapEncoding: r(o.emissiveMap, t.gammaInput),
                        bumpMap: !!o.bumpMap,
                        normalMap: !!o.normalMap,
                        displacementMap: !!o.displacementMap,
                        roughnessMap: !!o.roughnessMap,
                        metalnessMap: !!o.metalnessMap,
                        specularMap: !!o.specularMap,
                        alphaMap: !!o.alphaMap,
                        combine: o.combine,
                        vertexColors: o.vertexColors,
                        fog: l,
                        useFog: o.fog,
                        fogExp: l instanceof n.FogExp2,
                        flatShading: o.shading === n.FlatShading,
                        sizeAttenuation: o.sizeAttenuation,
                        logarithmicDepthBuffer: e.logarithmicDepthBuffer,
                        skinning: o.skinning,
                        maxBones: d,
                        useVertexTexture: e.floatVertexTextures && c && c.skeleton && c.skeleton.useVertexTexture,
                        morphTargets: o.morphTargets,
                        morphNormals: o.morphNormals,
                        maxMorphTargets: t.maxMorphTargets,
                        maxMorphNormals: t.maxMorphNormals,
                        numDirLights: s.directional.length,
                        numPointLights: s.point.length,
                        numSpotLights: s.spot.length,
                        numHemiLights: s.hemi.length,
                        numClippingPlanes: u,
                        shadowMapEnabled: t.shadowMap.enabled && c.receiveShadow && s.shadows.length > 0,
                        shadowMapType: t.shadowMap.type,
                        toneMapping: t.toneMapping,
                        physicallyCorrectLights: t.physicallyCorrectLights,
                        premultipliedAlpha: o.premultipliedAlpha,
                        alphaTest: o.alphaTest,
                        doubleSided: o.side === n.DoubleSide,
                        flipSided: o.side === n.BackSide,
                        depthPacking: void 0 !== o.depthPacking && o.depthPacking
                    }
                }, this.getProgramCode = function(t, e) {
                    var i = [];
                    if (e.shaderID ? i.push(e.shaderID) : (i.push(t.fragmentShader), i.push(t.vertexShader)), void 0 !== t.defines)
                        for (var n in t.defines) i.push(n), i.push(t.defines[n]);
                    for (var r = 0; r < s.length; r++) i.push(e[s[r]]);
                    return i.join()
                }, this.acquireProgram = function(e, i, r) {
                    for (var a, s = 0, l = o.length; s < l; s++) {
                        var u = o[s];
                        if (u.code === r) {
                            a = u, ++a.usedTimes;
                            break
                        }
                    }
                    return void 0 === a && (a = new n.WebGLProgram(t, r, e, i), o.push(a)), a
                }, this.releaseProgram = function(t) {
                    if (0 == --t.usedTimes) {
                        o[o.indexOf(t)] = o[o.length - 1], o.pop(), t.destroy()
                    }
                }, this.programs = o
            }, n.WebGLProperties = function() {
                var t = {};
                this.get = function(e) {
                    var i = e.uuid,
                        n = t[i];
                    return void 0 === n && (n = {}, t[i] = n), n
                }, this.delete = function(e) {
                    delete t[e.uuid]
                }, this.clear = function() {
                    t = {}
                }
            }, n.WebGLShader = function() {
                return function(t, e, i) {
                    var n = t.createShader(e);
                    return t.shaderSource(n, i), t.compileShader(n), t.getShaderParameter(n, t.COMPILE_STATUS) === !1 && console.error("THREE.WebGLShader: Shader couldn't compile."), t.getShaderInfoLog(n), n
                }
            }(), n.WebGLShadowMap = function(t, e, i) {
                function r(e, i, r, o) {
                    var a = e.geometry,
                        s = null,
                        l = y,
                        u = e.customDepthMaterial;
                    if (r && (l = _, u = e.customDistanceMaterial), u) s = u;
                    else {
                        var c = void 0 !== a.morphTargets && a.morphTargets.length > 0 && i.morphTargets,
                            h = e instanceof n.SkinnedMesh && i.skinning,
                            d = 0;
                        c && (d |= m), h && (d |= g), s = l[d]
                    }
                    if (t.localClippingEnabled && i.clipShadows === !0 && 0 !== i.clippingPlanes.length) {
                        var p = s.uuid,
                            f = i.uuid,
                            v = b[p];
                        void 0 === v && (v = {}, b[p] = v);
                        var x = v[f];
                        void 0 === x && (x = s.clone(), v[f] = x), s = x
                    }
                    s.visible = i.visible, s.wireframe = i.wireframe;
                    var w = i.side;
                    return k.renderSingleSided && w == n.DoubleSide && (w = n.FrontSide), k.renderReverseSided && (w === n.FrontSide ? w = n.BackSide : w === n.BackSide && (w = n.FrontSide)), s.side = w, s.clipShadows = i.clipShadows, s.clippingPlanes = i.clippingPlanes, s.wireframeLinewidth = i.wireframeLinewidth, s.linewidth = i.linewidth, r && void 0 !== s.uniforms.lightPos && s.uniforms.lightPos.value.copy(o), s
                }

                function o(t, e, i) {
                    if (t.visible !== !1) {
                        if (t.layers.test(e.layers) && (t instanceof n.Mesh || t instanceof n.Line || t instanceof n.Points) && t.castShadow && (t.frustumCulled === !1 || l.intersectsObject(t) === !0)) {
                            t.material.visible === !0 && (t.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse, t.matrixWorld), f.push(t))
                        }
                        for (var r = t.children, a = 0, s = r.length; a < s; a++) o(r[a], e, i)
                    }
                }
                var a = t.context,
                    s = t.state,
                    l = new n.Frustum,
                    u = new n.Matrix4,
                    c = e.shadows,
                    h = new n.Vector2,
                    d = new n.Vector3,
                    p = new n.Vector3,
                    f = [],
                    m = 1,
                    g = 2,
                    v = 1 + (m | g),
                    y = new Array(v),
                    _ = new Array(v),
                    b = {},
                    x = [new n.Vector3(1, 0, 0), new n.Vector3(-1, 0, 0), new n.Vector3(0, 0, 1), new n.Vector3(0, 0, -1), new n.Vector3(0, 1, 0), new n.Vector3(0, -1, 0)],
                    w = [new n.Vector3(0, 1, 0), new n.Vector3(0, 1, 0), new n.Vector3(0, 1, 0), new n.Vector3(0, 1, 0), new n.Vector3(0, 0, 1), new n.Vector3(0, 0, -1)],
                    T = [new n.Vector4, new n.Vector4, new n.Vector4, new n.Vector4, new n.Vector4, new n.Vector4],
                    S = new n.MeshDepthMaterial;
                S.depthPacking = n.RGBADepthPacking, S.clipping = !0;
                for (var M = n.ShaderLib.distanceRGBA, E = n.UniformsUtils.clone(M.uniforms), C = 0; C !== v; ++C) {
                    var A = 0 != (C & m),
                        P = 0 != (C & g),
                        L = S.clone();
                    L.morphTargets = A, L.skinning = P, y[C] = L;
                    var O = new n.ShaderMaterial({
                        defines: {
                            USE_SHADOWMAP: ""
                        },
                        uniforms: E,
                        vertexShader: M.vertexShader,
                        fragmentShader: M.fragmentShader,
                        morphTargets: A,
                        skinning: P,
                        clipping: !0
                    });
                    _[C] = O
                }
                var k = this;
                this.enabled = !1, this.autoUpdate = !0, this.needsUpdate = !1, this.type = n.PCFShadowMap, this.renderReverseSided = !0, this.renderSingleSided = !0, this.render = function(e, m) {
                    if (k.enabled !== !1 && (k.autoUpdate !== !1 || k.needsUpdate !== !1) && 0 !== c.length) {
                        s.clearColor(1, 1, 1, 1), s.disable(a.BLEND), s.setDepthTest(!0), s.setScissorTest(!1);
                        for (var g, v, y = 0, _ = c.length; y < _; y++) {
                            var b = c[y],
                                S = b.shadow;
                            if (void 0 !== S) {
                                var M = S.camera;
                                if (h.copy(S.mapSize), b instanceof n.PointLight) {
                                    g = 6, v = !0;
                                    var E = h.x,
                                        C = h.y;
                                    T[0].set(2 * E, C, E, C), T[1].set(0, C, E, C), T[2].set(3 * E, C, E, C), T[3].set(E, C, E, C), T[4].set(3 * E, 0, E, C), T[5].set(E, 0, E, C), h.x *= 4, h.y *= 2
                                } else g = 1, v = !1;
                                if (null === S.map) {
                                    var A = {
                                        minFilter: n.NearestFilter,
                                        magFilter: n.NearestFilter,
                                        format: n.RGBAFormat
                                    };
                                    S.map = new n.WebGLRenderTarget(h.x, h.y, A), M.updateProjectionMatrix()
                                }
                                S instanceof n.SpotLightShadow && S.update(b);
                                var P = S.map,
                                    L = S.matrix;
                                p.setFromMatrixPosition(b.matrixWorld), M.position.copy(p), t.setRenderTarget(P), t.clear();
                                for (var O = 0; O < g; O++) {
                                    if (v) {
                                        d.copy(M.position), d.add(x[O]), M.up.copy(w[O]), M.lookAt(d);
                                        var R = T[O];
                                        s.viewport(R)
                                    } else d.setFromMatrixPosition(b.target.matrixWorld), M.lookAt(d);
                                    M.updateMatrixWorld(), M.matrixWorldInverse.getInverse(M.matrixWorld), L.set(.5, 0, 0, .5, 0, .5, 0, .5, 0, 0, .5, .5, 0, 0, 0, 1), L.multiply(M.projectionMatrix), L.multiply(M.matrixWorldInverse), u.multiplyMatrices(M.projectionMatrix, M.matrixWorldInverse), l.setFromMatrix(u), f.length = 0, o(e, m, M);
                                    for (var I = 0, D = f.length; I < D; I++) {
                                        var B = f[I],
                                            z = i.update(B),
                                            F = B.material;
                                        if (F instanceof n.MultiMaterial)
                                            for (var N = z.groups, U = F.materials, G = 0, V = N.length; G < V; G++) {
                                                var j = N[G],
                                                    H = U[j.materialIndex];
                                                if (H.visible === !0) {
                                                    var W = r(B, H, v, p);
                                                    t.renderBufferDirect(M, null, z, W, B, j)
                                                }
                                            } else {
                                                var W = r(B, F, v, p);
                                                t.renderBufferDirect(M, null, z, W, B, null)
                                            }
                                    }
                                }
                            } else console.warn("THREE.WebGLShadowMap:", b, "has no shadow.")
                        }
                        var X = t.getClearColor(),
                            q = t.getClearAlpha();
                        t.setClearColor(X, q), k.needsUpdate = !1
                    }
                }
            }, n.WebGLState = function(t, e, i) {
                function r(e, i, n) {
                    var r = new Uint8Array(3),
                        o = t.createTexture();
                    t.bindTexture(e, o), t.texParameteri(e, t.TEXTURE_MIN_FILTER, t.NEAREST), t.texParameteri(e, t.TEXTURE_MAG_FILTER, t.NEAREST);
                    for (var a = 0; a < n; a++) t.texImage2D(i + a, 0, t.RGB, 1, 1, 0, t.RGB, t.UNSIGNED_BYTE, r);
                    return o
                }
                var o = this;
                this.buffers = {
                    color: new n.WebGLColorBuffer(t, this),
                    depth: new n.WebGLDepthBuffer(t, this),
                    stencil: new n.WebGLStencilBuffer(t, this)
                };
                var a = t.getParameter(t.MAX_VERTEX_ATTRIBS),
                    s = new Uint8Array(a),
                    l = new Uint8Array(a),
                    u = new Uint8Array(a),
                    c = {},
                    h = null,
                    d = null,
                    p = null,
                    f = null,
                    m = null,
                    g = null,
                    v = null,
                    y = null,
                    _ = !1,
                    b = null,
                    x = null,
                    w = null,
                    T = null,
                    S = null,
                    M = null,
                    E = t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),
                    C = null,
                    A = {},
                    P = new n.Vector4,
                    L = new n.Vector4,
                    O = {};
                O[t.TEXTURE_2D] = r(t.TEXTURE_2D, t.TEXTURE_2D, 1), O[t.TEXTURE_CUBE_MAP] = r(t.TEXTURE_CUBE_MAP, t.TEXTURE_CUBE_MAP_POSITIVE_X, 6), this.init = function() {
                    this.clearColor(0, 0, 0, 1), this.clearDepth(1), this.clearStencil(0), this.enable(t.DEPTH_TEST), this.setDepthFunc(n.LessEqualDepth), this.setFlipSided(!1), this.setCullFace(n.CullFaceBack), this.enable(t.CULL_FACE), this.enable(t.BLEND), this.setBlending(n.NormalBlending)
                }, this.initAttributes = function() {
                    for (var t = 0, e = s.length; t < e; t++) s[t] = 0
                }, this.enableAttribute = function(i) {
                    if (s[i] = 1, 0 === l[i] && (t.enableVertexAttribArray(i), l[i] = 1), 0 !== u[i]) {
                        e.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(i, 0), u[i] = 0
                    }
                }, this.enableAttributeAndDivisor = function(e, i, n) {
                    s[e] = 1, 0 === l[e] && (t.enableVertexAttribArray(e), l[e] = 1), u[e] !== i && (n.vertexAttribDivisorANGLE(e, i), u[e] = i)
                }, this.disableUnusedAttributes = function() {
                    for (var e = 0, i = l.length; e !== i; ++e) l[e] !== s[e] && (t.disableVertexAttribArray(e), l[e] = 0)
                }, this.enable = function(e) {
                    c[e] !== !0 && (t.enable(e), c[e] = !0)
                }, this.disable = function(e) {
                    c[e] !== !1 && (t.disable(e), c[e] = !1)
                }, this.getCompressedTextureFormats = function() {
                    if (null === h && (h = [], e.get("WEBGL_compressed_texture_pvrtc") || e.get("WEBGL_compressed_texture_s3tc") || e.get("WEBGL_compressed_texture_etc1")))
                        for (var i = t.getParameter(t.COMPRESSED_TEXTURE_FORMATS), n = 0; n < i.length; n++) h.push(i[n]);
                    return h
                }, this.setBlending = function(e, r, o, a, s, l, u, c) {
                    if (e === n.NoBlending) return this.disable(t.BLEND), void(d = e);
                    this.enable(t.BLEND), e === d && c === _ || (e === n.AdditiveBlending ? c ? (t.blendEquationSeparate(t.FUNC_ADD, t.FUNC_ADD), t.blendFuncSeparate(t.ONE, t.ONE, t.ONE, t.ONE)) : (t.blendEquation(t.FUNC_ADD), t.blendFunc(t.SRC_ALPHA, t.ONE)) : e === n.SubtractiveBlending ? c ? (t.blendEquationSeparate(t.FUNC_ADD, t.FUNC_ADD), t.blendFuncSeparate(t.ZERO, t.ZERO, t.ONE_MINUS_SRC_COLOR, t.ONE_MINUS_SRC_ALPHA)) : (t.blendEquation(t.FUNC_ADD), t.blendFunc(t.ZERO, t.ONE_MINUS_SRC_COLOR)) : e === n.MultiplyBlending ? c ? (t.blendEquationSeparate(t.FUNC_ADD, t.FUNC_ADD), t.blendFuncSeparate(t.ZERO, t.SRC_COLOR, t.ZERO, t.SRC_ALPHA)) : (t.blendEquation(t.FUNC_ADD), t.blendFunc(t.ZERO, t.SRC_COLOR)) : c ? (t.blendEquationSeparate(t.FUNC_ADD, t.FUNC_ADD), t.blendFuncSeparate(t.ONE, t.ONE_MINUS_SRC_ALPHA, t.ONE, t.ONE_MINUS_SRC_ALPHA)) : (t.blendEquationSeparate(t.FUNC_ADD, t.FUNC_ADD), t.blendFuncSeparate(t.SRC_ALPHA, t.ONE_MINUS_SRC_ALPHA, t.ONE, t.ONE_MINUS_SRC_ALPHA)), d = e, _ = c), e === n.CustomBlending ? (s = s || r, l = l || o, u = u || a, r === p && s === g || (t.blendEquationSeparate(i(r), i(s)), p = r, g = s), o === f && a === m && l === v && u === y || (t.blendFuncSeparate(i(o), i(a), i(l), i(u)), f = o, m = a, v = l, y = u)) : (p = null, f = null, m = null, g = null, v = null, y = null)
                }, this.setColorWrite = function(t) {
                    this.buffers.color.setMask(t)
                }, this.setDepthTest = function(t) {
                    this.buffers.depth.setTest(t)
                }, this.setDepthWrite = function(t) {
                    this.buffers.depth.setMask(t)
                }, this.setDepthFunc = function(t) {
                    this.buffers.depth.setFunc(t)
                }, this.setStencilTest = function(t) {
                    this.buffers.stencil.setTest(t)
                }, this.setStencilWrite = function(t) {
                    this.buffers.stencil.setMask(t)
                }, this.setStencilFunc = function(t, e, i) {
                    this.buffers.stencil.setFunc(t, e, i)
                }, this.setStencilOp = function(t, e, i) {
                    this.buffers.stencil.setOp(t, e, i)
                }, this.setFlipSided = function(e) {
                    b !== e && (e ? t.frontFace(t.CW) : t.frontFace(t.CCW), b = e)
                }, this.setCullFace = function(e) {
                    e !== n.CullFaceNone ? (this.enable(t.CULL_FACE), e !== x && (e === n.CullFaceBack ? t.cullFace(t.BACK) : e === n.CullFaceFront ? t.cullFace(t.FRONT) : t.cullFace(t.FRONT_AND_BACK))) : this.disable(t.CULL_FACE), x = e
                }, this.setLineWidth = function(e) {
                    e !== w && (t.lineWidth(e), w = e)
                }, this.setPolygonOffset = function(e, i, n) {
                    e ? (this.enable(t.POLYGON_OFFSET_FILL), T === i && S === n || (t.polygonOffset(i, n), T = i, S = n)) : this.disable(t.POLYGON_OFFSET_FILL)
                }, this.getScissorTest = function() {
                    return M
                }, this.setScissorTest = function(e) {
                    M = e, e ? this.enable(t.SCISSOR_TEST) : this.disable(t.SCISSOR_TEST)
                }, this.activeTexture = function(e) {
                    void 0 === e && (e = t.TEXTURE0 + E - 1), C !== e && (t.activeTexture(e), C = e)
                }, this.bindTexture = function(e, i) {
                    null === C && o.activeTexture();
                    var n = A[C];
                    void 0 === n && (n = {
                        type: void 0,
                        texture: void 0
                    }, A[C] = n), n.type === e && n.texture === i || (t.bindTexture(e, i || O[e]), n.type = e, n.texture = i)
                }, this.compressedTexImage2D = function() {
                    try {
                        t.compressedTexImage2D.apply(t, arguments)
                    } catch (t) {
                        console.error(t)
                    }
                }, this.texImage2D = function() {
                    try {
                        t.texImage2D.apply(t, arguments)
                    } catch (t) {
                        console.error(t)
                    }
                }, this.clearColor = function(t, e, i, n) {
                    this.buffers.color.setClear(t, e, i, n)
                }, this.clearDepth = function(t) {
                    this.buffers.depth.setClear(t)
                }, this.clearStencil = function(t) {
                    this.buffers.stencil.setClear(t)
                }, this.scissor = function(e) {
                    P.equals(e) === !1 && (t.scissor(e.x, e.y, e.z, e.w), P.copy(e))
                }, this.viewport = function(e) {
                    L.equals(e) === !1 && (t.viewport(e.x, e.y, e.z, e.w), L.copy(e))
                }, this.reset = function() {
                    for (var e = 0; e < l.length; e++) 1 === l[e] && (t.disableVertexAttribArray(e), l[e] = 0);
                    c = {}, h = null, C = null, A = {}, d = null, b = null, x = null, this.buffers.color.reset(), this.buffers.depth.reset(), this.buffers.stencil.reset()
                }
            }, n.WebGLColorBuffer = function(t, e) {
                var i = !1,
                    r = new n.Vector4,
                    o = null,
                    a = new n.Vector4;
                this.setMask = function(e) {
                    o === e || i || (t.colorMask(e, e, e, e), o = e)
                }, this.setLocked = function(t) {
                    i = t
                }, this.setClear = function(e, i, n, o) {
                    r.set(e, i, n, o), a.equals(r) === !1 && (t.clearColor(e, i, n, o), a.copy(r))
                }, this.reset = function() {
                    i = !1, o = null, a = new n.Vector4
                }
            }, n.WebGLDepthBuffer = function(t, e) {
                var i = !1,
                    r = null,
                    o = null,
                    a = null;
                this.setTest = function(i) {
                    i ? e.enable(t.DEPTH_TEST) : e.disable(t.DEPTH_TEST)
                }, this.setMask = function(e) {
                    r === e || i || (t.depthMask(e), r = e)
                }, this.setFunc = function(e) {
                    if (o !== e) {
                        if (e) switch (e) {
                            case n.NeverDepth:
                                t.depthFunc(t.NEVER);
                                break;
                            case n.AlwaysDepth:
                                t.depthFunc(t.ALWAYS);
                                break;
                            case n.LessDepth:
                                t.depthFunc(t.LESS);
                                break;
                            case n.LessEqualDepth:
                                t.depthFunc(t.LEQUAL);
                                break;
                            case n.EqualDepth:
                                t.depthFunc(t.EQUAL);
                                break;
                            case n.GreaterEqualDepth:
                                t.depthFunc(t.GEQUAL);
                                break;
                            case n.GreaterDepth:
                                t.depthFunc(t.GREATER);
                                break;
                            case n.NotEqualDepth:
                                t.depthFunc(t.NOTEQUAL);
                                break;
                            default:
                                t.depthFunc(t.LEQUAL)
                        } else t.depthFunc(t.LEQUAL);
                        o = e
                    }
                }, this.setLocked = function(t) {
                    i = t
                }, this.setClear = function(e) {
                    a !== e && (t.clearDepth(e), a = e)
                }, this.reset = function() {
                    i = !1, r = null, o = null, a = null
                }
            }, n.WebGLStencilBuffer = function(t, e) {
                var i = !1,
                    n = null,
                    r = null,
                    o = null,
                    a = null,
                    s = null,
                    l = null,
                    u = null,
                    c = null;
                this.setTest = function(i) {
                    i ? e.enable(t.STENCIL_TEST) : e.disable(t.STENCIL_TEST)
                }, this.setMask = function(e) {
                    n === e || i || (t.stencilMask(e), n = e)
                }, this.setFunc = function(e, i, n) {
                    r === e && o === i && a === n || (t.stencilFunc(e, i, n), r = e, o = i, a = n)
                }, this.setOp = function(e, i, n) {
                    s === e && l === i && u === n || (t.stencilOp(e, i, n), s = e, l = i, u = n)
                }, this.setLocked = function(t) {
                    i = t
                }, this.setClear = function(e) {
                    c !== e && (t.clearStencil(e), c = e)
                }, this.reset = function() {
                    i = !1, n = null, r = null, o = null, a = null, s = null, l = null, u = null, c = null
                }
            }, n.WebGLUniforms = function() {
                var t = function() {
                        this.seq = [], this.map = {}
                    },
                    e = [],
                    i = [],
                    n = function(t, i, n) {
                        var r = t[0];
                        if (r <= 0 || r > 0) return t;
                        var o = i * n,
                            a = e[o];
                        if (void 0 === a && (a = new Float32Array(o), e[o] = a), 0 !== i) {
                            r.toArray(a, 0);
                            for (var s = 1, l = 0; s !== i; ++s) l += n, t[s].toArray(a, l)
                        }
                        return a
                    },
                    r = function(t, e) {
                        var n = i[e];
                        void 0 === n && (n = new Int32Array(e), i[e] = n);
                        for (var r = 0; r !== e; ++r) n[r] = t.allocTextureUnit();
                        return n
                    },
                    o = function(t, e) {
                        t.uniform1f(this.addr, e)
                    },
                    a = function(t, e) {
                        t.uniform1i(this.addr, e)
                    },
                    s = function(t, e) {
                        void 0 === e.x ? t.uniform2fv(this.addr, e) : t.uniform2f(this.addr, e.x, e.y)
                    },
                    l = function(t, e) {
                        void 0 !== e.x ? t.uniform3f(this.addr, e.x, e.y, e.z) : void 0 !== e.r ? t.uniform3f(this.addr, e.r, e.g, e.b) : t.uniform3fv(this.addr, e)
                    },
                    u = function(t, e) {
                        void 0 === e.x ? t.uniform4fv(this.addr, e) : t.uniform4f(this.addr, e.x, e.y, e.z, e.w)
                    },
                    c = function(t, e) {
                        t.uniformMatrix2fv(this.addr, !1, e.elements || e)
                    },
                    h = function(t, e) {
                        t.uniformMatrix3fv(this.addr, !1, e.elements || e)
                    },
                    d = function(t, e) {
                        t.uniformMatrix4fv(this.addr, !1, e.elements || e)
                    },
                    p = function(t, e, i) {
                        var n = i.allocTextureUnit();
                        t.uniform1i(this.addr, n), e && i.setTexture2D(e, n)
                    },
                    f = function(t, e, i) {
                        var n = i.allocTextureUnit();
                        t.uniform1i(this.addr, n), e && i.setTextureCube(e, n)
                    },
                    m = function(t, e) {
                        t.uniform2iv(this.addr, e)
                    },
                    g = function(t, e) {
                        t.uniform3iv(this.addr, e)
                    },
                    v = function(t, e) {
                        t.uniform4iv(this.addr, e)
                    },
                    y = function(t) {
                        switch (t) {
                            case 5126:
                                return o;
                            case 35664:
                                return s;
                            case 35665:
                                return l;
                            case 35666:
                                return u;
                            case 35674:
                                return c;
                            case 35675:
                                return h;
                            case 35676:
                                return d;
                            case 35678:
                                return p;
                            case 35680:
                                return f;
                            case 5124:
                            case 35670:
                                return a;
                            case 35667:
                            case 35671:
                                return m;
                            case 35668:
                            case 35672:
                                return g;
                            case 35669:
                            case 35673:
                                return v
                        }
                    },
                    _ = function(t, e) {
                        t.uniform1fv(this.addr, e)
                    },
                    b = function(t, e) {
                        t.uniform1iv(this.addr, e)
                    },
                    x = function(t, e) {
                        t.uniform2fv(this.addr, n(e, this.size, 2))
                    },
                    w = function(t, e) {
                        t.uniform3fv(this.addr, n(e, this.size, 3))
                    },
                    T = function(t, e) {
                        t.uniform4fv(this.addr, n(e, this.size, 4))
                    },
                    S = function(t, e) {
                        t.uniformMatrix2fv(this.addr, !1, n(e, this.size, 4))
                    },
                    M = function(t, e) {
                        t.uniformMatrix3fv(this.addr, !1, n(e, this.size, 9))
                    },
                    E = function(t, e) {
                        t.uniformMatrix4fv(this.addr, !1, n(e, this.size, 16))
                    },
                    C = function(t, e, i) {
                        var n = e.length,
                            o = r(i, n);
                        t.uniform1iv(this.addr, o);
                        for (var a = 0; a !== n; ++a) {
                            var s = e[a];
                            s && i.setTexture2D(s, o[a])
                        }
                    },
                    A = function(t, e, i) {
                        var n = e.length,
                            o = r(i, n);
                        t.uniform1iv(this.addr, o);
                        for (var a = 0; a !== n; ++a) {
                            var s = e[a];
                            s && i.setTextureCube(s, o[a])
                        }
                    },
                    P = function(t) {
                        switch (t) {
                            case 5126:
                                return _;
                            case 35664:
                                return x;
                            case 35665:
                                return w;
                            case 35666:
                                return T;
                            case 35674:
                                return S;
                            case 35675:
                                return M;
                            case 35676:
                                return E;
                            case 35678:
                                return C;
                            case 35680:
                                return A;
                            case 5124:
                            case 35670:
                                return b;
                            case 35667:
                            case 35671:
                                return m;
                            case 35668:
                            case 35672:
                                return g;
                            case 35669:
                            case 35673:
                                return v
                        }
                    },
                    L = function(t, e, i) {
                        this.id = t, this.addr = i, this.setValue = y(e.type)
                    },
                    O = function(t, e, i) {
                        this.id = t, this.addr = i, this.size = e.size, this.setValue = P(e.type)
                    },
                    k = function(e) {
                        this.id = e, t.call(this)
                    };
                k.prototype.setValue = function(t, e) {
                    for (var i = this.seq, n = 0, r = i.length; n !== r; ++n) {
                        var o = i[n];
                        o.setValue(t, e[o.id])
                    }
                };
                var R = /([\w\d_]+)(\])?(\[|\.)?/g,
                    I = function(t, e) {
                        t.seq.push(e), t.map[e.id] = e
                    },
                    D = function(t, e, i) {
                        var n = t.name,
                            r = n.length;
                        for (R.lastIndex = 0;;) {
                            var o = R.exec(n),
                                a = R.lastIndex,
                                s = o[1],
                                l = "]" === o[2],
                                u = o[3];
                            if (l && (s |= 0), void 0 === u || "[" === u && a + 2 === r) {
                                I(i, void 0 === u ? new L(s, t, e) : new O(s, t, e));
                                break
                            }
                            var c = i.map,
                                h = c[s];
                            void 0 === h && (h = new k(s), I(i, h)), i = h
                        }
                    },
                    B = function(e, i, n) {
                        t.call(this), this.renderer = n;
                        for (var r = e.getProgramParameter(i, e.ACTIVE_UNIFORMS), o = 0; o !== r; ++o) {
                            var a = e.getActiveUniform(i, o),
                                s = a.name;
                            D(a, e.getUniformLocation(i, s), this)
                        }
                    };
                return B.prototype.setValue = function(t, e, i) {
                    var n = this.map[e];
                    void 0 !== n && n.setValue(t, i, this.renderer)
                }, B.prototype.set = function(t, e, i) {
                    var n = this.map[i];
                    void 0 !== n && n.setValue(t, e[i], this.renderer)
                }, B.prototype.setOptional = function(t, e, i) {
                    var n = e[i];
                    void 0 !== n && this.setValue(t, i, n)
                }, B.upload = function(t, e, i, n) {
                    for (var r = 0, o = e.length; r !== o; ++r) {
                        var a = e[r],
                            s = i[a.id];
                        s.needsUpdate !== !1 && a.setValue(t, s.value, n)
                    }
                }, B.seqWithValue = function(t, e) {
                    for (var i = [], n = 0, r = t.length; n !== r; ++n) {
                        var o = t[n];
                        o.id in e && i.push(o)
                    }
                    return i
                }, B.splitDynamic = function(t, e) {
                    for (var i = null, n = t.length, r = 0, o = 0; o !== n; ++o) {
                        var a = t[o],
                            s = e[a.id];
                        s && s.dynamic === !0 ? (null === i && (i = []), i.push(a)) : (r < o && (t[r] = a), ++r)
                    }
                    return r < n && (t.length = r), i
                }, B.evalDynamic = function(t, e, i, n) {
                    for (var r = 0, o = t.length; r !== o; ++r) {
                        var a = e[t[r].id],
                            s = a.onUpdateCallback;
                        void 0 !== s && s.call(a, i, n)
                    }
                }, B
            }(), n.LensFlarePlugin = function(t, e) {
                function i() {
                    var t = new Float32Array([-1, -1, 0, 0, 1, -1, 1, 0, 1, 1, 1, 1, -1, 1, 0, 1]),
                        e = new Uint16Array([0, 1, 2, 0, 2, 3]);
                    o = p.createBuffer(), a = p.createBuffer(), p.bindBuffer(p.ARRAY_BUFFER, o), p.bufferData(p.ARRAY_BUFFER, t, p.STATIC_DRAW), p.bindBuffer(p.ELEMENT_ARRAY_BUFFER, a), p.bufferData(p.ELEMENT_ARRAY_BUFFER, e, p.STATIC_DRAW), h = p.createTexture(), d = p.createTexture(), f.bindTexture(p.TEXTURE_2D, h), p.texImage2D(p.TEXTURE_2D, 0, p.RGB, 16, 16, 0, p.RGB, p.UNSIGNED_BYTE, null), p.texParameteri(p.TEXTURE_2D, p.TEXTURE_WRAP_S, p.CLAMP_TO_EDGE), p.texParameteri(p.TEXTURE_2D, p.TEXTURE_WRAP_T, p.CLAMP_TO_EDGE), p.texParameteri(p.TEXTURE_2D, p.TEXTURE_MAG_FILTER, p.NEAREST), p.texParameteri(p.TEXTURE_2D, p.TEXTURE_MIN_FILTER, p.NEAREST), f.bindTexture(p.TEXTURE_2D, d), p.texImage2D(p.TEXTURE_2D, 0, p.RGBA, 16, 16, 0, p.RGBA, p.UNSIGNED_BYTE, null), p.texParameteri(p.TEXTURE_2D, p.TEXTURE_WRAP_S, p.CLAMP_TO_EDGE), p.texParameteri(p.TEXTURE_2D, p.TEXTURE_WRAP_T, p.CLAMP_TO_EDGE), p.texParameteri(p.TEXTURE_2D, p.TEXTURE_MAG_FILTER, p.NEAREST), p.texParameteri(p.TEXTURE_2D, p.TEXTURE_MIN_FILTER, p.NEAREST), s = {
                        vertexShader: ["uniform lowp int renderType;", "uniform vec3 screenPosition;", "uniform vec2 scale;", "uniform float rotation;", "uniform sampler2D occlusionMap;", "attribute vec2 position;", "attribute vec2 uv;", "varying vec2 vUV;", "varying float vVisibility;", "void main() {", "vUV = uv;", "vec2 pos = position;", "if ( renderType == 2 ) {", "vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );", "visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );", "visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );", "visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );", "visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );", "visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );", "visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );", "visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );", "visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );", "vVisibility =        visibility.r / 9.0;", "vVisibility *= 1.0 - visibility.g / 9.0;", "vVisibility *=       visibility.b / 9.0;", "vVisibility *= 1.0 - visibility.a / 9.0;", "pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;", "pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;", "}", "gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );", "}"].join("\n"),
                        fragmentShader: ["uniform lowp int renderType;", "uniform sampler2D map;", "uniform float opacity;", "uniform vec3 color;", "varying vec2 vUV;", "varying float vVisibility;", "void main() {", "if ( renderType == 0 ) {", "gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );", "} else if ( renderType == 1 ) {", "gl_FragColor = texture2D( map, vUV );", "} else {", "vec4 texture = texture2D( map, vUV );", "texture.a *= opacity * vVisibility;", "gl_FragColor = texture;", "gl_FragColor.rgb *= color;", "}", "}"].join("\n")
                    }, l = r(s), u = {
                        vertex: p.getAttribLocation(l, "position"),
                        uv: p.getAttribLocation(l, "uv")
                    }, c = {
                        renderType: p.getUniformLocation(l, "renderType"),
                        map: p.getUniformLocation(l, "map"),
                        occlusionMap: p.getUniformLocation(l, "occlusionMap"),
                        opacity: p.getUniformLocation(l, "opacity"),
                        color: p.getUniformLocation(l, "color"),
                        scale: p.getUniformLocation(l, "scale"),
                        rotation: p.getUniformLocation(l, "rotation"),
                        screenPosition: p.getUniformLocation(l, "screenPosition")
                    }
                }

                function r(e) {
                    var i = p.createProgram(),
                        n = p.createShader(p.FRAGMENT_SHADER),
                        r = p.createShader(p.VERTEX_SHADER),
                        o = "precision " + t.getPrecision() + " float;\n";
                    return p.shaderSource(n, o + e.fragmentShader), p.shaderSource(r, o + e.vertexShader), p.compileShader(n), p.compileShader(r), p.attachShader(i, n), p.attachShader(i, r), p.linkProgram(i), i
                }
                var o, a, s, l, u, c, h, d, p = t.context,
                    f = t.state;
                this.render = function(r, s, m) {
                    if (0 !== e.length) {
                        var g = new n.Vector3,
                            v = m.w / m.z,
                            y = .5 * m.z,
                            _ = .5 * m.w,
                            b = 16 / m.w,
                            x = new n.Vector2(b * v, b),
                            w = new n.Vector3(1, 1, 0),
                            T = new n.Vector2(1, 1),
                            S = new n.Box2;
                        S.min.set(0, 0), S.max.set(m.z - 16, m.w - 16), void 0 === l && i(), p.useProgram(l), f.initAttributes(), f.enableAttribute(u.vertex), f.enableAttribute(u.uv), f.disableUnusedAttributes(), p.uniform1i(c.occlusionMap, 0), p.uniform1i(c.map, 1), p.bindBuffer(p.ARRAY_BUFFER, o), p.vertexAttribPointer(u.vertex, 2, p.FLOAT, !1, 16, 0), p.vertexAttribPointer(u.uv, 2, p.FLOAT, !1, 16, 8), p.bindBuffer(p.ELEMENT_ARRAY_BUFFER, a), f.disable(p.CULL_FACE), f.setDepthWrite(!1);
                        for (var M = 0, E = e.length; M < E; M++) {
                            b = 16 / m.w, x.set(b * v, b);
                            var C = e[M];
                            if (g.set(C.matrixWorld.elements[12], C.matrixWorld.elements[13], C.matrixWorld.elements[14]), g.applyMatrix4(s.matrixWorldInverse), g.applyProjection(s.projectionMatrix), w.copy(g), T.x = m.x + w.x * y + y - 8, T.y = m.y + w.y * _ + _ - 8, S.containsPoint(T) === !0) {
                                f.activeTexture(p.TEXTURE0), f.bindTexture(p.TEXTURE_2D, null), f.activeTexture(p.TEXTURE1), f.bindTexture(p.TEXTURE_2D, h), p.copyTexImage2D(p.TEXTURE_2D, 0, p.RGB, T.x, T.y, 16, 16, 0), p.uniform1i(c.renderType, 0), p.uniform2f(c.scale, x.x, x.y), p.uniform3f(c.screenPosition, w.x, w.y, w.z), f.disable(p.BLEND), f.enable(p.DEPTH_TEST), p.drawElements(p.TRIANGLES, 6, p.UNSIGNED_SHORT, 0), f.activeTexture(p.TEXTURE0), f.bindTexture(p.TEXTURE_2D, d), p.copyTexImage2D(p.TEXTURE_2D, 0, p.RGBA, T.x, T.y, 16, 16, 0), p.uniform1i(c.renderType, 1), f.disable(p.DEPTH_TEST), f.activeTexture(p.TEXTURE1), f.bindTexture(p.TEXTURE_2D, h), p.drawElements(p.TRIANGLES, 6, p.UNSIGNED_SHORT, 0), C.positionScreen.copy(w), C.customUpdateCallback ? C.customUpdateCallback(C) : C.updateLensFlares(), p.uniform1i(c.renderType, 2), f.enable(p.BLEND);
                                for (var A = 0, P = C.lensFlares.length; A < P; A++) {
                                    var L = C.lensFlares[A];
                                    L.opacity > .001 && L.scale > .001 && (w.x = L.x, w.y = L.y, w.z = L.z, b = L.size * L.scale / m.w, x.x = b * v, x.y = b, p.uniform3f(c.screenPosition, w.x, w.y, w.z), p.uniform2f(c.scale, x.x, x.y), p.uniform1f(c.rotation, L.rotation), p.uniform1f(c.opacity, L.opacity), p.uniform3f(c.color, L.color.r, L.color.g, L.color.b), f.setBlending(L.blending, L.blendEquation, L.blendSrc, L.blendDst), t.setTexture2D(L.texture, 1), p.drawElements(p.TRIANGLES, 6, p.UNSIGNED_SHORT, 0))
                                }
                            }
                        }
                        f.enable(p.CULL_FACE), f.enable(p.DEPTH_TEST), f.setDepthWrite(!0), t.resetGLState()
                    }
                }
            }, n.SpritePlugin = function(t, e) {
                function i() {
                    var t = new Float32Array([-.5, -.5, 0, 0, .5, -.5, 1, 0, .5, .5, 1, 1, -.5, .5, 0, 1]),
                        e = new Uint16Array([0, 1, 2, 0, 2, 3]);
                    a = d.createBuffer(), s = d.createBuffer(), d.bindBuffer(d.ARRAY_BUFFER, a), d.bufferData(d.ARRAY_BUFFER, t, d.STATIC_DRAW), d.bindBuffer(d.ELEMENT_ARRAY_BUFFER, s), d.bufferData(d.ELEMENT_ARRAY_BUFFER, e, d.STATIC_DRAW), l = r(), u = {
                        position: d.getAttribLocation(l, "position"),
                        uv: d.getAttribLocation(l, "uv")
                    }, c = {
                        uvOffset: d.getUniformLocation(l, "uvOffset"),
                        uvScale: d.getUniformLocation(l, "uvScale"),
                        rotation: d.getUniformLocation(l, "rotation"),
                        scale: d.getUniformLocation(l, "scale"),
                        color: d.getUniformLocation(l, "color"),
                        map: d.getUniformLocation(l, "map"),
                        opacity: d.getUniformLocation(l, "opacity"),
                        modelViewMatrix: d.getUniformLocation(l, "modelViewMatrix"),
                        projectionMatrix: d.getUniformLocation(l, "projectionMatrix"),
                        fogType: d.getUniformLocation(l, "fogType"),
                        fogDensity: d.getUniformLocation(l, "fogDensity"),
                        fogNear: d.getUniformLocation(l, "fogNear"),
                        fogFar: d.getUniformLocation(l, "fogFar"),
                        fogColor: d.getUniformLocation(l, "fogColor"),
                        alphaTest: d.getUniformLocation(l, "alphaTest")
                    };
                    var i = document.createElement("canvas");
                    i.width = 8, i.height = 8;
                    var o = i.getContext("2d");
                    o.fillStyle = "white", o.fillRect(0, 0, 8, 8), h = new n.Texture(i), h.needsUpdate = !0
                }

                function r() {
                    var e = d.createProgram(),
                        i = d.createShader(d.VERTEX_SHADER),
                        n = d.createShader(d.FRAGMENT_SHADER);
                    return d.shaderSource(i, ["precision " + t.getPrecision() + " float;", "uniform mat4 modelViewMatrix;", "uniform mat4 projectionMatrix;", "uniform float rotation;", "uniform vec2 scale;", "uniform vec2 uvOffset;", "uniform vec2 uvScale;", "attribute vec2 position;", "attribute vec2 uv;", "varying vec2 vUV;", "void main() {", "vUV = uvOffset + uv * uvScale;", "vec2 alignedPosition = position * scale;", "vec2 rotatedPosition;", "rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;", "rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;", "vec4 finalPosition;", "finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );", "finalPosition.xy += rotatedPosition;", "finalPosition = projectionMatrix * finalPosition;", "gl_Position = finalPosition;", "}"].join("\n")), d.shaderSource(n, ["precision " + t.getPrecision() + " float;", "uniform vec3 color;", "uniform sampler2D map;", "uniform float opacity;", "uniform int fogType;", "uniform vec3 fogColor;", "uniform float fogDensity;", "uniform float fogNear;", "uniform float fogFar;", "uniform float alphaTest;", "varying vec2 vUV;", "void main() {", "vec4 texture = texture2D( map, vUV );", "if ( texture.a < alphaTest ) discard;", "gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );", "if ( fogType > 0 ) {", "float depth = gl_FragCoord.z / gl_FragCoord.w;", "float fogFactor = 0.0;", "if ( fogType == 1 ) {", "fogFactor = smoothstep( fogNear, fogFar, depth );", "} else {", "const float LOG2 = 1.442695;", "fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );", "fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );", "}", "gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );", "}", "}"].join("\n")), d.compileShader(i), d.compileShader(n), d.attachShader(e, i), d.attachShader(e, n), d.linkProgram(e), e
                }

                function o(t, e) {
                    return t.renderOrder !== e.renderOrder ? t.renderOrder - e.renderOrder : t.z !== e.z ? e.z - t.z : e.id - t.id
                }
                var a, s, l, u, c, h, d = t.context,
                    p = t.state,
                    f = new n.Vector3,
                    m = new n.Quaternion,
                    g = new n.Vector3;
                this.render = function(r, v) {
                    if (0 !== e.length) {
                        void 0 === l && i(), d.useProgram(l), p.initAttributes(), p.enableAttribute(u.position), p.enableAttribute(u.uv), p.disableUnusedAttributes(), p.disable(d.CULL_FACE), p.enable(d.BLEND), d.bindBuffer(d.ARRAY_BUFFER, a), d.vertexAttribPointer(u.position, 2, d.FLOAT, !1, 16, 0), d.vertexAttribPointer(u.uv, 2, d.FLOAT, !1, 16, 8), d.bindBuffer(d.ELEMENT_ARRAY_BUFFER, s), d.uniformMatrix4fv(c.projectionMatrix, !1, v.projectionMatrix.elements), p.activeTexture(d.TEXTURE0), d.uniform1i(c.map, 0);
                        var y = 0,
                            _ = 0,
                            b = r.fog;
                        b ? (d.uniform3f(c.fogColor, b.color.r, b.color.g, b.color.b), b instanceof n.Fog ? (d.uniform1f(c.fogNear, b.near), d.uniform1f(c.fogFar, b.far), d.uniform1i(c.fogType, 1), y = 1, _ = 1) : b instanceof n.FogExp2 && (d.uniform1f(c.fogDensity, b.density), d.uniform1i(c.fogType, 2), y = 2, _ = 2)) : (d.uniform1i(c.fogType, 0), y = 0, _ = 0);
                        for (var x = 0, w = e.length; x < w; x++) {
                            var T = e[x];
                            T.modelViewMatrix.multiplyMatrices(v.matrixWorldInverse, T.matrixWorld), T.z = -T.modelViewMatrix.elements[14]
                        }
                        e.sort(o);
                        for (var S = [], x = 0, w = e.length; x < w; x++) {
                            var T = e[x],
                                M = T.material;
                            d.uniform1f(c.alphaTest, M.alphaTest), d.uniformMatrix4fv(c.modelViewMatrix, !1, T.modelViewMatrix.elements), T.matrixWorld.decompose(f, m, g), S[0] = g.x, S[1] = g.y;
                            var E = 0;
                            r.fog && M.fog && (E = _), y !== E && (d.uniform1i(c.fogType, E), y = E), null !== M.map ? (d.uniform2f(c.uvOffset, M.map.offset.x, M.map.offset.y), d.uniform2f(c.uvScale, M.map.repeat.x, M.map.repeat.y)) : (d.uniform2f(c.uvOffset, 0, 0), d.uniform2f(c.uvScale, 1, 1)), d.uniform1f(c.opacity, M.opacity), d.uniform3f(c.color, M.color.r, M.color.g, M.color.b), d.uniform1f(c.rotation, M.rotation), d.uniform2fv(c.scale, S), p.setBlending(M.blending, M.blendEquation, M.blendSrc, M.blendDst), p.setDepthTest(M.depthTest), p.setDepthWrite(M.depthWrite), M.map ? t.setTexture2D(M.map, 0) : t.setTexture2D(h, 0), d.drawElements(d.TRIANGLES, 6, d.UNSIGNED_SHORT, 0)
                        }
                        p.enable(d.CULL_FACE), t.resetGLState()
                    }
                }
            }, Object.assign(n, {
                Face4: function(t, e, i, r, o, a, s) {
                    return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."), new n.Face3(t, e, i, o, a, s)
                },
                LineStrip: 0,
                LinePieces: 1,
                MeshFaceMaterial: n.MultiMaterial,
                PointCloud: function(t, e) {
                    return console.warn("THREE.PointCloud has been renamed to THREE.Points."), new n.Points(t, e)
                },
                Particle: n.Sprite,
                ParticleSystem: function(t, e) {
                    return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."), new n.Points(t, e)
                },
                PointCloudMaterial: function(t) {
                    return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."), new n.PointsMaterial(t)
                },
                ParticleBasicMaterial: function(t) {
                    return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."), new n.PointsMaterial(t)
                },
                ParticleSystemMaterial: function(t) {
                    return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."), new n.PointsMaterial(t)
                },
                Vertex: function(t, e, i) {
                    return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."), new n.Vector3(t, e, i)
                }
            }), Object.assign(n.Box2.prototype, {
                empty: function() {
                    return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."), this.isEmpty()
                },
                isIntersectionBox: function(t) {
                    return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."), this.intersectsBox(t)
                }
            }), Object.assign(n.Box3.prototype, {
                empty: function() {
                    return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."), this.isEmpty()
                },
                isIntersectionBox: function(t) {
                    return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."), this.intersectsBox(t)
                },
                isIntersectionSphere: function(t) {
                    return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."), this.intersectsSphere(t)
                }
            }), Object.assign(n.Matrix3.prototype, {
                multiplyVector3: function(t) {
                    return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."), t.applyMatrix3(this)
                },
                multiplyVector3Array: function(t) {
                    return console.warn("THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."), this.applyToVector3Array(t)
                }
            }), Object.assign(n.Matrix4.prototype, {
                extractPosition: function(t) {
                    return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."), this.copyPosition(t)
                },
                setRotationFromQuaternion: function(t) {
                    return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."), this.makeRotationFromQuaternion(t)
                },
                multiplyVector3: function(t) {
                    return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead."), t.applyProjection(this)
                },
                multiplyVector4: function(t) {
                    return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."), t.applyMatrix4(this)
                },
                multiplyVector3Array: function(t) {
                    return console.warn("THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."), this.applyToVector3Array(t)
                },
                rotateAxis: function(t) {
                    console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."), t.transformDirection(this)
                },
                crossVector: function(t) {
                    return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."), t.applyMatrix4(this)
                },
                translate: function(t) {
                    console.error("THREE.Matrix4: .translate() has been removed.")
                },
                rotateX: function(t) {
                    console.error("THREE.Matrix4: .rotateX() has been removed.")
                },
                rotateY: function(t) {
                    console.error("THREE.Matrix4: .rotateY() has been removed.")
                },
                rotateZ: function(t) {
                    console.error("THREE.Matrix4: .rotateZ() has been removed.")
                },
                rotateByAxis: function(t, e) {
                    console.error("THREE.Matrix4: .rotateByAxis() has been removed.")
                }
            }), Object.assign(n.Plane.prototype, {
                isIntersectionLine: function(t) {
                    return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."), this.intersectsLine(t)
                }
            }), Object.assign(n.Quaternion.prototype, {
                multiplyVector3: function(t) {
                    return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."), t.applyQuaternion(this)
                }
            }), Object.assign(n.Ray.prototype, {
                isIntersectionBox: function(t) {
                    return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."), this.intersectsBox(t)
                },
                isIntersectionPlane: function(t) {
                    return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."), this.intersectsPlane(t)
                },
                isIntersectionSphere: function(t) {
                    return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."), this.intersectsSphere(t)
                }
            }), Object.assign(n.Vector3.prototype, {
                setEulerFromRotationMatrix: function() {
                    console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")
                },
                setEulerFromQuaternion: function() {
                    console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")
                },
                getPositionFromMatrix: function(t) {
                    return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."), this.setFromMatrixPosition(t)
                },
                getScaleFromMatrix: function(t) {
                    return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."), this.setFromMatrixScale(t)
                },
                getColumnFromMatrix: function(t, e) {
                    return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."), this.setFromMatrixColumn(e, t)
                }
            }), Object.assign(n.Object3D.prototype, {
                getChildByName: function(t) {
                    return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."), this.getObjectByName(t)
                },
                renderDepth: function(t) {
                    console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")
                },
                translate: function(t, e) {
                    return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."), this.translateOnAxis(e, t)
                }
            }), Object.defineProperties(n.Object3D.prototype, {
                eulerOrder: {
                    get: function() {
                        return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."), this.rotation.order
                    },
                    set: function(t) {
                        console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."), this.rotation.order = t
                    }
                },
                useQuaternion: {
                    get: function() {
                        console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")
                    },
                    set: function(t) {
                        console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")
                    }
                }
            }), Object.defineProperties(n.LOD.prototype, {
                objects: {
                    get: function() {
                        return console.warn("THREE.LOD: .objects has been renamed to .levels."), this.levels
                    }
                }
            }), n.PerspectiveCamera.prototype.setLens = function(t, e) {
                console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."), void 0 !== e && (this.filmGauge = e), this.setFocalLength(t)
            }, Object.defineProperties(n.Light.prototype, {
                onlyShadow: {
                    set: function(t) {
                        console.warn("THREE.Light: .onlyShadow has been removed.")
                    }
                },
                shadowCameraFov: {
                    set: function(t) {
                        console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."), this.shadow.camera.fov = t
                    }
                },
                shadowCameraLeft: {
                    set: function(t) {
                        console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."), this.shadow.camera.left = t
                    }
                },
                shadowCameraRight: {
                    set: function(t) {
                        console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."), this.shadow.camera.right = t
                    }
                },
                shadowCameraTop: {
                    set: function(t) {
                        console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."), this.shadow.camera.top = t
                    }
                },
                shadowCameraBottom: {
                    set: function(t) {
                        console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."), this.shadow.camera.bottom = t
                    }
                },
                shadowCameraNear: {
                    set: function(t) {
                        console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."), this.shadow.camera.near = t
                    }
                },
                shadowCameraFar: {
                    set: function(t) {
                        console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."), this.shadow.camera.far = t
                    }
                },
                shadowCameraVisible: {
                    set: function(t) {
                        console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")
                    }
                },
                shadowBias: {
                    set: function(t) {
                        console.warn("THREE.Light: .shadowBias is now .shadow.bias."), this.shadow.bias = t
                    }
                },
                shadowDarkness: {
                    set: function(t) {
                        console.warn("THREE.Light: .shadowDarkness has been removed.")
                    }
                },
                shadowMapWidth: {
                    set: function(t) {
                        console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."), this.shadow.mapSize.width = t
                    }
                },
                shadowMapHeight: {
                    set: function(t) {
                        console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."), this.shadow.mapSize.height = t
                    }
                }
            }), Object.defineProperties(n.BufferAttribute.prototype, {
                length: {
                    get: function() {
                        return console.warn("THREE.BufferAttribute: .length has been deprecated. Please use .count."), this.array.length
                    }
                }
            }), Object.assign(n.BufferGeometry.prototype, {
                addIndex: function(t) {
                    console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."), this.setIndex(t)
                },
                addDrawCall: function(t, e, i) {
                    void 0 !== i && console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."), console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."), this.addGroup(t, e)
                },
                clearDrawCalls: function() {
                    console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."), this.clearGroups()
                },
                computeTangents: function() {
                    console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")
                },
                computeOffsets: function() {
                    console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")
                }
            }), Object.defineProperties(n.BufferGeometry.prototype, {
                drawcalls: {
                    get: function() {
                        return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."), this.groups
                    }
                },
                offsets: {
                    get: function() {
                        return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."), this.groups
                    }
                }
            }), Object.defineProperties(n.Material.prototype, {
                wrapAround: {
                    get: function() {
                        console.warn("THREE." + this.type + ": .wrapAround has been removed.")
                    },
                    set: function(t) {
                        console.warn("THREE." + this.type + ": .wrapAround has been removed.")
                    }
                },
                wrapRGB: {
                    get: function() {
                        return console.warn("THREE." + this.type + ": .wrapRGB has been removed."), new n.Color
                    }
                }
            }), Object.defineProperties(n.MeshPhongMaterial.prototype, {
                metal: {
                    get: function() {
                        return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."), !1
                    },
                    set: function(t) {
                        console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")
                    }
                }
            }), Object.defineProperties(n.ShaderMaterial.prototype, {
                derivatives: {
                    get: function() {
                        return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."), this.extensions.derivatives
                    },
                    set: function(t) {
                        console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."), this.extensions.derivatives = t
                    }
                }
            }), n.EventDispatcher.prototype = Object.assign(Object.create({
                constructor: n.EventDispatcher,
                apply: function(t) {
                    console.warn("THREE.EventDispatcher: .apply is deprecated, just inherit or Object.assign the prototype to mix-in."), Object.assign(t, this)
                }
            }), n.EventDispatcher.prototype), Object.assign(n.WebGLRenderer.prototype, {
                supportsFloatTextures: function() {
                    return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."), this.extensions.get("OES_texture_float")
                },
                supportsHalfFloatTextures: function() {
                    return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."), this.extensions.get("OES_texture_half_float")
                },
                supportsStandardDerivatives: function() {
                    return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."), this.extensions.get("OES_standard_derivatives")
                },
                supportsCompressedTextureS3TC: function() {
                    return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."), this.extensions.get("WEBGL_compressed_texture_s3tc")
                },
                supportsCompressedTexturePVRTC: function() {
                    return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."), this.extensions.get("WEBGL_compressed_texture_pvrtc")
                },
                supportsBlendMinMax: function() {
                    return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."), this.extensions.get("EXT_blend_minmax")
                },
                supportsVertexTextures: function() {
                    return this.capabilities.vertexTextures
                },
                supportsInstancedArrays: function() {
                    return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."), this.extensions.get("ANGLE_instanced_arrays")
                },
                enableScissorTest: function(t) {
                    console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."), this.setScissorTest(t)
                },
                initMaterial: function() {
                    console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")
                },
                addPrePlugin: function() {
                    console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")
                },
                addPostPlugin: function() {
                    console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")
                },
                updateShadowMap: function() {
                    console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")
                }
            }), Object.defineProperties(n.WebGLRenderer.prototype, {
                shadowMapEnabled: {
                    get: function() {
                        return this.shadowMap.enabled
                    },
                    set: function(t) {
                        console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."), this.shadowMap.enabled = t
                    }
                },
                shadowMapType: {
                    get: function() {
                        return this.shadowMap.type
                    },
                    set: function(t) {
                        console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."), this.shadowMap.type = t
                    }
                },
                shadowMapCullFace: {
                    get: function() {
                        return this.shadowMap.cullFace
                    },
                    set: function(t) {
                        console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace."), this.shadowMap.cullFace = t
                    }
                }
            }), Object.defineProperties(n.WebGLShadowMap.prototype, {
                cullFace: {
                    get: function() {
                        return this.renderReverseSided ? n.CullFaceFront : n.CullFaceBack
                    },
                    set: function(t) {
                        var e = t !== n.CullFaceBack;
                        console.warn("WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to " + e + "."), this.renderReverseSided = e
                    }
                }
            }), Object.defineProperties(n.WebGLRenderTarget.prototype, {
                wrapS: {
                    get: function() {
                        return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."), this.texture.wrapS
                    },
                    set: function(t) {
                        console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."), this.texture.wrapS = t
                    }
                },
                wrapT: {
                    get: function() {
                        return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."), this.texture.wrapT
                    },
                    set: function(t) {
                        console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."), this.texture.wrapT = t
                    }
                },
                magFilter: {
                    get: function() {
                        return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."), this.texture.magFilter
                    },
                    set: function(t) {
                        console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."), this.texture.magFilter = t
                    }
                },
                minFilter: {
                    get: function() {
                        return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."), this.texture.minFilter
                    },
                    set: function(t) {
                        console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."), this.texture.minFilter = t
                    }
                },
                anisotropy: {
                    get: function() {
                        return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."), this.texture.anisotropy
                    },
                    set: function(t) {
                        console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."), this.texture.anisotropy = t
                    }
                },
                offset: {
                    get: function() {
                        return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."), this.texture.offset
                    },
                    set: function(t) {
                        console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."), this.texture.offset = t
                    }
                },
                repeat: {
                    get: function() {
                        return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."), this.texture.repeat
                    },
                    set: function(t) {
                        console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."), this.texture.repeat = t
                    }
                },
                format: {
                    get: function() {
                        return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."), this.texture.format
                    },
                    set: function(t) {
                        console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."), this.texture.format = t
                    }
                },
                type: {
                    get: function() {
                        return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."), this.texture.type
                    },
                    set: function(t) {
                        console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."), this.texture.type = t
                    }
                },
                generateMipmaps: {
                    get: function() {
                        return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."), this.texture.generateMipmaps
                    },
                    set: function(t) {
                        console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."), this.texture.generateMipmaps = t
                    }
                }
            }), Object.assign(n.Audio.prototype, {
                load: function(t) {
                    console.warn("THREE.Audio: .load has been deprecated. Please use THREE.AudioLoader.");
                    var e = this;
                    return (new n.AudioLoader).load(t, function(t) {
                        e.setBuffer(t)
                    }), this
                }
            }), Object.assign(n.AudioAnalyser.prototype, {
                getData: function(t) {
                    return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."), this.getFrequencyData()
                }
            }), n.GeometryUtils = {
                merge: function(t, e, i) {
                    console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");
                    var r;
                    e instanceof n.Mesh && (e.matrixAutoUpdate && e.updateMatrix(), r = e.matrix, e = e.geometry), t.merge(e, r, i)
                },
                center: function(t) {
                    return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."), t.center()
                }
            }, n.ImageUtils = {
                crossOrigin: void 0,
                loadTexture: function(t, e, i, r) {
                    console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");
                    var o = new n.TextureLoader;
                    o.setCrossOrigin(this.crossOrigin);
                    var a = o.load(t, i, void 0, r);
                    return e && (a.mapping = e), a
                },
                loadTextureCube: function(t, e, i, r) {
                    console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");
                    var o = new n.CubeTextureLoader;
                    o.setCrossOrigin(this.crossOrigin);
                    var a = o.load(t, i, void 0, r);
                    return e && (a.mapping = e), a
                },
                loadCompressedTexture: function() {
                    console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")
                },
                loadCompressedTextureCube: function() {
                    console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")
                }
            }, n.Projector = function() {
                console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."), this.projectVector = function(t, e) {
                    console.warn("THREE.Projector: .projectVector() is now vector.project()."), t.project(e)
                }, this.unprojectVector = function(t, e) {
                    console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."), t.unproject(e)
                }, this.pickingRay = function(t, e) {
                    console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")
                }
            }, n.CanvasRenderer = function() {
                console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"), this.domElement = document.createElement("canvas"), this.clear = function() {}, this.render = function() {}, this.setClearColor = function() {}, this.setSize = function() {}
            }, n.CurveUtils = {
                tangentQuadraticBezier: function(t, e, i, n) {
                    return 2 * (1 - t) * (i - e) + 2 * t * (n - i)
                },
                tangentCubicBezier: function(t, e, i, n, r) {
                    return -3 * e * (1 - t) * (1 - t) + 3 * i * (1 - t) * (1 - t) - 6 * t * i * (1 - t) + 6 * t * n * (1 - t) - 3 * t * t * n + 3 * t * t * r
                },
                tangentSpline: function(t, e, i, n, r) {
                    return 6 * t * t - 6 * t + (3 * t * t - 4 * t + 1) + (-6 * t * t + 6 * t) + (3 * t * t - 2 * t)
                },
                interpolate: function(t, e, i, n, r) {
                    var o = .5 * (i - t),
                        a = .5 * (n - e),
                        s = r * r;
                    return (2 * e - 2 * i + o + a) * (r * s) + (-3 * e + 3 * i - 2 * o - a) * s + o * r + e
                }
            }, n.SceneUtils = {
                createMultiMaterialObject: function(t, e) {
                    for (var i = new n.Group, r = 0, o = e.length; r < o; r++) i.add(new n.Mesh(t, e[r]));
                    return i
                },
                detach: function(t, e, i) {
                    t.applyMatrix(e.matrixWorld), e.remove(t), i.add(t)
                },
                attach: function(t, e, i) {
                    var r = new n.Matrix4;
                    r.getInverse(i.matrixWorld), t.applyMatrix(r), e.remove(t), i.add(t)
                }
            }, n.ShapeUtils = {
                area: function(t) {
                    for (var e = t.length, i = 0, n = e - 1, r = 0; r < e; n = r++) i += t[n].x * t[r].y - t[r].x * t[n].y;
                    return .5 * i
                },
                triangulate: function() {
                    function t(t, e, i, n, r, o) {
                        var a, s, l, u, c, h, d, p, f;
                        if (s = t[o[e]].x, l = t[o[e]].y, u = t[o[i]].x, c = t[o[i]].y, h = t[o[n]].x, d = t[o[n]].y, Number.EPSILON > (u - s) * (d - l) - (c - l) * (h - s)) return !1;
                        var m, g, v, y, _, b, x, w, T, S, M, E, C, A, P;
                        for (m = h - u, g = d - c, v = s - h, y = l - d, _ = u - s, b = c - l, a = 0; a < r; a++)
                            if (p = t[o[a]].x, f = t[o[a]].y, !(p === s && f === l || p === u && f === c || p === h && f === d) && (x = p - s, w = f - l, T = p - u, S = f - c, M = p - h, E = f - d, P = m * S - g * T, C = _ * w - b * x, A = v * E - y * M, P >= -Number.EPSILON && A >= -Number.EPSILON && C >= -Number.EPSILON)) return !1;
                        return !0
                    }
                    return function(e, i) {
                        var r = e.length;
                        if (r < 3) return null;
                        var o, a, s, l = [],
                            u = [],
                            c = [];
                        if (n.ShapeUtils.area(e) > 0)
                            for (a = 0; a < r; a++) u[a] = a;
                        else
                            for (a = 0; a < r; a++) u[a] = r - 1 - a;
                        var h = r,
                            d = 2 * h;
                        for (a = h - 1; h > 2;) {
                            if (d-- <= 0) return console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()"), i ? c : l;
                            if (o = a, h <= o && (o = 0), a = o + 1, h <= a && (a = 0), s = a + 1, h <= s && (s = 0), t(e, o, a, s, h, u)) {
                                var p, f, m, g, v;
                                for (p = u[o], f = u[a], m = u[s], l.push([e[p], e[f], e[m]]), c.push([u[o], u[a], u[s]]), g = a, v = a + 1; v < h; g++, v++) u[g] = u[v];
                                h--, d = 2 * h
                            }
                        }
                        return i ? c : l
                    }
                }(),
                triangulateShape: function(t, e) {
                    function i(t, e, i) {
                        return t.x !== e.x ? t.x < e.x ? t.x <= i.x && i.x <= e.x : e.x <= i.x && i.x <= t.x : t.y < e.y ? t.y <= i.y && i.y <= e.y : e.y <= i.y && i.y <= t.y
                    }

                    function r(t, e, n, r, o) {
                        var a = e.x - t.x,
                            s = e.y - t.y,
                            l = r.x - n.x,
                            u = r.y - n.y,
                            c = t.x - n.x,
                            h = t.y - n.y,
                            d = s * l - a * u,
                            p = s * c - a * h;
                        if (Math.abs(d) > Number.EPSILON) {
                            var f;
                            if (d > 0) {
                                if (p < 0 || p > d) return [];
                                if ((f = u * c - l * h) < 0 || f > d) return []
                            } else {
                                if (p > 0 || p < d) return [];
                                if ((f = u * c - l * h) > 0 || f < d) return []
                            }
                            if (0 === f) return !o || 0 !== p && p !== d ? [t] : [];
                            if (f === d) return !o || 0 !== p && p !== d ? [e] : [];
                            if (0 === p) return [n];
                            if (p === d) return [r];
                            var m = f / d;
                            return [{
                                x: t.x + m * a,
                                y: t.y + m * s
                            }]
                        }
                        if (0 !== p || u * c != l * h) return [];
                        var g = 0 === a && 0 === s,
                            v = 0 === l && 0 === u;
                        if (g && v) return t.x !== n.x || t.y !== n.y ? [] : [t];
                        if (g) return i(n, r, t) ? [t] : [];
                        if (v) return i(t, e, n) ? [n] : [];
                        var y, _, b, x, w, T, S, M;
                        return 0 !== a ? (t.x < e.x ? (y = t, b = t.x, _ = e, x = e.x) : (y = e, b = e.x, _ = t, x = t.x), n.x < r.x ? (w = n, S = n.x, T = r, M = r.x) : (w = r, S = r.x, T = n, M = n.x)) : (t.y < e.y ? (y = t, b = t.y, _ = e, x = e.y) : (y = e, b = e.y, _ = t, x = t.y), n.y < r.y ? (w = n, S = n.y, T = r, M = r.y) : (w = r, S = r.y, T = n, M = n.y)), b <= S ? x < S ? [] : x === S ? o ? [] : [w] : x <= M ? [w, _] : [w, T] : b > M ? [] : b === M ? o ? [] : [y] : x <= M ? [y, _] : [y, T]
                    }

                    function o(t, e, i, n) {
                        var r = e.x - t.x,
                            o = e.y - t.y,
                            a = i.x - t.x,
                            s = i.y - t.y,
                            l = n.x - t.x,
                            u = n.y - t.y,
                            c = r * s - o * a,
                            h = r * u - o * l;
                        if (Math.abs(c) > Number.EPSILON) {
                            var d = l * s - u * a;
                            return c > 0 ? h >= 0 && d >= 0 : h >= 0 || d >= 0
                        }
                        return h > 0
                    }
                    for (var a, s, l, u, c, h, d = {}, p = t.concat(), f = 0, m = e.length; f < m; f++) Array.prototype.push.apply(p, e[f]);
                    for (a = 0, s = p.length; a < s; a++) c = p[a].x + ":" + p[a].y, void 0 !== d[c] && console.warn("THREE.Shape: Duplicate point", c), d[c] = a;
                    var g = function(t, e) {
                            for (var i, n, a, s, l, u, c, h, d, p, f, m = t.concat(), g = [], v = [], y = 0, _ = e.length; y < _; y++) g.push(y);
                            for (var b = 0, x = 2 * g.length; g.length > 0;) {
                                if (--x < 0) {
                                    console.log("Infinite Loop! Holes left:" + g.length + ", Probably Hole outside Shape!");
                                    break
                                }
                                for (a = b; a < m.length; a++) {
                                    s = m[a], n = -1;
                                    for (var y = 0; y < g.length; y++)
                                        if (u = g[y], c = s.x + ":" + s.y + ":" + u, void 0 === v[c]) {
                                            i = e[u];
                                            for (var w = 0; w < i.length; w++)
                                                if (l = i[w], function(t, e) {
                                                        var n = m.length - 1,
                                                            r = t - 1;
                                                        r < 0 && (r = n);
                                                        var a = t + 1;
                                                        a > n && (a = 0);
                                                        var s = o(m[t], m[r], m[a], i[e]);
                                                        if (!s) return !1;
                                                        var l = i.length - 1,
                                                            u = e - 1;
                                                        u < 0 && (u = l);
                                                        var c = e + 1;
                                                        return c > l && (c = 0), !!(s = o(i[e], i[u], i[c], m[t]))
                                                    }(a, w) && ! function(t, e) {
                                                        var i, n, o;
                                                        for (i = 0; i < m.length; i++)
                                                            if (n = i + 1, n %= m.length, o = r(t, e, m[i], m[n], !0), o.length > 0) return !0;
                                                        return !1
                                                    }(s, l) && ! function(t, i) {
                                                        var n, o, a, s, l;
                                                        for (n = 0; n < g.length; n++)
                                                            for (o = e[g[n]], a = 0; a < o.length; a++)
                                                                if (s = a + 1, s %= o.length, l = r(t, i, o[a], o[s], !0), l.length > 0) return !0;
                                                        return !1
                                                    }(s, l)) {
                                                    n = w, g.splice(y, 1), h = m.slice(0, a + 1), d = m.slice(a), p = i.slice(n), f = i.slice(0, n + 1), m = h.concat(p).concat(f).concat(d), b = a;
                                                    break
                                                }
                                            if (n >= 0) break;
                                            v[c] = !0
                                        }
                                    if (n >= 0) break
                                }
                            }
                            return m
                        }(t, e),
                        v = n.ShapeUtils.triangulate(g, !1);
                    for (a = 0, s = v.length; a < s; a++)
                        for (u = v[a], l = 0; l < 3; l++) c = u[l].x + ":" + u[l].y, void 0 !== (h = d[c]) && (u[l] = h);
                    return v.concat()
                },
                isClockWise: function(t) {
                    return n.ShapeUtils.area(t) < 0
                },
                b2: function() {
                    function t(t, e) {
                        var i = 1 - t;
                        return i * i * e
                    }

                    function e(t, e) {
                        return 2 * (1 - t) * t * e
                    }

                    function i(t, e) {
                        return t * t * e
                    }
                    return function(n, r, o, a) {
                        return t(n, r) + e(n, o) + i(n, a)
                    }
                }(),
                b3: function() {
                    function t(t, e) {
                        var i = 1 - t;
                        return i * i * i * e
                    }

                    function e(t, e) {
                        var i = 1 - t;
                        return 3 * i * i * t * e
                    }

                    function i(t, e) {
                        return 3 * (1 - t) * t * t * e
                    }

                    function n(t, e) {
                        return t * t * t * e
                    }
                    return function(r, o, a, s, l) {
                        return t(r, o) + e(r, a) + i(r, s) + n(r, l)
                    }
                }()
            }, n.Curve = function() {}, n.Curve.prototype = {
                constructor: n.Curve,
                getPoint: function(t) {
                    return console.warn("THREE.Curve: Warning, getPoint() not implemented!"), null
                },
                getPointAt: function(t) {
                    var e = this.getUtoTmapping(t);
                    return this.getPoint(e)
                },
                getPoints: function(t) {
                    t || (t = 5);
                    var e, i = [];
                    for (e = 0; e <= t; e++) i.push(this.getPoint(e / t));
                    return i
                },
                getSpacedPoints: function(t) {
                    t || (t = 5);
                    var e, i = [];
                    for (e = 0; e <= t; e++) i.push(this.getPointAt(e / t));
                    return i
                },
                getLength: function() {
                    var t = this.getLengths();
                    return t[t.length - 1]
                },
                getLengths: function(t) {
                    if (t || (t = this.__arcLengthDivisions ? this.__arcLengthDivisions : 200), this.cacheArcLengths && this.cacheArcLengths.length === t + 1 && !this.needsUpdate) return this.cacheArcLengths;
                    this.needsUpdate = !1;
                    var e, i, n = [],
                        r = this.getPoint(0),
                        o = 0;
                    for (n.push(0), i = 1; i <= t; i++) e = this.getPoint(i / t), o += e.distanceTo(r), n.push(o), r = e;
                    return this.cacheArcLengths = n, n
                },
                updateArcLengths: function() {
                    this.needsUpdate = !0, this.getLengths()
                },
                getUtoTmapping: function(t, e) {
                    var i, n = this.getLengths(),
                        r = 0,
                        o = n.length;
                    i = e ? e : t * n[o - 1];
                    for (var a, s = 0, l = o - 1; s <= l;)
                        if (r = Math.floor(s + (l - s) / 2), (a = n[r] - i) < 0) s = r + 1;
                        else {
                            if (!(a > 0)) {
                                l = r;
                                break
                            }
                            l = r - 1
                        }
                    if (r = l, n[r] === i) {
                        var u = r / (o - 1);
                        return u
                    }
                    var c = n[r],
                        h = n[r + 1],
                        d = h - c,
                        p = (i - c) / d,
                        u = (r + p) / (o - 1);
                    return u
                },
                getTangent: function(t) {
                    var e = t - 1e-4,
                        i = t + 1e-4;
                    e < 0 && (e = 0), i > 1 && (i = 1);
                    var n = this.getPoint(e);
                    return this.getPoint(i).clone().sub(n).normalize()
                },
                getTangentAt: function(t) {
                    var e = this.getUtoTmapping(t);
                    return this.getTangent(e)
                }
            }, n.Curve.create = function(t, e) {
                return t.prototype = Object.create(n.Curve.prototype), t.prototype.constructor = t, t.prototype.getPoint = e, t
            }, n.CurvePath = function() {
                this.curves = [], this.autoClose = !1
            }, n.CurvePath.prototype = Object.assign(Object.create(n.Curve.prototype), {
                constructor: n.CurvePath,
                add: function(t) {
                    this.curves.push(t)
                },
                closePath: function() {
                    var t = this.curves[0].getPoint(0),
                        e = this.curves[this.curves.length - 1].getPoint(1);
                    t.equals(e) || this.curves.push(new n.LineCurve(e, t))
                },
                getPoint: function(t) {
                    for (var e = t * this.getLength(), i = this.getCurveLengths(), n = 0; n < i.length;) {
                        if (i[n] >= e) {
                            var r = i[n] - e,
                                o = this.curves[n],
                                a = 1 - r / o.getLength();
                            return o.getPointAt(a)
                        }
                        n++
                    }
                    return null
                },
                getLength: function() {
                    var t = this.getCurveLengths();
                    return t[t.length - 1]
                },
                getCurveLengths: function() {
                    if (this.cacheLengths && this.cacheLengths.length === this.curves.length) return this.cacheLengths;
                    for (var t = [], e = 0, i = 0, n = this.curves.length; i < n; i++) e += this.curves[i].getLength(), t.push(e);
                    return this.cacheLengths = t, t
                },
                createPointsGeometry: function(t) {
                    var e = this.getPoints(t);
                    return this.createGeometry(e)
                },
                createSpacedPointsGeometry: function(t) {
                    var e = this.getSpacedPoints(t);
                    return this.createGeometry(e)
                },
                createGeometry: function(t) {
                    for (var e = new n.Geometry, i = 0, r = t.length; i < r; i++) {
                        var o = t[i];
                        e.vertices.push(new n.Vector3(o.x, o.y, o.z || 0))
                    }
                    return e
                }
            }), n.Font = function(t) {
                this.data = t
            }, Object.assign(n.Font.prototype, {
                generateShapes: function(t, e, i) {
                    function r(t, e, r) {
                        var a = o.glyphs[t] || o.glyphs["?"];
                        if (a) {
                            var s, l, u, c, h, d, p, f, m, g, v, y = new n.Path,
                                _ = [],
                                b = n.ShapeUtils.b2,
                                x = n.ShapeUtils.b3;
                            if (a.o)
                                for (var w = a._cachedOutline || (a._cachedOutline = a.o.split(" ")), T = 0, S = w.length; T < S;) {
                                    var M = w[T++];
                                    switch (M) {
                                        case "m":
                                            s = w[T++] * e + r, l = w[T++] * e, y.moveTo(s, l);
                                            break;
                                        case "l":
                                            s = w[T++] * e + r, l = w[T++] * e, y.lineTo(s, l);
                                            break;
                                        case "q":
                                            if (u = w[T++] * e + r, c = w[T++] * e, p = w[T++] * e + r, f = w[T++] * e, y.quadraticCurveTo(p, f, u, c), v = _[_.length - 1]) {
                                                h = v.x, d = v.y;
                                                for (var E = 1; E <= i; E++) {
                                                    var C = E / i;
                                                    b(C, h, p, u), b(C, d, f, c)
                                                }
                                            }
                                            break;
                                        case "b":
                                            if (u = w[T++] * e + r, c = w[T++] * e, p = w[T++] * e + r, f = w[T++] * e, m = w[T++] * e + r, g = w[T++] * e, y.bezierCurveTo(p, f, m, g, u, c), v = _[_.length - 1]) {
                                                h = v.x, d = v.y;
                                                for (var E = 1; E <= i; E++) {
                                                    var C = E / i;
                                                    x(C, h, p, m, u), x(C, d, f, g, c)
                                                }
                                            }
                                    }
                                }
                            return {
                                offset: a.ha * e,
                                path: y
                            }
                        }
                    }
                    void 0 === e && (e = 100), void 0 === i && (i = 4);
                    for (var o = this.data, a = function(t) {
                            for (var i = String(t).split(""), n = e / o.resolution, a = 0, s = [], l = 0; l < i.length; l++) {
                                var u = r(i[l], n, a);
                                a += u.offset, s.push(u.path)
                            }
                            return s
                        }(t), s = [], l = 0, u = a.length; l < u; l++) Array.prototype.push.apply(s, a[l].toShapes());
                    return s
                }
            }), n.Path = function(t) {
                n.CurvePath.call(this), this.actions = [], t && this.fromPoints(t)
            }, n.Path.prototype = Object.assign(Object.create(n.CurvePath.prototype), {
                constructor: n.Path,
                fromPoints: function(t) {
                    this.moveTo(t[0].x, t[0].y);
                    for (var e = 1, i = t.length; e < i; e++) this.lineTo(t[e].x, t[e].y)
                },
                moveTo: function(t, e) {
                    this.actions.push({
                        action: "moveTo",
                        args: [t, e]
                    })
                },
                lineTo: function(t, e) {
                    var i = this.actions[this.actions.length - 1].args,
                        r = i[i.length - 2],
                        o = i[i.length - 1],
                        a = new n.LineCurve(new n.Vector2(r, o), new n.Vector2(t, e));
                    this.curves.push(a), this.actions.push({
                        action: "lineTo",
                        args: [t, e]
                    })
                },
                quadraticCurveTo: function(t, e, i, r) {
                    var o = this.actions[this.actions.length - 1].args,
                        a = o[o.length - 2],
                        s = o[o.length - 1],
                        l = new n.QuadraticBezierCurve(new n.Vector2(a, s), new n.Vector2(t, e), new n.Vector2(i, r));
                    this.curves.push(l), this.actions.push({
                        action: "quadraticCurveTo",
                        args: [t, e, i, r]
                    })
                },
                bezierCurveTo: function(t, e, i, r, o, a) {
                    var s = this.actions[this.actions.length - 1].args,
                        l = s[s.length - 2],
                        u = s[s.length - 1],
                        c = new n.CubicBezierCurve(new n.Vector2(l, u), new n.Vector2(t, e), new n.Vector2(i, r), new n.Vector2(o, a));
                    this.curves.push(c), this.actions.push({
                        action: "bezierCurveTo",
                        args: [t, e, i, r, o, a]
                    })
                },
                splineThru: function(t) {
                    var e = Array.prototype.slice.call(arguments),
                        i = this.actions[this.actions.length - 1].args,
                        r = i[i.length - 2],
                        o = i[i.length - 1],
                        a = [new n.Vector2(r, o)];
                    Array.prototype.push.apply(a, t);
                    var s = new n.SplineCurve(a);
                    this.curves.push(s), this.actions.push({
                        action: "splineThru",
                        args: e
                    })
                },
                arc: function(t, e, i, n, r, o) {
                    var a = this.actions[this.actions.length - 1].args,
                        s = a[a.length - 2],
                        l = a[a.length - 1];
                    this.absarc(t + s, e + l, i, n, r, o)
                },
                absarc: function(t, e, i, n, r, o) {
                    this.absellipse(t, e, i, i, n, r, o)
                },
                ellipse: function(t, e, i, n, r, o, a, s) {
                    var l = this.actions[this.actions.length - 1].args,
                        u = l[l.length - 2],
                        c = l[l.length - 1];
                    this.absellipse(t + u, e + c, i, n, r, o, a, s)
                },
                absellipse: function(t, e, i, r, o, a, s, l) {
                    var u = [t, e, i, r, o, a, s, l || 0],
                        c = new n.EllipseCurve(t, e, i, r, o, a, s, l);
                    this.curves.push(c);
                    var h = c.getPoint(1);
                    u.push(h.x), u.push(h.y), this.actions.push({
                        action: "ellipse",
                        args: u
                    })
                },
                getSpacedPoints: function(t) {
                    t || (t = 40);
                    for (var e = [], i = 0; i < t; i++) e.push(this.getPoint(i / t));
                    return this.autoClose && e.push(e[0]), e
                },
                getPoints: function(t) {
                    t = t || 12;
                    for (var e, i, r, o, a, s, l, u, c, h, d, p = n.ShapeUtils.b2, f = n.ShapeUtils.b3, m = [], g = 0, v = this.actions.length; g < v; g++) {
                        var y = this.actions[g],
                            _ = y.action,
                            b = y.args;
                        switch (_) {
                            case "moveTo":
                                m.push(new n.Vector2(b[0], b[1]));
                                break;
                            case "lineTo":
                                m.push(new n.Vector2(b[0], b[1]));
                                break;
                            case "quadraticCurveTo":
                                e = b[2], i = b[3], a = b[0], s = b[1], m.length > 0 ? (c = m[m.length - 1], l = c.x, u = c.y) : (c = this.actions[g - 1].args, l = c[c.length - 2], u = c[c.length - 1]);
                                for (var x = 1; x <= t; x++) {
                                    var w = x / t;
                                    h = p(w, l, a, e), d = p(w, u, s, i), m.push(new n.Vector2(h, d))
                                }
                                break;
                            case "bezierCurveTo":
                                e = b[4], i = b[5], a = b[0], s = b[1], r = b[2], o = b[3], m.length > 0 ? (c = m[m.length - 1], l = c.x, u = c.y) : (c = this.actions[g - 1].args, l = c[c.length - 2], u = c[c.length - 1]);
                                for (var x = 1; x <= t; x++) {
                                    var w = x / t;
                                    h = f(w, l, a, r, e), d = f(w, u, s, o, i), m.push(new n.Vector2(h, d))
                                }
                                break;
                            case "splineThru":
                                c = this.actions[g - 1].args;
                                var T = new n.Vector2(c[c.length - 2], c[c.length - 1]),
                                    S = [T],
                                    M = t * b[0].length;
                                S = S.concat(b[0]);
                                for (var E = new n.SplineCurve(S), x = 1; x <= M; x++) m.push(E.getPointAt(x / M));
                                break;
                            case "arc":
                                for (var C, A = b[0], P = b[1], L = b[2], O = b[3], k = b[4], R = !!b[5], I = k - O, D = 2 * t, x = 1; x <= D; x++) {
                                    var w = x / D;
                                    R || (w = 1 - w), C = O + w * I, h = A + L * Math.cos(C), d = P + L * Math.sin(C), m.push(new n.Vector2(h, d))
                                }
                                break;
                            case "ellipse":
                                var C, B, z, A = b[0],
                                    P = b[1],
                                    F = b[2],
                                    N = b[3],
                                    O = b[4],
                                    k = b[5],
                                    R = !!b[6],
                                    U = b[7],
                                    I = k - O,
                                    D = 2 * t;
                                0 !== U && (B = Math.cos(U), z = Math.sin(U));
                                for (var x = 1; x <= D; x++) {
                                    var w = x / D;
                                    if (R || (w = 1 - w), C = O + w * I, h = A + F * Math.cos(C), d = P + N * Math.sin(C), 0 !== U) {
                                        var G = h,
                                            V = d;
                                        h = (G - A) * B - (V - P) * z + A, d = (G - A) * z + (V - P) * B + P
                                    }
                                    m.push(new n.Vector2(h, d))
                                }
                        }
                    }
                    var j = m[m.length - 1];
                    return Math.abs(j.x - m[0].x) < Number.EPSILON && Math.abs(j.y - m[0].y) < Number.EPSILON && m.splice(m.length - 1, 1), this.autoClose && m.push(m[0]), m
                },
                toShapes: function(t, e) {
                    function i(t) {
                        for (var e = [], i = 0, r = t.length; i < r; i++) {
                            var o = t[i],
                                a = new n.Shape;
                            a.actions = o.actions, a.curves = o.curves, e.push(a)
                        }
                        return e
                    }
                    var r = n.ShapeUtils.isClockWise,
                        o = function(t) {
                            for (var e = [], i = new n.Path, r = 0, o = t.length; r < o; r++) {
                                var a = t[r],
                                    s = a.args,
                                    l = a.action;
                                "moveTo" === l && 0 !== i.actions.length && (e.push(i), i = new n.Path), i[l].apply(i, s)
                            }
                            return 0 !== i.actions.length && e.push(i), e
                        }(this.actions);
                    if (0 === o.length) return [];
                    if (e === !0) return i(o);
                    var a, s, l, u = [];
                    if (1 === o.length) return s = o[0], l = new n.Shape, l.actions = s.actions, l.curves = s.curves, u.push(l), u;
                    var c = !r(o[0].getPoints());
                    c = t ? !c : c;
                    var h, d = [],
                        p = [],
                        f = [],
                        m = 0;
                    p[m] = void 0, f[m] = [];
                    for (var g = 0, v = o.length; g < v; g++) s = o[g], h = s.getPoints(), a = r(h), a = t ? !a : a, a ? (!c && p[m] && m++, p[m] = {
                        s: new n.Shape,
                        p: h
                    }, p[m].s.actions = s.actions, p[m].s.curves = s.curves, c && m++, f[m] = []) : f[m].push({
                        h: s,
                        p: h[0]
                    });
                    if (!p[0]) return i(o);
                    if (p.length > 1) {
                        for (var y = !1, _ = [], b = 0, x = p.length; b < x; b++) d[b] = [];
                        for (var b = 0, x = p.length; b < x; b++)
                            for (var w = f[b], T = 0; T < w.length; T++) {
                                for (var S = w[T], M = !0, E = 0; E < p.length; E++)(function(t, e) {
                                    for (var i = e.length, n = !1, r = i - 1, o = 0; o < i; r = o++) {
                                        var a = e[r],
                                            s = e[o],
                                            l = s.x - a.x,
                                            u = s.y - a.y;
                                        if (Math.abs(u) > Number.EPSILON) {
                                            if (u < 0 && (a = e[o], l = -l, s = e[r], u = -u), t.y < a.y || t.y > s.y) continue;
                                            if (t.y === a.y) {
                                                if (t.x === a.x) return !0
                                            } else {
                                                var c = u * (t.x - a.x) - l * (t.y - a.y);
                                                if (0 === c) return !0;
                                                if (c < 0) continue;
                                                n = !n
                                            }
                                        } else {
                                            if (t.y !== a.y) continue;
                                            if (s.x <= t.x && t.x <= a.x || a.x <= t.x && t.x <= s.x) return !0
                                        }
                                    }
                                    return n
                                })(S.p, p[E].p) && (b !== E && _.push({
                                    froms: b,
                                    tos: E,
                                    hole: T
                                }), M ? (M = !1, d[E].push(S)) : y = !0);
                                M && d[b].push(S)
                            }
                        _.length > 0 && (y || (f = d))
                    }
                    for (var C, g = 0, A = p.length; g < A; g++) {
                        l = p[g].s, u.push(l), C = f[g];
                        for (var P = 0, L = C.length; P < L; P++) l.holes.push(C[P].h)
                    }
                    return u
                }
            }), n.Shape = function() {
                n.Path.apply(this, arguments), this.holes = []
            }, n.Shape.prototype = Object.assign(Object.create(n.Path.prototype), {
                constructor: n.Shape,
                extrude: function(t) {
                    return new n.ExtrudeGeometry(this, t)
                },
                makeGeometry: function(t) {
                    return new n.ShapeGeometry(this, t)
                },
                getPointsHoles: function(t) {
                    for (var e = [], i = 0, n = this.holes.length; i < n; i++) e[i] = this.holes[i].getPoints(t);
                    return e
                },
                extractAllPoints: function(t) {
                    return {
                        shape: this.getPoints(t),
                        holes: this.getPointsHoles(t)
                    }
                },
                extractPoints: function(t) {
                    return this.extractAllPoints(t)
                }
            }), n.LineCurve = function(t, e) {
                this.v1 = t, this.v2 = e
            }, n.LineCurve.prototype = Object.create(n.Curve.prototype), n.LineCurve.prototype.constructor = n.LineCurve, n.LineCurve.prototype.getPoint = function(t) {
                var e = this.v2.clone().sub(this.v1);
                return e.multiplyScalar(t).add(this.v1), e
            }, n.LineCurve.prototype.getPointAt = function(t) {
                return this.getPoint(t)
            }, n.LineCurve.prototype.getTangent = function(t) {
                return this.v2.clone().sub(this.v1).normalize()
            }, n.QuadraticBezierCurve = function(t, e, i) {
                this.v0 = t, this.v1 = e, this.v2 = i
            }, n.QuadraticBezierCurve.prototype = Object.create(n.Curve.prototype), n.QuadraticBezierCurve.prototype.constructor = n.QuadraticBezierCurve, n.QuadraticBezierCurve.prototype.getPoint = function(t) {
                var e = n.ShapeUtils.b2;
                return new n.Vector2(e(t, this.v0.x, this.v1.x, this.v2.x), e(t, this.v0.y, this.v1.y, this.v2.y))
            }, n.QuadraticBezierCurve.prototype.getTangent = function(t) {
                var e = n.CurveUtils.tangentQuadraticBezier;
                return new n.Vector2(e(t, this.v0.x, this.v1.x, this.v2.x), e(t, this.v0.y, this.v1.y, this.v2.y)).normalize()
            }, n.CubicBezierCurve = function(t, e, i, n) {
                this.v0 = t, this.v1 = e, this.v2 = i, this.v3 = n
            }, n.CubicBezierCurve.prototype = Object.create(n.Curve.prototype), n.CubicBezierCurve.prototype.constructor = n.CubicBezierCurve, n.CubicBezierCurve.prototype.getPoint = function(t) {
                var e = n.ShapeUtils.b3;
                return new n.Vector2(e(t, this.v0.x, this.v1.x, this.v2.x, this.v3.x), e(t, this.v0.y, this.v1.y, this.v2.y, this.v3.y))
            }, n.CubicBezierCurve.prototype.getTangent = function(t) {
                var e = n.CurveUtils.tangentCubicBezier;
                return new n.Vector2(e(t, this.v0.x, this.v1.x, this.v2.x, this.v3.x), e(t, this.v0.y, this.v1.y, this.v2.y, this.v3.y)).normalize()
            }, n.SplineCurve = function(t) {
                this.points = void 0 == t ? [] : t
            }, n.SplineCurve.prototype = Object.create(n.Curve.prototype), n.SplineCurve.prototype.constructor = n.SplineCurve, n.SplineCurve.prototype.getPoint = function(t) {
                var e = this.points,
                    i = (e.length - 1) * t,
                    r = Math.floor(i),
                    o = i - r,
                    a = e[0 === r ? r : r - 1],
                    s = e[r],
                    l = e[r > e.length - 2 ? e.length - 1 : r + 1],
                    u = e[r > e.length - 3 ? e.length - 1 : r + 2],
                    c = n.CurveUtils.interpolate;
                return new n.Vector2(c(a.x, s.x, l.x, u.x, o), c(a.y, s.y, l.y, u.y, o))
            }, n.EllipseCurve = function(t, e, i, n, r, o, a, s) {
                this.aX = t, this.aY = e, this.xRadius = i, this.yRadius = n, this.aStartAngle = r, this.aEndAngle = o, this.aClockwise = a, this.aRotation = s || 0
            }, n.EllipseCurve.prototype = Object.create(n.Curve.prototype), n.EllipseCurve.prototype.constructor = n.EllipseCurve, n.EllipseCurve.prototype.getPoint = function(t) {
                var e = this.aEndAngle - this.aStartAngle;
                e < 0 && (e += 2 * Math.PI), e > 2 * Math.PI && (e -= 2 * Math.PI);
                var i;
                i = this.aClockwise === !0 ? this.aEndAngle + (1 - t) * (2 * Math.PI - e) : this.aStartAngle + t * e;
                var r = this.aX + this.xRadius * Math.cos(i),
                    o = this.aY + this.yRadius * Math.sin(i);
                if (0 !== this.aRotation) {
                    var a = Math.cos(this.aRotation),
                        s = Math.sin(this.aRotation),
                        l = r,
                        u = o;
                    r = (l - this.aX) * a - (u - this.aY) * s + this.aX, o = (l - this.aX) * s + (u - this.aY) * a + this.aY
                }
                return new n.Vector2(r, o)
            }, n.ArcCurve = function(t, e, i, r, o, a) {
                n.EllipseCurve.call(this, t, e, i, i, r, o, a)
            }, n.ArcCurve.prototype = Object.create(n.EllipseCurve.prototype), n.ArcCurve.prototype.constructor = n.ArcCurve, n.LineCurve3 = n.Curve.create(function(t, e) {
                this.v1 = t, this.v2 = e
            }, function(t) {
                var e = new n.Vector3;
                return e.subVectors(this.v2, this.v1), e.multiplyScalar(t), e.add(this.v1), e
            }), n.QuadraticBezierCurve3 = n.Curve.create(function(t, e, i) {
                this.v0 = t, this.v1 = e, this.v2 = i
            }, function(t) {
                var e = n.ShapeUtils.b2;
                return new n.Vector3(e(t, this.v0.x, this.v1.x, this.v2.x), e(t, this.v0.y, this.v1.y, this.v2.y), e(t, this.v0.z, this.v1.z, this.v2.z))
            }), n.CubicBezierCurve3 = n.Curve.create(function(t, e, i, n) {
                this.v0 = t, this.v1 = e, this.v2 = i, this.v3 = n
            }, function(t) {
                var e = n.ShapeUtils.b3;
                return new n.Vector3(e(t, this.v0.x, this.v1.x, this.v2.x, this.v3.x), e(t, this.v0.y, this.v1.y, this.v2.y, this.v3.y), e(t, this.v0.z, this.v1.z, this.v2.z, this.v3.z))
            }), n.SplineCurve3 = n.Curve.create(function(t) {
                console.warn("THREE.SplineCurve3 will be deprecated. Please use THREE.CatmullRomCurve3"), this.points = void 0 == t ? [] : t
            }, function(t) {
                var e = this.points,
                    i = (e.length - 1) * t,
                    r = Math.floor(i),
                    o = i - r,
                    a = e[0 == r ? r : r - 1],
                    s = e[r],
                    l = e[r > e.length - 2 ? e.length - 1 : r + 1],
                    u = e[r > e.length - 3 ? e.length - 1 : r + 2],
                    c = n.CurveUtils.interpolate;
                return new n.Vector3(c(a.x, s.x, l.x, u.x, o), c(a.y, s.y, l.y, u.y, o), c(a.z, s.z, l.z, u.z, o))
            }), n.CatmullRomCurve3 = function() {
                function t() {}
                var e = new n.Vector3,
                    i = new t,
                    r = new t,
                    o = new t;
                return t.prototype.init = function(t, e, i, n) {
                    this.c0 = t, this.c1 = i, this.c2 = -3 * t + 3 * e - 2 * i - n, this.c3 = 2 * t - 2 * e + i + n
                }, t.prototype.initNonuniformCatmullRom = function(t, e, i, n, r, o, a) {
                    var s = (e - t) / r - (i - t) / (r + o) + (i - e) / o,
                        l = (i - e) / o - (n - e) / (o + a) + (n - i) / a;
                    s *= o, l *= o, this.init(e, i, s, l)
                }, t.prototype.initCatmullRom = function(t, e, i, n, r) {
                    this.init(e, i, r * (i - t), r * (n - e))
                }, t.prototype.calc = function(t) {
                    var e = t * t,
                        i = e * t;
                    return this.c0 + this.c1 * t + this.c2 * e + this.c3 * i
                }, n.Curve.create(function(t) {
                    this.points = t || [], this.closed = !1
                }, function(t) {
                    var a, s, l, u, c = this.points;
                    u = c.length, u < 2 && console.log("duh, you need at least 2 points"), a = (u - (this.closed ? 0 : 1)) * t, s = Math.floor(a), l = a - s, this.closed ? s += s > 0 ? 0 : (Math.floor(Math.abs(s) / c.length) + 1) * c.length : 0 === l && s === u - 1 && (s = u - 2, l = 1);
                    var h, d, p, f;
                    if (this.closed || s > 0 ? h = c[(s - 1) % u] : (e.subVectors(c[0], c[1]).add(c[0]), h = e), d = c[s % u], p = c[(s + 1) % u], this.closed || s + 2 < u ? f = c[(s + 2) % u] : (e.subVectors(c[u - 1], c[u - 2]).add(c[u - 1]), f = e), void 0 === this.type || "centripetal" === this.type || "chordal" === this.type) {
                        var m = "chordal" === this.type ? .5 : .25,
                            g = Math.pow(h.distanceToSquared(d), m),
                            v = Math.pow(d.distanceToSquared(p), m),
                            y = Math.pow(p.distanceToSquared(f), m);
                        v < 1e-4 && (v = 1), g < 1e-4 && (g = v), y < 1e-4 && (y = v), i.initNonuniformCatmullRom(h.x, d.x, p.x, f.x, g, v, y), r.initNonuniformCatmullRom(h.y, d.y, p.y, f.y, g, v, y), o.initNonuniformCatmullRom(h.z, d.z, p.z, f.z, g, v, y)
                    } else if ("catmullrom" === this.type) {
                        var _ = void 0 !== this.tension ? this.tension : .5;
                        i.initCatmullRom(h.x, d.x, p.x, f.x, _), r.initCatmullRom(h.y, d.y, p.y, f.y, _), o.initCatmullRom(h.z, d.z, p.z, f.z, _)
                    }
                    return new n.Vector3(i.calc(l), r.calc(l), o.calc(l))
                })
            }(), n.ClosedSplineCurve3 = function(t) {
                console.warn("THREE.ClosedSplineCurve3 has been deprecated. Please use THREE.CatmullRomCurve3."), n.CatmullRomCurve3.call(this, t), this.type = "catmullrom", this.closed = !0
            }, n.ClosedSplineCurve3.prototype = Object.create(n.CatmullRomCurve3.prototype), n.BoxGeometry = function(t, e, i, r, o, a) {
                n.Geometry.call(this), this.type = "BoxGeometry", this.parameters = {
                    width: t,
                    height: e,
                    depth: i,
                    widthSegments: r,
                    heightSegments: o,
                    depthSegments: a
                }, this.fromBufferGeometry(new n.BoxBufferGeometry(t, e, i, r, o, a)), this.mergeVertices()
            }, n.BoxGeometry.prototype = Object.create(n.Geometry.prototype), n.BoxGeometry.prototype.constructor = n.BoxGeometry, n.CubeGeometry = n.BoxGeometry, n.BoxBufferGeometry = function(t, e, i, r, o, a) {
                function s(t, e, i, r, o, a, s, u, c, b, x) {
                    for (var w = a / c, T = s / b, S = a / 2, M = s / 2, E = u / 2, C = c + 1, A = b + 1, P = 0, L = 0, O = new n.Vector3, k = 0; k < A; k++)
                        for (var R = k * T - M, I = 0; I < C; I++) {
                            var D = I * w - S;
                            O[t] = D * r, O[e] = R * o, O[i] = E, d[m] = O.x, d[m + 1] = O.y, d[m + 2] = O.z, O[t] = 0, O[e] = 0, O[i] = u > 0 ? 1 : -1, p[m] = O.x, p[m + 1] = O.y, p[m + 2] = O.z, f[g] = I / c, f[g + 1] = 1 - k / b, m += 3, g += 2, P += 1
                        }
                    for (k = 0; k < b; k++)
                        for (I = 0; I < c; I++) {
                            var B = y + I + C * k,
                                z = y + I + C * (k + 1),
                                F = y + (I + 1) + C * (k + 1),
                                N = y + (I + 1) + C * k;
                            h[v] = B, h[v + 1] = z, h[v + 2] = N, h[v + 3] = z, h[v + 4] = F, h[v + 5] = N, v += 6, L += 6
                        }
                    l.addGroup(_, L, x), _ += L, y += P
                }
                n.BufferGeometry.call(this), this.type = "BoxBufferGeometry", this.parameters = {
                    width: t,
                    height: e,
                    depth: i,
                    widthSegments: r,
                    heightSegments: o,
                    depthSegments: a
                };
                var l = this;
                r = Math.floor(r) || 1, o = Math.floor(o) || 1, a = Math.floor(a) || 1;
                var u = function(t, e, i) {
                        var n = 0;
                        return n += (t + 1) * (e + 1) * 2, n += (t + 1) * (i + 1) * 2, n += (i + 1) * (e + 1) * 2
                    }(r, o, a),
                    c = function(t, e, i) {
                        var n = 0;
                        return n += t * e * 2, n += t * i * 2, 6 * (n += i * e * 2)
                    }(r, o, a),
                    h = new(c > 65535 ? Uint32Array : Uint16Array)(c),
                    d = new Float32Array(3 * u),
                    p = new Float32Array(3 * u),
                    f = new Float32Array(2 * u),
                    m = 0,
                    g = 0,
                    v = 0,
                    y = 0,
                    _ = 0;
                s("z", "y", "x", -1, -1, i, e, t, a, o, 0), s("z", "y", "x", 1, -1, i, e, -t, a, o, 1), s("x", "z", "y", 1, 1, t, i, e, r, a, 2), s("x", "z", "y", 1, -1, t, i, -e, r, a, 3), s("x", "y", "z", 1, -1, t, e, i, r, o, 4), s("x", "y", "z", -1, -1, t, e, -i, r, o, 5), this.setIndex(new n.BufferAttribute(h, 1)), this.addAttribute("position", new n.BufferAttribute(d, 3)), this.addAttribute("normal", new n.BufferAttribute(p, 3)), this.addAttribute("uv", new n.BufferAttribute(f, 2))
            }, n.BoxBufferGeometry.prototype = Object.create(n.BufferGeometry.prototype), n.BoxBufferGeometry.prototype.constructor = n.BoxBufferGeometry, n.CircleGeometry = function(t, e, i, r) {
                n.Geometry.call(this), this.type = "CircleGeometry", this.parameters = {
                    radius: t,
                    segments: e,
                    thetaStart: i,
                    thetaLength: r
                }, this.fromBufferGeometry(new n.CircleBufferGeometry(t, e, i, r))
            }, n.CircleGeometry.prototype = Object.create(n.Geometry.prototype), n.CircleGeometry.prototype.constructor = n.CircleGeometry, n.CircleBufferGeometry = function(t, e, i, r) {
                n.BufferGeometry.call(this), this.type = "CircleBufferGeometry", this.parameters = {
                    radius: t,
                    segments: e,
                    thetaStart: i,
                    thetaLength: r
                }, t = t || 50, e = void 0 !== e ? Math.max(3, e) : 8, i = void 0 !== i ? i : 0, r = void 0 !== r ? r : 2 * Math.PI;
                var o = e + 2,
                    a = new Float32Array(3 * o),
                    s = new Float32Array(3 * o),
                    l = new Float32Array(2 * o);
                s[2] = 1, l[0] = .5, l[1] = .5;
                for (var u = 0, c = 3, h = 2; u <= e; u++, c += 3, h += 2) {
                    var d = i + u / e * r;
                    a[c] = t * Math.cos(d), a[c + 1] = t * Math.sin(d), s[c + 2] = 1, l[h] = (a[c] / t + 1) / 2, l[h + 1] = (a[c + 1] / t + 1) / 2
                }
                for (var p = [], c = 1; c <= e; c++) p.push(c, c + 1, 0);
                this.setIndex(new n.BufferAttribute(new Uint16Array(p), 1)), this.addAttribute("position", new n.BufferAttribute(a, 3)), this.addAttribute("normal", new n.BufferAttribute(s, 3)), this.addAttribute("uv", new n.BufferAttribute(l, 2)), this.boundingSphere = new n.Sphere(new n.Vector3, t)
            }, n.CircleBufferGeometry.prototype = Object.create(n.BufferGeometry.prototype), n.CircleBufferGeometry.prototype.constructor = n.CircleBufferGeometry, n.CylinderBufferGeometry = function(t, e, i, r, o, a, s, l) {
                function u(i) {
                    var o, a, u, h = new n.Vector2,
                        d = new n.Vector3,
                        p = 0,
                        b = i === !0 ? t : e,
                        T = i === !0 ? 1 : -1;
                    for (a = y, o = 1; o <= r; o++) m.setXYZ(y, 0, x * T, 0), g.setXYZ(y, 0, T, 0), h.x = .5, h.y = .5, v.setXY(y, h.x, h.y), y++;
                    for (u = y, o = 0; o <= r; o++) {
                        var S = o / r,
                            M = S * l + s,
                            E = Math.cos(M),
                            C = Math.sin(M);
                        d.x = b * C, d.y = x * T, d.z = b * E, m.setXYZ(y, d.x, d.y, d.z), g.setXYZ(y, 0, T, 0), h.x = .5 * E + .5, h.y = .5 * C * T + .5, v.setXY(y, h.x, h.y), y++
                    }
                    for (o = 0; o < r; o++) {
                        var A = a + o,
                            P = u + o;
                        i === !0 ? (f.setX(_, P), _++, f.setX(_, P + 1), _++, f.setX(_, A), _++) : (f.setX(_, P + 1), _++, f.setX(_, P), _++, f.setX(_, A), _++), p += 3
                    }
                    c.addGroup(w, p, i === !0 ? 1 : 2), w += p
                }
                n.BufferGeometry.call(this), this.type = "CylinderBufferGeometry", this.parameters = {
                    radiusTop: t,
                    radiusBottom: e,
                    height: i,
                    radialSegments: r,
                    heightSegments: o,
                    openEnded: a,
                    thetaStart: s,
                    thetaLength: l
                };
                var c = this;
                t = void 0 !== t ? t : 20, e = void 0 !== e ? e : 20, i = void 0 !== i ? i : 100, r = Math.floor(r) || 8, o = Math.floor(o) || 1, a = void 0 !== a && a, s = void 0 !== s ? s : 0, l = void 0 !== l ? l : 2 * Math.PI;
                var h = 0;
                a === !1 && (t > 0 && h++, e > 0 && h++);
                var d = function() {
                        var t = (r + 1) * (o + 1);
                        return a === !1 && (t += (r + 1) * h + r * h), t
                    }(),
                    p = function() {
                        var t = r * o * 2 * 3;
                        return a === !1 && (t += r * h * 3), t
                    }(),
                    f = new n.BufferAttribute(new(p > 65535 ? Uint32Array : Uint16Array)(p), 1),
                    m = new n.BufferAttribute(new Float32Array(3 * d), 3),
                    g = new n.BufferAttribute(new Float32Array(3 * d), 3),
                    v = new n.BufferAttribute(new Float32Array(2 * d), 2),
                    y = 0,
                    _ = 0,
                    b = [],
                    x = i / 2,
                    w = 0;
                ! function() {
                    var a, u, h = new n.Vector3,
                        d = new n.Vector3,
                        p = 0,
                        T = (e - t) / i;
                    for (u = 0; u <= o; u++) {
                        var S = [],
                            M = u / o,
                            E = M * (e - t) + t;
                        for (a = 0; a <= r; a++) {
                            var C = a / r;
                            d.x = E * Math.sin(C * l + s), d.y = -M * i + x, d.z = E * Math.cos(C * l + s), m.setXYZ(y, d.x, d.y, d.z), h.copy(d), (0 === t && 0 === u || 0 === e && u === o) && (h.x = Math.sin(C * l + s), h.z = Math.cos(C * l + s)), h.setY(Math.sqrt(h.x * h.x + h.z * h.z) * T).normalize(), g.setXYZ(y, h.x, h.y, h.z), v.setXY(y, C, 1 - M), S.push(y), y++
                        }
                        b.push(S)
                    }
                    for (a = 0; a < r; a++)
                        for (u = 0; u < o; u++) {
                            var A = b[u][a],
                                P = b[u + 1][a],
                                L = b[u + 1][a + 1],
                                O = b[u][a + 1];
                            f.setX(_, A), _++, f.setX(_, P), _++, f.setX(_, O), _++, f.setX(_, P), _++, f.setX(_, L), _++, f.setX(_, O), _++, p += 6
                        }
                    c.addGroup(w, p, 0), w += p
                }(), a === !1 && (t > 0 && u(!0), e > 0 && u(!1)), this.setIndex(f), this.addAttribute("position", m), this.addAttribute("normal", g), this.addAttribute("uv", v)
            }, n.CylinderBufferGeometry.prototype = Object.create(n.BufferGeometry.prototype), n.CylinderBufferGeometry.prototype.constructor = n.CylinderBufferGeometry, n.CylinderGeometry = function(t, e, i, r, o, a, s, l) {
                n.Geometry.call(this), this.type = "CylinderGeometry", this.parameters = {
                    radiusTop: t,
                    radiusBottom: e,
                    height: i,
                    radialSegments: r,
                    heightSegments: o,
                    openEnded: a,
                    thetaStart: s,
                    thetaLength: l
                }, this.fromBufferGeometry(new n.CylinderBufferGeometry(t, e, i, r, o, a, s, l)), this.mergeVertices()
            }, n.CylinderGeometry.prototype = Object.create(n.Geometry.prototype), n.CylinderGeometry.prototype.constructor = n.CylinderGeometry, n.ConeBufferGeometry = function(t, e, i, r, o, a, s) {
                n.CylinderBufferGeometry.call(this, 0, t, e, i, r, o, a, s), this.type = "ConeBufferGeometry", this.parameters = {
                    radius: t,
                    height: e,
                    radialSegments: i,
                    heightSegments: r,
                    thetaStart: a,
                    thetaLength: s
                }
            }, n.ConeBufferGeometry.prototype = Object.create(n.BufferGeometry.prototype), n.ConeBufferGeometry.prototype.constructor = n.ConeBufferGeometry, n.ConeGeometry = function(t, e, i, r, o, a, s) {
                n.CylinderGeometry.call(this, 0, t, e, i, r, o, a, s), this.type = "ConeGeometry", this.parameters = {
                    radius: t,
                    height: e,
                    radialSegments: i,
                    heightSegments: r,
                    openEnded: o,
                    thetaStart: a,
                    thetaLength: s
                }
            }, n.ConeGeometry.prototype = Object.create(n.CylinderGeometry.prototype), n.ConeGeometry.prototype.constructor = n.ConeGeometry, n.EdgesGeometry = function(t, e) {
                function i(t, e) {
                    return t - e
                }
                n.BufferGeometry.call(this), e = void 0 !== e ? e : 1;
                var r, o = Math.cos(n.Math.DEG2RAD * e),
                    a = [0, 0],
                    s = {},
                    l = ["a", "b", "c"];
                t instanceof n.BufferGeometry ? (r = new n.Geometry, r.fromBufferGeometry(t)) : r = t.clone(), r.mergeVertices(), r.computeFaceNormals();
                for (var u = r.vertices, c = r.faces, h = 0, d = c.length; h < d; h++)
                    for (var p = c[h], f = 0; f < 3; f++) {
                        a[0] = p[l[f]], a[1] = p[l[(f + 1) % 3]], a.sort(i);
                        var m = a.toString();
                        void 0 === s[m] ? s[m] = {
                            vert1: a[0],
                            vert2: a[1],
                            face1: h,
                            face2: void 0
                        } : s[m].face2 = h
                    }
                var g = [];
                for (var m in s) {
                    var v = s[m];
                    if (void 0 === v.face2 || c[v.face1].normal.dot(c[v.face2].normal) <= o) {
                        var y = u[v.vert1];
                        g.push(y.x), g.push(y.y), g.push(y.z), y = u[v.vert2], g.push(y.x), g.push(y.y), g.push(y.z)
                    }
                }
                this.addAttribute("position", new n.BufferAttribute(new Float32Array(g), 3))
            }, n.EdgesGeometry.prototype = Object.create(n.BufferGeometry.prototype), n.EdgesGeometry.prototype.constructor = n.EdgesGeometry, n.ExtrudeGeometry = function(t, e) {
                if (void 0 === t) return void(t = []);
                n.Geometry.call(this), this.type = "ExtrudeGeometry", t = Array.isArray(t) ? t : [t], this.addShapeList(t, e), this.computeFaceNormals()
            }, n.ExtrudeGeometry.prototype = Object.create(n.Geometry.prototype), n.ExtrudeGeometry.prototype.constructor = n.ExtrudeGeometry, n.ExtrudeGeometry.prototype.addShapeList = function(t, e) {
                for (var i = t.length, n = 0; n < i; n++) {
                    var r = t[n];
                    this.addShape(r, e)
                }
            }, n.ExtrudeGeometry.prototype.addShape = function(t, e) {
                function i(t, e, i) {
                    return e || console.error("THREE.ExtrudeGeometry: vec does not exist"), e.clone().multiplyScalar(i).add(t)
                }

                function r(t, e, i) {
                    var r, o, a = 1,
                        s = t.x - e.x,
                        l = t.y - e.y,
                        u = i.x - t.x,
                        c = i.y - t.y,
                        h = s * s + l * l,
                        d = s * c - l * u;
                    if (Math.abs(d) > Number.EPSILON) {
                        var p = Math.sqrt(h),
                            f = Math.sqrt(u * u + c * c),
                            m = e.x - l / p,
                            g = e.y + s / p,
                            v = i.x - c / f,
                            y = i.y + u / f,
                            _ = ((v - m) * c - (y - g) * u) / (s * c - l * u);
                        r = m + s * _ - t.x, o = g + l * _ - t.y;
                        var b = r * r + o * o;
                        if (b <= 2) return new n.Vector2(r, o);
                        a = Math.sqrt(b / 2)
                    } else {
                        var x = !1;
                        s > Number.EPSILON ? u > Number.EPSILON && (x = !0) : s < -Number.EPSILON ? u < -Number.EPSILON && (x = !0) : Math.sign(l) === Math.sign(c) && (x = !0), x ? (r = -l, o = s, a = Math.sqrt(h)) : (r = s, o = l, a = Math.sqrt(h / 2))
                    }
                    return new n.Vector2(r / a, o / a)
                }

                function o(t, e) {
                    var i, n;
                    for (H = t.length; --H >= 0;) {
                        i = H, n = H - 1, n < 0 && (n = t.length - 1);
                        var r = 0,
                            o = b + 2 * v;
                        for (r = 0; r < o; r++) {
                            var a = G * r,
                                s = G * (r + 1);
                            l(e + i + a, e + n + a, e + n + s, e + i + s, t, r, o, i, n)
                        }
                    }
                }

                function a(t, e, i) {
                    C.vertices.push(new n.Vector3(t, e, i))
                }

                function s(t, e, i) {
                    t += A, e += A, i += A, C.faces.push(new n.Face3(t, e, i, null, null, 0));
                    var r = T.generateTopUV(C, t, e, i);
                    C.faceVertexUvs[0].push(r)
                }

                function l(t, e, i, r, o, a, s, l, u) {
                    t += A, e += A, i += A, r += A, C.faces.push(new n.Face3(t, e, r, null, null, 1)), C.faces.push(new n.Face3(e, i, r, null, null, 1));
                    var c = T.generateSideWallUV(C, t, e, i, r);
                    C.faceVertexUvs[0].push([c[0], c[1], c[3]]), C.faceVertexUvs[0].push([c[1], c[2], c[3]])
                }
                var u, c, h, d, p, f = void 0 !== e.amount ? e.amount : 100,
                    m = void 0 !== e.bevelThickness ? e.bevelThickness : 6,
                    g = void 0 !== e.bevelSize ? e.bevelSize : m - 2,
                    v = void 0 !== e.bevelSegments ? e.bevelSegments : 3,
                    y = void 0 === e.bevelEnabled || e.bevelEnabled,
                    _ = void 0 !== e.curveSegments ? e.curveSegments : 12,
                    b = void 0 !== e.steps ? e.steps : 1,
                    x = e.extrudePath,
                    w = !1,
                    T = void 0 !== e.UVGenerator ? e.UVGenerator : n.ExtrudeGeometry.WorldUVGenerator;
                x && (u = x.getSpacedPoints(b), w = !0, y = !1, c = void 0 !== e.frames ? e.frames : new n.TubeGeometry.FrenetFrames(x, b, !1), h = new n.Vector3, d = new n.Vector3, p = new n.Vector3), y || (v = 0, m = 0, g = 0);
                var S, M, E, C = this,
                    A = this.vertices.length,
                    P = t.extractPoints(_),
                    L = P.shape,
                    O = P.holes,
                    k = !n.ShapeUtils.isClockWise(L);
                if (k) {
                    for (L = L.reverse(), M = 0, E = O.length; M < E; M++) S = O[M], n.ShapeUtils.isClockWise(S) && (O[M] = S.reverse());
                    k = !1
                }
                var R = n.ShapeUtils.triangulateShape(L, O),
                    I = L;
                for (M = 0, E = O.length; M < E; M++) S = O[M], L = L.concat(S);
                for (var D, B, z, F, N, U, G = L.length, V = R.length, j = [], H = 0, W = I.length, X = W - 1, q = H + 1; H < W; H++, X++, q++) X === W && (X = 0), q === W && (q = 0), j[H] = r(I[H], I[X], I[q]);
                var Y, Z = [],
                    K = j.concat();
                for (M = 0, E = O.length; M < E; M++) {
                    for (S = O[M], Y = [], H = 0, W = S.length, X = W - 1, q = H + 1; H < W; H++, X++, q++) X === W && (X = 0), q === W && (q = 0), Y[H] = r(S[H], S[X], S[q]);
                    Z.push(Y), K = K.concat(Y)
                }
                for (D = 0; D < v; D++) {
                    for (z = D / v, F = m * (1 - z), B = g * Math.sin(z * Math.PI / 2), H = 0, W = I.length; H < W; H++) N = i(I[H], j[H], B), a(N.x, N.y, -F);
                    for (M = 0, E = O.length; M < E; M++)
                        for (S = O[M], Y = Z[M], H = 0, W = S.length; H < W; H++) N = i(S[H], Y[H], B), a(N.x, N.y, -F)
                }
                for (B = g, H = 0; H < G; H++) N = y ? i(L[H], K[H], B) : L[H], w ? (d.copy(c.normals[0]).multiplyScalar(N.x), h.copy(c.binormals[0]).multiplyScalar(N.y), p.copy(u[0]).add(d).add(h), a(p.x, p.y, p.z)) : a(N.x, N.y, 0);
                var Q;
                for (Q = 1; Q <= b; Q++)
                    for (H = 0; H < G; H++) N = y ? i(L[H], K[H], B) : L[H], w ? (d.copy(c.normals[Q]).multiplyScalar(N.x), h.copy(c.binormals[Q]).multiplyScalar(N.y), p.copy(u[Q]).add(d).add(h), a(p.x, p.y, p.z)) : a(N.x, N.y, f / b * Q);
                for (D = v - 1; D >= 0; D--) {
                    for (z = D / v, F = m * (1 - z), B = g * Math.sin(z * Math.PI / 2), H = 0, W = I.length; H < W; H++) N = i(I[H], j[H], B), a(N.x, N.y, f + F);
                    for (M = 0, E = O.length; M < E; M++)
                        for (S = O[M], Y = Z[M], H = 0, W = S.length; H < W; H++) N = i(S[H], Y[H], B), w ? a(N.x, N.y + u[b - 1].y, u[b - 1].x + F) : a(N.x, N.y, f + F)
                }! function() {
                    if (y) {
                        var t = 0,
                            e = G * t;
                        for (H = 0; H < V; H++) U = R[H], s(U[2] + e, U[1] + e, U[0] + e);
                        for (t = b + 2 * v, e = G * t, H = 0; H < V; H++) U = R[H], s(U[0] + e, U[1] + e, U[2] + e)
                    } else {
                        for (H = 0; H < V; H++) U = R[H], s(U[2], U[1], U[0]);
                        for (H = 0; H < V; H++) U = R[H], s(U[0] + G * b, U[1] + G * b, U[2] + G * b)
                    }
                }(),
                function() {
                    var t = 0;
                    for (o(I, t), t += I.length, M = 0, E = O.length; M < E; M++) S = O[M], o(S, t), t += S.length
                }()
            }, n.ExtrudeGeometry.WorldUVGenerator = {
                generateTopUV: function(t, e, i, r) {
                    var o = t.vertices,
                        a = o[e],
                        s = o[i],
                        l = o[r];
                    return [new n.Vector2(a.x, a.y), new n.Vector2(s.x, s.y), new n.Vector2(l.x, l.y)]
                },
                generateSideWallUV: function(t, e, i, r, o) {
                    var a = t.vertices,
                        s = a[e],
                        l = a[i],
                        u = a[r],
                        c = a[o];
                    return Math.abs(s.y - l.y) < .01 ? [new n.Vector2(s.x, 1 - s.z), new n.Vector2(l.x, 1 - l.z), new n.Vector2(u.x, 1 - u.z), new n.Vector2(c.x, 1 - c.z)] : [new n.Vector2(s.y, 1 - s.z), new n.Vector2(l.y, 1 - l.z), new n.Vector2(u.y, 1 - u.z), new n.Vector2(c.y, 1 - c.z)]
                }
            }, n.ShapeGeometry = function(t, e) {
                n.Geometry.call(this), this.type = "ShapeGeometry", Array.isArray(t) === !1 && (t = [t]), this.addShapeList(t, e), this.computeFaceNormals()
            }, n.ShapeGeometry.prototype = Object.create(n.Geometry.prototype), n.ShapeGeometry.prototype.constructor = n.ShapeGeometry, n.ShapeGeometry.prototype.addShapeList = function(t, e) {
                for (var i = 0, n = t.length; i < n; i++) this.addShape(t[i], e);
                return this
            }, n.ShapeGeometry.prototype.addShape = function(t, e) {
                void 0 === e && (e = {});
                var i, r, o, a = void 0 !== e.curveSegments ? e.curveSegments : 12,
                    s = e.material,
                    l = void 0 === e.UVGenerator ? n.ExtrudeGeometry.WorldUVGenerator : e.UVGenerator,
                    u = this.vertices.length,
                    c = t.extractPoints(a),
                    h = c.shape,
                    d = c.holes,
                    p = !n.ShapeUtils.isClockWise(h);
                if (p) {
                    for (h = h.reverse(), i = 0, r = d.length; i < r; i++) o = d[i], n.ShapeUtils.isClockWise(o) && (d[i] = o.reverse());
                    p = !1
                }
                var f = n.ShapeUtils.triangulateShape(h, d);
                for (i = 0, r = d.length; i < r; i++) o = d[i], h = h.concat(o);
                var m, g, v = h.length,
                    y = f.length;
                for (i = 0; i < v; i++) m = h[i], this.vertices.push(new n.Vector3(m.x, m.y, 0));
                for (i = 0; i < y; i++) {
                    g = f[i];
                    var _ = g[0] + u,
                        b = g[1] + u,
                        x = g[2] + u;
                    this.faces.push(new n.Face3(_, b, x, null, null, s)), this.faceVertexUvs[0].push(l.generateTopUV(this, _, b, x))
                }
            }, n.LatheBufferGeometry = function(t, e, i, r) {
                n.BufferGeometry.call(this), this.type = "LatheBufferGeometry", this.parameters = {
                    points: t,
                    segments: e,
                    phiStart: i,
                    phiLength: r
                }, e = Math.floor(e) || 12, i = i || 0, r = r || 2 * Math.PI, r = n.Math.clamp(r, 0, 2 * Math.PI);
                var o, a, s, l = (e + 1) * t.length,
                    u = e * t.length * 2 * 3,
                    c = new n.BufferAttribute(new(u > 65535 ? Uint32Array : Uint16Array)(u), 1),
                    h = new n.BufferAttribute(new Float32Array(3 * l), 3),
                    d = new n.BufferAttribute(new Float32Array(2 * l), 2),
                    p = 0,
                    f = 0,
                    m = (t.length, 1 / e),
                    g = new n.Vector3,
                    v = new n.Vector2;
                for (a = 0; a <= e; a++) {
                    var y = i + a * m * r,
                        _ = Math.sin(y),
                        b = Math.cos(y);
                    for (s = 0; s <= t.length - 1; s++) g.x = t[s].x * _, g.y = t[s].y, g.z = t[s].x * b, h.setXYZ(p, g.x, g.y, g.z), v.x = a / e, v.y = s / (t.length - 1), d.setXY(p, v.x, v.y), p++
                }
                for (a = 0; a < e; a++)
                    for (s = 0; s < t.length - 1; s++) {
                        o = s + a * t.length;
                        var x = o,
                            w = o + t.length,
                            T = o + t.length + 1,
                            S = o + 1;
                        c.setX(f, x), f++, c.setX(f, w), f++, c.setX(f, S), f++, c.setX(f, w), f++, c.setX(f, T), f++, c.setX(f, S), f++
                    }
                if (this.setIndex(c), this.addAttribute("position", h), this.addAttribute("uv", d), this.computeVertexNormals(), r === 2 * Math.PI) {
                    var M = this.attributes.normal.array,
                        E = new n.Vector3,
                        C = new n.Vector3,
                        A = new n.Vector3;
                    for (o = e * t.length * 3, a = 0, s = 0; a < t.length; a++, s += 3) E.x = M[s + 0], E.y = M[s + 1], E.z = M[s + 2], C.x = M[o + s + 0], C.y = M[o + s + 1], C.z = M[o + s + 2], A.addVectors(E, C).normalize(), M[s + 0] = M[o + s + 0] = A.x, M[s + 1] = M[o + s + 1] = A.y, M[s + 2] = M[o + s + 2] = A.z
                }
            }, n.LatheBufferGeometry.prototype = Object.create(n.BufferGeometry.prototype), n.LatheBufferGeometry.prototype.constructor = n.LatheBufferGeometry, n.LatheGeometry = function(t, e, i, r) {
                n.Geometry.call(this), this.type = "LatheGeometry", this.parameters = {
                    points: t,
                    segments: e,
                    phiStart: i,
                    phiLength: r
                }, this.fromBufferGeometry(new n.LatheBufferGeometry(t, e, i, r)), this.mergeVertices()
            }, n.LatheGeometry.prototype = Object.create(n.Geometry.prototype), n.LatheGeometry.prototype.constructor = n.LatheGeometry, n.PlaneGeometry = function(t, e, i, r) {
                n.Geometry.call(this), this.type = "PlaneGeometry", this.parameters = {
                    width: t,
                    height: e,
                    widthSegments: i,
                    heightSegments: r
                }, this.fromBufferGeometry(new n.PlaneBufferGeometry(t, e, i, r))
            };
        n.PlaneGeometry.prototype = Object.create(n.Geometry.prototype), n.PlaneGeometry.prototype.constructor = n.PlaneGeometry, n.PlaneBufferGeometry = function(t, e, i, r) {
            n.BufferGeometry.call(this), this.type = "PlaneBufferGeometry", this.parameters = {
                width: t,
                height: e,
                widthSegments: i,
                heightSegments: r
            };
            for (var o = t / 2, a = e / 2, s = Math.floor(i) || 1, l = Math.floor(r) || 1, u = s + 1, c = l + 1, h = t / s, d = e / l, p = new Float32Array(u * c * 3), f = new Float32Array(u * c * 3), m = new Float32Array(u * c * 2), g = 0, v = 0, y = 0; y < c; y++)
                for (var _ = y * d - a, b = 0; b < u; b++) {
                    var x = b * h - o;
                    p[g] = x, p[g + 1] = -_, f[g + 2] = 1, m[v] = b / s, m[v + 1] = 1 - y / l, g += 3, v += 2
                }
            g = 0;
            for (var w = new(p.length / 3 > 65535 ? Uint32Array : Uint16Array)(s * l * 6), y = 0; y < l; y++)
                for (var b = 0; b < s; b++) {
                    var T = b + u * y,
                        S = b + u * (y + 1),
                        M = b + 1 + u * (y + 1),
                        E = b + 1 + u * y;
                    w[g] = T, w[g + 1] = S, w[g + 2] = E, w[g + 3] = S, w[g + 4] = M, w[g + 5] = E, g += 6
                }
            this.setIndex(new n.BufferAttribute(w, 1)), this.addAttribute("position", new n.BufferAttribute(p, 3)), this.addAttribute("normal", new n.BufferAttribute(f, 3)), this.addAttribute("uv", new n.BufferAttribute(m, 2))
        }, n.PlaneBufferGeometry.prototype = Object.create(n.BufferGeometry.prototype), n.PlaneBufferGeometry.prototype.constructor = n.PlaneBufferGeometry, n.RingBufferGeometry = function(t, e, i, r, o, a) {
            n.BufferGeometry.call(this), this.type = "RingBufferGeometry", this.parameters = {
                innerRadius: t,
                outerRadius: e,
                thetaSegments: i,
                phiSegments: r,
                thetaStart: o,
                thetaLength: a
            }, t = t || 20, e = e || 50, o = void 0 !== o ? o : 0, a = void 0 !== a ? a : 2 * Math.PI, i = void 0 !== i ? Math.max(3, i) : 8, r = void 0 !== r ? Math.max(1, r) : 1;
            var s, l, u, c = (i + 1) * (r + 1),
                h = i * r * 2 * 3,
                d = new n.BufferAttribute(new(h > 65535 ? Uint32Array : Uint16Array)(h), 1),
                p = new n.BufferAttribute(new Float32Array(3 * c), 3),
                f = new n.BufferAttribute(new Float32Array(3 * c), 3),
                m = new n.BufferAttribute(new Float32Array(2 * c), 2),
                g = 0,
                v = 0,
                y = t,
                _ = (e - t) / r,
                b = new n.Vector3,
                x = new n.Vector2;
            for (l = 0; l <= r; l++) {
                for (u = 0; u <= i; u++) s = o + u / i * a, b.x = y * Math.cos(s), b.y = y * Math.sin(s), p.setXYZ(g, b.x, b.y, b.z), f.setXYZ(g, 0, 0, 1), x.x = (b.x / e + 1) / 2, x.y = (b.y / e + 1) / 2, m.setXY(g, x.x, x.y), g++;
                y += _
            }
            for (l = 0; l < r; l++) {
                var w = l * (i + 1);
                for (u = 0; u < i; u++) {
                    s = u + w;
                    var T = s,
                        S = s + i + 1,
                        M = s + i + 2,
                        E = s + 1;
                    d.setX(v, T), v++, d.setX(v, S), v++, d.setX(v, M), v++, d.setX(v, T), v++, d.setX(v, M), v++, d.setX(v, E), v++
                }
            }
            this.setIndex(d), this.addAttribute("position", p), this.addAttribute("normal", f), this.addAttribute("uv", m)
        }, n.RingBufferGeometry.prototype = Object.create(n.BufferGeometry.prototype), n.RingBufferGeometry.prototype.constructor = n.RingBufferGeometry, n.RingGeometry = function(t, e, i, r, o, a) {
            n.Geometry.call(this), this.type = "RingGeometry", this.parameters = {
                innerRadius: t,
                outerRadius: e,
                thetaSegments: i,
                phiSegments: r,
                thetaStart: o,
                thetaLength: a
            }, this.fromBufferGeometry(new n.RingBufferGeometry(t, e, i, r, o, a))
        }, n.RingGeometry.prototype = Object.create(n.Geometry.prototype), n.RingGeometry.prototype.constructor = n.RingGeometry, n.SphereGeometry = function(t, e, i, r, o, a, s) {
            n.Geometry.call(this), this.type = "SphereGeometry", this.parameters = {
                radius: t,
                widthSegments: e,
                heightSegments: i,
                phiStart: r,
                phiLength: o,
                thetaStart: a,
                thetaLength: s
            }, this.fromBufferGeometry(new n.SphereBufferGeometry(t, e, i, r, o, a, s))
        }, n.SphereGeometry.prototype = Object.create(n.Geometry.prototype), n.SphereGeometry.prototype.constructor = n.SphereGeometry, n.SphereBufferGeometry = function(t, e, i, r, o, a, s) {
            n.BufferGeometry.call(this), this.type = "SphereBufferGeometry", this.parameters = {
                radius: t,
                widthSegments: e,
                heightSegments: i,
                phiStart: r,
                phiLength: o,
                thetaStart: a,
                thetaLength: s
            }, t = t || 50, e = Math.max(3, Math.floor(e) || 8), i = Math.max(2, Math.floor(i) || 6), r = void 0 !== r ? r : 0, o = void 0 !== o ? o : 2 * Math.PI, a = void 0 !== a ? a : 0, s = void 0 !== s ? s : Math.PI;
            for (var l = a + s, u = (e + 1) * (i + 1), c = new n.BufferAttribute(new Float32Array(3 * u), 3), h = new n.BufferAttribute(new Float32Array(3 * u), 3), d = new n.BufferAttribute(new Float32Array(2 * u), 2), p = 0, f = [], m = new n.Vector3, g = 0; g <= i; g++) {
                for (var v = [], y = g / i, _ = 0; _ <= e; _++) {
                    var b = _ / e,
                        x = -t * Math.cos(r + b * o) * Math.sin(a + y * s),
                        w = t * Math.cos(a + y * s),
                        T = t * Math.sin(r + b * o) * Math.sin(a + y * s);
                    m.set(x, w, T).normalize(), c.setXYZ(p, x, w, T), h.setXYZ(p, m.x, m.y, m.z), d.setXY(p, b, 1 - y), v.push(p), p++
                }
                f.push(v)
            }
            for (var S = [], g = 0; g < i; g++)
                for (var _ = 0; _ < e; _++) {
                    var M = f[g][_ + 1],
                        E = f[g][_],
                        C = f[g + 1][_],
                        A = f[g + 1][_ + 1];
                    (0 !== g || a > 0) && S.push(M, E, A), (g !== i - 1 || l < Math.PI) && S.push(E, C, A)
                }
            this.setIndex(new(c.count > 65535 ? n.Uint32Attribute : n.Uint16Attribute)(S, 1)), this.addAttribute("position", c), this.addAttribute("normal", h), this.addAttribute("uv", d), this.boundingSphere = new n.Sphere(new n.Vector3, t)
        }, n.SphereBufferGeometry.prototype = Object.create(n.BufferGeometry.prototype), n.SphereBufferGeometry.prototype.constructor = n.SphereBufferGeometry, n.TextGeometry = function(t, e) {
            e = e || {};
            var i = e.font;
            if (i instanceof n.Font == !1) return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."), new n.Geometry;
            var r = i.generateShapes(t, e.size, e.curveSegments);
            e.amount = void 0 !== e.height ? e.height : 50, void 0 === e.bevelThickness && (e.bevelThickness = 10), void 0 === e.bevelSize && (e.bevelSize = 8), void 0 === e.bevelEnabled && (e.bevelEnabled = !1), n.ExtrudeGeometry.call(this, r, e), this.type = "TextGeometry"
        }, n.TextGeometry.prototype = Object.create(n.ExtrudeGeometry.prototype), n.TextGeometry.prototype.constructor = n.TextGeometry, n.TorusBufferGeometry = function(t, e, i, r, o) {
            n.BufferGeometry.call(this), this.type = "TorusBufferGeometry", this.parameters = {
                radius: t,
                tube: e,
                radialSegments: i,
                tubularSegments: r,
                arc: o
            }, t = t || 100, e = e || 40, i = Math.floor(i) || 8, r = Math.floor(r) || 6, o = o || 2 * Math.PI;
            var a, s, l = (i + 1) * (r + 1),
                u = i * r * 2 * 3,
                c = new(u > 65535 ? Uint32Array : Uint16Array)(u),
                h = new Float32Array(3 * l),
                d = new Float32Array(3 * l),
                p = new Float32Array(2 * l),
                f = 0,
                m = 0,
                g = 0,
                v = new n.Vector3,
                y = new n.Vector3,
                _ = new n.Vector3;
            for (a = 0; a <= i; a++)
                for (s = 0; s <= r; s++) {
                    var b = s / r * o,
                        x = a / i * Math.PI * 2;
                    y.x = (t + e * Math.cos(x)) * Math.cos(b), y.y = (t + e * Math.cos(x)) * Math.sin(b), y.z = e * Math.sin(x), h[f] = y.x, h[f + 1] = y.y, h[f + 2] = y.z, v.x = t * Math.cos(b), v.y = t * Math.sin(b), _.subVectors(y, v).normalize(), d[f] = _.x, d[f + 1] = _.y, d[f + 2] = _.z, p[m] = s / r, p[m + 1] = a / i, f += 3, m += 2
                }
            for (a = 1; a <= i; a++)
                for (s = 1; s <= r; s++) {
                    var w = (r + 1) * a + s - 1,
                        T = (r + 1) * (a - 1) + s - 1,
                        S = (r + 1) * (a - 1) + s,
                        M = (r + 1) * a + s;
                    c[g] = w, c[g + 1] = T, c[g + 2] = M, c[g + 3] = T, c[g + 4] = S, c[g + 5] = M, g += 6
                }
            this.setIndex(new n.BufferAttribute(c, 1)), this.addAttribute("position", new n.BufferAttribute(h, 3)), this.addAttribute("normal", new n.BufferAttribute(d, 3)), this.addAttribute("uv", new n.BufferAttribute(p, 2))
        }, n.TorusBufferGeometry.prototype = Object.create(n.BufferGeometry.prototype), n.TorusBufferGeometry.prototype.constructor = n.TorusBufferGeometry, n.TorusGeometry = function(t, e, i, r, o) {
            n.Geometry.call(this), this.type = "TorusGeometry", this.parameters = {
                radius: t,
                tube: e,
                radialSegments: i,
                tubularSegments: r,
                arc: o
            }, this.fromBufferGeometry(new n.TorusBufferGeometry(t, e, i, r, o))
        }, n.TorusGeometry.prototype = Object.create(n.Geometry.prototype), n.TorusGeometry.prototype.constructor = n.TorusGeometry, n.TorusKnotBufferGeometry = function(t, e, i, r, o, a) {
            function s(t, e, i, n, r) {
                var o = Math.cos(t),
                    a = Math.sin(t),
                    s = i / e * t,
                    l = Math.cos(s);
                r.x = n * (2 + l) * .5 * o, r.y = n * (2 + l) * a * .5, r.z = n * Math.sin(s) * .5
            }
            n.BufferGeometry.call(this), this.type = "TorusKnotBufferGeometry", this.parameters = {
                radius: t,
                tube: e,
                tubularSegments: i,
                radialSegments: r,
                p: o,
                q: a
            }, t = t || 100, e = e || 40, i = Math.floor(i) || 64, r = Math.floor(r) || 8, o = o || 2, a = a || 3;
            var l, u, c = (r + 1) * (i + 1),
                h = r * i * 2 * 3,
                d = new n.BufferAttribute(new(h > 65535 ? Uint32Array : Uint16Array)(h), 1),
                p = new n.BufferAttribute(new Float32Array(3 * c), 3),
                f = new n.BufferAttribute(new Float32Array(3 * c), 3),
                m = new n.BufferAttribute(new Float32Array(2 * c), 2),
                g = 0,
                v = 0,
                y = new n.Vector3,
                _ = new n.Vector3,
                b = new n.Vector2,
                x = new n.Vector3,
                w = new n.Vector3,
                T = new n.Vector3,
                S = new n.Vector3,
                M = new n.Vector3;
            for (l = 0; l <= i; ++l) {
                var E = l / i * o * Math.PI * 2;
                for (s(E, o, a, t, x), s(E + .01, o, a, t, w), S.subVectors(w, x), M.addVectors(w, x), T.crossVectors(S, M), M.crossVectors(T, S), T.normalize(), M.normalize(), u = 0; u <= r; ++u) {
                    var C = u / r * Math.PI * 2,
                        A = -e * Math.cos(C),
                        P = e * Math.sin(C);
                    y.x = x.x + (A * M.x + P * T.x), y.y = x.y + (A * M.y + P * T.y), y.z = x.z + (A * M.z + P * T.z), p.setXYZ(g, y.x, y.y, y.z), _.subVectors(y, x).normalize(), f.setXYZ(g, _.x, _.y, _.z), b.x = l / i, b.y = u / r, m.setXY(g, b.x, b.y), g++
                }
            }
            for (u = 1; u <= i; u++)
                for (l = 1; l <= r; l++) {
                    var L = (r + 1) * (u - 1) + (l - 1),
                        O = (r + 1) * u + (l - 1),
                        k = (r + 1) * u + l,
                        R = (r + 1) * (u - 1) + l;
                    d.setX(v, L), v++, d.setX(v, O), v++, d.setX(v, R), v++, d.setX(v, O), v++, d.setX(v, k), v++, d.setX(v, R), v++
                }
            this.setIndex(d), this.addAttribute("position", p), this.addAttribute("normal", f), this.addAttribute("uv", m)
        }, n.TorusKnotBufferGeometry.prototype = Object.create(n.BufferGeometry.prototype), n.TorusKnotBufferGeometry.prototype.constructor = n.TorusKnotBufferGeometry, n.TorusKnotGeometry = function(t, e, i, r, o, a, s) {
            n.Geometry.call(this), this.type = "TorusKnotGeometry", this.parameters = {
                radius: t,
                tube: e,
                tubularSegments: i,
                radialSegments: r,
                p: o,
                q: a
            }, void 0 !== s && console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."), this.fromBufferGeometry(new n.TorusKnotBufferGeometry(t, e, i, r, o, a)), this.mergeVertices()
        }, n.TorusKnotGeometry.prototype = Object.create(n.Geometry.prototype), n.TorusKnotGeometry.prototype.constructor = n.TorusKnotGeometry, n.TubeGeometry = function(t, e, i, r, o, a) {
            n.Geometry.call(this), this.type = "TubeGeometry", this.parameters = {
                path: t,
                segments: e,
                radius: i,
                radialSegments: r,
                closed: o,
                taper: a
            }, e = e || 64, i = i || 1, r = r || 8, o = o || !1, a = a || n.TubeGeometry.NoTaper;
            var s, l, u, c, h, d, p, f, m, g, v, y, _, b, x, w, T, S, M, E, C = [],
                A = this,
                P = e + 1,
                L = new n.Vector3,
                O = new n.TubeGeometry.FrenetFrames(t, e, o),
                k = O.tangents,
                R = O.normals,
                I = O.binormals;
            for (this.tangents = k, this.normals = R, this.binormals = I, m = 0; m < P; m++)
                for (C[m] = [], u = m / (P - 1), f = t.getPointAt(u), k[m], s = R[m], l = I[m], h = i * a(u), g = 0; g < r; g++) c = g / r * 2 * Math.PI, d = -h * Math.cos(c), p = h * Math.sin(c), L.copy(f), L.x += d * s.x + p * l.x, L.y += d * s.y + p * l.y, L.z += d * s.z + p * l.z, C[m][g] = function(t, e, i) {
                    return A.vertices.push(new n.Vector3(t, e, i)) - 1
                }(L.x, L.y, L.z);
            for (m = 0; m < e; m++)
                for (g = 0; g < r; g++) v = o ? (m + 1) % e : m + 1, y = (g + 1) % r, _ = C[m][g], b = C[v][g], x = C[v][y], w = C[m][y], T = new n.Vector2(m / e, g / r), S = new n.Vector2((m + 1) / e, g / r), M = new n.Vector2((m + 1) / e, (g + 1) / r), E = new n.Vector2(m / e, (g + 1) / r), this.faces.push(new n.Face3(_, b, w)), this.faceVertexUvs[0].push([T, S, E]), this.faces.push(new n.Face3(b, x, w)), this.faceVertexUvs[0].push([S.clone(), M, E.clone()]);
            this.computeFaceNormals(), this.computeVertexNormals()
        }, n.TubeGeometry.prototype = Object.create(n.Geometry.prototype), n.TubeGeometry.prototype.constructor = n.TubeGeometry, n.TubeGeometry.NoTaper = function(t) {
            return 1
        }, n.TubeGeometry.SinusoidalTaper = function(t) {
            return Math.sin(Math.PI * t)
        }, n.TubeGeometry.FrenetFrames = function(t, e, i) {
            var r, o, a, s, l, u, c, h = new n.Vector3,
                d = [],
                p = [],
                f = [],
                m = new n.Vector3,
                g = new n.Matrix4,
                v = e + 1;
            for (this.tangents = d, this.normals = p, this.binormals = f, u = 0; u < v; u++) c = u / (v - 1), d[u] = t.getTangentAt(c), d[u].normalize();
            for (function() {
                    p[0] = new n.Vector3, f[0] = new n.Vector3, o = Number.MAX_VALUE, a = Math.abs(d[0].x), s = Math.abs(d[0].y), l = Math.abs(d[0].z), a <= o && (o = a, h.set(1, 0, 0)), s <= o && (o = s, h.set(0, 1, 0)), l <= o && h.set(0, 0, 1), m.crossVectors(d[0], h).normalize(), p[0].crossVectors(d[0], m), f[0].crossVectors(d[0], p[0])
                }(), u = 1; u < v; u++) p[u] = p[u - 1].clone(), f[u] = f[u - 1].clone(), m.crossVectors(d[u - 1], d[u]), m.length() > Number.EPSILON && (m.normalize(), r = Math.acos(n.Math.clamp(d[u - 1].dot(d[u]), -1, 1)), p[u].applyMatrix4(g.makeRotationAxis(m, r))), f[u].crossVectors(d[u], p[u]);
            if (i)
                for (r = Math.acos(n.Math.clamp(p[0].dot(p[v - 1]), -1, 1)), r /= v - 1, d[0].dot(m.crossVectors(p[0], p[v - 1])) > 0 && (r = -r), u = 1; u < v; u++) p[u].applyMatrix4(g.makeRotationAxis(d[u], r * u)), f[u].crossVectors(d[u], p[u])
        }, n.PolyhedronGeometry = function(t, e, i, r) {
            function o(t) {
                var e = t.normalize().clone();
                e.index = c.vertices.push(e) - 1;
                var i = s(t) / 2 / Math.PI + .5,
                    r = l(t) / Math.PI + .5;
                return e.uv = new n.Vector2(i, 1 - r), e
            }

            function a(t, e, i, r) {
                var o = new n.Face3(t.index, e.index, i.index, [t.clone(), e.clone(), i.clone()], void 0, r);
                c.faces.push(o), _.copy(t).add(e).add(i).divideScalar(3);
                var a = s(_);
                c.faceVertexUvs[0].push([u(t.uv, t, a), u(e.uv, e, a), u(i.uv, i, a)])
            }

            function s(t) {
                return Math.atan2(t.z, -t.x)
            }

            function l(t) {
                return Math.atan2(-t.y, Math.sqrt(t.x * t.x + t.z * t.z))
            }

            function u(t, e, i) {
                return i < 0 && 1 === t.x && (t = new n.Vector2(t.x - 1, t.y)), 0 === e.x && 0 === e.z && (t = new n.Vector2(i / 2 / Math.PI + .5, t.y)), t.clone()
            }
            n.Geometry.call(this), this.type = "PolyhedronGeometry", this.parameters = {
                vertices: t,
                indices: e,
                radius: i,
                detail: r
            }, i = i || 1, r = r || 0;
            for (var c = this, h = 0, d = t.length; h < d; h += 3) o(new n.Vector3(t[h], t[h + 1], t[h + 2]));
            for (var p = this.vertices, f = [], h = 0, m = 0, d = e.length; h < d; h += 3, m++) {
                var g = p[e[h]],
                    v = p[e[h + 1]],
                    y = p[e[h + 2]];
                f[m] = new n.Face3(g.index, v.index, y.index, [g.clone(), v.clone(), y.clone()], void 0, m)
            }
            for (var _ = new n.Vector3, h = 0, d = f.length; h < d; h++) ! function(t, e) {
                for (var i = Math.pow(2, e), n = o(c.vertices[t.a]), r = o(c.vertices[t.b]), s = o(c.vertices[t.c]), l = [], u = t.materialIndex, h = 0; h <= i; h++) {
                    l[h] = [];
                    for (var d = o(n.clone().lerp(s, h / i)), p = o(r.clone().lerp(s, h / i)), f = i - h, m = 0; m <= f; m++) l[h][m] = 0 === m && h === i ? d : o(d.clone().lerp(p, m / f))
                }
                for (var h = 0; h < i; h++)
                    for (var m = 0; m < 2 * (i - h) - 1; m++) {
                        var g = Math.floor(m / 2);
                        m % 2 == 0 ? a(l[h][g + 1], l[h + 1][g], l[h][g], u) : a(l[h][g + 1], l[h + 1][g + 1], l[h + 1][g], u)
                    }
            }(f[h], r);
            for (var h = 0, d = this.faceVertexUvs[0].length; h < d; h++) {
                var b = this.faceVertexUvs[0][h],
                    x = b[0].x,
                    w = b[1].x,
                    T = b[2].x,
                    S = Math.max(x, w, T),
                    M = Math.min(x, w, T);
                S > .9 && M < .1 && (x < .2 && (b[0].x += 1), w < .2 && (b[1].x += 1), T < .2 && (b[2].x += 1))
            }
            for (var h = 0, d = this.vertices.length; h < d; h++) this.vertices[h].multiplyScalar(i);
            this.mergeVertices(), this.computeFaceNormals(), this.boundingSphere = new n.Sphere(new n.Vector3, i)
        }, n.PolyhedronGeometry.prototype = Object.create(n.Geometry.prototype), n.PolyhedronGeometry.prototype.constructor = n.PolyhedronGeometry, n.DodecahedronGeometry = function(t, e) {
            var i = (1 + Math.sqrt(5)) / 2,
                r = 1 / i,
                o = [-1, -1, -1, -1, -1, 1, -1, 1, -1, -1, 1, 1, 1, -1, -1, 1, -1, 1, 1, 1, -1, 1, 1, 1, 0, -r, -i, 0, -r, i, 0, r, -i, 0, r, i, -r, -i, 0, -r, i, 0, r, -i, 0, r, i, 0, -i, 0, -r, i, 0, -r, -i, 0, r, i, 0, r],
                a = [3, 11, 7, 3, 7, 15, 3, 15, 13, 7, 19, 17, 7, 17, 6, 7, 6, 15, 17, 4, 8, 17, 8, 10, 17, 10, 6, 8, 0, 16, 8, 16, 2, 8, 2, 10, 0, 12, 1, 0, 1, 18, 0, 18, 16, 6, 10, 2, 6, 2, 13, 6, 13, 15, 2, 16, 18, 2, 18, 3, 2, 3, 13, 18, 1, 9, 18, 9, 11, 18, 11, 3, 4, 14, 12, 4, 12, 0, 4, 0, 8, 11, 9, 5, 11, 5, 19, 11, 19, 7, 19, 5, 14, 19, 14, 4, 19, 4, 17, 1, 12, 14, 1, 14, 5, 1, 5, 9];
            n.PolyhedronGeometry.call(this, o, a, t, e), this.type = "DodecahedronGeometry", this.parameters = {
                radius: t,
                detail: e
            }
        }, n.DodecahedronGeometry.prototype = Object.create(n.PolyhedronGeometry.prototype), n.DodecahedronGeometry.prototype.constructor = n.DodecahedronGeometry, n.IcosahedronGeometry = function(t, e) {
            var i = (1 + Math.sqrt(5)) / 2,
                r = [-1, i, 0, 1, i, 0, -1, -i, 0, 1, -i, 0, 0, -1, i, 0, 1, i, 0, -1, -i, 0, 1, -i, i, 0, -1, i, 0, 1, -i, 0, -1, -i, 0, 1],
                o = [0, 11, 5, 0, 5, 1, 0, 1, 7, 0, 7, 10, 0, 10, 11, 1, 5, 9, 5, 11, 4, 11, 10, 2, 10, 7, 6, 7, 1, 8, 3, 9, 4, 3, 4, 2, 3, 2, 6, 3, 6, 8, 3, 8, 9, 4, 9, 5, 2, 4, 11, 6, 2, 10, 8, 6, 7, 9, 8, 1];
            n.PolyhedronGeometry.call(this, r, o, t, e), this.type = "IcosahedronGeometry", this.parameters = {
                radius: t,
                detail: e
            }
        }, n.IcosahedronGeometry.prototype = Object.create(n.PolyhedronGeometry.prototype), n.IcosahedronGeometry.prototype.constructor = n.IcosahedronGeometry, n.OctahedronGeometry = function(t, e) {
            var i = [1, 0, 0, -1, 0, 0, 0, 1, 0, 0, -1, 0, 0, 0, 1, 0, 0, -1],
                r = [0, 2, 4, 0, 4, 3, 0, 3, 5, 0, 5, 2, 1, 2, 5, 1, 5, 3, 1, 3, 4, 1, 4, 2];
            n.PolyhedronGeometry.call(this, i, r, t, e), this.type = "OctahedronGeometry", this.parameters = {
                radius: t,
                detail: e
            }
        }, n.OctahedronGeometry.prototype = Object.create(n.PolyhedronGeometry.prototype), n.OctahedronGeometry.prototype.constructor = n.OctahedronGeometry, n.TetrahedronGeometry = function(t, e) {
            var i = [1, 1, 1, -1, -1, 1, -1, 1, -1, 1, -1, -1],
                r = [2, 1, 0, 0, 3, 2, 1, 3, 0, 2, 3, 1];
            n.PolyhedronGeometry.call(this, i, r, t, e), this.type = "TetrahedronGeometry", this.parameters = {
                radius: t,
                detail: e
            }
        }, n.TetrahedronGeometry.prototype = Object.create(n.PolyhedronGeometry.prototype), n.TetrahedronGeometry.prototype.constructor = n.TetrahedronGeometry, n.ParametricGeometry = function(t, e, i) {
            n.Geometry.call(this), this.type = "ParametricGeometry", this.parameters = {
                func: t,
                slices: e,
                stacks: i
            };
            var r, o, a, s, l, u = this.vertices,
                c = this.faces,
                h = this.faceVertexUvs[0],
                d = e + 1;
            for (r = 0; r <= i; r++)
                for (l = r / i, o = 0; o <= e; o++) s = o / e, a = t(s, l), u.push(a);
            var p, f, m, g, v, y, _, b;
            for (r = 0; r < i; r++)
                for (o = 0; o < e; o++) p = r * d + o, f = r * d + o + 1, m = (r + 1) * d + o + 1, g = (r + 1) * d + o, v = new n.Vector2(o / e, r / i), y = new n.Vector2((o + 1) / e, r / i), _ = new n.Vector2((o + 1) / e, (r + 1) / i), b = new n.Vector2(o / e, (r + 1) / i), c.push(new n.Face3(p, f, g)), h.push([v, y, b]), c.push(new n.Face3(f, m, g)), h.push([y.clone(), _, b.clone()]);
            this.computeFaceNormals(), this.computeVertexNormals()
        }, n.ParametricGeometry.prototype = Object.create(n.Geometry.prototype), n.ParametricGeometry.prototype.constructor = n.ParametricGeometry, n.WireframeGeometry = function(t) {
            function e(t, e) {
                return t - e
            }
            n.BufferGeometry.call(this);
            var i = [0, 0],
                r = {},
                o = ["a", "b", "c"];
            if (t instanceof n.Geometry) {
                for (var a = t.vertices, s = t.faces, l = 0, u = new Uint32Array(6 * s.length), c = 0, h = s.length; c < h; c++)
                    for (var d = s[c], p = 0; p < 3; p++) {
                        i[0] = d[o[p]], i[1] = d[o[(p + 1) % 3]], i.sort(e);
                        var f = i.toString();
                        void 0 === r[f] && (u[2 * l] = i[0], u[2 * l + 1] = i[1], r[f] = !0, l++)
                    }
                for (var m = new Float32Array(2 * l * 3), c = 0, h = l; c < h; c++)
                    for (var p = 0; p < 2; p++) {
                        var g = a[u[2 * c + p]],
                            v = 6 * c + 3 * p;
                        m[v + 0] = g.x, m[v + 1] = g.y, m[v + 2] = g.z
                    }
                this.addAttribute("position", new n.BufferAttribute(m, 3))
            } else if (t instanceof n.BufferGeometry)
                if (null !== t.index) {
                    var y = t.index.array,
                        a = t.attributes.position,
                        _ = t.groups,
                        l = 0;
                    0 === _.length && t.addGroup(0, y.length);
                    for (var u = new Uint32Array(2 * y.length), b = 0, x = _.length; b < x; ++b)
                        for (var w = _[b], T = w.start, S = w.count, c = T, M = T + S; c < M; c += 3)
                            for (var p = 0; p < 3; p++) {
                                i[0] = y[c + p], i[1] = y[c + (p + 1) % 3], i.sort(e);
                                var f = i.toString();
                                void 0 === r[f] && (u[2 * l] = i[0], u[2 * l + 1] = i[1], r[f] = !0, l++)
                            }
                    for (var m = new Float32Array(2 * l * 3), c = 0, h = l; c < h; c++)
                        for (var p = 0; p < 2; p++) {
                            var v = 6 * c + 3 * p,
                                E = u[2 * c + p];
                            m[v + 0] = a.getX(E), m[v + 1] = a.getY(E), m[v + 2] = a.getZ(E)
                        }
                    this.addAttribute("position", new n.BufferAttribute(m, 3))
                } else {
                    for (var a = t.attributes.position.array, l = a.length / 3, C = l / 3, m = new Float32Array(2 * l * 3), c = 0, h = C; c < h; c++)
                        for (var p = 0; p < 3; p++) {
                            var v = 18 * c + 6 * p,
                                A = 9 * c + 3 * p;
                            m[v + 0] = a[A], m[v + 1] = a[A + 1], m[v + 2] = a[A + 2];
                            var E = 9 * c + (p + 1) % 3 * 3;
                            m[v + 3] = a[E], m[v + 4] = a[E + 1], m[v + 5] = a[E + 2]
                        }
                    this.addAttribute("position", new n.BufferAttribute(m, 3))
                }
        }, n.WireframeGeometry.prototype = Object.create(n.BufferGeometry.prototype), n.WireframeGeometry.prototype.constructor = n.WireframeGeometry, n.AxisHelper = function(t) {
            t = t || 1;
            var e = new Float32Array([0, 0, 0, t, 0, 0, 0, 0, 0, 0, t, 0, 0, 0, 0, 0, 0, t]),
                i = new Float32Array([1, 0, 0, 1, .6, 0, 0, 1, 0, .6, 1, 0, 0, 0, 1, 0, .6, 1]),
                r = new n.BufferGeometry;
            r.addAttribute("position", new n.BufferAttribute(e, 3)), r.addAttribute("color", new n.BufferAttribute(i, 3));
            var o = new n.LineBasicMaterial({
                vertexColors: n.VertexColors
            });
            n.LineSegments.call(this, r, o)
        }, n.AxisHelper.prototype = Object.create(n.LineSegments.prototype), n.AxisHelper.prototype.constructor = n.AxisHelper, n.ArrowHelper = function() {
            var t = new n.BufferGeometry;
            t.addAttribute("position", new n.Float32Attribute([0, 0, 0, 0, 1, 0], 3));
            var e = new n.CylinderBufferGeometry(0, .5, 1, 5, 1);
            return e.translate(0, -.5, 0),
                function(i, r, o, a, s, l) {
                    n.Object3D.call(this), void 0 === a && (a = 16776960), void 0 === o && (o = 1), void 0 === s && (s = .2 * o), void 0 === l && (l = .2 * s), this.position.copy(r), this.line = new n.Line(t, new n.LineBasicMaterial({
                        color: a
                    })), this.line.matrixAutoUpdate = !1, this.add(this.line), this.cone = new n.Mesh(e, new n.MeshBasicMaterial({
                        color: a
                    })), this.cone.matrixAutoUpdate = !1, this.add(this.cone), this.setDirection(i), this.setLength(o, s, l)
                }
        }(), n.ArrowHelper.prototype = Object.create(n.Object3D.prototype), n.ArrowHelper.prototype.constructor = n.ArrowHelper, n.ArrowHelper.prototype.setDirection = function() {
            var t, e = new n.Vector3;
            return function(i) {
                i.y > .99999 ? this.quaternion.set(0, 0, 0, 1) : i.y < -.99999 ? this.quaternion.set(1, 0, 0, 0) : (e.set(i.z, 0, -i.x).normalize(), t = Math.acos(i.y), this.quaternion.setFromAxisAngle(e, t))
            }
        }(), n.ArrowHelper.prototype.setLength = function(t, e, i) {
            void 0 === e && (e = .2 * t), void 0 === i && (i = .2 * e), this.line.scale.set(1, Math.max(0, t - e), 1), this.line.updateMatrix(), this.cone.scale.set(i, e, i), this.cone.position.y = t, this.cone.updateMatrix()
        }, n.ArrowHelper.prototype.setColor = function(t) {
            this.line.material.color.copy(t), this.cone.material.color.copy(t)
        }, n.BoxHelper = function(t) {
            var e = new Uint16Array([0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7]),
                i = new Float32Array(24),
                r = new n.BufferGeometry;
            r.setIndex(new n.BufferAttribute(e, 1)), r.addAttribute("position", new n.BufferAttribute(i, 3)), n.LineSegments.call(this, r, new n.LineBasicMaterial({
                color: 16776960
            })), void 0 !== t && this.update(t)
        }, n.BoxHelper.prototype = Object.create(n.LineSegments.prototype), n.BoxHelper.prototype.constructor = n.BoxHelper, n.BoxHelper.prototype.update = function() {
            var t = new n.Box3;
            return function(e) {
                if (e instanceof n.Box3 ? t.copy(e) : t.setFromObject(e), !t.isEmpty()) {
                    var i = t.min,
                        r = t.max,
                        o = this.geometry.attributes.position,
                        a = o.array;
                    a[0] = r.x, a[1] = r.y, a[2] = r.z, a[3] = i.x, a[4] = r.y, a[5] = r.z, a[6] = i.x, a[7] = i.y, a[8] = r.z, a[9] = r.x, a[10] = i.y, a[11] = r.z, a[12] = r.x, a[13] = r.y, a[14] = i.z, a[15] = i.x, a[16] = r.y, a[17] = i.z, a[18] = i.x, a[19] = i.y, a[20] = i.z, a[21] = r.x, a[22] = i.y, a[23] = i.z, o.needsUpdate = !0, this.geometry.computeBoundingSphere()
                }
            }
        }(), n.BoundingBoxHelper = function(t, e) {
            var i = void 0 !== e ? e : 8947848;
            this.object = t, this.box = new n.Box3, n.Mesh.call(this, new n.BoxGeometry(1, 1, 1), new n.MeshBasicMaterial({
                color: i,
                wireframe: !0
            }))
        }, n.BoundingBoxHelper.prototype = Object.create(n.Mesh.prototype), n.BoundingBoxHelper.prototype.constructor = n.BoundingBoxHelper, n.BoundingBoxHelper.prototype.update = function() {
            this.box.setFromObject(this.object), this.box.size(this.scale), this.box.center(this.position)
        }, n.CameraHelper = function(t) {
            function e(t, e, n) {
                i(t, n), i(e, n)
            }

            function i(t, e) {
                r.vertices.push(new n.Vector3), r.colors.push(new n.Color(e)), void 0 === a[t] && (a[t] = []), a[t].push(r.vertices.length - 1)
            }
            var r = new n.Geometry,
                o = new n.LineBasicMaterial({
                    color: 16777215,
                    vertexColors: n.FaceColors
                }),
                a = {};
            e("n1", "n2", 16755200), e("n2", "n4", 16755200), e("n4", "n3", 16755200), e("n3", "n1", 16755200), e("f1", "f2", 16755200), e("f2", "f4", 16755200), e("f4", "f3", 16755200), e("f3", "f1", 16755200), e("n1", "f1", 16755200), e("n2", "f2", 16755200), e("n3", "f3", 16755200), e("n4", "f4", 16755200), e("p", "n1", 16711680), e("p", "n2", 16711680), e("p", "n3", 16711680), e("p", "n4", 16711680), e("u1", "u2", 43775), e("u2", "u3", 43775), e("u3", "u1", 43775), e("c", "t", 16777215), e("p", "c", 3355443), e("cn1", "cn2", 3355443), e("cn3", "cn4", 3355443), e("cf1", "cf2", 3355443), e("cf3", "cf4", 3355443), n.LineSegments.call(this, r, o), this.camera = t, this.camera.updateProjectionMatrix(), this.matrix = t.matrixWorld, this.matrixAutoUpdate = !1, this.pointMap = a, this.update()
        }, n.CameraHelper.prototype = Object.create(n.LineSegments.prototype), n.CameraHelper.prototype.constructor = n.CameraHelper, n.CameraHelper.prototype.update = function() {
            function t(t, n, a, s) {
                r.set(n, a, s).unproject(o);
                var l = i[t];
                if (void 0 !== l)
                    for (var u = 0, c = l.length; u < c; u++) e.vertices[l[u]].copy(r)
            }
            var e, i, r = new n.Vector3,
                o = new n.Camera;
            return function() {
                e = this.geometry, i = this.pointMap;
                o.projectionMatrix.copy(this.camera.projectionMatrix), t("c", 0, 0, -1), t("t", 0, 0, 1), t("n1", -1, -1, -1), t("n2", 1, -1, -1), t("n3", -1, 1, -1), t("n4", 1, 1, -1), t("f1", -1, -1, 1), t("f2", 1, -1, 1), t("f3", -1, 1, 1), t("f4", 1, 1, 1), t("u1", .7, 1.1, -1), t("u2", -.7, 1.1, -1), t("u3", 0, 2, -1), t("cf1", -1, 0, 1), t("cf2", 1, 0, 1), t("cf3", 0, -1, 1), t("cf4", 0, 1, 1), t("cn1", -1, 0, -1), t("cn2", 1, 0, -1), t("cn3", 0, -1, -1), t("cn4", 0, 1, -1), e.verticesNeedUpdate = !0
            }
        }(), n.DirectionalLightHelper = function(t, e) {
            n.Object3D.call(this), this.light = t, this.light.updateMatrixWorld(), this.matrix = t.matrixWorld, this.matrixAutoUpdate = !1, void 0 === e && (e = 1);
            var i = new n.BufferGeometry;
            i.addAttribute("position", new n.Float32Attribute([-e, e, 0, e, e, 0, e, -e, 0, -e, -e, 0, -e, e, 0], 3));
            var r = new n.LineBasicMaterial({
                fog: !1
            });
            this.add(new n.Line(i, r)), i = new n.BufferGeometry, i.addAttribute("position", new n.Float32Attribute([0, 0, 0, 0, 0, 1], 3)), this.add(new n.Line(i, r)), this.update()
        }, n.DirectionalLightHelper.prototype = Object.create(n.Object3D.prototype), n.DirectionalLightHelper.prototype.constructor = n.DirectionalLightHelper, n.DirectionalLightHelper.prototype.dispose = function() {
            var t = this.children[0],
                e = this.children[1];
            t.geometry.dispose(), t.material.dispose(), e.geometry.dispose(), e.material.dispose()
        }, n.DirectionalLightHelper.prototype.update = function() {
            var t = new n.Vector3,
                e = new n.Vector3,
                i = new n.Vector3;
            return function() {
                t.setFromMatrixPosition(this.light.matrixWorld), e.setFromMatrixPosition(this.light.target.matrixWorld), i.subVectors(e, t);
                var n = this.children[0],
                    r = this.children[1];
                n.lookAt(i), n.material.color.copy(this.light.color).multiplyScalar(this.light.intensity), r.lookAt(i), r.scale.z = i.length()
            }
        }(), n.EdgesHelper = function(t, e, i) {
            var r = void 0 !== e ? e : 16777215;
            n.LineSegments.call(this, new n.EdgesGeometry(t.geometry, i), new n.LineBasicMaterial({
                color: r
            })), this.matrix = t.matrixWorld, this.matrixAutoUpdate = !1
        }, n.EdgesHelper.prototype = Object.create(n.LineSegments.prototype), n.EdgesHelper.prototype.constructor = n.EdgesHelper, n.FaceNormalsHelper = function(t, e, i, r) {
            this.object = t, this.size = void 0 !== e ? e : 1;
            var o = void 0 !== i ? i : 16776960,
                a = void 0 !== r ? r : 1,
                s = 0,
                l = this.object.geometry;
            l instanceof n.Geometry ? s = l.faces.length : console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");
            var u = new n.BufferGeometry,
                c = new n.Float32Attribute(2 * s * 3, 3);
            u.addAttribute("position", c), n.LineSegments.call(this, u, new n.LineBasicMaterial({
                color: o,
                linewidth: a
            })), this.matrixAutoUpdate = !1, this.update()
        }, n.FaceNormalsHelper.prototype = Object.create(n.LineSegments.prototype), n.FaceNormalsHelper.prototype.constructor = n.FaceNormalsHelper, n.FaceNormalsHelper.prototype.update = function() {
            var t = new n.Vector3,
                e = new n.Vector3,
                i = new n.Matrix3;
            return function() {
                this.object.updateMatrixWorld(!0), i.getNormalMatrix(this.object.matrixWorld);
                for (var n = this.object.matrixWorld, r = this.geometry.attributes.position, o = this.object.geometry, a = o.vertices, s = o.faces, l = 0, u = 0, c = s.length; u < c; u++) {
                    var h = s[u],
                        d = h.normal;
                    t.copy(a[h.a]).add(a[h.b]).add(a[h.c]).divideScalar(3).applyMatrix4(n), e.copy(d).applyMatrix3(i).normalize().multiplyScalar(this.size).add(t), r.setXYZ(l, t.x, t.y, t.z), l += 1, r.setXYZ(l, e.x, e.y, e.z), l += 1
                }
                return r.needsUpdate = !0, this
            }
        }(), n.GridHelper = function(t, e, i, r) {
            i = new n.Color(void 0 !== i ? i : 4473924), r = new n.Color(void 0 !== r ? r : 8947848);
            for (var o = [], a = [], s = -t, l = 0; s <= t; s += e) {
                o.push(-t, 0, s, t, 0, s), o.push(s, 0, -t, s, 0, t);
                var u = 0 === s ? i : r;
                u.toArray(a, l), l += 3, u.toArray(a, l), l += 3, u.toArray(a, l), l += 3, u.toArray(a, l), l += 3
            }
            var c = new n.BufferGeometry;
            c.addAttribute("position", new n.Float32Attribute(o, 3)), c.addAttribute("color", new n.Float32Attribute(a, 3));
            var h = new n.LineBasicMaterial({
                vertexColors: n.VertexColors
            });
            n.LineSegments.call(this, c, h)
        }, n.GridHelper.prototype = Object.create(n.LineSegments.prototype), n.GridHelper.prototype.constructor = n.GridHelper, n.GridHelper.prototype.setColors = function() {
            console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")
        }, n.HemisphereLightHelper = function(t, e) {
            n.Object3D.call(this), this.light = t, this.light.updateMatrixWorld(), this.matrix = t.matrixWorld, this.matrixAutoUpdate = !1, this.colors = [new n.Color, new n.Color];
            var i = new n.SphereGeometry(e, 4, 2);
            i.rotateX(-Math.PI / 2);
            for (var r = 0; r < 8; r++) i.faces[r].color = this.colors[r < 4 ? 0 : 1];
            var o = new n.MeshBasicMaterial({
                vertexColors: n.FaceColors,
                wireframe: !0
            });
            this.lightSphere = new n.Mesh(i, o), this.add(this.lightSphere), this.update()
        }, n.HemisphereLightHelper.prototype = Object.create(n.Object3D.prototype), n.HemisphereLightHelper.prototype.constructor = n.HemisphereLightHelper, n.HemisphereLightHelper.prototype.dispose = function() {
            this.lightSphere.geometry.dispose(), this.lightSphere.material.dispose()
        }, n.HemisphereLightHelper.prototype.update = function() {
            var t = new n.Vector3;
            return function() {
                this.colors[0].copy(this.light.color).multiplyScalar(this.light.intensity), this.colors[1].copy(this.light.groundColor).multiplyScalar(this.light.intensity), this.lightSphere.lookAt(t.setFromMatrixPosition(this.light.matrixWorld).negate()), this.lightSphere.geometry.colorsNeedUpdate = !0
            }
        }(), n.PointLightHelper = function(t, e) {
            this.light = t, this.light.updateMatrixWorld();
            var i = new n.SphereBufferGeometry(e, 4, 2),
                r = new n.MeshBasicMaterial({
                    wireframe: !0,
                    fog: !1
                });
            r.color.copy(this.light.color).multiplyScalar(this.light.intensity), n.Mesh.call(this, i, r), this.matrix = this.light.matrixWorld, this.matrixAutoUpdate = !1
        }, n.PointLightHelper.prototype = Object.create(n.Mesh.prototype), n.PointLightHelper.prototype.constructor = n.PointLightHelper, n.PointLightHelper.prototype.dispose = function() {
            this.geometry.dispose(), this.material.dispose()
        }, n.PointLightHelper.prototype.update = function() {
            this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)
        }, n.SkeletonHelper = function(t) {
            this.bones = this.getBoneList(t);
            for (var e = new n.Geometry, i = 0; i < this.bones.length; i++) {
                this.bones[i].parent instanceof n.Bone && (e.vertices.push(new n.Vector3), e.vertices.push(new n.Vector3), e.colors.push(new n.Color(0, 0, 1)), e.colors.push(new n.Color(0, 1, 0)))
            }
            e.dynamic = !0;
            var r = new n.LineBasicMaterial({
                vertexColors: n.VertexColors,
                depthTest: !1,
                depthWrite: !1,
                transparent: !0
            });
            n.LineSegments.call(this, e, r), this.root = t, this.matrix = t.matrixWorld, this.matrixAutoUpdate = !1, this.update()
        }, n.SkeletonHelper.prototype = Object.create(n.LineSegments.prototype), n.SkeletonHelper.prototype.constructor = n.SkeletonHelper, n.SkeletonHelper.prototype.getBoneList = function(t) {
            var e = [];
            t instanceof n.Bone && e.push(t);
            for (var i = 0; i < t.children.length; i++) e.push.apply(e, this.getBoneList(t.children[i]));
            return e
        }, n.SkeletonHelper.prototype.update = function() {
            for (var t = this.geometry, e = (new n.Matrix4).getInverse(this.root.matrixWorld), i = new n.Matrix4, r = 0, o = 0; o < this.bones.length; o++) {
                var a = this.bones[o];
                a.parent instanceof n.Bone && (i.multiplyMatrices(e, a.matrixWorld), t.vertices[r].setFromMatrixPosition(i), i.multiplyMatrices(e, a.parent.matrixWorld), t.vertices[r + 1].setFromMatrixPosition(i), r += 2)
            }
            t.verticesNeedUpdate = !0, t.computeBoundingSphere()
        }, n.SpotLightHelper = function(t) {
            n.Object3D.call(this), this.light = t, this.light.updateMatrixWorld(), this.matrix = t.matrixWorld, this.matrixAutoUpdate = !1;
            for (var e = new n.BufferGeometry, i = [0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, -1, 0, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, -1, 1], r = 0, o = 1; r < 32; r++, o++) {
                var a = r / 32 * Math.PI * 2,
                    s = o / 32 * Math.PI * 2;
                i.push(Math.cos(a), Math.sin(a), 1, Math.cos(s), Math.sin(s), 1)
            }
            e.addAttribute("position", new n.Float32Attribute(i, 3));
            var l = new n.LineBasicMaterial({
                fog: !1
            });
            this.cone = new n.LineSegments(e, l), this.add(this.cone), this.update()
        }, n.SpotLightHelper.prototype = Object.create(n.Object3D.prototype), n.SpotLightHelper.prototype.constructor = n.SpotLightHelper, n.SpotLightHelper.prototype.dispose = function() {
            this.cone.geometry.dispose(), this.cone.material.dispose()
        }, n.SpotLightHelper.prototype.update = function() {
            var t = new n.Vector3,
                e = new n.Vector3;
            return function() {
                var i = this.light.distance ? this.light.distance : 1e3,
                    n = i * Math.tan(this.light.angle);
                this.cone.scale.set(n, n, i), t.setFromMatrixPosition(this.light.matrixWorld), e.setFromMatrixPosition(this.light.target.matrixWorld), this.cone.lookAt(e.sub(t)), this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)
            }
        }(), n.VertexNormalsHelper = function(t, e, i, r) {
            this.object = t, this.size = void 0 !== e ? e : 1;
            var o = void 0 !== i ? i : 16711680,
                a = void 0 !== r ? r : 1,
                s = 0,
                l = this.object.geometry;
            l instanceof n.Geometry ? s = 3 * l.faces.length : l instanceof n.BufferGeometry && (s = l.attributes.normal.count);
            var u = new n.BufferGeometry,
                c = new n.Float32Attribute(2 * s * 3, 3);
            u.addAttribute("position", c), n.LineSegments.call(this, u, new n.LineBasicMaterial({
                color: o,
                linewidth: a
            })), this.matrixAutoUpdate = !1, this.update()
        }, n.VertexNormalsHelper.prototype = Object.create(n.LineSegments.prototype), n.VertexNormalsHelper.prototype.constructor = n.VertexNormalsHelper, n.VertexNormalsHelper.prototype.update = function() {
            var t = new n.Vector3,
                e = new n.Vector3,
                i = new n.Matrix3;
            return function() {
                var r = ["a", "b", "c"];
                this.object.updateMatrixWorld(!0), i.getNormalMatrix(this.object.matrixWorld);
                var o = this.object.matrixWorld,
                    a = this.geometry.attributes.position,
                    s = this.object.geometry;
                if (s instanceof n.Geometry)
                    for (var l = s.vertices, u = s.faces, c = 0, h = 0, d = u.length; h < d; h++)
                        for (var p = u[h], f = 0, m = p.vertexNormals.length; f < m; f++) {
                            var g = l[p[r[f]]],
                                v = p.vertexNormals[f];
                            t.copy(g).applyMatrix4(o), e.copy(v).applyMatrix3(i).normalize().multiplyScalar(this.size).add(t), a.setXYZ(c, t.x, t.y, t.z), c += 1, a.setXYZ(c, e.x, e.y, e.z), c += 1
                        } else if (s instanceof n.BufferGeometry)
                            for (var y = s.attributes.position, _ = s.attributes.normal, c = 0, f = 0, m = y.count; f < m; f++) t.set(y.getX(f), y.getY(f), y.getZ(f)).applyMatrix4(o), e.set(_.getX(f), _.getY(f), _.getZ(f)), e.applyMatrix3(i).normalize().multiplyScalar(this.size).add(t), a.setXYZ(c, t.x, t.y, t.z), c += 1, a.setXYZ(c, e.x, e.y, e.z), c += 1;
                return a.needsUpdate = !0, this
            }
        }(), n.WireframeHelper = function(t, e) {
            var i = void 0 !== e ? e : 16777215;
            n.LineSegments.call(this, new n.WireframeGeometry(t.geometry), new n.LineBasicMaterial({
                color: i
            })), this.matrix = t.matrixWorld, this.matrixAutoUpdate = !1
        }, n.WireframeHelper.prototype = Object.create(n.LineSegments.prototype), n.WireframeHelper.prototype.constructor = n.WireframeHelper, n.ImmediateRenderObject = function(t) {
            n.Object3D.call(this), this.material = t, this.render = function(t) {}
        }, n.ImmediateRenderObject.prototype = Object.create(n.Object3D.prototype), n.ImmediateRenderObject.prototype.constructor = n.ImmediateRenderObject, n.MorphBlendMesh = function(t, e) {
            n.Mesh.call(this, t, e), this.animationsMap = {}, this.animationsList = [];
            var i = this.geometry.morphTargets.length,
                r = i - 1,
                o = i / 1;
            this.createAnimation("__default", 0, r, o), this.setAnimationWeight("__default", 1)
        }, n.MorphBlendMesh.prototype = Object.create(n.Mesh.prototype), n.MorphBlendMesh.prototype.constructor = n.MorphBlendMesh, n.MorphBlendMesh.prototype.createAnimation = function(t, e, i, n) {
            var r = {
                start: e,
                end: i,
                length: i - e + 1,
                fps: n,
                duration: (i - e) / n,
                lastFrame: 0,
                currentFrame: 0,
                active: !1,
                time: 0,
                direction: 1,
                weight: 1,
                directionBackwards: !1,
                mirroredLoop: !1
            };
            this.animationsMap[t] = r, this.animationsList.push(r)
        }, n.MorphBlendMesh.prototype.autoCreateAnimations = function(t) {
            for (var e, i = {}, n = this.geometry, r = 0, o = n.morphTargets.length; r < o; r++) {
                var a = n.morphTargets[r],
                    s = a.name.match(/([a-z]+)_?(\d+)/i);
                if (s && s.length > 1) {
                    var l = s[1];
                    i[l] || (i[l] = {
                        start: 1 / 0,
                        end: -(1 / 0)
                    });
                    var u = i[l];
                    r < u.start && (u.start = r), r > u.end && (u.end = r), e || (e = l)
                }
            }
            for (var l in i) {
                var u = i[l];
                this.createAnimation(l, u.start, u.end, t)
            }
            this.firstAnimation = e
        }, n.MorphBlendMesh.prototype.setAnimationDirectionForward = function(t) {
            var e = this.animationsMap[t];
            e && (e.direction = 1, e.directionBackwards = !1)
        }, n.MorphBlendMesh.prototype.setAnimationDirectionBackward = function(t) {
            var e = this.animationsMap[t];
            e && (e.direction = -1, e.directionBackwards = !0)
        }, n.MorphBlendMesh.prototype.setAnimationFPS = function(t, e) {
            var i = this.animationsMap[t];
            i && (i.fps = e, i.duration = (i.end - i.start) / i.fps)
        }, n.MorphBlendMesh.prototype.setAnimationDuration = function(t, e) {
            var i = this.animationsMap[t];
            i && (i.duration = e, i.fps = (i.end - i.start) / i.duration)
        }, n.MorphBlendMesh.prototype.setAnimationWeight = function(t, e) {
            var i = this.animationsMap[t];
            i && (i.weight = e)
        }, n.MorphBlendMesh.prototype.setAnimationTime = function(t, e) {
            var i = this.animationsMap[t];
            i && (i.time = e)
        }, n.MorphBlendMesh.prototype.getAnimationTime = function(t) {
            var e = 0,
                i = this.animationsMap[t];
            return i && (e = i.time), e
        }, n.MorphBlendMesh.prototype.getAnimationDuration = function(t) {
            var e = -1,
                i = this.animationsMap[t];
            return i && (e = i.duration), e
        }, n.MorphBlendMesh.prototype.playAnimation = function(t) {
            var e = this.animationsMap[t];
            e ? (e.time = 0, e.active = !0) : console.warn("THREE.MorphBlendMesh: animation[" + t + "] undefined in .playAnimation()")
        }, n.MorphBlendMesh.prototype.stopAnimation = function(t) {
            var e = this.animationsMap[t];
            e && (e.active = !1)
        }, n.MorphBlendMesh.prototype.update = function(t) {
            for (var e = 0, i = this.animationsList.length; e < i; e++) {
                var r = this.animationsList[e];
                if (r.active) {
                    var o = r.duration / r.length;
                    r.time += r.direction * t, r.mirroredLoop ? (r.time > r.duration || r.time < 0) && (r.direction *= -1, r.time > r.duration && (r.time = r.duration, r.directionBackwards = !0), r.time < 0 && (r.time = 0, r.directionBackwards = !1)) : (r.time = r.time % r.duration, r.time < 0 && (r.time += r.duration));
                    var a = r.start + n.Math.clamp(Math.floor(r.time / o), 0, r.length - 1),
                        s = r.weight;
                    a !== r.currentFrame && (this.morphTargetInfluences[r.lastFrame] = 0, this.morphTargetInfluences[r.currentFrame] = 1 * s, this.morphTargetInfluences[a] = 0, r.lastFrame = r.currentFrame, r.currentFrame = a);
                    var l = r.time % o / o;
                    r.directionBackwards && (l = 1 - l), r.currentFrame !== r.lastFrame ? (this.morphTargetInfluences[r.currentFrame] = l * s, this.morphTargetInfluences[r.lastFrame] = (1 - l) * s) : this.morphTargetInfluences[r.currentFrame] = s
                }
            }
        }, void 0 !== i ? (void 0 !== e && e.exports && (i = e.exports = n), i.THREE = n) : this.THREE = n
    }, {}],
    115: [function(t, e, i) {
        function n() {}
        n.prototype = {
            on: function(t, e, i) {
                var n = this.e || (this.e = {});
                return (n[t] || (n[t] = [])).push({
                    fn: e,
                    ctx: i
                }), this
            },
            once: function(t, e, i) {
                function n() {
                    r.off(t, n), e.apply(i, arguments)
                }
                var r = this;
                return n._ = e, this.on(t, n, i)
            },
            emit: function(t) {
                var e = [].slice.call(arguments, 1),
                    i = ((this.e || (this.e = {}))[t] || []).slice(),
                    n = 0,
                    r = i.length;
                for (n; n < r; n++) i[n].fn.apply(i[n].ctx, e);
                return this
            },
            off: function(t, e) {
                var i = this.e || (this.e = {}),
                    n = i[t],
                    r = [];
                if (n && e)
                    for (var o = 0, a = n.length; o < a; o++) n[o].fn !== e && n[o].fn._ !== e && r.push(n[o]);
                return r.length ? i[t] = r : delete i[t], this
            }
        }, e.exports = n
    }, {}],
    116: [function(t, e, i) {
        "use strict";
        e.exports = function(t) {
            return JSON.parse(JSON.stringify(t))
        }
    }, {}],
    // 117: [function(t, e, i) {
    //     "use strict";
    //
    //     function n(t) {
    //         l(this, "_onWheel", "_onMouseWheel", "_onTouchStart", "_onTouchMove", "_onKeyDown"), this.el = window, t && t.el && (this.el = t.el, delete t.el), this.options = r({
    //             mouseMultiplier: 1,
    //             touchMultiplier: 2,
    //             firefoxMultiplier: 15,
    //             keyStep: 120,
    //             preventTouch: !1,
    //             unpreventTouchClass: "vs-touchmove-allowed",
    //             limitInertia: !1
    //         }, t), this.options.limitInertia && (this._lethargy = new a), this._emitter = new o, this._event = {
    //             y: 0,
    //             x: 0,
    //             deltaX: 0,
    //             deltaY: 0
    //         }, this.touchStartX = null, this.touchStartY = null, this.bodyTouchAction = null
    //     }
    //     var r = t("object-assign"),
    //         o = t("tiny-emitter"),
    //         a = t("lethargy").Lethargy,
    //         s = t("./support"),
    //         l = (t("./clone"), t("bindall-standalone")),
    //         u = "virtualscroll";
    //     e.exports = n;
    //     var c = {
    //         LEFT: 37,
    //         UP: 38,
    //         RIGHT: 39,
    //         DOWN: 40
    //     };
    //     n.prototype._notify = function(t) {
    //         var e = this._event;
    //         e.x += e.deltaX, e.y += e.deltaY, this._emitter.emit(u, {
    //             x: e.x,
    //             y: e.y,
    //             deltaX: e.deltaX,
    //             deltaY: e.deltaY,
    //             originalEvent: t
    //         })
    //     }, n.prototype._onWheel = function(t) {
    //         var e = this.options;
    //         if (!this._lethargy || this._lethargy.check(t) !== !1) {
    //             var i = this._event;
    //             i.deltaX = t.wheelDeltaX || t.deltaX * -1, i.deltaY = t.wheelDeltaY || t.deltaY * -1, s.isFirefox && 1 == t.deltaMode && (i.deltaX *= e.firefoxMultiplier, i.deltaY *= e.firefoxMultiplier), i.deltaX *= e.mouseMultiplier, i.deltaY *= e.mouseMultiplier, this._notify(t)
    //         }
    //     }, n.prototype._onMouseWheel = function(t) {
    //         if (!this.options.limitInertia || this._lethargy.check(t) !== !1) {
    //             var e = this._event;
    //             e.deltaX = t.wheelDeltaX ? t.wheelDeltaX : 0, e.deltaY = t.wheelDeltaY ? t.wheelDeltaY : t.wheelDelta, this._notify(t)
    //         }
    //     }, n.prototype._onTouchStart = function(t) {
    //         var e = t.targetTouches ? t.targetTouches[0] : t;
    //         this.touchStartX = e.pageX, this.touchStartY = e.pageY
    //     }, n.prototype._onTouchMove = function(t) {
    //         var e = this.options;
    //         e.preventTouch && !t.target.classList.contains(e.unpreventTouchClass) && t.preventDefault();
    //         var i = this._event,
    //             n = t.targetTouches ? t.targetTouches[0] : t;
    //         i.deltaX = (n.pageX - this.touchStartX) * e.touchMultiplier, i.deltaY = (n.pageY - this.touchStartY) * e.touchMultiplier, this.touchStartX = n.pageX, this.touchStartY = n.pageY, this._notify(t)
    //     }, n.prototype._onKeyDown = function(t) {
    //         var e = this._event;
    //         switch (e.deltaX = e.deltaY = 0, t.keyCode) {
    //             case c.LEFT:
    //             case c.UP:
    //                 e.deltaY = this.options.keyStep;
    //                 break;
    //             case c.RIGHT:
    //             case c.DOWN:
    //                 e.deltaY = -this.options.keyStep;
    //                 break;
    //             default:
    //                 return
    //         }
    //         this._notify(t)
    //     }, n.prototype._bind = function() {
    //         s.hasWheelEvent && this.el.addEventListener("wheel", this._onWheel), s.hasMouseWheelEvent && this.el.addEventListener("mousewheel", this._onMouseWheel), s.hasTouch && (this.el.addEventListener("touchstart", this._onTouchStart), this.el.addEventListener("touchmove", this._onTouchMove)), s.hasPointer && s.hasTouchWin && (this.bodyTouchAction = document.body.style.msTouchAction, document.body.style.msTouchAction = "none", this.el.addEventListener("MSPointerDown", this._onTouchStart, !0), this.el.addEventListener("MSPointerMove", this._onTouchMove, !0)), s.hasKeyDown && document.addEventListener("keydown", this._onKeyDown)
    //     }, n.prototype._unbind = function() {
    //         s.hasWheelEvent && this.el.removeEventListener("wheel", this._onWheel), s.hasMouseWheelEvent && this.el.removeEventListener("mousewheel", this._onMouseWheel), s.hasTouch && (this.el.removeEventListener("touchstart", this._onTouchStart), this.el.removeEventListener("touchmove", this._onTouchMove)), s.hasPointer && s.hasTouchWin && (document.body.style.msTouchAction = this.bodyTouchAction, this.el.removeEventListener("MSPointerDown", this._onTouchStart, !0), this.el.removeEventListener("MSPointerMove", this._onTouchMove, !0)), s.hasKeyDown && document.removeEventListener("keydown", this._onKeyDown)
    //     }, n.prototype.on = function(t, e) {
    //         this._emitter.on(u, t, e);
    //         var i = this._emitter.e;
    //         i && i[u] && 1 === i[u].length && this._bind()
    //     }, n.prototype.off = function(t, e) {
    //         this._emitter.off(u, t, e);
    //         var i = this._emitter.e;
    //         (!i[u] || i[u].length <= 0) && this._unbind()
    //     }, n.prototype.reset = function() {
    //         var t = this._event;
    //         t.x = 0, t.y = 0
    //     }, n.prototype.destroy = function() {
    //         this._emitter.off(), this._unbind()
    //     }
    // }, {
    //     "./clone": 116,
    //     "./support": 118,
    //     "bindall-standalone": 61,
    //     lethargy: 90,
    //     "object-assign": 94,
    //     "tiny-emitter": 115
    // }],
    // 118: [function(t, e, i) {
    //     "use strict";
    //     e.exports = function() {
    //         return {
    //             hasWheelEvent: "onwheel" in document,
    //             hasMouseWheelEvent: "onmousewheel" in document,
    //             hasTouch: "ontouchstart" in document,
    //             hasTouchWin: navigator.msMaxTouchPoints && navigator.msMaxTouchPoints > 1,
    //             hasPointer: !!window.navigator.msPointerEnabled,
    //             hasKeyDown: "onkeydown" in document,
    //             isFirefox: navigator.userAgent.indexOf("Firefox") > -1
    //         }
    //     }()
    // }, {}],
    119: [function(t, e, i) {
        e.exports = {
            name: "IvanAivazovsky",
            version: "0.0.1",
            description: "A non-profit site for Ivan Aivazovsky",
            main: "gulpfile.js",
            browser: {
                framework: "./assets/js/framework",
                config: "./assets/js/config",
                cache: "./assets/js/cache",
                utils: "./assets/js/utils",
                "@utils/array": "./assets/js/utils/array",
                "@utils/biggie": "./assets/js/utils/biggie",
                "@utils/css": "./assets/js/utils/css",
                "@utils/dom": "./assets/js/utils/dom",
                "@utils/func": "./assets/js/utils/func",
                "@utils/math": "./assets/js/utils/math",
                "gsap-splitext": "./assets/js/libs/gsap/splitText.js"
            },
            dependencies: {
                bigwheel: "3.0.0",
                "bw-router": "^2.0.6",
                "bw-viewmediator": "2.1.0",
                "bw-vm": "^2.1.3",
                detectie: "^1.0.0",
                "dom-classes": "^1.0.0",
                "dom-create-element": "^1.0.2",
                "dom-event": "^1.0.0",
                "dom-select": "^1.0.0",
                fastclick: "^1.0.6",
                gsap: "^1.19.0",
                hamsterjs: "^1.1.2",
                howler: "^2.0.2",
                "image-preloader": "^1.1.1",
                "isotope-layout": "^3.0.2",
                "masonry-layout": "^4.1.1",
                mustache: "^2.3.0",
                "please-ajax": "^2.0.2",
                prefix: "^1.0.0",
                "query-dom-components": "^0.1.0",
                "slider-manager": "^1.1.5",
                "smooth-scrolling": "^2.3.7",
                sniffer: "github:watsondg/sniffer",
                "svg-injector": "^1.1.3",
                swiper: "^3.4.1",
                "three.js": "^0.77.1"
            },
            devDependencies: {
                "babel-preset-es2015": "^6.16.0",
                babelify: "^7.2.0",
                "browser-sync": "^2.18.5",
                browserify: "^13.3.0",
                "connect-history-api-fallback": "^1.3.0",
                "es6-promise": "^4.0.5",
                gulp: "^3.8.11",
                "gulp-autoprefixer": "^3.1.1",
                "gulp-changed": "^1.3.2",
                "gulp-clean-css": "^2.3.2",
                "gulp-concat": "^2.6.1",
                "gulp-jshint": "^2.0.3",
                "gulp-less": "^3.3.0",
                "gulp-notify": "^2.0.1",
                "gulp-rename": "^1.2.2",
                "gulp-sourcemaps": "^2.2.1",
                "gulp-uglify": "^2.0.0",
                "gulp-util": "^3.0.8",
                jshint: "^2.9.4",
                "lodash.assign": "^4.2.0",
                "vinyl-buffer": "^1.0.0",
                "vinyl-source-stream": "^1.1.0",
                "vinyl-transform": "^1.0.0",
                watchify: "^3.6.1"
            },
            repository: {
                type: "git",
                url: ""
            },
            bugs: {
                url: "",
                email: ""
            },
            browserify: {
                transform: [
                    ["babelify", {
                        only: "assets/js/",
                        presets: ["es2015"]
                    }]
                ]
            },
            scripts: {
                test: 'echo "Error: no test specified" && exit 1'
            },
            author: "",
            license: "ISC"
        }
    }, {}]
}, {}, [14]);
